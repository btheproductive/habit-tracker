import{j as f,u as $e,c as xc,t as Hz,a as Me,b as xu,d as H2,S as Vz}from"./ui-3JHv0VQv.js";import{b as Kz,a as _,R as I,c as Kn,d as V2,e as K2,N as G2,L as Gz,O as Yz,g as wu,f as nt,u as Y2,h as cn,i as Xz,H as Qz,j as Jz,k as Wi,l as Zz}from"./vendor-DLNrorn0.js";function e8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Wu={},zS;function t8(){if(zS)return Wu;zS=1;var e=Kz();return Wu.createRoot=e.createRoot,Wu.hydrateRoot=e.hydrateRoot,Wu}var r8=t8();const n8=1,i8=1e6;let mm=0;function a8(){return mm=(mm+1)%Number.MAX_SAFE_INTEGER,mm.toString()}const gm=new Map,qS=e=>{if(gm.has(e))return;const t=setTimeout(()=>{gm.delete(e),nc({type:"REMOVE_TOAST",toastId:e})},i8);gm.set(e,t)},o8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,n8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?qS(r):e.toasts.forEach(n=>{qS(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Id=[];let Dd={toasts:[]};function nc(e){Dd=o8(Dd,e),Id.forEach(t=>{t(Dd)})}function s8({...e}){const t=a8(),r=i=>nc({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>nc({type:"DISMISS_TOAST",toastId:t});return nc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function l8(){const[e,t]=_.useState(Dd);return _.useEffect(()=>(Id.push(t),()=>{const r=Id.indexOf(t);r>-1&&Id.splice(r,1)}),[e]),{...e,toast:s8,dismiss:r=>nc({type:"DISMISS_TOAST",toastId:r})}}function Ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function c8(e,t){const r=_.createContext(t),n=a=>{const{children:o,...s}=a,l=_.useMemo(()=>s,Object.values(s));return f.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function i(a){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Ar(e,t=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];const c=d=>{const{scope:p,children:h,...v}=d,m=p?.[e]?.[l]||s,g=_.useMemo(()=>v,Object.values(v));return f.jsx(m.Provider,{value:g,children:h})};c.displayName=a+"Provider";function u(d,p){const h=p?.[e]?.[l]||s,v=_.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[c,u]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=s?.[e]||a;return _.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[n,u8(i,...t)]}function u8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const d=l(a)[`__scope${c}`];return{...s,...d}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Rh(e){const t=e+"CollectionProvider",[r,n]=Ar(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,b=I.useRef(null),x=I.useRef(new Map).current;return f.jsx(i,{scope:g,itemMap:x,collectionRef:b,children:y})};o.displayName=t;const s=e+"CollectionSlot",l=xc(s),c=I.forwardRef((m,g)=>{const{scope:y,children:b}=m,x=a(s,y),S=$e(g,x.collectionRef);return f.jsx(l,{ref:S,children:b})});c.displayName=s;const u=e+"CollectionItemSlot",d="data-radix-collection-item",p=xc(u),h=I.forwardRef((m,g)=>{const{scope:y,children:b,...x}=m,S=I.useRef(null),w=$e(g,S),j=a(u,y);return I.useEffect(()=>(j.itemMap.set(S,{ref:S,...x}),()=>{j.itemMap.delete(S)})),f.jsx(p,{[d]:"",ref:w,children:b})});h.displayName=u;function v(m){const g=a(e+"CollectionConsumer",m);return I.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((j,E)=>x.indexOf(j.ref.current)-x.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},v,n]}var d8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=d8.reduce((e,t)=>{const r=xc(`Primitive.${t}`),n=_.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function i1(e,t){e&&Kn.flushSync(()=>e.dispatchEvent(t))}function Lt(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>t.current?.(...r),[])}function X2(e,t=globalThis?.document){const r=Lt(e);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var f8="DismissableLayer",g0="dismissableLayer.update",h8="dismissableLayer.pointerDownOutside",p8="dismissableLayer.focusOutside",US,Q2=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ih=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=_.useContext(Q2),[u,d]=_.useState(null),p=u?.ownerDocument??globalThis?.document,[,h]=_.useState({}),v=$e(t,E=>d(E)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=u?m.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,w=g8(E=>{const C=E.target,P=[...c.branches].some(O=>O.contains(C));!S||P||(i?.(E),o?.(E),E.defaultPrevented||s?.())},p),j=v8(E=>{const C=E.target;[...c.branches].some(O=>O.contains(C))||(a?.(E),o?.(E),E.defaultPrevented||s?.())},p);return X2(E=>{b===c.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},p),_.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(US=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),WS(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=US)}},[u,p,r,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),WS())},[u,c]),_.useEffect(()=>{const E=()=>h({});return document.addEventListener(g0,E),()=>document.removeEventListener(g0,E)},[]),f.jsx(ke.div,{...l,ref:v,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,w.onPointerDownCapture)})});Ih.displayName=f8;var m8="DismissableLayerBranch",J2=_.forwardRef((e,t)=>{const r=_.useContext(Q2),n=_.useRef(null),i=$e(t,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(ke.div,{...e,ref:i})});J2.displayName=m8;function g8(e,t=globalThis?.document){const r=Lt(e),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){Z2(h8,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function v8(e,t=globalThis?.document){const r=Lt(e),n=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!n.current&&Z2(p8,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function WS(){const e=new CustomEvent(g0);document.dispatchEvent(e)}function Z2(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?i1(i,a):i.dispatchEvent(a)}var y8=Ih,b8=J2,Ht=globalThis?.document?_.useLayoutEffect:()=>{},x8="Portal",Dh=_.forwardRef((e,t)=>{const{container:r,...n}=e,[i,a]=_.useState(!1);Ht(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?V2.createPortal(f.jsx(ke.div,{...n,ref:t}),o):null});Dh.displayName=x8;function w8(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var Di=e=>{const{present:t,children:r}=e,n=_8(t),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=$e(n.ref,S8(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:a}):null};Di.displayName="Presence";function _8(e){const[t,r]=_.useState(),n=_.useRef(null),i=_.useRef(e),a=_.useRef("none"),o=e?"mounted":"unmounted",[s,l]=w8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=Hu(n.current);a.current=s==="mounted"?c:"none"},[s]),Ht(()=>{const c=n.current,u=i.current;if(u!==e){const p=a.current,h=Hu(c);e?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Ht(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=h=>{const m=Hu(n.current).includes(h.animationName);if(h.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},p=h=>{h.target===t&&(a.current=Hu(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:_.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Hu(e){return e?.animationName||"none"}function S8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var j8=K2[" useInsertionEffect ".trim().toString()]||Ht;function ti({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=E8({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:i;{const u=_.useRef(e!==void 0);_.useEffect(()=>{const d=u.current;d!==s&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,n])}const c=_.useCallback(u=>{if(s){const d=k8(u)?u(e):u;d!==e&&o.current?.(d)}else a(u)},[s,e,a,o]);return[l,c]}function E8({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),i=_.useRef(r),a=_.useRef(t);return j8(()=>{a.current=t},[t]),_.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function k8(e){return typeof e=="function"}var eR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),A8="VisuallyHidden",Mh=_.forwardRef((e,t)=>f.jsx(ke.span,{...e,ref:t,style:{...eR,...e.style}}));Mh.displayName=A8;var O8=Mh,a1="ToastProvider",[o1,C8,P8]=Rh("Toast"),[tR]=Ar("Toast",[P8]),[T8,$h]=tR(a1),rR=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,l]=_.useState(null),[c,u]=_.useState(0),d=_.useRef(!1),p=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${a1}\`. Expected non-empty \`string\`.`),f.jsx(o1.Provider,{scope:t,children:f.jsx(T8,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:_.useCallback(()=>u(h=>h+1),[]),onToastRemove:_.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};rR.displayName=a1;var nR="ToastViewport",N8=["F8"],v0="toast.viewportPause",y0="toast.viewportResume",iR=_.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=N8,label:i="Notifications ({hotkey})",...a}=e,o=$h(nR,r),s=C8(r),l=_.useRef(null),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),p=$e(t,d,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;_.useEffect(()=>{const g=y=>{n.length!==0&&n.every(x=>y[x]||y.code===x)&&d.current?.focus()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),_.useEffect(()=>{const g=l.current,y=d.current;if(v&&g&&y){const b=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(v0);y.dispatchEvent(j),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(y0);y.dispatchEvent(j),o.isClosePausedRef.current=!1}},S=j=>{!g.contains(j.relatedTarget)&&x()},w=()=>{g.contains(document.activeElement)||x()};return g.addEventListener("focusin",b),g.addEventListener("focusout",S),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",w),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",S),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",w),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const m=_.useCallback(({tabbingDirection:g})=>{const b=s().map(x=>{const S=x.ref.current,w=[S,...H8(S)];return g==="forwards"?w:w.reverse()});return(g==="forwards"?b.reverse():b).flat()},[s]);return _.useEffect(()=>{const g=d.current;if(g){const y=b=>{const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const w=document.activeElement,j=b.shiftKey;if(b.target===g&&j){c.current?.focus();return}const P=m({tabbingDirection:j?"backwards":"forwards"}),O=P.findIndex(N=>N===w);vm(P.slice(O+1))?b.preventDefault():j?c.current?.focus():u.current?.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[s,m]),f.jsxs(b8,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&f.jsx(b0,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});vm(g)}}),f.jsx(o1.Slot,{scope:r,children:f.jsx(ke.ol,{tabIndex:-1,...a,ref:p})}),v&&f.jsx(b0,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});vm(g)}})]})});iR.displayName=nR;var aR="ToastFocusProxy",b0=_.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=$h(aR,r);return f.jsx(Mh,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const s=o.relatedTarget;!a.viewport?.contains(s)&&n()}})});b0.displayName=aR;var _u="Toast",R8="toast.swipeStart",I8="toast.swipeMove",D8="toast.swipeCancel",M8="toast.swipeEnd",oR=_.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[s,l]=ti({prop:n,defaultProp:i??!0,onChange:a,caller:_u});return f.jsx(Di,{present:r||s,children:f.jsx(B8,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:Lt(e.onPause),onResume:Lt(e.onResume),onSwipeStart:Ee(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ee(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});oR.displayName=_u;var[$8,L8]=tR(_u,{onClose(){}}),B8=_.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:h,...v}=e,m=$h(_u,r),[g,y]=_.useState(null),b=$e(t,k=>y(k)),x=_.useRef(null),S=_.useRef(null),w=i||m.duration,j=_.useRef(0),E=_.useRef(w),C=_.useRef(0),{onToastAdd:P,onToastRemove:O}=m,N=Lt(()=>{g?.contains(document.activeElement)&&m.viewport?.focus(),o()}),T=_.useCallback(k=>{!k||k===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(N,k))},[N]);_.useEffect(()=>{const k=m.viewport;if(k){const R=()=>{T(E.current),c?.()},F=()=>{const B=new Date().getTime()-j.current;E.current=E.current-B,window.clearTimeout(C.current),l?.()};return k.addEventListener(v0,F),k.addEventListener(y0,R),()=>{k.removeEventListener(v0,F),k.removeEventListener(y0,R)}}},[m.viewport,w,l,c,T]),_.useEffect(()=>{a&&!m.isClosePausedRef.current&&T(w)},[a,w,m.isClosePausedRef,T]),_.useEffect(()=>(P(),()=>O()),[P,O]);const D=_.useMemo(()=>g?hR(g):null,[g]);return m.viewport?f.jsxs(f.Fragment,{children:[D&&f.jsx(F8,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),f.jsx($8,{scope:r,onClose:N,children:Kn.createPortal(f.jsx(o1.ItemSlot,{scope:r,children:f.jsx(y8,{asChild:!0,onEscapeKeyDown:Ee(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ee(e.onKeyDown,k=>{k.key==="Escape"&&(s?.(k.nativeEvent),k.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Ee(e.onPointerDown,k=>{k.button===0&&(x.current={x:k.clientX,y:k.clientY})}),onPointerMove:Ee(e.onPointerMove,k=>{if(!x.current)return;const R=k.clientX-x.current.x,F=k.clientY-x.current.y,B=!!S.current,U=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,M=U?L(0,R):0,H=U?0:L(0,F),z=k.pointerType==="touch"?10:2,$={x:M,y:H},Q={originalEvent:k,delta:$};B?(S.current=$,Vu(I8,d,Q,{discrete:!1})):HS($,m.swipeDirection,z)?(S.current=$,Vu(R8,u,Q,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(R)>z||Math.abs(F)>z)&&(x.current=null)}),onPointerUp:Ee(e.onPointerUp,k=>{const R=S.current,F=k.target;if(F.hasPointerCapture(k.pointerId)&&F.releasePointerCapture(k.pointerId),S.current=null,x.current=null,R){const B=k.currentTarget,U={originalEvent:k,delta:R};HS(R,m.swipeDirection,m.swipeThreshold)?Vu(M8,h,U,{discrete:!0}):Vu(D8,p,U,{discrete:!0}),B.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),F8=e=>{const{__scopeToast:t,children:r,...n}=e,i=$h(_u,t),[a,o]=_.useState(!1),[s,l]=_.useState(!1);return U8(()=>o(!0)),_.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:f.jsx(Dh,{asChild:!0,children:f.jsx(Mh,{...n,children:a&&f.jsxs(f.Fragment,{children:[i.label," ",r]})})})},z8="ToastTitle",sR=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(ke.div,{...n,ref:t})});sR.displayName=z8;var q8="ToastDescription",lR=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(ke.div,{...n,ref:t})});lR.displayName=q8;var cR="ToastAction",uR=_.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?f.jsx(fR,{altText:r,asChild:!0,children:f.jsx(s1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${cR}\`. Expected non-empty \`string\`.`),null)});uR.displayName=cR;var dR="ToastClose",s1=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=L8(dR,r);return f.jsx(fR,{asChild:!0,children:f.jsx(ke.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,i.onClose)})})});s1.displayName=dR;var fR=_.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return f.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function hR(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),W8(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...hR(n))}}),t}function Vu(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?i1(i,a):i.dispatchEvent(a)}var HS=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function U8(e=()=>{}){const t=Lt(e);Ht(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function W8(e){return e.nodeType===e.ELEMENT_NODE}function H8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function vm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var V8=rR,pR=iR,mR=oR,gR=sR,vR=lR,yR=uR,bR=s1;const K8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var G8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Y8=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>_.createElement("svg",{ref:l,...G8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:xR("lucide",i),...s},[...o.map(([c,u])=>_.createElement(c,u)),...Array.isArray(a)?a:[a]]));const ye=(e,t)=>{const r=_.forwardRef(({className:n,...i},a)=>_.createElement(Y8,{ref:a,iconNode:t,className:xR(`lucide-${K8(e)}`,n),...i}));return r.displayName=`${e}`,r};const VS=ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const X8=ye("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const Q8=ye("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const J8=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Z8=ye("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const KS=ye("BatteryLow",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]]);const e6=ye("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const t6=ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const wR=ye("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const GS=ye("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const lo=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const r6=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const _R=ye("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const l1=ye("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const Lh=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const SR=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const c1=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Bh=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const n6=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const ts=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Md=ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Cl=ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const i6=ye("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);const a6=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const o6=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const s6=ye("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);const l6=ye("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const YS=ye("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const jR=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Fh=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const c6=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const ER=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const XS=ye("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);const u1=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const x0=ye("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const QS=ye("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const u6=ye("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const kR=ye("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const d6=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const f6=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const h6=ye("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const p6=ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const AR=ye("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const m6=ye("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Tn=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const g6=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const v6=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const y6=ye("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const b6=ye("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const $d=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const JS=ye("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const x6=ye("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const w6=ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const _6=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const w0=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const S6=ye("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const OR=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const j6=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const E6=ye("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const CR=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const k6=ye("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const A6=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const PR=ye("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const Si=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Gn=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const d1=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const ji=ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Er=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Qd=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const to=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const TR=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const O6=ye("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const C6=ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const Qs=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Su=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ae(...e){return Hz(Me(e))}const P6=V8,NR=_.forwardRef(({className:e,...t},r)=>f.jsx(pR,{ref:r,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));NR.displayName=pR.displayName;const T6=xu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RR=_.forwardRef(({className:e,variant:t,...r},n)=>f.jsx(mR,{ref:n,className:ae(T6({variant:t}),e),...r}));RR.displayName=mR.displayName;const N6=_.forwardRef(({className:e,...t},r)=>f.jsx(yR,{ref:r,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));N6.displayName=yR.displayName;const IR=_.forwardRef(({className:e,...t},r)=>f.jsx(bR,{ref:r,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(Qs,{className:"h-4 w-4"})}));IR.displayName=bR.displayName;const DR=_.forwardRef(({className:e,...t},r)=>f.jsx(gR,{ref:r,className:ae("text-sm font-semibold",e),...t}));DR.displayName=gR.displayName;const MR=_.forwardRef(({className:e,...t},r)=>f.jsx(vR,{ref:r,className:ae("text-sm opacity-90",e),...t}));MR.displayName=vR.displayName;function R6(){const{toasts:e}=l8();return f.jsxs(P6,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return f.jsxs(RR,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(DR,{children:r}),n&&f.jsx(MR,{children:n})]}),i,f.jsx(IR,{})]},t)}),f.jsx(NR,{})]})}var ZS=["light","dark"],I6="(prefers-color-scheme: dark)",D6=_.createContext(void 0),M6={setTheme:e=>{},themes:[]},f1=()=>{var e;return(e=_.useContext(D6))!=null?e:M6};_.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:l})=>{let c=a==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?ZS.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,m=!1,g=!0)=>{let y=o?o[v]:v,b=m?v+"|| ''":`'${y}'`,x="";return i&&g&&!m&&ZS.includes(v)&&(x+=`d.style.colorScheme = '${v}';`),r==="class"?m||y?x+=`c.add(${b})`:x+="null":y&&(x+=`d[s](n,${b})`),x},h=e?`!function(){${u}${p(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${I6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${d}}catch(t){}}();`;return _.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var $6=e=>{switch(e){case"success":return F6;case"info":return q6;case"warning":return z6;case"error":return U6;default:return null}},L6=Array(12).fill(0),B6=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},L6.map((r,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),F6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),z6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),q6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),U6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),W6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),H6=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},_0=1,V6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:_0++,a=this.toasts.find(s=>s.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...e,id:i,title:r}),{...s,...e,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,o=n.then(async l=>{if(a=["resolve",l],I.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(G6(l)&&!l.ok){i=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:u})}else if(t.success!==void 0){i=!1;let c=typeof t.success=="function"?await t.success(l):t.success,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(a=["reject",l],t.error!==void 0){i=!1;let c=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),s=()=>new Promise((l,c)=>o.then(()=>a[0]==="reject"?c(a[1]):l(a[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(e,t)=>{let r=t?.id||_0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tr=new V6,K6=(e,t)=>{let r=t?.id||_0++;return Tr.addToast({title:e,...t,id:r}),r},G6=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Y6=K6,X6=()=>Tr.toasts,Q6=()=>Tr.getActiveToasts(),Ue=Object.assign(Y6,{success:Tr.success,info:Tr.info,warning:Tr.warning,error:Tr.error,custom:Tr.custom,message:Tr.message,promise:Tr.promise,dismiss:Tr.dismiss,loading:Tr.loading},{getHistory:X6,getToasts:Q6});function J6(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}J6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ku(e){return e.label!==void 0}var Z6=3,eq="32px",tq="16px",ej=4e3,rq=356,nq=14,iq=20,aq=200;function yn(...e){return e.filter(Boolean).join(" ")}function oq(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var sq=e=>{var t,r,n,i,a,o,s,l,c,u,d;let{invert:p,toast:h,unstyled:v,interacting:m,setHeights:g,visibleToasts:y,heights:b,index:x,toasts:S,expanded:w,removeToast:j,defaultRichColors:E,closeButton:C,style:P,cancelButtonStyle:O,actionButtonStyle:N,className:T="",descriptionClassName:D="",duration:k,position:R,gap:F,loadingIcon:B,expandByDefault:U,classNames:L,icons:M,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:z}=e,[$,Q]=I.useState(null),[Z,fe]=I.useState(null),[le,ue]=I.useState(!1),[ee,te]=I.useState(!1),[ce,J]=I.useState(!1),[ne,A]=I.useState(!1),[K,V]=I.useState(!1),[W,q]=I.useState(0),[G,ie]=I.useState(0),re=I.useRef(h.duration||k||ej),X=I.useRef(null),de=I.useRef(null),ve=x===0,he=x+1<=y,Y=h.type,oe=h.dismissible!==!1,ge=h.className||"",Oe=h.descriptionClassName||"",ze=I.useMemo(()=>b.findIndex(we=>we.toastId===h.id)||0,[b,h.id]),Ve=I.useMemo(()=>{var we;return(we=h.closeButton)!=null?we:C},[h.closeButton,C]),Tt=I.useMemo(()=>h.duration||k||ej,[h.duration,k]),Ke=I.useRef(0),It=I.useRef(0),rr=I.useRef(0),Ze=I.useRef(null),[yr,je]=R.split("-"),et=I.useMemo(()=>b.reduce((we,Ne,Le)=>Le>=ze?we:we+Ne.height,0),[b,ze]),it=H6(),ot=h.invert||p,Ce=Y==="loading";It.current=I.useMemo(()=>ze*F+et,[ze,et]),I.useEffect(()=>{re.current=Tt},[Tt]),I.useEffect(()=>{ue(!0)},[]),I.useEffect(()=>{let we=de.current;if(we){let Ne=we.getBoundingClientRect().height;return ie(Ne),g(Le=>[{toastId:h.id,height:Ne,position:h.position},...Le]),()=>g(Le=>Le.filter(lt=>lt.toastId!==h.id))}},[g,h.id]),I.useLayoutEffect(()=>{if(!le)return;let we=de.current,Ne=we.style.height;we.style.height="auto";let Le=we.getBoundingClientRect().height;we.style.height=Ne,ie(Le),g(lt=>lt.find(pt=>pt.toastId===h.id)?lt.map(pt=>pt.toastId===h.id?{...pt,height:Le}:pt):[{toastId:h.id,height:Le,position:h.position},...lt])},[le,h.title,h.description,g,h.id]);let He=I.useCallback(()=>{te(!0),q(It.current),g(we=>we.filter(Ne=>Ne.toastId!==h.id)),setTimeout(()=>{j(h)},aq)},[h,j,g,It]);I.useEffect(()=>{if(h.promise&&Y==="loading"||h.duration===1/0||h.type==="loading")return;let we;return w||m||z&&it?(()=>{if(rr.current<Ke.current){let Ne=new Date().getTime()-Ke.current;re.current=re.current-Ne}rr.current=new Date().getTime()})():re.current!==1/0&&(Ke.current=new Date().getTime(),we=setTimeout(()=>{var Ne;(Ne=h.onAutoClose)==null||Ne.call(h,h),He()},re.current)),()=>clearTimeout(we)},[w,m,h,Y,z,it,He]),I.useEffect(()=>{h.delete&&He()},[He,h.delete]);function st(){var we,Ne,Le;return M!=null&&M.loading?I.createElement("div",{className:yn(L?.loader,(we=h?.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":Y==="loading"},M.loading):B?I.createElement("div",{className:yn(L?.loader,(Ne=h?.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":Y==="loading"},B):I.createElement(B6,{className:yn(L?.loader,(Le=h?.classNames)==null?void 0:Le.loader),visible:Y==="loading"})}return I.createElement("li",{tabIndex:0,ref:de,className:yn(T,ge,L?.toast,(t=h?.classNames)==null?void 0:t.toast,L?.default,L?.[Y],(r=h?.classNames)==null?void 0:r[Y]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":le,"data-promise":!!h.promise,"data-swiped":K,"data-removed":ee,"data-visible":he,"data-y-position":yr,"data-x-position":je,"data-index":x,"data-front":ve,"data-swiping":ce,"data-dismissible":oe,"data-type":Y,"data-invert":ot,"data-swipe-out":ne,"data-swipe-direction":Z,"data-expanded":!!(w||U&&le),style:{"--index":x,"--toasts-before":x,"--z-index":S.length-x,"--offset":`${ee?W:It.current}px`,"--initial-height":U?"auto":`${G}px`,...P,...h.style},onDragEnd:()=>{J(!1),Q(null),Ze.current=null},onPointerDown:we=>{Ce||!oe||(X.current=new Date,q(It.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(J(!0),Ze.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Ne,Le,lt;if(ne||!oe)return;Ze.current=null;let pt=Number(((we=de.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ct=Number(((Ne=de.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vt=new Date().getTime()-((Le=X.current)==null?void 0:Le.getTime()),Nt=$==="x"?pt:ct,nr=Math.abs(Nt)/Vt;if(Math.abs(Nt)>=iq||nr>.11){q(It.current),(lt=h.onDismiss)==null||lt.call(h,h),fe($==="x"?pt>0?"right":"left":ct>0?"down":"up"),He(),A(!0),V(!1);return}J(!1),Q(null)},onPointerMove:we=>{var Ne,Le,lt,pt;if(!Ze.current||!oe||((Ne=window.getSelection())==null?void 0:Ne.toString().length)>0)return;let ct=we.clientY-Ze.current.y,Vt=we.clientX-Ze.current.x,Nt=(Le=e.swipeDirections)!=null?Le:oq(R);!$&&(Math.abs(Vt)>1||Math.abs(ct)>1)&&Q(Math.abs(Vt)>Math.abs(ct)?"x":"y");let nr={x:0,y:0};$==="y"?(Nt.includes("top")||Nt.includes("bottom"))&&(Nt.includes("top")&&ct<0||Nt.includes("bottom")&&ct>0)&&(nr.y=ct):$==="x"&&(Nt.includes("left")||Nt.includes("right"))&&(Nt.includes("left")&&Vt<0||Nt.includes("right")&&Vt>0)&&(nr.x=Vt),(Math.abs(nr.x)>0||Math.abs(nr.y)>0)&&V(!0),(lt=de.current)==null||lt.style.setProperty("--swipe-amount-x",`${nr.x}px`),(pt=de.current)==null||pt.style.setProperty("--swipe-amount-y",`${nr.y}px`)}},Ve&&!h.jsx?I.createElement("button",{"aria-label":H,"data-disabled":Ce,"data-close-button":!0,onClick:Ce||!oe?()=>{}:()=>{var we;He(),(we=h.onDismiss)==null||we.call(h,h)},className:yn(L?.closeButton,(i=h?.classNames)==null?void 0:i.closeButton)},(a=M?.close)!=null?a:W6):null,h.jsx||_.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:I.createElement(I.Fragment,null,Y||h.icon||h.promise?I.createElement("div",{"data-icon":"",className:yn(L?.icon,(o=h?.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||st():null,h.type!=="loading"?h.icon||M?.[Y]||$6(Y):null):null,I.createElement("div",{"data-content":"",className:yn(L?.content,(s=h?.classNames)==null?void 0:s.content)},I.createElement("div",{"data-title":"",className:yn(L?.title,(l=h?.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?I.createElement("div",{"data-description":"",className:yn(D,Oe,L?.description,(c=h?.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),_.isValidElement(h.cancel)?h.cancel:h.cancel&&Ku(h.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:we=>{var Ne,Le;Ku(h.cancel)&&oe&&((Le=(Ne=h.cancel).onClick)==null||Le.call(Ne,we),He())},className:yn(L?.cancelButton,(u=h?.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,_.isValidElement(h.action)?h.action:h.action&&Ku(h.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||N,onClick:we=>{var Ne,Le;Ku(h.action)&&((Le=(Ne=h.action).onClick)==null||Le.call(Ne,we),!we.defaultPrevented&&He())},className:yn(L?.actionButton,(d=h?.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function tj(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lq(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?tq:eq;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}var cq=_.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:p,style:h,visibleToasts:v=Z6,toastOptions:m,dir:g=tj(),gap:y=nq,loadingIcon:b,icons:x,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:w}=e,[j,E]=I.useState([]),C=I.useMemo(()=>Array.from(new Set([n].concat(j.filter(z=>z.position).map(z=>z.position)))),[j,n]),[P,O]=I.useState([]),[N,T]=I.useState(!1),[D,k]=I.useState(!1),[R,F]=I.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=I.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=I.useRef(null),M=I.useRef(!1),H=I.useCallback(z=>{E($=>{var Q;return(Q=$.find(Z=>Z.id===z.id))!=null&&Q.delete||Tr.dismiss(z.id),$.filter(({id:Z})=>Z!==z.id)})},[]);return I.useEffect(()=>Tr.subscribe(z=>{if(z.dismiss){E($=>$.map(Q=>Q.id===z.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{V2.flushSync(()=>{E($=>{let Q=$.findIndex(Z=>Z.id===z.id);return Q!==-1?[...$.slice(0,Q),{...$[Q],...z},...$.slice(Q+1)]:[z,...$]})})})}),[]),I.useEffect(()=>{if(u!=="system"){F(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:$})=>{F($?"dark":"light")})}catch{z.addListener(({matches:Q})=>{try{F(Q?"dark":"light")}catch(Z){console.error(Z)}})}},[u]),I.useEffect(()=>{j.length<=1&&T(!1)},[j]),I.useEffect(()=>{let z=$=>{var Q,Z;i.every(fe=>$[fe]||$.code===fe)&&(T(!0),(Q=B.current)==null||Q.focus()),$.code==="Escape"&&(document.activeElement===B.current||(Z=B.current)!=null&&Z.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),I.useEffect(()=>{if(B.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,M.current=!1)}},[B.current]),I.createElement("section",{ref:t,"aria-label":`${S} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((z,$)=>{var Q;let[Z,fe]=z.split("-");return j.length?I.createElement("ol",{key:z,dir:g==="auto"?tj():g,tabIndex:-1,ref:B,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":Z,"data-lifted":N&&j.length>1&&!a,"data-x-position":fe,style:{"--front-toast-height":`${((Q=P[0])==null?void 0:Q.height)||0}px`,"--width":`${rq}px`,"--gap":`${y}px`,...h,...lq(l,c)},onBlur:le=>{M.current&&!le.currentTarget.contains(le.relatedTarget)&&(M.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||M.current||(M.current=!0,L.current=le.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{D||T(!1)},onDragEnd:()=>T(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},j.filter(le=>!le.position&&$===0||le.position===z).map((le,ue)=>{var ee,te;return I.createElement(sq,{key:le.id,icons:x,index:ue,toast:le,defaultRichColors:d,duration:(ee=m?.duration)!=null?ee:p,className:m?.className,descriptionClassName:m?.descriptionClassName,invert:r,visibleToasts:v,closeButton:(te=m?.closeButton)!=null?te:o,interacting:D,position:z,style:m?.style,unstyled:m?.unstyled,classNames:m?.classNames,cancelButtonStyle:m?.cancelButtonStyle,actionButtonStyle:m?.actionButtonStyle,removeToast:H,toasts:j.filter(ce=>ce.position==le.position),heights:P.filter(ce=>ce.position==le.position),setHeights:O,expandByDefault:a,gap:y,loadingIcon:b,expanded:N,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const uq=({...e})=>{const{theme:t="system"}=f1();return f.jsx(cq,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var dq=K2[" useId ".trim().toString()]||(()=>{}),fq=0;function Ei(e){const[t,r]=_.useState(dq());return Ht(()=>{r(n=>n??String(fq++))},[e]),t?`radix-${t}`:""}const hq=["top","right","bottom","left"],ma=Math.min,zr=Math.max,Jd=Math.round,Gu=Math.floor,Jn=e=>({x:e,y:e}),pq={left:"right",right:"left",bottom:"top",top:"bottom"},mq={start:"end",end:"start"};function S0(e,t,r){return zr(e,ma(t,r))}function Oi(e,t){return typeof e=="function"?e(t):e}function Ci(e){return e.split("-")[0]}function Js(e){return e.split("-")[1]}function h1(e){return e==="x"?"y":"x"}function p1(e){return e==="y"?"height":"width"}const gq=new Set(["top","bottom"]);function Yn(e){return gq.has(Ci(e))?"y":"x"}function m1(e){return h1(Yn(e))}function vq(e,t,r){r===void 0&&(r=!1);const n=Js(e),i=m1(e),a=p1(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Zd(o)),[o,Zd(o)]}function yq(e){const t=Zd(e);return[j0(e),t,j0(t)]}function j0(e){return e.replace(/start|end/g,t=>mq[t])}const rj=["left","right"],nj=["right","left"],bq=["top","bottom"],xq=["bottom","top"];function wq(e,t,r){switch(e){case"top":case"bottom":return r?t?nj:rj:t?rj:nj;case"left":case"right":return t?bq:xq;default:return[]}}function _q(e,t,r,n){const i=Js(e);let a=wq(Ci(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(j0)))),a}function Zd(e){return e.replace(/left|right|bottom|top/g,t=>pq[t])}function Sq(e){return{top:0,right:0,bottom:0,left:0,...e}}function $R(e){return typeof e!="number"?Sq(e):{top:e,right:e,bottom:e,left:e}}function ef(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function ij(e,t,r){let{reference:n,floating:i}=e;const a=Yn(t),o=m1(t),s=p1(o),l=Ci(t),c=a==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:n.y-i.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:d};break;case"left":h={x:n.x-i.width,y:d};break;default:h={x:n.x,y:n.y}}switch(Js(t)){case"start":h[o]-=p*(r&&c?-1:1);break;case"end":h[o]+=p*(r&&c?-1:1);break}return h}const jq=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=ij(c,n,l),p=n,h={},v=0;for(let m=0;m<s.length;m++){const{name:g,fn:y}=s[m],{x:b,y:x,data:S,reset:w}=await y({x:u,y:d,initialPlacement:n,placement:p,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});u=b??u,d=x??d,h={...h,[g]:{...h[g],...S}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:u,y:d}=ij(c,p,l)),m=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:h}};async function wc(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=Oi(t,e),v=$R(h),g=s[p?d==="floating"?"reference":"floating":d],y=ef(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},w=ef(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:x,strategy:l}):b);return{top:(y.top-w.top+v.top)/S.y,bottom:(w.bottom-y.bottom+v.bottom)/S.y,left:(y.left-w.left+v.left)/S.x,right:(w.right-y.right+v.right)/S.x}}const Eq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Oi(e,t)||{};if(c==null)return{};const d=$R(u),p={x:r,y:n},h=m1(i),v=p1(h),m=await o.getDimensions(c),g=h==="y",y=g?"top":"left",b=g?"bottom":"right",x=g?"clientHeight":"clientWidth",S=a.reference[v]+a.reference[h]-p[h]-a.floating[v],w=p[h]-a.reference[h],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=j?j[x]:0;(!E||!await(o.isElement==null?void 0:o.isElement(j)))&&(E=s.floating[x]||a.floating[v]);const C=S/2-w/2,P=E/2-m[v]/2-1,O=ma(d[y],P),N=ma(d[b],P),T=O,D=E-m[v]-N,k=E/2-m[v]/2+C,R=S0(T,k,D),F=!l.arrow&&Js(i)!=null&&k!==R&&a.reference[v]/2-(k<T?O:N)-m[v]/2<0,B=F?k<T?k-T:k-D:0;return{[h]:p[h]+B,data:{[h]:R,centerOffset:k-R-B,...F&&{alignmentOffset:B}},reset:F}}}),kq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=Oi(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Ci(i),b=Yn(s),x=Ci(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=p||(x||!m?[Zd(s)]:yq(s)),j=v!=="none";!p&&j&&w.push(..._q(s,m,v,S));const E=[s,...w],C=await wc(t,g),P=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&P.push(C[y]),d){const k=vq(i,o,S);P.push(C[k[0]],C[k[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(k=>k<=0)){var N,T;const k=(((N=a.flip)==null?void 0:N.index)||0)+1,R=E[k];if(R&&(!(d==="alignment"?b!==Yn(R):!1)||O.every(U=>U.overflows[0]>0&&Yn(U.placement)===b)))return{data:{index:k,overflows:O},reset:{placement:R}};let F=(T=O.filter(B=>B.overflows[0]<=0).sort((B,U)=>B.overflows[1]-U.overflows[1])[0])==null?void 0:T.placement;if(!F)switch(h){case"bestFit":{var D;const B=(D=O.filter(U=>{if(j){const L=Yn(U.placement);return L===b||L==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(L=>L>0).reduce((L,M)=>L+M,0)]).sort((U,L)=>U[1]-L[1])[0])==null?void 0:D[0];B&&(F=B);break}case"initialPlacement":F=s;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function aj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function oj(e){return hq.some(t=>e[t]>=0)}const Aq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Oi(e,t);switch(n){case"referenceHidden":{const a=await wc(t,{...i,elementContext:"reference"}),o=aj(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:oj(o)}}}case"escaped":{const a=await wc(t,{...i,altBoundary:!0}),o=aj(a,r.floating);return{data:{escapedOffsets:o,escaped:oj(o)}}}default:return{}}}}},LR=new Set(["left","top"]);async function Oq(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Ci(r),s=Js(r),l=Yn(r)==="y",c=LR.has(o)?-1:1,u=a&&l?-1:1,d=Oi(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof v=="number"&&(h=s==="end"?v*-1:v),l?{x:h*u,y:p*c}:{x:p*c,y:h*u}}const Cq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await Oq(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Pq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:y,y:b}=g;return{x:y,y:b}}},...l}=Oi(e,t),c={x:r,y:n},u=await wc(t,l),d=Yn(Ci(i)),p=h1(d);let h=c[p],v=c[d];if(a){const g=p==="y"?"top":"left",y=p==="y"?"bottom":"right",b=h+u[g],x=h-u[y];h=S0(b,h,x)}if(o){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=v+u[g],x=v-u[y];v=S0(b,v,x)}const m=s.fn({...t,[p]:h,[d]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:a,[d]:o}}}}}},Tq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Oi(e,t),u={x:r,y:n},d=Yn(i),p=h1(d);let h=u[p],v=u[d];const m=Oi(s,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=p==="y"?"height":"width",S=a.reference[p]-a.floating[x]+g.mainAxis,w=a.reference[p]+a.reference[x]-g.mainAxis;h<S?h=S:h>w&&(h=w)}if(c){var y,b;const x=p==="y"?"width":"height",S=LR.has(Ci(i)),w=a.reference[d]-a.floating[x]+(S&&((y=o.offset)==null?void 0:y[d])||0)+(S?0:g.crossAxis),j=a.reference[d]+a.reference[x]+(S?0:((b=o.offset)==null?void 0:b[d])||0)-(S?g.crossAxis:0);v<w?v=w:v>j&&(v=j)}return{[p]:h,[d]:v}}}},Nq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=Oi(e,t),u=await wc(t,c),d=Ci(i),p=Js(i),h=Yn(i)==="y",{width:v,height:m}=a.floating;let g,y;d==="top"||d==="bottom"?(g=d,y=p===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=d,g=p==="end"?"top":"bottom");const b=m-u.top-u.bottom,x=v-u.left-u.right,S=ma(m-u[g],b),w=ma(v-u[y],x),j=!t.middlewareData.shift;let E=S,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=b),j&&!p){const O=zr(u.left,0),N=zr(u.right,0),T=zr(u.top,0),D=zr(u.bottom,0);h?C=v-2*(O!==0||N!==0?O+N:zr(u.left,u.right)):E=m-2*(T!==0||D!==0?T+D:zr(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:E});const P=await o.getDimensions(s.floating);return v!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function zh(){return typeof window<"u"}function Zs(e){return BR(e)?(e.nodeName||"").toLowerCase():"#document"}function Kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function si(e){var t;return(t=(BR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BR(e){return zh()?e instanceof Node||e instanceof Kr(e).Node:!1}function In(e){return zh()?e instanceof Element||e instanceof Kr(e).Element:!1}function ri(e){return zh()?e instanceof HTMLElement||e instanceof Kr(e).HTMLElement:!1}function sj(e){return!zh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kr(e).ShadowRoot}const Rq=new Set(["inline","contents"]);function ju(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Dn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Rq.has(i)}const Iq=new Set(["table","td","th"]);function Dq(e){return Iq.has(Zs(e))}const Mq=[":popover-open",":modal"];function qh(e){return Mq.some(t=>{try{return e.matches(t)}catch{return!1}})}const $q=["transform","translate","scale","rotate","perspective"],Lq=["transform","translate","scale","rotate","perspective","filter"],Bq=["paint","layout","strict","content"];function g1(e){const t=v1(),r=In(e)?Dn(e):e;return $q.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Lq.some(n=>(r.willChange||"").includes(n))||Bq.some(n=>(r.contain||"").includes(n))}function Fq(e){let t=ga(e);for(;ri(t)&&!ps(t);){if(g1(t))return t;if(qh(t))return null;t=ga(t)}return null}function v1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zq=new Set(["html","body","#document"]);function ps(e){return zq.has(Zs(e))}function Dn(e){return Kr(e).getComputedStyle(e)}function Uh(e){return In(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ga(e){if(Zs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sj(e)&&e.host||si(e);return sj(t)?t.host:t}function FR(e){const t=ga(e);return ps(t)?e.ownerDocument?e.ownerDocument.body:e.body:ri(t)&&ju(t)?t:FR(t)}function _c(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=FR(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Kr(i);if(a){const s=E0(o);return t.concat(o,o.visualViewport||[],ju(i)?i:[],s&&r?_c(s):[])}return t.concat(i,_c(i,[],r))}function E0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zR(e){const t=Dn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ri(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=Jd(r)!==a||Jd(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function y1(e){return In(e)?e:e.contextElement}function rs(e){const t=y1(e);if(!ri(t))return Jn(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=zR(t);let o=(a?Jd(r.width):r.width)/n,s=(a?Jd(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const qq=Jn(0);function qR(e){const t=Kr(e);return!v1()||!t.visualViewport?qq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Uq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Kr(e)?!1:t}function co(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=y1(e);let o=Jn(1);t&&(n?In(n)&&(o=rs(n)):o=rs(e));const s=Uq(a,r,n)?qR(a):Jn(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const p=Kr(a),h=n&&In(n)?Kr(n):n;let v=p,m=E0(v);for(;m&&n&&h!==v;){const g=rs(m),y=m.getBoundingClientRect(),b=Dn(m),x=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,S=y.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,d*=g.y,l+=x,c+=S,v=Kr(m),m=E0(v)}}return ef({width:u,height:d,x:l,y:c})}function b1(e,t){const r=Uh(e).scrollLeft;return t?t.left+r:co(si(e)).left+r}function UR(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:b1(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function Wq(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=si(n),s=t?qh(t.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=Jn(1);const u=Jn(0),d=ri(n);if((d||!d&&!a)&&((Zs(n)!=="body"||ju(o))&&(l=Uh(n)),ri(n))){const h=co(n);c=rs(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const p=o&&!d&&!a?UR(o,l,!0):Jn(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:r.y*c.y-l.scrollTop*c.y+u.y+p.y}}function Hq(e){return Array.from(e.getClientRects())}function Vq(e){const t=si(e),r=Uh(e),n=e.ownerDocument.body,i=zr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=zr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+b1(e);const s=-r.scrollTop;return Dn(n).direction==="rtl"&&(o+=zr(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function Kq(e,t){const r=Kr(e),n=si(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=v1();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}const Gq=new Set(["absolute","fixed"]);function Yq(e,t){const r=co(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=ri(e)?rs(e):Jn(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function lj(e,t,r){let n;if(t==="viewport")n=Kq(e,r);else if(t==="document")n=Vq(si(e));else if(In(t))n=Yq(t,r);else{const i=qR(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ef(n)}function WR(e,t){const r=ga(e);return r===t||!In(r)||ps(r)?!1:Dn(r).position==="fixed"||WR(r,t)}function Xq(e,t){const r=t.get(e);if(r)return r;let n=_c(e,[],!1).filter(s=>In(s)&&Zs(s)!=="body"),i=null;const a=Dn(e).position==="fixed";let o=a?ga(e):e;for(;In(o)&&!ps(o);){const s=Dn(o),l=g1(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&Gq.has(i.position)||ju(o)&&!l&&WR(e,o))?n=n.filter(u=>u!==o):i=s,o=ga(o)}return t.set(e,n),n}function Qq(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?qh(t)?[]:Xq(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,u)=>{const d=lj(t,u,i);return c.top=zr(d.top,c.top),c.right=ma(d.right,c.right),c.bottom=ma(d.bottom,c.bottom),c.left=zr(d.left,c.left),c},lj(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jq(e){const{width:t,height:r}=zR(e);return{width:t,height:r}}function Zq(e,t,r){const n=ri(t),i=si(t),a=r==="fixed",o=co(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Jn(0);function c(){l.x=b1(i)}if(n||!n&&!a)if((Zs(t)!=="body"||ju(i))&&(s=Uh(t)),n){const h=co(t,!0,a,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&c();a&&!n&&i&&c();const u=i&&!n&&!a?UR(i,s):Jn(0),d=o.left+s.scrollLeft-l.x-u.x,p=o.top+s.scrollTop-l.y-u.y;return{x:d,y:p,width:o.width,height:o.height}}function ym(e){return Dn(e).position==="static"}function cj(e,t){if(!ri(e)||Dn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return si(e)===r&&(r=r.ownerDocument.body),r}function HR(e,t){const r=Kr(e);if(qh(e))return r;if(!ri(e)){let i=ga(e);for(;i&&!ps(i);){if(In(i)&&!ym(i))return i;i=ga(i)}return r}let n=cj(e,t);for(;n&&Dq(n)&&ym(n);)n=cj(n,t);return n&&ps(n)&&ym(n)&&!g1(n)?r:n||Fq(e)||r}const eU=async function(e){const t=this.getOffsetParent||HR,r=this.getDimensions,n=await r(e.floating);return{reference:Zq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tU(e){return Dn(e).direction==="rtl"}const rU={convertOffsetParentRelativeRectToViewportRelativeRect:Wq,getDocumentElement:si,getClippingRect:Qq,getOffsetParent:HR,getElementRects:eU,getClientRects:Hq,getDimensions:Jq,getScale:rs,isElement:In,isRTL:tU};function VR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nU(e,t){let r=null,n;const i=si(e);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:h}=c;if(s||t(),!p||!h)return;const v=Gu(d),m=Gu(i.clientWidth-(u+p)),g=Gu(i.clientHeight-(d+h)),y=Gu(u),x={rootMargin:-v+"px "+-m+"px "+-g+"px "+-y+"px",threshold:zr(0,ma(1,l))||1};let S=!0;function w(j){const E=j[0].intersectionRatio;if(E!==l){if(!S)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!VR(c,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(w,{...x,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,x)}r.observe(e)}return o(!0),a}function iU(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=y1(e),u=i||a?[...c?_c(c):[],..._c(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const d=c&&s?nU(c,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let v,m=l?co(e):null;l&&g();function g(){const y=co(e);m&&!VR(m,y)&&r(),m=y,v=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),d?.(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(v)}}const aU=Cq,oU=Pq,sU=kq,lU=Nq,cU=Aq,uj=Eq,uU=Tq,dU=(e,t,r)=>{const n=new Map,i={platform:rU,...r},a={...i.platform,_c:n};return jq(e,t,{...i,platform:a})};var fU=typeof document<"u",hU=function(){},Ld=fU?_.useLayoutEffect:hU;function tf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!tf(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!tf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function KR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dj(e,t){const r=KR(e);return Math.round(t*r)/r}function bm(e){const t=_.useRef(e);return Ld(()=>{t.current=e}),t}function pU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=_.useState(n);tf(p,n)||h(n);const[v,m]=_.useState(null),[g,y]=_.useState(null),b=_.useCallback(U=>{U!==j.current&&(j.current=U,m(U))},[]),x=_.useCallback(U=>{U!==E.current&&(E.current=U,y(U))},[]),S=a||v,w=o||g,j=_.useRef(null),E=_.useRef(null),C=_.useRef(u),P=l!=null,O=bm(l),N=bm(i),T=bm(c),D=_.useCallback(()=>{if(!j.current||!E.current)return;const U={placement:t,strategy:r,middleware:p};N.current&&(U.platform=N.current),dU(j.current,E.current,U).then(L=>{const M={...L,isPositioned:T.current!==!1};k.current&&!tf(C.current,M)&&(C.current=M,Kn.flushSync(()=>{d(M)}))})},[p,t,r,N,T]);Ld(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(U=>({...U,isPositioned:!1})))},[c]);const k=_.useRef(!1);Ld(()=>(k.current=!0,()=>{k.current=!1}),[]),Ld(()=>{if(S&&(j.current=S),w&&(E.current=w),S&&w){if(O.current)return O.current(S,w,D);D()}},[S,w,D,O,P]);const R=_.useMemo(()=>({reference:j,floating:E,setReference:b,setFloating:x}),[b,x]),F=_.useMemo(()=>({reference:S,floating:w}),[S,w]),B=_.useMemo(()=>{const U={position:r,left:0,top:0};if(!F.floating)return U;const L=dj(F.floating,u.x),M=dj(F.floating,u.y);return s?{...U,transform:"translate("+L+"px, "+M+"px)",...KR(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:M}},[r,s,F.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:D,refs:R,elements:F,floatingStyles:B}),[u,D,R,F,B])}const mU=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?uj({element:n.current,padding:i}).fn(r):{}:n?uj({element:n,padding:i}).fn(r):{}}}},gU=(e,t)=>({...aU(e),options:[e,t]}),vU=(e,t)=>({...oU(e),options:[e,t]}),yU=(e,t)=>({...uU(e),options:[e,t]}),bU=(e,t)=>({...sU(e),options:[e,t]}),xU=(e,t)=>({...lU(e),options:[e,t]}),wU=(e,t)=>({...cU(e),options:[e,t]}),_U=(e,t)=>({...mU(e),options:[e,t]});var SU="Arrow",GR=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return f.jsx(ke.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});GR.displayName=SU;var jU=GR;function Wh(e){const[t,r]=_.useState(void 0);return Ht(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var x1="Popper",[YR,Hh]=Ar(x1),[EU,XR]=YR(x1),QR=e=>{const{__scopePopper:t,children:r}=e,[n,i]=_.useState(null);return f.jsx(EU,{scope:t,anchor:n,onAnchorChange:i,children:r})};QR.displayName=x1;var JR="PopperAnchor",ZR=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=XR(JR,r),o=_.useRef(null),s=$e(t,o);return _.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:f.jsx(ke.div,{...i,ref:s})});ZR.displayName=JR;var w1="PopperContent",[kU,AU]=YR(w1),eI=_.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:v,...m}=e,g=XR(w1,r),[y,b]=_.useState(null),x=$e(t,le=>b(le)),[S,w]=_.useState(null),j=Wh(S),E=j?.width??0,C=j?.height??0,P=n+(a!=="center"?"-"+a:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],T=N.length>0,D={padding:O,boundary:N.filter(CU),altBoundary:T},{refs:k,floatingStyles:R,placement:F,isPositioned:B,middlewareData:U}=pU({strategy:"fixed",placement:P,whileElementsMounted:(...le)=>iU(...le,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[gU({mainAxis:i+C,alignmentAxis:o}),l&&vU({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?yU():void 0,...D}),l&&bU({...D}),xU({...D,apply:({elements:le,rects:ue,availableWidth:ee,availableHeight:te})=>{const{width:ce,height:J}=ue.reference,ne=le.floating.style;ne.setProperty("--radix-popper-available-width",`${ee}px`),ne.setProperty("--radix-popper-available-height",`${te}px`),ne.setProperty("--radix-popper-anchor-width",`${ce}px`),ne.setProperty("--radix-popper-anchor-height",`${J}px`)}}),S&&_U({element:S,padding:s}),PU({arrowWidth:E,arrowHeight:C}),p&&wU({strategy:"referenceHidden",...D})]}),[L,M]=nI(F),H=Lt(v);Ht(()=>{B&&H?.()},[B,H]);const z=U.arrow?.x,$=U.arrow?.y,Q=U.arrow?.centerOffset!==0,[Z,fe]=_.useState();return Ht(()=>{y&&fe(window.getComputedStyle(y).zIndex)},[y]),f.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:B?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(kU,{scope:r,placedSide:L,onArrowChange:w,arrowX:z,arrowY:$,shouldHideArrow:Q,children:f.jsx(ke.div,{"data-side":L,"data-align":M,...m,ref:x,style:{...m.style,animation:B?void 0:"none"}})})})});eI.displayName=w1;var tI="PopperArrow",OU={top:"bottom",right:"left",bottom:"top",left:"right"},rI=_.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=AU(tI,n),o=OU[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(jU,{...i,ref:r,style:{...i.style,display:"block"}})})});rI.displayName=tI;function CU(e){return e!==null}var PU=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=nI(r),d={start:"0%",center:"50%",end:"100%"}[u],p=(i.arrow?.x??0)+s/2,h=(i.arrow?.y??0)+l/2;let v="",m="";return c==="bottom"?(v=o?d:`${p}px`,m=`${-l}px`):c==="top"?(v=o?d:`${p}px`,m=`${n.floating.height+l}px`):c==="right"?(v=`${-l}px`,m=o?d:`${h}px`):c==="left"&&(v=`${n.floating.width+l}px`,m=o?d:`${h}px`),{data:{x:v,y:m}}}});function nI(e){const[t,r="center"]=e.split("-");return[t,r]}var iI=QR,aI=ZR,oI=eI,sI=rI,[Vh]=Ar("Tooltip",[Hh]),Kh=Hh(),lI="TooltipProvider",TU=700,k0="tooltip.open",[NU,_1]=Vh(lI),cI=e=>{const{__scopeTooltip:t,delayDuration:r=TU,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=_.useRef(!0),s=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(NU,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:_.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:a})};cI.displayName=lI;var Sc="Tooltip",[RU,Gh]=Vh(Sc),uI=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,l=_1(Sc,e.__scopeTooltip),c=Kh(t),[u,d]=_.useState(null),p=Ei(),h=_.useRef(0),v=o??l.disableHoverableContent,m=s??l.delayDuration,g=_.useRef(!1),[y,b]=ti({prop:n,defaultProp:i??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(k0))):l.onClose(),a?.(E)},caller:Sc}),x=_.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),S=_.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,b(!0)},[b]),w=_.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),j=_.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,b(!0),h.current=0},m)},[m,b]);return _.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),f.jsx(iI,{...c,children:f.jsx(RU,{scope:t,contentId:p,open:y,stateAttribute:x,trigger:u,onTriggerChange:d,onTriggerEnter:_.useCallback(()=>{l.isOpenDelayedRef.current?j():S()},[l.isOpenDelayedRef,j,S]),onTriggerLeave:_.useCallback(()=>{v?w():(window.clearTimeout(h.current),h.current=0)},[w,v]),onOpen:S,onClose:w,disableHoverableContent:v,children:r})})};uI.displayName=Sc;var A0="TooltipTrigger",dI=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Gh(A0,r),a=_1(A0,r),o=Kh(r),s=_.useRef(null),l=$e(t,s,i.onTriggerChange),c=_.useRef(!1),u=_.useRef(!1),d=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(aI,{asChild:!0,...o,children:f.jsx(ke.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:Ee(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ee(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ee(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ee(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ee(e.onBlur,i.onClose),onClick:Ee(e.onClick,i.onClose)})})});dI.displayName=A0;var IU="TooltipPortal",[SSe,DU]=Vh(IU,{forceMount:void 0}),ms="TooltipContent",fI=_.forwardRef((e,t)=>{const r=DU(ms,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=Gh(ms,e.__scopeTooltip);return f.jsx(Di,{present:n||o.open,children:o.disableHoverableContent?f.jsx(hI,{side:i,...a,ref:t}):f.jsx(MU,{side:i,...a,ref:t})})}),MU=_.forwardRef((e,t)=>{const r=Gh(ms,e.__scopeTooltip),n=_1(ms,e.__scopeTooltip),i=_.useRef(null),a=$e(t,i),[o,s]=_.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:d}=n,p=_.useCallback(()=>{s(null),d(!1)},[d]),h=_.useCallback((v,m)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},b=zU(y,g.getBoundingClientRect()),x=qU(y,b),S=UU(m.getBoundingClientRect()),w=HU([...x,...S]);s(w),d(!0)},[d]);return _.useEffect(()=>()=>p(),[p]),_.useEffect(()=>{if(l&&u){const v=g=>h(g,u),m=g=>h(g,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",m)}}},[l,u,h,p]),_.useEffect(()=>{if(o){const v=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},b=l?.contains(g)||u?.contains(g),x=!WU(y,o);b?p():x&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,p]),f.jsx(hI,{...e,ref:a})}),[$U,LU]=Vh(Sc,{isInside:!1}),BU=H2("TooltipContent"),hI=_.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,l=Gh(ms,r),c=Kh(r),{onClose:u}=l;return _.useEffect(()=>(document.addEventListener(k0,u),()=>document.removeEventListener(k0,u)),[u]),_.useEffect(()=>{if(l.trigger){const d=p=>{p.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),f.jsx(Ih,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(oI,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(BU,{children:n}),f.jsx($U,{scope:r,isInside:!0,children:f.jsx(O8,{id:l.contentId,role:"tooltip",children:i||n})})]})})});fI.displayName=ms;var pI="TooltipArrow",FU=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Kh(r);return LU(pI,r).isInside?null:f.jsx(sI,{...i,...n,ref:t})});FU.displayName=pI;function zU(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function qU(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function UU(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function WU(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],l=t[o],c=s.x,u=s.y,d=l.x,p=l.y;u>n!=p>n&&r<(d-c)*(n-u)/(p-u)+c&&(i=!i)}return i}function HU(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),VU(t)}function VU(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var KU=cI,GU=uI,YU=dI,mI=fI;const Ua=KU,Ho=GU,Vo=YU,Wa=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>f.jsx(mI,{ref:n,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Wa.displayName=mI.displayName;var el=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uo=typeof window>"u"||"Deno"in globalThis;function xr(){}function XU(e,t){return typeof e=="function"?e(t):e}function O0(e){return typeof e=="number"&&e>=0&&e!==1/0}function gI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function aa(e,t){return typeof e=="function"?e(t):e}function rn(e,t){return typeof e=="function"?e(t):e}function fj(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(n){if(t.queryHash!==S1(o,t.options))return!1}else if(!jc(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function hj(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(fo(t.options.mutationKey)!==fo(a))return!1}else if(!jc(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function S1(e,t){return(t?.queryKeyHashFn||fo)(e)}function fo(e){return JSON.stringify(e,(t,r)=>C0(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function jc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>jc(e[r],t[r])):!1}function vI(e,t){if(e===t)return e;const r=pj(e)&&pj(t);if(r||C0(e)&&C0(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,s=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&l.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,c++):(s[d]=vI(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&c++)}return i===o&&c===i?e:s}return t}function rf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function pj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function C0(e){if(!mj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!mj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mj(e){return Object.prototype.toString.call(e)==="[object Object]"}function QU(e){return new Promise(t=>{setTimeout(t,e)})}function P0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?vI(e,t):t}function JU(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ZU(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var j1=Symbol();function yI(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===j1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function bI(e,t){return typeof e=="function"?e(...t):!!e}var eW=class extends el{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!uo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},E1=new eW,tW=class extends el{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!uo&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},nf=new tW;function T0(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function rW(e){return Math.min(1e3*2**e,3e4)}function xI(e){return(e??"online")==="online"?nf.isOnline():!0}var wI=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function xm(e){return e instanceof wI}function _I(e){let t=!1,r=0,n=!1,i;const a=T0(),o=m=>{n||(p(new wI(m)),e.abort?.())},s=()=>{t=!0},l=()=>{t=!1},c=()=>E1.isFocused()&&(e.networkMode==="always"||nf.isOnline())&&e.canRun(),u=()=>xI(e.networkMode)&&e.canRun(),d=m=>{n||(n=!0,e.onSuccess?.(m),i?.(),a.resolve(m))},p=m=>{n||(n=!0,e.onError?.(m),i?.(),a.reject(m))},h=()=>new Promise(m=>{i=g=>{(n||c())&&m(g)},e.onPause?.()}).then(()=>{i=void 0,n||e.onContinue?.()}),v=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(d).catch(y=>{if(n)return;const b=e.retry??(uo?0:3),x=e.retryDelay??rW,S=typeof x=="function"?x(r,y):x,w=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!w){p(y);return}r++,e.onFail?.(r,y),QU(S).then(()=>c()?void 0:h()).then(()=>{t?p(y):v()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?v():h().then(v),a)}}var nW=e=>setTimeout(e,0);function iW(){let e=[],t=0,r=s=>{s()},n=s=>{s()},i=nW;const a=s=>{t?e.push(s):i(()=>{r(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var Zt=iW(),SI=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),O0(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(uo?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},aW=class extends SI{#t;#e;#r;#n;#i;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=oW(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=P0(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>rn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>aa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!gI(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},i=()=>{const l=yI(this.options,t),u=(()=>{const d={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#s=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const s=l=>{xm(l)&&l.silent||this.#a({type:"error",error:l}),xm(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=_I({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jI(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return xm(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function jI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function oW(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var sW=class extends el{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,i=t.queryHash??S1(n,t);let a=this.get(i);return a||(a=new aW({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>fj(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>fj(e,r)):t}notify(e){Zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lW=class extends SI{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||EI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=_I({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Zt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function EI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cW=class extends el{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new lW({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=Yu(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Yu(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Yu(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Yu(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Zt.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>hj(t,r))}findAll(e={}){return this.getAll().filter(t=>hj(e,t))}notify(e){Zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Zt.batch(()=>Promise.all(e.map(t=>t.continue().catch(xr))))}};function Yu(e){return e.options.scope?.id}function gj(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},p=yI(t.options,t.fetchOptions),h=async(v,m,g)=>{if(u)return Promise.reject();if(m==null&&v.pages.length)return Promise.resolve(v);const b=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};return d(j),j})(),x=await p(b),{maxPages:S}=t.options,w=g?ZU:JU;return{pages:w(v.pages,x,S),pageParams:w(v.pageParams,m,S)}};if(i&&a.length){const v=i==="backward",m=v?uW:vj,g={pages:a,pageParams:o},y=m(n,g);s=await h(g,y,v)}else{const v=e??a.length;do{const m=l===0?o[0]??n.initialPageParam:vj(n,s);if(l>0&&m==null)break;s=await h(s,m),l++}while(l<v)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function vj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function uW(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var dW=class{#t;#e;#r;#n;#i;#o;#s;#a;constructor(e={}){this.#t=e.queryCache||new sW,this.#e=e.mutationCache||new cW,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=E1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=nf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(aa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#t.get(n.queryHash)?.state.data,o=XU(t,a);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Zt.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Zt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Zt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Zt.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(xr).catch(xr)}invalidateQueries(e,t={}){return Zt.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Zt.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(xr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(xr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(aa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xr).catch(xr)}fetchInfiniteQuery(e){return e.behavior=gj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xr).catch(xr)}ensureInfiniteQueryData(e){return e.behavior=gj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nf.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(fo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{jc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(fo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(n=>{jc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=S1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===j1&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},fW=class extends el{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#s=T0(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#o;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),yj(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return N0(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return N0(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!rf(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&bj(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||rn(this.options.enabled,this.#e)!==rn(t.enabled,this.#e)||aa(this.options.staleTime,this.#e)!==aa(t.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||rn(this.options.enabled,this.#e)!==rn(t.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return pW(this,r)&&(this.#n=r,this.#o=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(xr)),t}#g(){this.#x();const e=aa(this.options.staleTime,this.#e);if(uo||this.#n.isStale||!O0(e))return;const r=gI(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(uo||rn(this.options.enabled,this.#e)===!1||!O0(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||E1.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,i=this.#n,a=this.#i,o=this.#o,l=e!==r?e.state:this.#r,{state:c}=e;let u={...c},d=!1,p;if(t._optimisticResults){const C=this.hasListeners(),P=!C&&yj(e,t),O=C&&bj(e,r,t,n);(P||O)&&(u={...u,...jI(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:v,status:m}=u;p=u.data;let g=!1;if(t.placeholderData!==void 0&&p===void 0&&m==="pending"){let C;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(C=i.data,g=!0):C=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,C!==void 0&&(m="success",p=P0(i?.data,C,t),d=!0)}if(t.select&&p!==void 0&&!g)if(i&&p===a?.data&&t.select===this.#m)p=this.#f;else try{this.#m=t.select,p=t.select(p),p=P0(i?.data,p,t),this.#f=p,this.#a=null}catch(C){this.#a=C}this.#a&&(h=this.#a,p=this.#f,v=Date.now(),m="error");const y=u.fetchStatus==="fetching",b=m==="pending",x=m==="error",S=b&&y,w=p!==void 0,E={status:m,fetchStatus:u.fetchStatus,isPending:b,isSuccess:m==="success",isError:x,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:v,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:x&&!w,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:x&&w,isStale:k1(e,t),refetch:this.refetch,promise:this.#s,isEnabled:rn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=N=>{E.status==="error"?N.reject(E.error):E.data!==void 0&&N.resolve(E.data)},P=()=>{const N=this.#s=E.promise=T0();C(N)},O=this.#s;switch(O.status){case"pending":e.queryHash===r.queryHash&&C(O);break;case"fulfilled":(E.status==="error"||E.data!==O.value)&&P();break;case"rejected":(E.status!=="error"||E.error!==O.reason)&&P();break}}return E}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),rf(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(o=>{const s=o;return this.#n[s]!==e[s]&&a.has(s)})};this.#S({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){Zt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function hW(e,t){return rn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yj(e,t){return hW(e,t)||e.state.data!==void 0&&N0(e,t,t.refetchOnMount)}function N0(e,t,r){if(rn(t.enabled,e)!==!1&&aa(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&k1(e,t)}return!1}function bj(e,t,r,n){return(e!==t||rn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&k1(e,r)}function k1(e,t){return rn(t.enabled,e)!==!1&&e.isStaleByTime(aa(t.staleTime,e))}function pW(e,t){return!rf(e.getCurrentResult(),t)}var mW=class extends el{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),rf(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&fo(r.mutationKey)!==fo(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#o()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??EI();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Zt.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},kI=_.createContext(void 0),xa=e=>{const t=_.useContext(kI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},gW=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(kI.Provider,{value:e,children:t})),AI=_.createContext(!1),vW=()=>_.useContext(AI);AI.Provider;function yW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bW=_.createContext(yW()),xW=()=>_.useContext(bW),wW=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},_W=e=>{_.useEffect(()=>{e.clearReset()},[e])},SW=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||bI(r,[e.error,n])),jW=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},EW=(e,t)=>e.isLoading&&e.isFetching&&!t,kW=(e,t)=>e?.suspense&&t.isPending,xj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function AW(e,t,r){const n=vW(),i=xW(),a=xa(),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",jW(o),wW(o,i),_W(i);const s=!a.getQueryCache().get(o.queryHash),[l]=_.useState(()=>new t(a,o)),c=l.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(d=>{const p=u?l.subscribe(Zt.batchCalls(d)):xr;return l.updateResult(),p},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),_.useEffect(()=>{l.setOptions(o)},[o,l]),kW(o,c))throw xj(o,l,i);if(SW({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!uo&&EW(c,n)&&(s?xj(o,l,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(xr).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function ni(e,t){return AW(e,fW)}function an(e,t){const r=xa(),[n]=_.useState(()=>new mW(r,e));_.useEffect(()=>{n.setOptions(e)},[n,e]);const i=_.useSyncExternalStore(_.useCallback(o=>n.subscribe(Zt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=_.useCallback((o,s)=>{n.mutate(o,s).catch(xr)},[n]);if(i.error&&bI(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const OI=_.createContext(void 0),OW=({children:e})=>{const[t,r]=_.useState(!1),n=()=>{r(i=>!i)};return f.jsx(OI.Provider,{value:{isAIEnabled:t,setIsAIEnabled:r,toggleAI:n},children:e})},Yh=()=>{const e=_.useContext(OI);if(e===void 0)throw new Error("useAI must be used within an AIProvider");return e},CW=[{to:"/stats",label:"Statistiche",icon:_R},{to:"/ai-coach",label:"AI Coach",icon:Si},{to:"/macro-goals",label:"Macro Obiettivi",icon:l1}];function PW(){const{isAIEnabled:e}=Yh(),t=CW.filter(r=>!(r.to==="/ai-coach"&&!e));return f.jsx("nav",{className:"flex items-center justify-center gap-1 sm:gap-2",children:t.map(({to:r,label:n,icon:i})=>f.jsxs(G2,{to:r,className:({isActive:a})=>ae("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all","hover:bg-accent",a?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground"),children:[f.jsx(i,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden xs:inline sm:inline",children:n})]},r))})}const TW=[{to:"/",label:"Home",icon:d6},{to:"/stats",label:"Stats",icon:_R},{to:"/macro-goals",label:"Obiettivi",icon:l1}];function NW(){return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-t border-white/10 pb-6 pt-2 px-6 lg:hidden",children:f.jsx("div",{className:"flex items-center justify-around max-w-md mx-auto",children:TW.map(({to:e,label:t,icon:r})=>f.jsx(G2,{to:e,className:({isActive:n})=>ae("flex flex-col items-center justify-center gap-1 p-2 rounded-2xl transition-all duration-300 w-16 group active:scale-95",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:({isActive:n})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:ae("relative p-1.5 rounded-xl transition-all duration-300",n?"bg-primary/20":"group-hover:bg-white/5"),children:[f.jsx(r,{className:ae("w-6 h-6")}),n&&f.jsx("span",{className:"absolute inset-0 rounded-xl ring-2 ring-primary/20 animate-pulse-success"})]}),f.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:t})]})},e))})})}function RW(){return f.jsxs("div",{className:"h-dvh lg:min-h-screen bg-background flex flex-col relative w-full overflow-x-hidden selection:bg-primary/20",children:[f.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:f.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-8 max-w-[2400px] mx-auto w-full relative",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary/5 pointer-events-none lg:hidden"}),f.jsxs(Gz,{to:"/",className:"flex items-center gap-2 sm:gap-3 group relative z-10 active:scale-95 transition-transform",children:[f.jsxs("div",{className:"relative",children:[f.jsx(s6,{className:"h-6 w-6 sm:h-6 sm:w-6 text-primary animate-pulse"}),f.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-lg rounded-full opacity-50"})]}),f.jsx("span",{className:"font-display font-bold text-lg sm:text-lg tracking-tight group-hover:text-primary transition-colors",children:"Mattioli.OS"})]}),f.jsx("div",{className:"hidden lg:block",children:f.jsx(PW,{})})]})}),f.jsx("main",{className:"flex-1 min-h-0 pb-28 lg:pb-0",children:f.jsx(Yz,{})}),f.jsx(NW,{})]})}var pi={},Xu={},R0=function(e,t){return R0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},R0(e,t)};function CI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");R0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sn=function(){return sn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},sn.apply(this,arguments)};function wa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function PI(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function TI(e,t){return function(r,n){t(r,n,e)}}function NI(e,t,r,n,i,a){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,p=!1,h=r.length-1;h>=0;h--){var v={};for(var m in n)v[m]=m==="access"?{}:n[m];for(var m in n.access)v.access[m]=n.access[m];v.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(y||null))};var g=(0,r[h])(s==="accessor"?{get:u.get,set:u.set}:u[l],v);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=o(g.get))&&(u.get=d),(d=o(g.set))&&(u.set=d),(d=o(g.init))&&i.unshift(d)}else(d=o(g))&&(s==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,n.name,u),p=!0}function RI(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function II(e){return typeof e=="symbol"?e:"".concat(e)}function DI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function MI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _e(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})}function $I(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Xh=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function LI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xh(t,e,r)}function af(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function A1(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function BI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(A1(arguments[t]));return e}function FI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function O1(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function gs(e){return this instanceof gs?(this.v=e,this):new gs(e)}function zI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(v){return Promise.resolve(v).then(h,d)}}function s(h,v){n[h]&&(i[h]=function(m){return new Promise(function(g,y){a.push([h,m,g,y])>1||l(h,m)})},v&&(i[h]=v(i[h])))}function l(h,v){try{c(n[h](v))}catch(m){p(a[0][3],m)}}function c(h){h.value instanceof gs?Promise.resolve(h.value.v).then(u,d):p(a[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function p(h,v){h(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function qI(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:gs(e[i](o)),done:!1}:a?a(o):o}:a}}function UI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof af=="function"?af(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function WI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var IW=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},I0=function(e){return I0=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},I0(e)};function HI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=I0(e),n=0;n<r.length;n++)r[n]!=="default"&&Xh(t,e,r[n]);return IW(t,e),t}function VI(e){return e&&e.__esModule?e:{default:e}}function KI(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function GI(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function YI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function XI(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var DW=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function QI(e){function t(a){e.error=e.hasError?new DW(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function JI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const MW={__extends:CI,__assign:sn,__rest:wa,__decorate:PI,__param:TI,__esDecorate:NI,__runInitializers:RI,__propKey:II,__setFunctionName:DI,__metadata:MI,__awaiter:_e,__generator:$I,__createBinding:Xh,__exportStar:LI,__values:af,__read:A1,__spread:BI,__spreadArrays:FI,__spreadArray:O1,__await:gs,__asyncGenerator:zI,__asyncDelegator:qI,__asyncValues:UI,__makeTemplateObject:WI,__importStar:HI,__importDefault:VI,__classPrivateFieldGet:KI,__classPrivateFieldSet:GI,__classPrivateFieldIn:YI,__addDisposableResource:XI,__disposeResources:QI,__rewriteRelativeImportExtension:JI},$W=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:XI,get __assign(){return sn},__asyncDelegator:qI,__asyncGenerator:zI,__asyncValues:UI,__await:gs,__awaiter:_e,__classPrivateFieldGet:KI,__classPrivateFieldIn:YI,__classPrivateFieldSet:GI,__createBinding:Xh,__decorate:PI,__disposeResources:QI,__esDecorate:NI,__exportStar:LI,__extends:CI,__generator:$I,__importDefault:VI,__importStar:HI,__makeTemplateObject:WI,__metadata:MI,__param:TI,__propKey:II,__read:A1,__rest:wa,__rewriteRelativeImportExtension:JI,__runInitializers:RI,__setFunctionName:DI,__spread:BI,__spreadArray:O1,__spreadArrays:FI,__values:af,default:MW},Symbol.toStringTag,{value:"Module"})),LW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Qh=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},ZI=class extends Qh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},D0=class extends Qh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},M0=class extends Qh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var of;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(of||(of={}));class BW{constructor(t,{headers:r={},customFetch:n,region:i=of.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=LW(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _e(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:c,signal:u,timeout:d}=n;let p={},{region:h}=n;h||(h=this.region);const v=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,v.searchParams.set("forceFunctionRegion",h));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let g=u;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),u?(g=o.signal,u.addEventListener("abort",()=>o.abort())):g=o.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:m,signal:g}).catch(w=>{throw new ZI(w)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new D0(y);if(!y.ok)throw new M0(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield y.json():x==="application/octet-stream"||x==="application/pdf"?S=yield y.blob():x==="text/event-stream"?S=y:x==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof M0||s instanceof D0?s.context:void 0}}finally{a&&clearTimeout(a)}})}}const FW=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return of},FunctionsClient:BW,FunctionsError:Qh,FunctionsFetchError:ZI,FunctionsHttpError:M0,FunctionsRelayError:D0},Symbol.toStringTag,{value:"Module"})),eD=wu(FW);var hr={};const tl=wu($W);var Qu={},Ju={},Zu={},ed={},td={},rd={},wj;function tD(){if(wj)return rd;wj=1,Object.defineProperty(rd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return rd.default=e,rd}var _j;function rD(){if(_j)return td;_j=1,Object.defineProperty(td,"__esModule",{value:!0});const t=tl.__importDefault(tD());let r=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,d,p;let h=null,v=null,m=null,g=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?v=w:v=JSON.parse(w))}const x=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(h={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,m=null,g=406,y="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const x=await l.text();try{h=JSON.parse(x),Array.isArray(h)&&l.status===404&&(v=[],h=null,g=200,y="OK")}catch{l.status===404&&x===""?(g=204,y="No Content"):h={message:x}}if(h&&this.isMaybeSingle&&(!((p=h?.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,g=200,y="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:v,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,u,d,p,h,v;let m="";const g=l?.cause;if(g){const y=(c=g?.message)!==null&&c!==void 0?c:"",b=(u=g?.code)!==null&&u!==void 0?u:"";m=`${(d=l?.name)!==null&&d!==void 0?d:"FetchError"}: ${l?.message}`,m+=`

Caused by: ${(p=g?.name)!==null&&p!==void 0?p:"Error"}: ${y}`,b&&(m+=` (${b})`),g?.stack&&(m+=`
${g.stack}`)}else m=(h=l?.stack)!==null&&h!==void 0?h:"";return{error:{message:`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}};return td.default=r,td}var Sj;function nD(){if(Sj)return ed;Sj=1,Object.defineProperty(ed,"__esModule",{value:!0});const t=tl.__importDefault(rD());let r=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return ed.default=r,ed}var jj;function C1(){if(jj)return Zu;jj=1,Object.defineProperty(Zu,"__esModule",{value:!0});const t=tl.__importDefault(nD()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}};return Zu.default=n,Zu}var Ej;function iD(){if(Ej)return Ju;Ej=1,Object.defineProperty(Ju,"__esModule",{value:!0});const t=tl.__importDefault(C1());let r=class{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(d.length>0){const p=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Ju.default=r,Ju}var kj;function zW(){if(kj)return Qu;kj=1,Object.defineProperty(Qu,"__esModule",{value:!0});const e=tl,t=e.__importDefault(iD()),r=e.__importDefault(C1());let n=class aD{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new aD(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var u;let d;const p=new URL(`${this.url}/rpc/${a}`);let h;s||l?(d=s?"HEAD":"GET",Object.entries(o).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{p.searchParams.append(m,g)})):(d="POST",h=o);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new r.default({method:d,url:p,headers:v,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Qu.default=n,Qu}var Aj;function oD(){if(Aj)return hr;Aj=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.PostgrestError=hr.PostgrestBuilder=hr.PostgrestTransformBuilder=hr.PostgrestFilterBuilder=hr.PostgrestQueryBuilder=hr.PostgrestClient=void 0;const e=tl,t=e.__importDefault(zW());hr.PostgrestClient=t.default;const r=e.__importDefault(iD());hr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(C1());hr.PostgrestFilterBuilder=n.default;const i=e.__importDefault(nD());hr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(rD());hr.PostgrestBuilder=a.default;const o=e.__importDefault(tD());return hr.PostgrestError=o.default,hr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},hr}class sD{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qW="2.87.1",UW=`realtime-js/${qW}`,lD="1.0.0",WW="2.0.0",Oj=lD,$0=1e4,HW=1e3,VW=100;var Ha;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ha||(Ha={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var Sn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sn||(Sn={}));var L0;(function(e){e.websocket="websocket"})(L0||(L0={}));var Va;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Va||(Va={}));class KW{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(h),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,l.length),v.setUint8(m++,s.length),v.setUint8(m++,o.length),v.setUint8(m++,c.length),v.setUint8(m++,d.length),v.setUint8(m++,r),Array.from(l,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(d,y=>v.setUint8(m++,y.charCodeAt(0)));var g=new Uint8Array(h.byteLength+n.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(n),h.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,i)}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+o));l=l+o;const p=t.slice(l,t.byteLength),h=s===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:u,payload:h};return o>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class cD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_t||(_t={}));const Cj=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=GW(o,e,t,i),a),{}):{}},GW=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i?.type,o=r[e];return a&&!n.includes(a)?uD(a,o):B0(o)},uD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return JW(t,r)}switch(e){case _t.bool:return YW(t);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return XW(t);case _t.json:case _t.jsonb:return QW(t);case _t.timestamp:return ZW(t);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return B0(t);default:return B0(t)}},B0=e=>e,YW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JW=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>uD(t,s))}return e},ZW=e=>typeof e=="string"?e.replace(" ","T"):e,dD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class wm{constructor(t,r,n={},i=$0){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var F0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(F0||(F0={}));let fD=class Bd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bd.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Bd.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bd.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=a[c];if(d){const p=u.map(g=>g.presence_ref),h=d.map(g=>g.presence_ref),v=u.filter(g=>h.indexOf(g.presence_ref)<0),m=d.filter(g=>p.indexOf(g.presence_ref)<0);v.length>0&&(s[c]=v),m.length>0&&(l[c]=m)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const d=t[s].map(h=>h.presence_ref),p=u.filter(h=>d.indexOf(h.presence_ref)<0);t[s].unshift(...p)}n(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var z0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(z0||(z0={}));var ns;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ns||(ns={}));var qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));const eH=Bt;let hD=class Gl{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wm(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new cD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new fD(this),this.broadcastEndpointURL=dD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[ns.PRESENCE]&&this.bindings[ns.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(qn.CHANNEL_ERROR,h)),this._onClose(()=>t?.(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t?.(qn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(v=m?.length)!==null&&v!==void 0?v:0,y=[];for(let b=0;b<g;b++){const x=m[b],{filter:{event:S,schema:w,table:j,filter:E}}=x,C=h&&h[b];if(C&&C.event===S&&Gl.isFilterValueEqual(C.schema,w)&&Gl.isFilterValueEqual(C.table,j)&&Gl.isFilterValueEqual(C.filter,E))y.push(Object.assign(Object.assign({},x),{id:C.id}));else{this.unsubscribe(),this.state=Bt.errored,t?.(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(qn.SUBSCRIBED);return}}).receive("error",h=>{this.state=Bt.errored,t?.(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Bt.joined&&t===ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new wm(this,Sn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wm(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>VW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=Sn;if(n&&[s,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var v,m,g;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=h.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(h=>h.callback(p,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var v,m,g,y,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const S=h.id,w=(v=h.filter)===null||v===void 0?void 0:v.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(w==="*"||w?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const S=(b=(y=h?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((x=r?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:m,table:g,commit_timestamp:y,type:b,errors:x}=v;p=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(v))}h.callback(p,n)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Gl.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sn.close,{},t)}_onError(t){this._on(Sn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Cj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Cj(t.columns,t.old_record)),r}};const _m=()=>{},nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tH=[1e3,2e3,5e3,1e4],rH=1e4,nH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let iH=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$0,this.transport=null,this.heartbeatIntervalMs=nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_m,this.ref=0,this.reconnectTimer=null,this.vsn=Oj,this.logger=_m,this.conn=null,this.sendBuffer=[],this.serializer=new KW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${L0.websocket}`,this.httpEndpoint=dD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ha.connecting:return Va.Connecting;case Ha.open:return Va.Open;case Ha.closing:return Va.Closing;default:return Va.Closed}}isConnected(){return this.connectionState()===Va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new hD(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(HW,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ha.open||this.conn.readyState===Ha.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([nH],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:UW};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Sn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,c,u,d,p,h;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:$0,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:nd.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:_m,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:Oj,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>tH[v-1]||rH),this.vsn){case lD:this.encode=(u=t?.encode)!==null&&u!==void 0?u:((v,m)=>m(JSON.stringify(v))),this.decode=(d=t?.decode)!==null&&d!==void 0?d:((v,m)=>m(JSON.parse(v)));break;case WW:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const aH=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:eH,get REALTIME_LISTEN_TYPES(){return ns},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return z0},get REALTIME_PRESENCE_LISTEN_EVENTS(){return F0},get REALTIME_SUBSCRIBE_STATES(){return qn},RealtimeChannel:hD,RealtimeClient:iH,RealtimePresence:fD,WebSocketFactory:sD},Symbol.toStringTag,{value:"Module"})),pD=wu(aH);class Eu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ot(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mD extends Eu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sf extends Eu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const P1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oH=()=>Response,q0=e=>{if(Array.isArray(e))return e.map(r=>q0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=q0(n)}),t},sH=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lH=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Sm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},cH=(e,t,r)=>_e(void 0,void 0,void 0,function*(){const n=yield oH();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new mD(Sm(i),a,o))}).catch(i=>{t(new sf(Sm(i),i))}):t(new sf(Sm(e),e))}),uH=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(sH(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ku(e,t,r,n,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,uH(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>cH(l,s,n))})})}function Ec(e,t,r,n){return _e(this,void 0,void 0,function*(){return ku(e,"GET",t,r,n)})}function _n(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return ku(e,"POST",t,n,i,r)})}function U0(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return ku(e,"PUT",t,n,i,r)})}function dH(e,t,r,n){return _e(this,void 0,void 0,function*(){return ku(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function T1(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return ku(e,"DELETE",t,n,i,r)})}class fH{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ot(t))return{data:null,error:t};throw t}})}}var gD;class hH{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[gD]="BlobDownloadBuilder",this.promise=null}asStream(){return new fH(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ot(t))return{data:null,error:t};throw t}})}}gD=Symbol.toStringTag;const pH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mH{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=P1(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return _e(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Pj),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(t=="PUT"?U0:_n)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}upload(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return _e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Pj.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield U0(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield _n(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Eu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}update(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}copy(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield _n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return _e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield _n(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return _e(this,void 0,void 0,function*(){try{const i=yield _n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Ec(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new hH(l,this.shouldThrowOnError)}info(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ec(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:q0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}exists(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield dH(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n)&&n instanceof sf){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield T1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}list(t,r,n){return _e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pH),r),{prefix:t||""});return{data:yield _n(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}listV2(t,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield _n(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const vD="2.87.1",yD={"X-Client-Info":`storage-js/${vD}`};class gH{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yD),r),this.fetch=P1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ec(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}createBucket(t){return _e(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield _n(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return _e(this,void 0,void 0,function*(){try{return{data:yield U0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield T1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var kc=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function vH(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function yH(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function bH(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=vH(e.baseUrl,n,i),l=await yH(e.auth),c=await t(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),p=d&&u?JSON.parse(u):u;if(!c.ok){const h=d?p:void 0,v=h?.error;throw new kc(v?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:v?.type,icebergCode:v?.code,details:h})}return{status:c.status,headers:c.headers,data:p}}}}function id(e){return e.join("")}var xH=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:id(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${id(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${id(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${id(e.namespace)}`}),!0}catch(t){if(t instanceof kc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof kc&&r.status===409)return;throw r}}};function Po(e){return e.join("")}var wH=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Po(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Po(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Po(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Po(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Po(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Po(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof kc&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof kc&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},_H=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=bH({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new xH(this.client,t),this.tableOps=new wH(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class bD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yD),r),this.fetch=P1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ec(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield T1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}from(t){if(!lH(t))throw new Eu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _H({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>_e(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const s=a[o];return typeof s!="function"?s:(...l)=>_e(this,void 0,void 0,function*(){try{return{data:yield s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const N1={"X-Client-Info":`storage-js/${vD}`,"Content-Type":"application/json"};class R1 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Nr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Fd extends R1{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xD extends R1{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var W0;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(W0||(W0={}));const Jh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SH=()=>Response,wD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jH=e=>Array.from(new Float32Array(e)),EH=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},Tj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kH=(e,t,r)=>_e(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=o?.statusCode||o?.code||i+"";t(new Fd(Tj(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Fd(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Fd(s,i,o))}}else t(new xD(Tj(e),e))}),AH=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(wD(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function OH(e,t,r,n,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,AH(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>kH(l,s,n))})})}function Ur(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return OH(e,"POST",t,n,i,r)})}class _D{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N1),r),this.fetch=Jh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return _e(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}listIndexes(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return _e(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}}class SD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N1),r),this.fetch=Jh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ur(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}getVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}listVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ur(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}queryVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ur(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}}class jD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N1),r),this.fetch=Jh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}listBuckets(){return _e(this,arguments,void 0,function*(t={}){try{return{data:yield Ur(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}}class ED extends jD{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new kD(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _e(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _e(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _e(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _e(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class kD extends _D{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new AD(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class AD extends SD{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class CH extends gH{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new mH(this.url,this.headers,t,this.fetch)}get vectors(){return new ED(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bD(this.url+"/iceberg",this.headers,this.fetch)}}const PH=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:bD,StorageApiError:mD,StorageClient:CH,StorageError:Eu,StorageUnknownError:sf,StorageVectorsApiError:Fd,StorageVectorsClient:ED,StorageVectorsError:R1,get StorageVectorsErrorCode(){return W0},StorageVectorsUnknownError:xD,VectorBucketApi:jD,VectorBucketScope:kD,VectorDataApi:SD,VectorIndexApi:_D,VectorIndexScope:AD,isPlainObject:wD,isStorageError:Ot,isStorageVectorsError:Nr,normalizeToFloat32:jH,resolveFetch:Jh,resolveResponse:SH,validateVectorDimension:EH},Symbol.toStringTag,{value:"Module"})),TH=wu(PH);var jm={},Pl={},Nj;function NH(){return Nj||(Nj=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.version=void 0,Pl.version="2.87.1"),Pl}var Rj;function RH(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=NH();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(jm)),jm}var Em={},Ij;function IH(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,a,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(c,u)=>{var d;const p=(d=await a())!==null&&d!==void 0?d:i;let h=new l(u?.headers);return h.has("apikey")||h.set("apikey",i),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),s(c,Object.assign(Object.assign({},u),{headers:h}))}};e.fetchWithAuth=n})(Em)),Em}var mi={},Dj;function DH(){if(Dj)return mi;Dj=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.isBrowser=void 0,mi.uuid=e,mi.ensureTrailingSlash=t,mi.applySettingDefaults=n,mi.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,s=a=="x"?o:o&3|8;return s.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";mi.isBrowser=r;function n(a,o){var s,l;const{db:c,auth:u,realtime:d,global:p}=a,{db:h,auth:v,realtime:m,global:g}=o,y={db:Object.assign(Object.assign({},h),c),auth:Object.assign(Object.assign({},v),u),realtime:Object.assign(Object.assign({},m),d),storage:{},global:Object.assign(Object.assign(Object.assign({},g),p),{headers:Object.assign(Object.assign({},(s=g?.headers)!==null&&s!==void 0?s:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?y.accessToken=a.accessToken:delete y.accessToken,y}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return mi}var Tl={};const OD="2.87.1",Ko=30*1e3,H0=3,km=H0*Ko,MH="http://localhost:9999",$H="supabase.auth.token",LH={"X-Client-Info":`gotrue-js/${OD}`},V0="X-Supabase-Api-Version",CD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FH=600*1e3;let vs=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let PD=class extends vs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function TD(e){return Ae(e)&&e.name==="AuthApiError"}let Ji=class extends vs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Mi=class extends vs{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},Cr=class extends Mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ND(e){return Ae(e)&&e.name==="AuthSessionMissingError"}let $a=class extends Mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Yl=class extends Mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Xl=class extends Mi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function RD(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}let K0=class extends Mi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},lf=class extends Mi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function zd(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}let G0=class extends Mi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function zH(e){return Ae(e)&&e.name==="AuthWeakPasswordError"}let cf=class extends Mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const uf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mj=` 	
\r=`.split(""),qH=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Mj.length;t+=1)e[Mj[t].charCodeAt(0)]=-2;for(let t=0;t<uf.length;t+=1)e[uf[t].charCodeAt(0)]=t;return e})();function $j(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uf[n]),t.queuedBits-=6}}function ID(e,t,r){const n=qH[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lj(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{HH(o,n,r)};for(let o=0;o<e.length;o+=1)ID(e.charCodeAt(o),i,a);return t.join("")}function UH(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WH(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}UH(n,t)}}function HH(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function is(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)ID(e.charCodeAt(i),r,n);return new Uint8Array(t)}function VH(e){const t=[];return WH(e,r=>t.push(r)),new Uint8Array(t)}function Ga(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>$j(i,r,n)),$j(null,r,n),t.join("")}function KH(e){return Math.round(Date.now()/1e3)+e}function GH(){return Symbol("auth-callback")}const cr=()=>typeof window<"u"&&typeof document<"u",Pa={tested:!1,writable:!1},DD=()=>{if(!cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pa.tested)return Pa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pa.tested=!0,Pa.writable=!0}catch{Pa.tested=!0,Pa.writable=!1}return Pa.writable};function YH(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const MD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XH=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Go=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ta=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lr=async(e,t)=>{await e.removeItem(t)};class Zh{constructor(){this.promise=new Zh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zh.promiseConstructor=Promise;function Am(e){const t=e.split(".");if(t.length!==3)throw new cf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!BH.test(t[n]))throw new cf("JWT not in base64url format");return{header:JSON.parse(Lj(t[0])),payload:JSON.parse(Lj(t[1])),signature:is(t[2]),raw:{header:t[0],payload:t[1]}}}async function QH(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function JH(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function ZH(e){return("0"+e.toString(16)).substr(-2)}function e9(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,ZH).join("")}async function t9(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function r9(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await t9(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function To(e,t,r=!1){const n=e9();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Go(e,`${t}-code-verifier`,i);const a=await r9(n);return[a,n===a?"plain":"s256"]}const n9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i9(e){const t=e.headers.get(V0);if(!t||!t.match(n9))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function a9(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function o9(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const s9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function No(e){if(!s9.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Om(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function l9(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Bj(e){return JSON.parse(JSON.stringify(e))}const La=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c9=[502,503,504];async function Fj(e){var t;if(!XH(e))throw new lf(La(e),0);if(c9.includes(e.status))throw new lf(La(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ji(La(a),a)}let n;const i=i9(e);if(i&&i.getTime()>=CD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new G0(La(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Cr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new G0(La(r),e.status,r.weak_password.reasons);throw new PD(La(r),e.status||500,n)}const u9=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function De(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[V0]||(a[V0]=CD["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await d9(e,t,r+s,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function d9(e,t,r,n,i,a){const o=u9(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new lf(La(l),0)}if(s.ok||await Fj(s),n?.noResolveJson)return s;try{return await s.json()}catch(l){await Fj(l)}}function xn(e){var t;let r=null;p9(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KH(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function zj(e){const t=xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function f9(e){return{data:e,error:null}}function h9(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=wa(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function qj(e){return e}function p9(e){return e.access_token&&e.refresh_token&&e.expires_in}const qd=["global","local","others"];let I1=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=qd[0]){if(qd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qd.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=wa(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:h9,redirectTo:r?.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:qj});if(u.error)throw u.error;const d=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Ae(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){No(t);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){No(t);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){No(t);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){No(t.userId);try{const{data:r,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){No(t.userId),No(t.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:qj});if(u.error)throw u.error;const d=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Ae(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}};function Uj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ba={debug:!!(globalThis&&DD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let $D=class extends D1{};class m9 extends D1{}async function LD(e,t,r){Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $D(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ba.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Wj={};async function g9(e,t,r){var n;const i=(n=Wj[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new m9(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return Wj[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function v9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function BD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function y9(e){return parseInt(e,16)}function b9(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function x9(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=BD(e.address),v=u?`${u}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${h}

${m}`;let y=`URI: ${d}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}y+=b}return`${g}
${y}`}class qt extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class df extends qt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function w9({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(FD(o)){if(a.rp.id!==o)return new qt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _9({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(FD(n)){if(r.rpId!==n)return new qt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class S9{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const j9=new S9;function E9(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=wa(e,["challenge","user","excludeCredentials"]),a=is(t).buffer,o=Object.assign(Object.assign({},r),{id:is(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:is(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function k9(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=wa(e,["challenge","allowCredentials"]),i=is(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:is(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function A9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ga(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ga(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function O9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ga(new Uint8Array(i.authenticatorData)),clientDataJSON:Ga(new Uint8Array(i.clientDataJSON)),signature:Ga(new Uint8Array(i.signature)),userHandle:i.userHandle?Ga(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Hj(){var e,t;return!!(cr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function C9(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new df("Browser returned unexpected credential type",t)}:{data:null,error:new df("Empty credential response",t)}}catch(t){return{data:null,error:w9({error:t,options:e})}}}async function P9(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new df("Browser returned unexpected credential type",t)}:{data:null,error:new df("Empty credential response",t)}}catch(t){return{data:null,error:_9({error:t,options:e})}}}const T9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},N9={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ff(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=ff(s,o):n[a]=ff(o)}else n[a]=o}return n}function R9(e,t){return ff(T9,e,t||{})}function I9(e,t){return ff(N9,e,t||{})}class D9{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=i??j9.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=R9(o.webauthn.credential_options.publicKey,a?.create),{data:u,error:d}=await C9({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=I9(o.webauthn.credential_options.publicKey,a?.request),{data:u,error:d}=await P9(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return Ae(o)?{data:null,error:o}:{data:null,error:new Ji("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new vs("rpId is required for WebAuthn authentication")};try{if(!Hj())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return Ae(o)?{data:null,error:o}:{data:null,error:new Ji("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new vs("rpId is required for WebAuthn registration")};try{if(!Hj())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Ae(o)?{data:null,error:o}:{data:null,error:new Ji("Unexpected error in register",o)}}}}v9();const M9={url:MH,storageKey:$H,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Vj(e,t,r){return await r()}const Ro={};let M1=class Y0{get jwks(){var t,r;return(r=(t=Ro[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ro[this.storageKey]=Object.assign(Object.assign({},Ro[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ro[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ro[this.storageKey]=Object.assign(Object.assign({},Ro[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},M9),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Y0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Y0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&cr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new I1({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=MD(a.fetch),this.lock=a.lock||Vj,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&cr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=LD:this.lock=Vj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new D9(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:DD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uj(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Uj(this.memoryStorage)),cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${OD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(cr()&&(r=YH(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),cr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),RD(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?this._returnResult({error:r}):this._returnResult({error:new Ji("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:xn}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:d,options:p}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await To(this.storage,this.storageKey)),a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:u,password:d,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:h,code_challenge_method:v},xform:xn})}else if("phone"in t){const{phone:u,password:d,options:p}=t;a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=p?.data)!==null&&n!==void 0?n:{},channel:(i=p?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:xn})}else throw new Yl("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await lr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:zj})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:zj})}else throw new Yl("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new $a;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,c,u,d,p;let h,v;if("message"in t)h=t.message,v=t.signature;else{const{chain:m,wallet:g,statement:y,options:b}=t;let x;if(cr())if(typeof g=="object")x=g;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")x=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const S=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),w=await x.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=BD(w[0]);let E=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const P=await x.request({method:"eth_chainId"});E=y9(P)}const C={domain:S.host,address:j,statement:y,uri:S.href,version:"1",chainId:E,nonce:(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b?.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=x9(C),v=await x.request({method:"personal_sign",params:[b9(h),j]})}try{const{data:m,error:g}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:xn});if(g)throw g;if(!m||!m.session||!m.user){const y=new $a;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(Ae(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,a,o,s,l,c,u,d,p,h;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:b,options:x}=t;let S;if(cr())if(typeof y=="object")S=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const w=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=x?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x?.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=j}}try{const{data:g,error:y}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ga(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xn});if(y)throw y;if(!g||!g.session||!g.user){const b=new $a;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(Ae(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await Ta(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xn});if(await lr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new $a;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:xn}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new $a;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await To(this.storage,this.storageKey));const{error:d}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new Yl("You must provide either an email or phone number.")}catch(s){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:xn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await To(this.storage,this.storageKey));const c=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:f9});return!((a=c.data)===null||a===void 0)&&a.url&&cr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Cr;const{error:i}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:s})}throw new Yl("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ta(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<km:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ta(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Om()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=l9(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zi}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cr}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Zi})})}catch(r){if(Ae(r))return ND(r)&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Cr;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await To(this.storage,this.storageKey));const{data:c,error:u}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Zi});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Am(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Cr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!cr())throw new Xl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new K0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new K0("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Xl("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let p=u+d;l&&(p=parseInt(l));const h=p-u;h*1e3<=Ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const v=p-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:p,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ta(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(TD(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=GH(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await To(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:d,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return cr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:u}=t,d=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:xn}),{data:p,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new $a}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await JH(async i=>(i>0&&await QH(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&zd(a)&&Date.now()+o-n<Ko})}catch(n){if(this._debug(r,"error",n),Ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),cr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ta(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ta(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Go(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Om()}else if(i&&!i.user&&!i.user){const o=await Ta(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await lr(this.storage,this.storageKey+"-user"),await Go(this.storage,this.storageKey,i)):i.user=Om()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<km;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${km}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),zd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zh;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Cr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Ae(a)){const o={data:null,error:a};return zd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Go(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Bj(i);await Go(this.storage,this.storageKey,a)}else{const i=Bj(r);await Go(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lr(this.storage,this.storageKey),await lr(this.storage,this.storageKey+"-code-verifier"),await lr(this.storage,this.storageKey+"-user"),this.userStorage&&await lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ko);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ko}ms, refresh threshold is ${H0} ticks`),i<=H0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof D1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await To(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await De(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await De(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?A9(t.webauthn.credential_response):O9(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:E9(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:k9(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Am(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Cr})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Cr});const o=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&cr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Cr});const o=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&cr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Cr})})}catch(t){if(Ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Cr})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+FH>i)return n;const{data:a,error:o}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return this._returnResult({data:null,error:v});n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Am(n);r?.allowExpired||a9(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const u=o9(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,VH(`${s}.${l}`)))throw new cf("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}};M1.nextInstanceID={};const $9=I1,L9=M1,B9=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:$9,AuthApiError:PD,AuthClient:L9,AuthError:vs,AuthImplicitGrantRedirectError:Xl,AuthInvalidCredentialsError:Yl,AuthInvalidJwtError:cf,AuthInvalidTokenResponseError:$a,AuthPKCEGrantCodeExchangeError:K0,AuthRetryableFetchError:lf,AuthSessionMissingError:Cr,AuthUnknownError:Ji,AuthWeakPasswordError:G0,CustomAuthError:Mi,GoTrueAdminApi:I1,GoTrueClient:M1,NavigatorLockAcquireTimeoutError:$D,SIGN_OUT_SCOPES:qd,isAuthApiError:TD,isAuthError:Ae,isAuthImplicitGrantRedirectError:RD,isAuthRetryableFetchError:zd,isAuthSessionMissingError:ND,isAuthWeakPasswordError:zH,lockInternals:Ba,navigatorLock:LD,processLock:g9},Symbol.toStringTag,{value:"Module"})),zD=wu(B9);var Kj;function F9(){if(Kj)return Tl;Kj=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.SupabaseAuthClient=void 0;const e=zD;let t=class extends e.AuthClient{constructor(n){super(n)}};return Tl.SupabaseAuthClient=t,Tl}var Gj;function Yj(){if(Gj)return Xu;Gj=1,Object.defineProperty(Xu,"__esModule",{value:!0});const e=eD,t=oD(),r=pD,n=TH,i=RH(),a=IH(),o=DH(),s=F9();class l{constructor(u,d,p){var h,v,m;this.supabaseUrl=u,this.supabaseKey=d;const g=(0,o.validateSupabaseUrl)(u);if(!d)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const y=`sb-${g.hostname.split(".")[0]}-auth-token`,b={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:y}),global:i.DEFAULT_GLOBAL_OPTIONS},x=(0,o.applySettingDefaults)(p??{},b);this.storageKey=(h=x.auth.storageKey)!==null&&h!==void 0?h:"",this.headers=(v=x.global.headers)!==null&&v!==void 0?v:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(S,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((m=x.auth)!==null&&m!==void 0?m:{},this.headers,x.global.fetch),this.fetch=(0,a.fetchWithAuth)(d,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new t.PostgrestClient(new URL("rest/v1",g).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,p?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(u){return this.rest.from(u)}schema(u){return this.rest.schema(u)}rpc(u,d={},p={head:!1,get:!1,count:void 0}){return this.rest.rpc(u,d,p)}channel(u,d={config:{}}){return this.realtime.channel(u,d)}getChannels(){return this.realtime.getChannels()}removeChannel(u){return this.realtime.removeChannel(u)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var u,d;if(this.accessToken)return await this.accessToken();const{data:p}=await this.auth.getSession();return(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:u,persistSession:d,detectSessionInUrl:p,storage:h,userStorage:v,storageKey:m,flowType:g,lock:y,debug:b,throwOnError:x},S,w){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),S),storageKey:m,autoRefreshToken:u,persistSession:d,detectSessionInUrl:p,storage:h,userStorage:v,flowType:g,lock:y,debug:b,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(u){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},u),{params:Object.assign({apikey:this.supabaseKey},u?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((d,p)=>{this._handleTokenChanged(d,"CLIENT",p?.access_token)})}_handleTokenChanged(u,d,p){(u==="TOKEN_REFRESHED"||u==="SIGNED_IN")&&this.changedAccessToken!==p?(this.changedAccessToken=p,this.realtime.setAuth(p)):u==="SIGNED_OUT"&&(this.realtime.setAuth(),d=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Xu.default=l,Xu}var Xj;function z9(){return Xj||(Xj=1,(function(e){var t=pi&&pi.__createBinding||(Object.create?(function(u,d,p,h){h===void 0&&(h=p);var v=Object.getOwnPropertyDescriptor(d,p);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(u,h,v)}):(function(u,d,p,h){h===void 0&&(h=p),u[h]=d[p]})),r=pi&&pi.__exportStar||function(u,d){for(var p in u)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&t(d,u,p)},n=pi&&pi.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(Yj());r(zD,e);var a=oD();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=eD;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(pD,e);var s=Yj();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(u,d,p)=>new i.default(u,d,p);e.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const d=u.match(/^v(\d+)\./);return d?parseInt(d[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(pi)),pi}var qD=z9();const UD=nt(qD),q9=e8({__proto__:null,default:UD},[qD]),{PostgrestError:YSe,FunctionsHttpError:XSe,FunctionsFetchError:QSe,FunctionsRelayError:JSe,FunctionsError:ZSe,FunctionRegion:eje,SupabaseClient:tje,createClient:U9,GoTrueAdminApi:rje,GoTrueClient:nje,AuthAdminApi:ije,AuthClient:aje,navigatorLock:oje,NavigatorLockAcquireTimeoutError:sje,lockInternals:lje,processLock:cje,SIGN_OUT_SCOPES:uje,AuthError:dje,AuthApiError:fje,AuthUnknownError:hje,CustomAuthError:pje,AuthSessionMissingError:mje,AuthInvalidTokenResponseError:gje,AuthInvalidCredentialsError:vje,AuthImplicitGrantRedirectError:yje,AuthPKCEGrantCodeExchangeError:bje,AuthRetryableFetchError:xje,AuthWeakPasswordError:wje,AuthInvalidJwtError:_je,isAuthError:Sje,isAuthApiError:jje,isAuthSessionMissingError:Eje,isAuthImplicitGrantRedirectError:kje,isAuthRetryableFetchError:Aje,isAuthWeakPasswordError:Oje,RealtimePresence:Cje,RealtimeChannel:Pje,RealtimeClient:Tje,REALTIME_LISTEN_TYPES:Nje,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Rje,REALTIME_PRESENCE_LISTEN_EVENTS:Ije,REALTIME_SUBSCRIBE_STATES:Dje,REALTIME_CHANNEL_STATES:Mje}=UD||q9,W9="https://vestbasnnejekdhiuydr.supabase.co",H9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZlc3RiYXNubmVqZWtkaGl1eWRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NTQ0NTIsImV4cCI6MjA4MTIzMDQ1Mn0.U170a90MkIIO2yTfmPiqhWpAuUc4eZbUpY1DF0hoRu8",V9=W9,K9=H9,be=U9(V9,K9,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function ht(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ii(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function hf(e,t){const r=ht(e);return isNaN(t)?ii(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function WD(e,t){const r=ht(e);if(isNaN(t))return ii(e,NaN);if(!t)return r;const n=r.getDate(),i=ii(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const $1=6048e5,G9=864e5,HD=6e4,VD=36e5;let Y9={};function ep(){return Y9}function hn(e,t){const r=ep(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=ht(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function pf(e){return hn(e,{weekStartsOn:1})}function KD(e){const t=ht(e),r=t.getFullYear(),n=ii(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=pf(n),a=ii(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=pf(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Un(e){const t=ht(e);return t.setHours(0,0,0,0),t}function mf(e){const t=ht(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ac(e,t){const r=Un(e),n=Un(t),i=+r-mf(r),a=+n-mf(n);return Math.round((i-a)/G9)}function X9(e){const t=KD(e),r=ii(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),pf(r)}function Q9(e,t){const r=t*7;return hf(e,r)}function J9(e,t){return WD(e,t*12)}function bi(e,t){const r=Un(e),n=Un(t);return+r==+n}function Z9(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eV(e){if(!Z9(e)&&typeof e!="number")return!1;const t=ht(e);return!isNaN(Number(t))}function tV(e){const t=ht(e);return Math.trunc(t.getMonth()/3)+1}function rV(e,t,r){const n=hn(e,r),i=hn(t,r),a=+n-mf(n),o=+i-mf(i);return Math.round((a-o)/$1)}function nV(e,t){const r=ht(e),n=ht(t),i=Qj(r,n),a=Math.abs(Ac(r,n));r.setDate(r.getDate()-i*a);const o=+(Qj(r,n)===-i),s=i*(a-o);return s===0?0:s}function Qj(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function GD(e){const t=ht(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Cn(e,t){const r=ht(e.start),n=ht(e.end);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(ht(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function Ya(e){const t=ht(e);return t.setDate(1),t.setHours(0,0,0,0),t}function iV(e){const t=ht(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function L1(e){const t=ht(e),r=ii(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function aV(e,t){const r=t?.weekStartsOn,n=ht(e),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const oV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sV=(e,t,r)=>{let n;const i=oV[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function as(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const lV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dV={date:as({formats:lV,defaultWidth:"full"}),time:as({formats:cV,defaultWidth:"full"}),dateTime:as({formats:uV,defaultWidth:"full"})},fV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hV=(e,t,r,n)=>fV[e];function Hn(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r?.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r?.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const pV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xV=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wV={ordinalNumber:xV,era:Hn({values:pV,defaultWidth:"wide"}),quarter:Hn({values:mV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hn({values:gV,defaultWidth:"wide"}),day:Hn({values:vV,defaultWidth:"wide"}),dayPeriod:Hn({values:yV,defaultWidth:"wide",formattingValues:bV,defaultFormattingWidth:"wide"})};function Vn(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?SV(s,d=>d.test(o)):_V(s,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function _V(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function SV(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function YD(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const jV=/^(\d+)(th|st|nd|rd)?/i,EV=/\d+/i,kV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AV={any:[/^b/i,/^(a|c)/i]},OV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CV={any:[/1/i,/2/i,/3/i,/4/i]},PV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MV={ordinalNumber:YD({matchPattern:jV,parsePattern:EV,valueCallback:e=>parseInt(e,10)}),era:Vn({matchPatterns:kV,defaultMatchWidth:"wide",parsePatterns:AV,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:OV,defaultMatchWidth:"wide",parsePatterns:CV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vn({matchPatterns:PV,defaultMatchWidth:"wide",parsePatterns:TV,defaultParseWidth:"any"}),day:Vn({matchPatterns:NV,defaultMatchWidth:"wide",parsePatterns:RV,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:IV,defaultMatchWidth:"any",parsePatterns:DV,defaultParseWidth:"any"})},$V={code:"en-US",formatDistance:sV,formatLong:dV,formatRelative:hV,localize:wV,match:MV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LV(e){const t=ht(e);return Ac(t,L1(t))+1}function BV(e){const t=ht(e),r=+pf(t)-+X9(t);return Math.round(r/$1)+1}function XD(e,t){const r=ht(e),n=r.getFullYear(),i=ep(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=ii(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=hn(o,t),l=ii(e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=hn(l,t);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function FV(e,t){const r=ep(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=XD(e,t),a=ii(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),hn(a,t)}function zV(e,t){const r=ht(e),n=+hn(r,t)-+FV(r,t);return Math.round(n/$1)+1}function mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Hi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):mt(r+1,2)},d(e,t){return mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return mt(e.getHours()%12||12,t.length)},H(e,t){return mt(e.getHours(),t.length)},m(e,t){return mt(e.getMinutes(),t.length)},s(e,t){return mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return mt(i,t.length)}},Io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jj={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Hi.y(e,t)},Y:function(e,t,r,n){const i=XD(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return mt(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):mt(a,t.length)},R:function(e,t){const r=KD(e);return mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Hi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=zV(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):mt(i,t.length)},I:function(e,t,r){const n=BV(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Hi.d(e,t)},D:function(e,t,r){const n=LV(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return mt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return mt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return mt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Io.noon:n===0?i=Io.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Io.evening:n>=12?i=Io.afternoon:n>=4?i=Io.morning:i=Io.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Hi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Hi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Hi.s(e,t)},S:function(e,t){return Hi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return eE(n);case"XXXX":case"XX":return Fa(n);default:return Fa(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return eE(n);case"xxxx":case"xx":return Fa(n);default:return Fa(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Zj(n,":");default:return"GMT"+Fa(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Zj(n,":");default:return"GMT"+Fa(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return mt(n,t.length)},T:function(e,t,r){const n=e.getTime();return mt(n,t.length)}};function Zj(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+mt(a,2)}function eE(e,t){return e%60===0?(e>0?"-":"+")+mt(Math.abs(e)/60,2):Fa(e,t)}function Fa(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=mt(Math.trunc(n/60),2),a=mt(n%60,2);return r+i+t+a}const tE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},QD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},qV=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return tE(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",tE(n,t)).replace("{{time}}",QD(i,t))},UV={p:QD,P:qV},WV=/^D+$/,HV=/^Y+$/,VV=["D","DD","YY","YYYY"];function KV(e){return WV.test(e)}function GV(e){return HV.test(e)}function YV(e,t,r){const n=XV(e,t,r);if(console.warn(n),VV.includes(e))throw new RangeError(n)}function XV(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZV=/^'([^]*?)'?$/,e7=/''/g,t7=/[a-zA-Z]/;function Ye(e,t,r){const n=ep(),i=r?.locale??n.locale??$V,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=ht(e);if(!eV(s))throw new RangeError("Invalid time value");let l=t.match(JV).map(u=>{const d=u[0];if(d==="p"||d==="P"){const p=UV[d];return p(u,i.formatLong)}return u}).join("").match(QV).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:r7(u)};if(Jj[d])return{isToken:!0,value:u};if(d.match(t7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(!r?.useAdditionalWeekYearTokens&&GV(d)||!r?.useAdditionalDayOfYearTokens&&KV(d))&&YV(d,t,String(e));const p=Jj[d[0]];return p(s,d,i.localize,c)}).join("")}function r7(e){const t=e.match(ZV);return t?t[1].replace(e7,"'"):e}function n7(e){return ht(e).getDate()}function i7(e){return ht(e).getDay()}function a7(e,t){const r=t?.weekStartsOn,n=n7(e);if(isNaN(n))return NaN;const i=i7(Ya(e));let a=r-i;a<=0&&(a+=7);const o=n-a;return Math.ceil(o/7)+1}function o7(e){const t=ht(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function s7(e,t){return rV(o7(e),Ya(e),t)+1}function Yi(e,t){const r=ht(e),n=ht(t);return r.getTime()>n.getTime()}function Fn(e,t){const r=ht(e),n=ht(t);return+r<+n}function rE(e,t,r){const n=hn(e,r),i=hn(t,r);return+n==+i}function Ut(e,t){return hf(e,-t)}function l7(e,t){const n=f7(e);let i;if(n.date){const l=h7(n.date,2);i=p7(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,s;if(n.time&&(o=m7(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(s=g7(n.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(a+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(a+o+s)}const ad={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c7=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u7=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d7=/^([+-])(\d{2})(?::?(\d{2}))?$/;function f7(e){const t={},r=e.split(ad.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ad.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ad.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=ad.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function h7(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function p7(e,t){if(t===null)return new Date(NaN);const r=e.match(c7);if(!r)return new Date(NaN);const n=!!r[4],i=Nl(r[1]),a=Nl(r[2])-1,o=Nl(r[3]),s=Nl(r[4]),l=Nl(r[5])-1;if(n)return w7(t,s,l)?v7(t,s,l):new Date(NaN);{const c=new Date(0);return!b7(t,a,o)||!x7(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}}function Nl(e){return e?parseInt(e):1}function m7(e){const t=e.match(u7);if(!t)return NaN;const r=Cm(t[1]),n=Cm(t[2]),i=Cm(t[3]);return _7(r,n,i)?r*VD+n*HD+i*1e3:NaN}function Cm(e){return e&&parseFloat(e.replace(",","."))||0}function g7(e){if(e==="Z")return 0;const t=e.match(d7);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return S7(n,i)?r*(n*VD+i*HD):NaN}function v7(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const y7=[31,null,31,30,31,30,31,31,30,31,30,31];function JD(e){return e%400===0||e%4===0&&e%100!==0}function b7(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(y7[t]||(JD(e)?29:28))}function x7(e,t){return t>=1&&t<=(JD(e)?366:365)}function w7(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function _7(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function S7(e,t){return t>=0&&t<=59}function nE(e,t){return WD(e,-t)}function j7(e,t){return Q9(e,-1)}function E7(e,t){return J9(e,-1)}function Do(e=new Date){return Ye(e,"yyyy-MM-dd")}function k7(e,t,r){return!(e<t||r&&e>r)}function B1(){const e=xa(),{data:t,isLoading:r,refetch:n}=ni({queryKey:["goals"],queryFn:async()=>{const{data:m,error:g}=await be.from("goals").select("*").order("display_order",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});if(g)throw Ue.error("Errore caricamento obiettivi"),g;return m}}),{data:i,isLoading:a}=ni({queryKey:["goal_logs"],queryFn:async()=>{let m=[],g=0;const y=1e3;let b=!0;for(;b;){const{data:x,error:S}=await be.from("goal_logs").select("*").range(g,g+y-1);if(S)throw console.error(S),S;x&&x.length>0?(m=[...m,...x],x.length<y?b=!1:g+=y):b=!1}return m}}),o={};i&&i.forEach(m=>{o[m.date]||(o[m.date]={}),o[m.date][m.goal_id]=m.status});const s=an({mutationFn:async m=>{const{data:{session:g}}=await be.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const{data:y}=await be.from("goals").select("display_order").eq("user_id",g.user.id).order("display_order",{ascending:!1,nullsFirst:!1}).limit(1),b=y&&y.length>0&&y[0].display_order?y[0].display_order+1:1,{data:x,error:S}=await be.from("goals").insert([{title:m.title,color:m.color,start_date:m.start_date||Do(new Date),user_id:g.user.id,display_order:b}]).select().single();if(S)throw S;return x},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),Ue.success("Obiettivo creato")},onError:m=>{Ue.error("Errore creazione: "+m.message)}}),l=an({mutationFn:async({id:m,title:g,color:y})=>{const{data:{session:b}}=await be.auth.getSession();if(!b)throw new Error("Non sei autenticato. Effettua il login.");const{error:x}=await be.from("goals").update({title:g,color:y}).eq("id",m).eq("user_id",b.user.id);if(x)throw x},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),Ue.success("Abitudine aggiornata")},onError:m=>{Ue.error("Errore aggiornamento: "+m.message)}}),c=async m=>{const g=new Date;g.setDate(g.getDate()-1);const{error:y}=await be.from("goals").update({end_date:Do(g)}).eq("id",m)},u=an({mutationFn:async m=>{const{count:g,error:y}=await be.from("goal_logs").select("*",{count:"exact",head:!0}).eq("goal_id",m);if(y)throw y;if(g&&g>0)await c(m);else try{const{error:b}=await be.from("goals").delete().eq("id",m);b&&(console.warn("Hard delete failed, falling back to soft delete",b),await c(m))}catch(b){console.warn("Hard delete exception, falling back to soft delete",b),await c(m)}},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),Ue.success("Obiettivo eliminato")},onError:m=>{Ue.error("Errore eliminazione: "+m.message)}}),d=an({mutationFn:async()=>{const{data:{session:m}}=await be.auth.getSession();if(!m)throw new Error("Not authenticated");const{error:g}=await be.from("goal_logs").delete().eq("user_id",m.user.id);if(g)throw g;const{error:y}=await be.from("goals").delete().eq("user_id",m.user.id);if(y)throw y},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),e.invalidateQueries({queryKey:["goal_logs"]}),Ue.success("Reset completo effettuato")},onError:m=>{Ue.error("Errore reset: "+m.message)}}),p=(t||[]).filter(m=>!m.end_date||m.end_date>=Do(new Date)),h=an({mutationFn:async({goalId:m,date:g,currentStatus:y})=>{const b=Do(g),{data:{session:x}}=await be.auth.getSession(),{data:S,error:w}=await be.from("goals").select("start_date, end_date").eq("id",m).single();if(w||!S)throw w||new Error("Goal not found");const j=S;if(!k7(b,j.start_date,j.end_date))throw new Error("Impossibile modificare un obiettivo fuori dal suo periodo di validit.");let E="done";if(y==="done"?E="missed":y==="missed"&&(E=null),E===null){const{error:C}=await be.from("goal_logs").delete().eq("goal_id",m).eq("date",b);if(C)throw C}else{const{error:C}=await be.from("goal_logs").upsert({goal_id:m,date:b,status:E,user_id:x?.user.id},{onConflict:"goal_id, date"});if(C)throw C}return{goalId:m,dateStr:b,nextStatus:E}},onMutate:async({goalId:m,date:g,currentStatus:y})=>{await e.cancelQueries({queryKey:["goal_logs"]});const b=e.getQueryData(["goal_logs"]),x=Do(g);let S="done";return y==="done"?S="missed":y==="missed"&&(S=null),e.setQueryData(["goal_logs"],w=>{if(!w)return[];const j=w.filter(E=>!(E.goal_id===m&&E.date===x));return S?[...j,{id:"temp-"+Date.now(),goal_id:m,date:x,status:S,created_at:"",updated_at:""}]:j}),{previousLogs:b}},onError:(m,g,y)=>{e.setQueryData(["goal_logs"],y?.previousLogs),Ue.error("Errore aggiornamento")},onSettled:()=>{e.invalidateQueries({queryKey:["goal_logs"]})}}),v=an({mutationFn:async m=>{const{data:{session:g}}=await be.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const y=m.map(async({id:b,display_order:x})=>{const{error:S}=await be.from("goals").update({display_order:x}).eq("id",b).eq("user_id",g.user.id);if(S)throw S;return{id:b,display_order:x}});await Promise.all(y)},onSuccess:async()=>{await e.invalidateQueries({queryKey:["goals"]}),setTimeout(()=>{e.refetchQueries({queryKey:["goals"]})},100),Ue.success("Ordine salvato")},onError:m=>{Ue.error("Errore salvataggio ordine: "+m.message)}});return{goals:p,allGoals:t||[],logs:o,rawLogs:i||[],isLoading:r||a,createGoal:s.mutate,updateGoal:l.mutate,isUpdating:l.isPending,updateOrder:v.mutate,isUpdatingOrder:v.isPending,deleteGoal:u.mutate,isDeleting:u.isPending,resetAllData:d.mutate,isResetting:d.isPending,toggleGoal:async(m,g)=>{const y=Do(m),b=o[y]?.[g]||null;h.mutate({goalId:g,date:m,currentStatus:b})}}}const ZD=_.createContext(void 0),A7=({children:e})=>{const[t,r]=_.useState(!1),n=()=>{r(i=>!i)};return f.jsx(ZD.Provider,{value:{isPrivacyMode:t,setIsPrivacyMode:r,togglePrivacyMode:n},children:e})},tp=()=>{const e=_.useContext(ZD);if(e===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return e},F1=xu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ge=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?Vz:"button";return f.jsx(o,{className:ae(F1({variant:t,size:r,className:e})),ref:a,...i})});Ge.displayName="Button";const O7={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},C7=(e,t,r)=>{let n;const i=O7[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},P7={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},T7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},N7={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},R7={date:as({formats:P7,defaultWidth:"full"}),time:as({formats:T7,defaultWidth:"full"}),dateTime:as({formats:N7,defaultWidth:"full"})},z1=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function I7(e){return e===0?"'domenica scorsa alle' p":"'"+z1[e]+" scorso alle' p"}function iE(e){return"'"+z1[e]+" alle' p"}function D7(e){return e===0?"'domenica prossima alle' p":"'"+z1[e]+" prossimo alle' p"}const M7={lastWeek:(e,t,r)=>{const n=e.getDay();return rE(e,t,r)?iE(n):I7(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,r)=>{const n=e.getDay();return rE(e,t,r)?iE(n):D7(n)},other:"P"},$7=(e,t,r,n)=>{const i=M7[e];return typeof i=="function"?i(t,r,n):i},L7={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},B7={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},F7={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},z7={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},q7={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},U7={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},W7=(e,t)=>{const r=Number(e);return String(r)},H7={ordinalNumber:W7,era:Hn({values:L7,defaultWidth:"wide"}),quarter:Hn({values:B7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hn({values:F7,defaultWidth:"wide"}),day:Hn({values:z7,defaultWidth:"wide"}),dayPeriod:Hn({values:q7,defaultWidth:"wide",formattingValues:U7,defaultFormattingWidth:"wide"})},V7=/^(\d+)()?/i,K7=/\d+/i,G7={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},Y7={any:[/^a/i,/^(d|e)/i]},X7={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},Q7={any:[/1/i,/2/i,/3/i,/4/i]},J7={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},Z7={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},eK={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},tK={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},rK={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},nK={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},iK={ordinalNumber:YD({matchPattern:V7,parsePattern:K7,valueCallback:e=>parseInt(e,10)}),era:Vn({matchPatterns:G7,defaultMatchWidth:"wide",parsePatterns:Y7,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:X7,defaultMatchWidth:"wide",parsePatterns:Q7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vn({matchPatterns:J7,defaultMatchWidth:"wide",parsePatterns:Z7,defaultParseWidth:"any"}),day:Vn({matchPatterns:eK,defaultMatchWidth:"wide",parsePatterns:tK,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:rK,defaultMatchWidth:"any",parsePatterns:nK,defaultParseWidth:"any"})},Wr={code:"it",formatDistance:C7,formatLong:R7,formatRelative:$7,localize:H7,match:iK,options:{weekStartsOn:1,firstWeekContainsDate:4}};function oa(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var aK="DismissableLayer",X0="dismissableLayer.update",oK="dismissableLayer.pointerDownOutside",sK="dismissableLayer.focusOutside",aE,eM=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tM=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=_.useContext(eM),[u,d]=_.useState(null),p=u?.ownerDocument??globalThis?.document,[,h]=_.useState({}),v=$e(t,E=>d(E)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=u?m.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,w=uK(E=>{const C=E.target,P=[...c.branches].some(O=>O.contains(C));!S||P||(i?.(E),o?.(E),E.defaultPrevented||s?.())},p),j=dK(E=>{const C=E.target;[...c.branches].some(O=>O.contains(C))||(a?.(E),o?.(E),E.defaultPrevented||s?.())},p);return X2(E=>{b===c.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},p),_.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(aE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),oE(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=aE)}},[u,p,r,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),oE())},[u,c]),_.useEffect(()=>{const E=()=>h({});return document.addEventListener(X0,E),()=>document.removeEventListener(X0,E)},[]),f.jsx(ke.div,{...l,ref:v,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:oa(e.onFocusCapture,j.onFocusCapture),onBlurCapture:oa(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:oa(e.onPointerDownCapture,w.onPointerDownCapture)})});tM.displayName=aK;var lK="DismissableLayerBranch",cK=_.forwardRef((e,t)=>{const r=_.useContext(eM),n=_.useRef(null),i=$e(t,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(ke.div,{...e,ref:i})});cK.displayName=lK;function uK(e,t=globalThis?.document){const r=Lt(e),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){rM(oK,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function dK(e,t=globalThis?.document){const r=Lt(e),n=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!n.current&&rM(sK,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function oE(){const e=new CustomEvent(X0);document.dispatchEvent(e)}function rM(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?i1(i,a):i.dispatchEvent(a)}var Pm="focusScope.autoFocusOnMount",Tm="focusScope.autoFocusOnUnmount",sE={bubbles:!1,cancelable:!0},fK="FocusScope",q1=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=_.useState(null),c=Lt(i),u=Lt(a),d=_.useRef(null),p=$e(t,m=>l(m)),h=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let m=function(x){if(h.paused||!s)return;const S=x.target;s.contains(S)?d.current=S:Ki(d.current,{select:!0})},g=function(x){if(h.paused||!s)return;const S=x.relatedTarget;S!==null&&(s.contains(S)||Ki(d.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const w of x)w.removedNodes.length>0&&Ki(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(y);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[n,s,h.paused]),_.useEffect(()=>{if(s){cE.add(h);const m=document.activeElement;if(!s.contains(m)){const y=new CustomEvent(Pm,sE);s.addEventListener(Pm,c),s.dispatchEvent(y),y.defaultPrevented||(hK(yK(nM(s)),{select:!0}),document.activeElement===m&&Ki(s))}return()=>{s.removeEventListener(Pm,c),setTimeout(()=>{const y=new CustomEvent(Tm,sE);s.addEventListener(Tm,u),s.dispatchEvent(y),y.defaultPrevented||Ki(m??document.body,{select:!0}),s.removeEventListener(Tm,u),cE.remove(h)},0)}}},[s,c,u,h]);const v=_.useCallback(m=>{if(!r&&!n||h.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const b=m.currentTarget,[x,S]=pK(b);x&&S?!m.shiftKey&&y===S?(m.preventDefault(),r&&Ki(x,{select:!0})):m.shiftKey&&y===x&&(m.preventDefault(),r&&Ki(S,{select:!0})):y===b&&m.preventDefault()}},[r,n,h.paused]);return f.jsx(ke.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});q1.displayName=fK;function hK(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ki(n,{select:t}),document.activeElement!==r)return}function pK(e){const t=nM(e),r=lE(t,e),n=lE(t.reverse(),e);return[r,n]}function nM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lE(e,t){for(const r of e)if(!mK(r,{upTo:t}))return r}function mK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gK(e){return e instanceof HTMLInputElement&&"select"in e}function Ki(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&gK(e)&&t&&e.select()}}var cE=vK();function vK(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=uE(e,t),e.unshift(t)},remove(t){e=uE(e,t),e[0]?.resume()}}}function uE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function yK(e){return e.filter(t=>t.tagName!=="A")}function bK(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var rp=e=>{const{present:t,children:r}=e,n=xK(t),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=$e(n.ref,wK(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:a}):null};rp.displayName="Presence";function xK(e){const[t,r]=_.useState(),n=_.useRef(null),i=_.useRef(e),a=_.useRef("none"),o=e?"mounted":"unmounted",[s,l]=bK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=od(n.current);a.current=s==="mounted"?c:"none"},[s]),Ht(()=>{const c=n.current,u=i.current;if(u!==e){const p=a.current,h=od(c);e?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Ht(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=h=>{const m=od(n.current).includes(CSS.escape(h.animationName));if(h.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},p=h=>{h.target===t&&(a.current=od(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:_.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function od(e){return e?.animationName||"none"}function wK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Nm=0;function _K(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dE()),document.body.insertAdjacentElement("beforeend",e[1]??dE()),Nm++,()=>{Nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nm--}},[])}function dE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ud="right-scroll-bar-position",Wd="width-before-scroll-bar",SK="with-scroll-bars-hidden",jK="--removed-body-scroll-bar-size";function Rm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EK(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var kK=typeof window<"u"?_.useLayoutEffect:_.useEffect,fE=new WeakMap;function AK(e,t){var r=EK(null,function(n){return e.forEach(function(i){return Rm(i,n)})});return kK(function(){var n=fE.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(s){a.has(s)||Rm(s,null)}),a.forEach(function(s){i.has(s)||Rm(s,o)})}fE.set(r,e)},[e]),r}function OK(e){return e}function CK(e,t){t===void 0&&(t=OK);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var u=o;o=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return i}function PK(e){e===void 0&&(e={});var t=CK(null);return t.options=sn({async:!0,ssr:!1},e),t}var iM=function(e){var t=e.sideCar,r=wa(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,sn({},r))};iM.isSideCarExport=!0;function TK(e,t){return e.useMedium(t),iM}var aM=PK(),Im=function(){},np=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:Im,onWheelCapture:Im,onTouchMoveCapture:Im}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,p=e.sideCar,h=e.noRelative,v=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,x=e.gapMode,S=wa(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,j=AK([r,t]),E=sn(sn({},S),i);return _.createElement(_.Fragment,null,u&&_.createElement(w,{sideCar:aM,removeScrollBar:c,shards:d,noRelative:h,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:x}),o?_.cloneElement(_.Children.only(s),sn(sn({},E),{ref:j})):_.createElement(b,sn({},E,{className:l,ref:j}),s))});np.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};np.classNames={fullWidth:Wd,zeroRight:Ud};var NK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=NK();return t&&e.setAttribute("nonce",t),e}function IK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var MK=function(){var e=0,t=null;return{add:function(r){e==0&&(t=RK())&&(IK(t,r),DK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$K=function(){var e=MK();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},oM=function(){var e=$K(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},LK={left:0,top:0,right:0,gap:0},Dm=function(e){return parseInt(e||"",10)||0},BK=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Dm(r),Dm(n),Dm(i)]},FK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return LK;var t=BK(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},zK=oM(),os="data-scroll-locked",qK=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(SK,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(os,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ud,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Wd,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Ud," .").concat(Ud,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Wd," .").concat(Wd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(os,`] {
    `).concat(jK,": ").concat(s,`px;
  }
`)},hE=function(){var e=parseInt(document.body.getAttribute(os)||"0",10);return isFinite(e)?e:0},UK=function(){_.useEffect(function(){return document.body.setAttribute(os,(hE()+1).toString()),function(){var e=hE()-1;e<=0?document.body.removeAttribute(os):document.body.setAttribute(os,e.toString())}},[])},WK=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;UK();var a=_.useMemo(function(){return FK(i)},[i]);return _.createElement(zK,{styles:qK(a,!t,i,r?"":"!important")})},Q0=!1;if(typeof window<"u")try{var sd=Object.defineProperty({},"passive",{get:function(){return Q0=!0,!0}});window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{Q0=!1}var Mo=Q0?{passive:!1}:!1,HK=function(e){return e.tagName==="TEXTAREA"},sM=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!HK(e)&&r[t]==="visible")},VK=function(e){return sM(e,"overflowY")},KK=function(e){return sM(e,"overflowX")},pE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=lM(e,n);if(i){var a=cM(e,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},GK=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},YK=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},lM=function(e,t){return e==="v"?VK(t):KK(t)},cM=function(e,t){return e==="v"?GK(t):YK(t)},XK=function(e,t){return e==="h"&&t==="rtl"?-1:1},QK=function(e,t,r,n,i){var a=XK(e,window.getComputedStyle(t).direction),o=a*n,s=r.target,l=t.contains(s),c=!1,u=o>0,d=0,p=0;do{if(!s)break;var h=cM(e,s),v=h[0],m=h[1],g=h[2],y=m-g-a*v;(v||y)&&lM(e,s)&&(d+=y,p+=v);var b=s.parentNode;s=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(c=!0),c},ld=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mE=function(e){return[e.deltaX,e.deltaY]},gE=function(e){return e&&"current"in e?e.current:e},JK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eG=0,$o=[];function tG(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(eG++)[0],a=_.useState(oM)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=O1([e.lockRef.current],(e.shards||[]).map(gE),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=_.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=ld(m),b=r.current,x="deltaX"in m?m.deltaX:b[0]-y[0],S="deltaY"in m?m.deltaY:b[1]-y[1],w,j=m.target,E=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in m&&E==="h"&&j.type==="range")return!1;var C=pE(E,j);if(!C)return!0;if(C?w=E:(w=E==="v"?"h":"v",C=pE(E,j)),!C)return!1;if(!n.current&&"changedTouches"in m&&(x||S)&&(n.current=w),!w)return!0;var P=n.current||w;return QK(P,g,m,P==="h"?x:S)},[]),l=_.useCallback(function(m){var g=m;if(!(!$o.length||$o[$o.length-1]!==a)){var y="deltaY"in g?mE(g):ld(g),b=t.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&JK(w.delta,y)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(gE).filter(Boolean).filter(function(w){return w.contains(g.target)}),S=x.length>0?s(g,x[0]):!o.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),c=_.useCallback(function(m,g,y,b){var x={name:m,delta:g,target:y,should:b,shadowParent:rG(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),u=_.useCallback(function(m){r.current=ld(m),n.current=void 0},[]),d=_.useCallback(function(m){c(m.type,mE(m),m.target,s(m,e.lockRef.current))},[]),p=_.useCallback(function(m){c(m.type,ld(m),m.target,s(m,e.lockRef.current))},[]);_.useEffect(function(){return $o.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Mo),document.addEventListener("touchmove",l,Mo),document.addEventListener("touchstart",u,Mo),function(){$o=$o.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,Mo),document.removeEventListener("touchmove",l,Mo),document.removeEventListener("touchstart",u,Mo)}},[]);var h=e.removeScrollBar,v=e.inert;return _.createElement(_.Fragment,null,v?_.createElement(a,{styles:ZK(i)}):null,h?_.createElement(WK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nG=TK(aM,tG);var U1=_.forwardRef(function(e,t){return _.createElement(np,sn({},e,{ref:t,sideCar:nG}))});U1.classNames=np.classNames;var iG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lo=new WeakMap,cd=new WeakMap,ud={},Mm=0,uM=function(e){return e&&(e.host||uM(e.parentNode))},aG=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=uM(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},oG=function(e,t,r,n){var i=aG(t,Array.isArray(e)?e:[e]);ud[r]||(ud[r]=new WeakMap);var a=ud[r],o=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(s.has(p))u(p);else try{var h=p.getAttribute(n),v=h!==null&&h!=="false",m=(Lo.get(p)||0)+1,g=(a.get(p)||0)+1;Lo.set(p,m),a.set(p,g),o.push(p),m===1&&v&&cd.set(p,!0),g===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return u(t),s.clear(),Mm++,function(){o.forEach(function(d){var p=Lo.get(d)-1,h=a.get(d)-1;Lo.set(d,p),a.set(d,h),p||(cd.has(d)||d.removeAttribute(n),cd.delete(d)),h||d.removeAttribute(r)}),Mm--,Mm||(Lo=new WeakMap,Lo=new WeakMap,cd=new WeakMap,ud={})}},dM=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=iG(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),oG(n,i,r,"aria-hidden")):function(){return null}},ip="Dialog",[fM,hM]=Ar(ip),[sG,Ln]=fM(ip),pM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=_.useRef(null),l=_.useRef(null),[c,u]=ti({prop:n,defaultProp:i??!1,onChange:a,caller:ip});return f.jsx(sG,{scope:t,triggerRef:s,contentRef:l,contentId:Ei(),titleId:Ei(),descriptionId:Ei(),open:c,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(d=>!d),[u]),modal:o,children:r})};pM.displayName=ip;var mM="DialogTrigger",gM=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(mM,r),a=$e(t,i.triggerRef);return f.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":V1(i.open),...n,ref:a,onClick:oa(e.onClick,i.onOpenToggle)})});gM.displayName=mM;var W1="DialogPortal",[lG,vM]=fM(W1,{forceMount:void 0}),yM=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Ln(W1,t);return f.jsx(lG,{scope:t,forceMount:r,children:_.Children.map(n,o=>f.jsx(rp,{present:r||a.open,children:f.jsx(Dh,{asChild:!0,container:i,children:o})}))})};yM.displayName=W1;var gf="DialogOverlay",bM=_.forwardRef((e,t)=>{const r=vM(gf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ln(gf,e.__scopeDialog);return a.modal?f.jsx(rp,{present:n||a.open,children:f.jsx(uG,{...i,ref:t})}):null});bM.displayName=gf;var cG=xc("DialogOverlay.RemoveScroll"),uG=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(gf,r);return f.jsx(U1,{as:cG,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(ke.div,{"data-state":V1(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ho="DialogContent",xM=_.forwardRef((e,t)=>{const r=vM(ho,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ln(ho,e.__scopeDialog);return f.jsx(rp,{present:n||a.open,children:a.modal?f.jsx(dG,{...i,ref:t}):f.jsx(fG,{...i,ref:t})})});xM.displayName=ho;var dG=_.forwardRef((e,t)=>{const r=Ln(ho,e.__scopeDialog),n=_.useRef(null),i=$e(t,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return dM(a)},[]),f.jsx(wM,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oa(e.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:oa(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:oa(e.onFocusOutside,a=>a.preventDefault())})}),fG=_.forwardRef((e,t)=>{const r=Ln(ho,e.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return f.jsx(wM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),wM=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=Ln(ho,r),l=_.useRef(null),c=$e(t,l);return _K(),f.jsxs(f.Fragment,{children:[f.jsx(q1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:f.jsx(tM,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":V1(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(pG,{titleId:s.titleId}),f.jsx(gG,{contentRef:l,descriptionId:s.descriptionId})]})]})}),H1="DialogTitle",_M=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(H1,r);return f.jsx(ke.h2,{id:i.titleId,...n,ref:t})});_M.displayName=H1;var SM="DialogDescription",jM=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(SM,r);return f.jsx(ke.p,{id:i.descriptionId,...n,ref:t})});jM.displayName=SM;var EM="DialogClose",kM=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(EM,r);return f.jsx(ke.button,{type:"button",...n,ref:t,onClick:oa(e.onClick,()=>i.onOpenChange(!1))})});kM.displayName=EM;function V1(e){return e?"open":"closed"}var AM="DialogTitleWarning",[hG,OM]=c8(AM,{contentName:ho,titleName:H1,docsSlug:"dialog"}),pG=({titleId:e})=>{const t=OM(AM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mG="DialogDescriptionWarning",gG=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${OM(mG).contentName}}.`;return _.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ap=pM,op=gM,sp=yM,rl=bM,nl=xM,il=_M,al=jM,lp=kM;const cp=ap,K1=op,vG=sp,CM=_.forwardRef(({className:e,...t},r)=>f.jsx(rl,{ref:r,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));CM.displayName=rl.displayName;const Au=_.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(vG,{children:[f.jsx(CM,{}),f.jsxs(nl,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,f.jsxs(lp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(Qs,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Au.displayName=nl.displayName;const up=({className:e,...t})=>f.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});up.displayName="DialogHeader";const PM=({className:e,...t})=>f.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});PM.displayName="DialogFooter";const Ou=_.forwardRef(({className:e,...t},r)=>f.jsx(il,{ref:r,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Ou.displayName=il.displayName;const Cu=_.forwardRef(({className:e,...t},r)=>f.jsx(al,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));Cu.displayName=al.displayName;function G1({date:e,isOpen:t,onClose:r,habits:n,records:i,onToggleHabit:a,isPrivacyMode:o=!1,readonly:s=!1}){if(!e)return null;const l=Ye(e,"yyyy-MM-dd"),c=n.filter(u=>{const d=u.start_date<=l,p=!u.end_date||u.end_date>=l;return d&&p});return f.jsx(cp,{open:t,onOpenChange:r,children:f.jsxs(Au,{className:"sm:max-w-[400px]",children:[f.jsxs(up,{children:[f.jsxs("div",{className:"flex items-center justify-between pr-8",children:[f.jsx(Ou,{className:"text-xl font-display capitalize",children:Ye(e,"EEEE d MMMM",{locale:Wr})}),s?f.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-muted text-muted-foreground border border-border",children:"Solo visualizzazione"}):f.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary border border-primary/20",children:"Modifica abilitata"})]}),f.jsx(Cu,{className:"sr-only",children:"Dettagli delle attivit giornaliere"})]}),f.jsx("div",{className:"py-2",children:f.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:f.jsx("div",{className:"space-y-3 pr-4",children:c.map(u=>{const p=(i[l]||{})[u.id],h=p==="done",v=p==="missed";return f.jsxs("div",{onClick:()=>!s&&a(u.id),className:ae("flex items-center justify-between p-3 rounded-xl border transition-all",!s&&"cursor-pointer hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",s&&"opacity-90",h&&"bg-success/15 border-success/30",v&&"bg-destructive/15 border-destructive/30",!p&&"bg-card border-border",!p&&!s&&"hover:bg-accent"),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-3 w-3 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:u.color}}),f.jsx("span",{className:ae("font-medium transition-colors transition-all duration-300",(h||v)&&"text-foreground",o&&"blur-sm"),children:u.title})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[h&&f.jsx(Lh,{className:"h-5 w-5 text-success"}),v&&f.jsx(Qs,{className:"h-5 w-5 text-destructive"}),!p&&f.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})]})]},u.id)})})})})]})})}const yG=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],bG=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];function xG({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=_.useState(new Date),[o,s]=_.useState(null),l=i.getFullYear(),c=i.getMonth(),u=new Date(l,c,1),d=new Date(l,c+1,0);let p=u.getDay()-1;p<0&&(p=6);const h=d.getDate(),v=new Date,m=()=>a(new Date(l,c-1,1)),g=()=>a(new Date(l,c+1,1)),y=()=>a(new Date),b=E=>v.getDate()===E&&v.getMonth()===c&&v.getFullYear()===l,x=E=>{const C=new Date(l,c,E),P=new Date(v.getFullYear(),v.getMonth(),v.getDate());return C>P},S=p+h,w=Math.ceil(S/7),j=()=>{const E=[];for(let C=0;C<p;C++)E.push(f.jsx("div",{className:"aspect-auto h-full"},`empty-${C}`));for(let C=1;C<=h;C++){const P=new Date(l,c,C),O=Ye(P,"yyyy-MM-dd"),N=t[O]||{},T=x(C),D=e.filter(H=>{const z=H.start_date<=O,$=!H.end_date||H.end_date>=O;return z&&$}),k=D.filter(H=>N[H.id]==="done").length,R=D.filter(H=>N[H.id]==="missed").length,F=k+R,B=D.length;let U=0;B>0&&(U=k/B);let L={};const M=F>0;if(M&&B>0){const H=Math.round(U*142);L={backgroundColor:`hsl(${H}, 70%, 10%, 0.3)`,borderColor:`hsl(${H}, 80%, 40%, 0.5)`,boxShadow:U===1?`0 0 10px hsl(${H}, 80%, 40%, 0.2)`:"none"}}E.push(f.jsxs("button",{onClick:()=>!T&&s(P),disabled:T,style:L,className:ae("w-full h-full rounded-xl flex flex-col items-center justify-start py-[clamp(4px,1vw,8px)] transition-all duration-300 relative border border-white/5 hover:border-white/20 hover:bg-white/5 group",T&&"opacity-30 cursor-not-allowed",b(C)&&!M&&"bg-white/5 ring-1 ring-primary/50",!T&&(bi(P,new Date)||bi(P,Ut(new Date,1))&&new Date().getHours()<12)&&"ring-1 ring-primary/30 bg-primary/5"),children:[f.jsx("span",{className:ae("text-[clamp(0.7rem,2.5vw,0.9rem)] font-medium mb-[2px] font-mono-nums transition-all duration-300",b(C)&&"text-primary font-bold",M&&"text-foreground",n&&"blur-[2px]"),children:C}),f.jsx("div",{className:ae("flex flex-wrap items-center justify-center gap-0.5 px-1 w-full max-w-[80%] transition-all duration-300",n&&"blur-[1px]"),children:D.map(H=>{const z=N[H.id];return z?f.jsx("div",{className:ae("w-1 h-1 rounded-sm",z==="done"?"opacity-80":"opacity-0"),style:{backgroundColor:z==="done"?H.color:void 0}},H.id):null})})]},C))}return E};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6 shrink-0",children:[f.jsx(Ge,{variant:"ghost",size:"icon",onClick:m,children:f.jsx(c1,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:[bG[c]," ",f.jsx("span",{className:"text-muted-foreground font-light",children:l})]}),f.jsx(Ge,{variant:"ghost",size:"icon",onClick:y,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:f.jsx(OR,{className:"h-3 w-3"})})]}),f.jsx(Ge,{variant:"ghost",size:"icon",onClick:g,children:f.jsx(Bh,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-x-[clamp(4px,1.5vw,12px)] mb-2 shrink-0",children:yG.map(E=>f.jsx("div",{className:"text-center text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider py-2",children:E},E))}),f.jsx("div",{className:"grid grid-cols-7 gap-[clamp(2px,1vw,8px)] flex-1 min-h-0",style:{gridTemplateRows:`repeat(${w}, 1fr)`},children:j()})]}),f.jsx(G1,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:E=>o&&r(o,E),isPrivacyMode:n,readonly:o?!(bi(o,new Date)||bi(o,Ut(new Date,1))&&new Date().getHours()<12):!0})]})}function wG({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const i=_.useMemo(()=>new Date,[]),[a,o]=_.useState(new Date),s=_.useMemo(()=>hn(a,{weekStartsOn:1}),[a]),l=_.useMemo(()=>aV(a,{weekStartsOn:1}),[a]),[c,u]=_.useState(null),d=_.useMemo(()=>Array.from({length:7}).map((m,g)=>hf(s,g)),[s]),p=()=>{o(m=>Ut(m,7))},h=()=>{o(m=>hf(m,7))},v=_.useMemo(()=>{const m=Ye(s,"d",{locale:Wr}),g=Ye(l,"d MMMM",{locale:Wr});return`${m} - ${g}`},[s,l]);return bi(hn(i,{weekStartsOn:1}),s),f.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6",children:[f.jsx("h2",{className:"text-xl font-display font-bold capitalize",children:v}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:f.jsx(c1,{className:"w-5 h-5"})}),f.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:f.jsx(Bh,{className:"w-5 h-5"})})]})]}),f.jsx("div",{className:"grid grid-cols-7 gap-2 sm:gap-4 flex-1 h-full overflow-hidden",children:d.map(m=>{const g=Ye(m,"yyyy-MM-dd"),y=t[g]||{},b=bi(m,i),x=new Date(i);x.setHours(0,0,0,0);const S=m>x;return f.jsxs("div",{className:"flex flex-col gap-2 h-full overflow-hidden",children:[f.jsxs("button",{onClick:()=>!S&&u(m),disabled:S,className:ae("text-center py-2 rounded-xl border border-transparent transition-all w-full shrink-0",b&&"bg-primary/10 border-primary/20 text-primary",!S&&"hover:bg-white/5 hover:border-white/10 cursor-pointer active:scale-95",S&&"opacity-50 cursor-default"),children:[f.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60",children:Ye(m,"EEE",{locale:Wr})}),f.jsx("div",{className:"text-lg font-mono font-bold",children:Ye(m,"d")})]}),f.jsx("div",{className:ae("flex flex-col gap-2 transition-all duration-300 flex-1 h-full",n&&"blur-[2px]"),children:e.map(w=>{const j=w.start_date<=g,E=w.end_date&&w.end_date<g;if(!j||E)return f.jsx("div",{className:"flex-1 rounded-xl invisible"},w.id);const C=y[w.id];return f.jsx("button",{disabled:S,onClick:()=>u(m),className:ae("flex-1 w-full rounded-xl border border-white/5 flex items-center justify-center transition-all hover:border-white/20 min-h-0",S&&"opacity-30 cursor-not-allowed",!S&&"cursor-pointer hover:bg-white/10",C==="done"&&"opacity-100 shadow-[0_0_10px_currentColor]",C==="missed"&&"opacity-50 grayscale",!C&&!S&&"bg-white/5"),style:{backgroundColor:C==="done"?w.color:void 0,color:w.color}},w.id)})})]},g)})}),f.jsx(G1,{isOpen:!!c,onClose:()=>u(null),date:c,habits:e,records:t,onToggleHabit:m=>c&&r(c,m),isPrivacyMode:n,readonly:!0})]})}const _G=["GEN","FEB","MAR","APR","MAG","GIU","LUG","AGO","SET","OTT","NOV","DIC"];function SG({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=_.useState(new Date),[o,s]=_.useState(null),l=i.getFullYear(),c=new Date,u=()=>a(new Date(l-1,0,1)),d=()=>a(new Date(l+1,0,1)),p=()=>a(new Date),h=y=>bi(c,y),v=y=>y>c,m=_.useMemo(()=>Array.from({length:12},(y,b)=>{const x=new Date(l,b,1),S=Cn({start:Ya(x),end:GD(x)});return{monthIndex:b,days:S}}),[l]),g=y=>{const b=Ye(y,"yyyy-MM-dd"),x=t[b]||{},S=v(y),w=Ye(y,"d MMMM yyyy",{locale:Wr}),j=e.filter(k=>{const R=k.start_date<=b,F=!k.end_date||k.end_date>=b;return R&&F}),E=j.filter(k=>x[k.id]==="done").length,C=j.filter(k=>x[k.id]==="missed").length,P=E+C,O=j.length;let N=0;O>0&&(N=E/O);let T={};const D=P>0;if(D&&O>0){const k=Math.round(N*142);T={backgroundColor:`hsl(${k}, 70%, 25%)`,borderColor:`hsl(${k}, 80%, 50%)`}}return f.jsx(Ua,{children:f.jsxs(Ho,{delayDuration:0,children:[f.jsx(Vo,{asChild:!0,children:f.jsx("button",{onClick:()=>!S&&s(y),disabled:S,style:T,className:ae("w-full h-full rounded-[2px] flex items-center justify-center transition-all duration-200 relative border border-white/5 hover:border-white/40 hover:scale-110 hover:z-10",S&&"opacity-20 cursor-not-allowed border-none bg-white/5",!S&&!D&&"bg-white/5",h(y)&&!D&&"ring-1 ring-primary/50 bg-primary/10")})}),f.jsxs(Wa,{className:"bg-background/90 backdrop-blur border-white/10 text-xs",children:[f.jsx("p",{className:"capitalize font-medium",children:w}),j.length>0&&f.jsxs("p",{className:"text-muted-foreground",children:[E,"/",j.length," completate"]})]})]})},b)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full h-full p-2 sm:p-6 animate-scale-in flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[f.jsx(Ge,{variant:"ghost",size:"icon",onClick:u,children:f.jsx(c1,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:f.jsx("span",{className:"text-foreground",children:l})}),f.jsx(Ge,{variant:"ghost",size:"icon",onClick:p,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:f.jsx(OR,{className:"h-3 w-3"})})]}),f.jsx(Ge,{variant:"ghost",size:"icon",onClick:d,children:f.jsx(Bh,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex-1 min-h-0 grid grid-cols-2 gap-x-6 gap-y-2",children:m.map(({monthIndex:y,days:b})=>f.jsxs("div",{className:"flex items-center gap-2 min-h-0",children:[f.jsx("span",{className:"text-[10px] font-bold text-muted-foreground w-8 shrink-0",children:_G[y]}),f.jsx("div",{className:"flex-1 h-full grid gap-[2px]",style:{gridTemplateColumns:`repeat(${b.length}, 1fr)`},children:b.map(x=>g(x))})]},y))})]}),f.jsx(G1,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:y=>o&&r(o,y),isPrivacyMode:n,readonly:o?!(bi(o,new Date)||bi(o,Ut(new Date,1))&&new Date().getHours()<12):!0})]})}const va=_.forwardRef(({className:e,type:t,...r},n)=>f.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));va.displayName="Input";var jG="Label",TM=_.forwardRef((e,t)=>f.jsx(ke.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));TM.displayName=jG;var NM=TM;const EG=xu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mn=_.forwardRef(({className:e,...t},r)=>f.jsx(NM,{ref:r,className:ae(EG(),e),...t}));Mn.displayName=NM.displayName;function dp(){return(dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function RM(e,t){if(e==null)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}function J0(e){var t=_.useRef(e),r=_.useRef(function(n){t.current&&t.current(n)});return t.current=e,r.current}var Oc=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},ic=function(e){return"touches"in e},Z0=function(e){return e&&e.ownerDocument.defaultView||self},vE=function(e,t,r){var n=e.getBoundingClientRect(),i=ic(t)?(function(a,o){for(var s=0;s<a.length;s++)if(a[s].identifier===o)return a[s];return a[0]})(t.touches,r):t;return{left:Oc((i.pageX-(n.left+Z0(e).pageXOffset))/n.width),top:Oc((i.pageY-(n.top+Z0(e).pageYOffset))/n.height)}},yE=function(e){!ic(e)&&e.preventDefault()},IM=I.memo(function(e){var t=e.onMove,r=e.onKey,n=RM(e,["onMove","onKey"]),i=_.useRef(null),a=J0(t),o=J0(r),s=_.useRef(null),l=_.useRef(!1),c=_.useMemo(function(){var h=function(g){yE(g),(ic(g)?g.touches.length>0:g.buttons>0)&&i.current?a(vE(i.current,g,s.current)):m(!1)},v=function(){return m(!1)};function m(g){var y=l.current,b=Z0(i.current),x=g?b.addEventListener:b.removeEventListener;x(y?"touchmove":"mousemove",h),x(y?"touchend":"mouseup",v)}return[function(g){var y=g.nativeEvent,b=i.current;if(b&&(yE(y),!(function(S,w){return w&&!ic(S)})(y,l.current)&&b)){if(ic(y)){l.current=!0;var x=y.changedTouches||[];x.length&&(s.current=x[0].identifier)}b.focus(),a(vE(b,y,s.current)),m(!0)}},function(g){var y=g.which||g.keyCode;y<37||y>40||(g.preventDefault(),o({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},m]},[o,a]),u=c[0],d=c[1],p=c[2];return _.useEffect(function(){return p},[p]),I.createElement("div",dp({},n,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))}),Y1=function(e){return e.filter(Boolean).join(" ")},DM=function(e){var t=e.color,r=e.left,n=e.top,i=n===void 0?.5:n,a=Y1(["react-colorful__pointer",e.className]);return I.createElement("div",{className:a,style:{top:100*i+"%",left:100*r+"%"}},I.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},fr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},kG=function(e){return TG(ex(e))},ex=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?fr(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?fr(parseInt(e.substring(6,8),16)/255,2):1}},AG=function(e){return PG(CG(e))},OG=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:fr(e.h),s:fr(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:fr(i/2),a:fr(n,2)}},tx=function(e){var t=OG(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},CG=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var a=Math.floor(t),o=n*(1-r),s=n*(1-(t-a)*r),l=n*(1-(1-t+a)*r),c=a%6;return{r:fr(255*[n,s,o,o,l,n][c]),g:fr(255*[l,n,n,s,o,o][c]),b:fr(255*[o,o,l,n,n,s][c]),a:fr(i,2)}},dd=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},PG=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=i<1?dd(fr(255*i)):"";return"#"+dd(t)+dd(r)+dd(n)+a},TG=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=Math.max(t,r,n),o=a-Math.min(t,r,n),s=o?a===t?(r-n)/o:a===r?2+(n-t)/o:4+(t-r)/o:0;return{h:fr(60*(s<0?s+6:s)),s:fr(a?o/a*100:0),v:fr(a/255*100),a:i}},NG=I.memo(function(e){var t=e.hue,r=e.onChange,n=Y1(["react-colorful__hue",e.className]);return I.createElement("div",{className:n},I.createElement(IM,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:Oc(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":fr(t),"aria-valuemax":"360","aria-valuemin":"0"},I.createElement(DM,{className:"react-colorful__hue-pointer",left:t/360,color:tx({h:t,s:100,v:100,a:1})})))}),RG=I.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:tx({h:t.h,s:100,v:100,a:1})};return I.createElement("div",{className:"react-colorful__saturation",style:n},I.createElement(IM,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:Oc(t.s+100*i.left,0,100),v:Oc(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+fr(t.s)+"%, Brightness "+fr(t.v)+"%"},I.createElement(DM,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:tx(t)})))}),MM=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},IG=function(e,t){return e.toLowerCase()===t.toLowerCase()||MM(ex(e),ex(t))};function DG(e,t,r){var n=J0(r),i=_.useState(function(){return e.toHsva(t)}),a=i[0],o=i[1],s=_.useRef({color:t,hsva:a});_.useEffect(function(){if(!e.equal(t,s.current.color)){var c=e.toHsva(t);s.current={hsva:c,color:t},o(c)}},[t,e]),_.useEffect(function(){var c;MM(a,s.current.hsva)||e.equal(c=e.fromHsva(a),s.current.color)||(s.current={hsva:a,color:c},n(c))},[a,e,n]);var l=_.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[a,l]}var MG=typeof window<"u"?_.useLayoutEffect:_.useEffect,$G=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},bE=new Map,LG=function(e){MG(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!bE.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,bE.set(t,r);var n=$G();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},BG=function(e){var t=e.className,r=e.colorModel,n=e.color,i=n===void 0?r.defaultColor:n,a=e.onChange,o=RM(e,["className","colorModel","color","onChange"]),s=_.useRef(null);LG(s);var l=DG(r,i,a),c=l[0],u=l[1],d=Y1(["react-colorful",t]);return I.createElement("div",dp({},o,{ref:s,className:d}),I.createElement(RG,{hsva:c,onChange:u}),I.createElement(NG,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},FG={defaultColor:"000",toHsva:kG,fromHsva:function(e){return AG({h:e.h,s:e.s,v:e.v,a:1})},equal:IG},zG=function(e){return I.createElement(BG,dp({},e,{colorModel:FG}))};const qG=ap,UG=op,WG=sp,$M=_.forwardRef(({className:e,...t},r)=>f.jsx(rl,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));$M.displayName=rl.displayName;const HG=xu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),LM=_.forwardRef(({side:e="right",className:t,children:r,...n},i)=>f.jsxs(WG,{children:[f.jsx($M,{}),f.jsxs(nl,{ref:i,className:ae(HG({side:e}),t),...n,children:[r,f.jsxs(lp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(Qs,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));LM.displayName=nl.displayName;const BM=({className:e,...t})=>f.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});BM.displayName="SheetHeader";const FM=_.forwardRef(({className:e,...t},r)=>f.jsx(il,{ref:r,className:ae("text-lg font-semibold text-foreground",e),...t}));FM.displayName=il.displayName;const VG=_.forwardRef(({className:e,...t},r)=>f.jsx(al,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));VG.displayName=al.displayName;const KG=[{name:"Green",hex:"#4ade80"},{name:"Blue",hex:"#3b82f6"},{name:"Purple",hex:"#a855f7"},{name:"Red",hex:"#ef4444"},{name:"Orange",hex:"#f97316"},{name:"Pink",hex:"#ec4899"},{name:"Teal",hex:"#14b8a6"},{name:"Yellow",hex:"#eab308"}];function xE(e){const t=e.match(/hsl\((\d+)\s+(\d+)%\s+(\d+)%\)/);if(!t)return e.startsWith("#")?e:"#4ade80";const r=parseInt(t[1])/360,n=parseInt(t[2])/100,i=parseInt(t[3])/100,a=(u,d,p)=>(p<0&&(p+=1),p>1&&(p-=1),p<1/6?u+(d-u)*6*p:p<1/2?d:p<2/3?u+(d-u)*(2/3-p)*6:u);let o,s,l;if(n===0)o=s=l=i;else{const u=i<.5?i*(1+n):i+n-i*n,d=2*i-u;o=a(d,u,r+1/3),s=a(d,u,r),l=a(d,u,r-1/3)}const c=u=>{const d=Math.round(u*255).toString(16);return d.length===1?"0"+d:d};return`#${c(o)}${c(s)}${c(l)}`}function wE(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return e;const r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,i=parseInt(t[3],16)/255,a=Math.max(r,n,i),o=Math.min(r,n,i);let s=0,l=0;const c=(a+o)/2;if(a!==o){const u=a-o;switch(l=c>.5?u/(2-a-o):u/(a+o),a){case r:s=((n-i)/u+(n<i?6:0))/6;break;case n:s=((i-r)/u+2)/6;break;case i:s=((r-n)/u+4)/6;break}}return`hsl(${Math.round(s*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%)`}function X1({value:e,onChange:t,className:r,showValueLabel:n=!0}){const[i,a]=_.useState(()=>xE(e)),[o,s]=_.useState(!1);_.useEffect(()=>{a(xE(e))},[e]);const l=u=>{a(u),t(wE(u))},c=u=>{a(u),t(wE(u))};return f.jsxs(qG,{open:o,onOpenChange:s,children:[f.jsx(UG,{asChild:!0,children:f.jsxs(Ge,{type:"button",variant:"outline",className:ae("w-full justify-start gap-3 h-10 rounded-xl bg-black/20 border-white/10 hover:bg-white/5",!n&&"justify-center px-0 gap-0",r),children:[f.jsx("div",{className:"h-5 w-5 rounded-full shadow-[0_0_10px_currentColor] shrink-0",style:{backgroundColor:i,color:i}}),n&&f.jsx("span",{className:"font-mono text-sm uppercase tracking-wider",children:i})]})}),f.jsxs(LM,{side:"bottom",className:"bg-[#0a0a0a]/95 backdrop-blur-2xl border-white/10",children:[f.jsx(BM,{className:"pb-4",children:f.jsx(FM,{children:"Seleziona Colore"})}),f.jsxs("div",{className:"space-y-6 pb-6 max-w-md mx-auto",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(zG,{color:i,onChange:l,style:{width:"100%",height:"180px"}})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Codice HEX"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-12 w-12 rounded-xl border border-white/10 shrink-0 shadow-[0_0_15px_currentColor]",style:{backgroundColor:i,color:i}}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground font-mono text-lg",children:"#"}),f.jsx(va,{value:i.replace("#",""),onChange:u=>{const d=u.target.value.replace(/[^a-fA-F0-9]/g,"").slice(0,6);d.length===6?l("#"+d):a("#"+d)},className:"pl-10 font-mono uppercase bg-black/30 border-white/10 h-12 rounded-xl text-lg",maxLength:6,placeholder:"4ade80"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colori Rapidi"}),f.jsx("div",{className:"grid grid-cols-8 gap-2",children:KG.map(u=>f.jsx("button",{type:"button",onClick:()=>c(u.hex),className:ae("aspect-square w-full rounded-xl border-2 transition-all hover:scale-110 shadow-[0_0_8px_currentColor]",i.toLowerCase()===u.hex.toLowerCase()?"border-white scale-110":"border-transparent"),style:{backgroundColor:u.hex,color:u.hex},title:u.name},u.hex))})]}),f.jsx(Ge,{onClick:()=>s(!1),className:"w-full h-12 rounded-xl text-base",children:"Conferma Colore"})]})]})]})}function GG(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var zM="AlertDialog",[YG]=Ar(zM,[hM]),$i=hM(),qM=e=>{const{__scopeAlertDialog:t,...r}=e,n=$i(t);return f.jsx(ap,{...n,...r,modal:!0})};qM.displayName=zM;var XG="AlertDialogTrigger",UM=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=$i(r);return f.jsx(op,{...i,...n,ref:t})});UM.displayName=XG;var QG="AlertDialogPortal",WM=e=>{const{__scopeAlertDialog:t,...r}=e,n=$i(t);return f.jsx(sp,{...n,...r})};WM.displayName=QG;var JG="AlertDialogOverlay",HM=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=$i(r);return f.jsx(rl,{...i,...n,ref:t})});HM.displayName=JG;var ss="AlertDialogContent",[ZG,eY]=YG(ss),tY=H2("AlertDialogContent"),VM=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=$i(r),o=_.useRef(null),s=$e(t,o),l=_.useRef(null);return f.jsx(hG,{contentName:ss,titleName:KM,docsSlug:"alert-dialog",children:f.jsx(ZG,{scope:r,cancelRef:l,children:f.jsxs(nl,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:GG(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(tY,{children:n}),f.jsx(nY,{contentRef:o})]})})})});VM.displayName=ss;var KM="AlertDialogTitle",GM=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=$i(r);return f.jsx(il,{...i,...n,ref:t})});GM.displayName=KM;var YM="AlertDialogDescription",XM=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=$i(r);return f.jsx(al,{...i,...n,ref:t})});XM.displayName=YM;var rY="AlertDialogAction",QM=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=$i(r);return f.jsx(lp,{...i,...n,ref:t})});QM.displayName=rY;var JM="AlertDialogCancel",ZM=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=eY(JM,r),a=$i(r),o=$e(t,i);return f.jsx(lp,{...a,...n,ref:o})});ZM.displayName=JM;var nY=({contentRef:e})=>{const t=`\`${ss}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ss}\` by passing a \`${YM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ss}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},iY=qM,aY=UM,oY=WM,e$=HM,t$=VM,r$=QM,n$=ZM,i$=GM,a$=XM;const ro=iY,ys=aY,sY=oY,o$=_.forwardRef(({className:e,...t},r)=>f.jsx(e$,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));o$.displayName=e$.displayName;const sa=_.forwardRef(({className:e,...t},r)=>f.jsxs(sY,{children:[f.jsx(o$,{}),f.jsx(t$,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));sa.displayName=t$.displayName;const la=({className:e,...t})=>f.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});la.displayName="AlertDialogHeader";const ca=({className:e,...t})=>f.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ca.displayName="AlertDialogFooter";const ua=_.forwardRef(({className:e,...t},r)=>f.jsx(i$,{ref:r,className:ae("text-lg font-semibold",e),...t}));ua.displayName=i$.displayName;const da=_.forwardRef(({className:e,...t},r)=>f.jsx(a$,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));da.displayName=a$.displayName;const fa=_.forwardRef(({className:e,...t},r)=>f.jsx(r$,{ref:r,className:ae(F1(),e),...t}));fa.displayName=r$.displayName;const po=_.forwardRef(({className:e,...t},r)=>f.jsx(n$,{ref:r,className:ae(F1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));po.displayName=n$.displayName;function lY(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const fp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ol(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Q1(e){return"nodeType"in e}function Ir(e){var t,r;return e?ol(e)?e:Q1(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function J1(e){const{Document:t}=Ir(e);return e instanceof t}function Pu(e){return ol(e)?!1:e instanceof Ir(e).HTMLElement}function s$(e){return e instanceof Ir(e).SVGElement}function sl(e){return e?ol(e)?e.document:Q1(e)?J1(e)?e:Pu(e)||s$(e)?e.ownerDocument:document:document:document}const ai=fp?_.useLayoutEffect:_.useEffect;function Z1(e){const t=_.useRef(e);return ai(()=>{t.current=e}),_.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function cY(){const e=_.useRef(null),t=_.useCallback((n,i)=>{e.current=setInterval(n,i)},[]),r=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Cc(e,t){t===void 0&&(t=[e]);const r=_.useRef(e);return ai(()=>{r.current!==e&&(r.current=e)},t),r}function Tu(e,t){const r=_.useRef();return _.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function vf(e){const t=Z1(e),r=_.useRef(null),n=_.useCallback(i=>{i!==r.current&&t?.(i,r.current),r.current=i},[]);return[r,n]}function rx(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let $m={};function Nu(e,t){return _.useMemo(()=>{if(t)return t;const r=$m[e]==null?0:$m[e]+1;return $m[e]=r,e+"-"+r},[e,t])}function l$(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((a,o)=>{const s=Object.entries(o);for(const[l,c]of s){const u=a[l];u!=null&&(a[l]=u+e*c)}return a},{...t})}}const ls=l$(1),Pc=l$(-1);function uY(e){return"clientX"in e&&"clientY"in e}function e_(e){if(!e)return!1;const{KeyboardEvent:t}=Ir(e.target);return t&&e instanceof t}function dY(e){if(!e)return!1;const{TouchEvent:t}=Ir(e.target);return t&&e instanceof t}function nx(e){if(dY(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return uY(e)?{x:e.clientX,y:e.clientY}:null}const Tc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Tc.Translate.toString(e),Tc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),_E="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fY(e){return e.matches(_E)?e:e.querySelector(_E)}const hY={display:"none"};function pY(e){let{id:t,value:r}=e;return I.createElement("div",{id:t,style:hY},r)}function mY(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return I.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function gY(){const[e,t]=_.useState("");return{announce:_.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const c$=_.createContext(null);function vY(e){const t=_.useContext(c$);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function yY(){const[e]=_.useState(()=>new Set),t=_.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[_.useCallback(n=>{let{type:i,event:a}=n;e.forEach(o=>{var s;return(s=o[i])==null?void 0:s.call(o,a)})},[e]),t]}const bY={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},xY={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function wY(e){let{announcements:t=xY,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=bY}=e;const{announce:a,announcement:o}=gY(),s=Nu("DndLiveRegion"),[l,c]=_.useState(!1);if(_.useEffect(()=>{c(!0)},[]),vY(_.useMemo(()=>({onDragStart(d){let{active:p}=d;a(t.onDragStart({active:p}))},onDragMove(d){let{active:p,over:h}=d;t.onDragMove&&a(t.onDragMove({active:p,over:h}))},onDragOver(d){let{active:p,over:h}=d;a(t.onDragOver({active:p,over:h}))},onDragEnd(d){let{active:p,over:h}=d;a(t.onDragEnd({active:p,over:h}))},onDragCancel(d){let{active:p,over:h}=d;a(t.onDragCancel({active:p,over:h}))}}),[a,t])),!l)return null;const u=I.createElement(I.Fragment,null,I.createElement(pY,{id:n,value:i.draggable}),I.createElement(mY,{id:s,announcement:o}));return r?Kn.createPortal(u,r):u}var Jt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Jt||(Jt={}));function yf(){}function Lm(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function _Y(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const $n=Object.freeze({x:0,y:0});function u$(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function d$(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function SY(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function SE(e){let{left:t,top:r,height:n,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+n},{x:t+i,y:r+n}]}function f$(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function jE(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const jY=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=jE(t,t.left,t.top),a=[];for(const o of n){const{id:s}=o,l=r.get(s);if(l){const c=u$(jE(l),i);a.push({id:s,data:{droppableContainer:o,value:c}})}}return a.sort(d$)},EY=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=SE(t),a=[];for(const o of n){const{id:s}=o,l=r.get(s);if(l){const c=SE(l),u=i.reduce((p,h,v)=>p+u$(c[v],h),0),d=Number((u/4).toFixed(4));a.push({id:s,data:{droppableContainer:o,value:d}})}}return a.sort(d$)};function kY(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-n,s=a-r;if(n<i&&r<a){const l=t.width*t.height,c=e.width*e.height,u=o*s,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const AY=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const a of n){const{id:o}=a,s=r.get(o);if(s){const l=kY(s,t);l>0&&i.push({id:o,data:{droppableContainer:a,value:l}})}}return i.sort(SY)};function OY(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function h$(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:$n}function CY(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...r})}}const PY=CY(1);function TY(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function NY(e,t,r){const n=TY(t);if(!n)return e;const{scaleX:i,scaleY:a,x:o,y:s}=n,l=e.left-o-(1-i)*parseFloat(r),c=e.top-s-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),u=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const RY={ignoreTransform:!1};function ll(e,t){t===void 0&&(t=RY);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:u}=Ir(e).getComputedStyle(e);c&&(r=NY(r,c,u))}const{top:n,left:i,width:a,height:o,bottom:s,right:l}=r;return{top:n,left:i,width:a,height:o,bottom:s,right:l}}function EE(e){return ll(e,{ignoreTransform:!0})}function IY(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function DY(e,t){return t===void 0&&(t=Ir(e).getComputedStyle(e)),t.position==="fixed"}function MY(e,t){t===void 0&&(t=Ir(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?r.test(a):!1})}function hp(e,t){const r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if(J1(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Pu(i)||s$(i)||r.includes(i))return r;const a=Ir(e).getComputedStyle(i);return i!==e&&MY(i,a)&&r.push(i),DY(i,a)?r:n(i.parentNode)}return e?n(e):r}function p$(e){const[t]=hp(e,1);return t??null}function Bm(e){return!fp||!e?null:ol(e)?e:Q1(e)?J1(e)||e===sl(e).scrollingElement?window:Pu(e)?e:null:null}function m$(e){return ol(e)?e.scrollX:e.scrollLeft}function g$(e){return ol(e)?e.scrollY:e.scrollTop}function ix(e){return{x:m$(e),y:g$(e)}}var ar;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ar||(ar={}));function v$(e){return!fp||!e?!1:e===document.scrollingElement}function y$(e){const t={x:0,y:0},r=v$(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,s=e.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:o,isRight:s,maxScroll:n,minScroll:t}}const $Y={x:.2,y:.2};function LY(e,t,r,n,i){let{top:a,left:o,right:s,bottom:l}=r;n===void 0&&(n=10),i===void 0&&(i=$Y);const{isTop:c,isBottom:u,isLeft:d,isRight:p}=y$(e),h={x:0,y:0},v={x:0,y:0},m={height:t.height*i.y,width:t.width*i.x};return!c&&a<=t.top+m.height?(h.y=ar.Backward,v.y=n*Math.abs((t.top+m.height-a)/m.height)):!u&&l>=t.bottom-m.height&&(h.y=ar.Forward,v.y=n*Math.abs((t.bottom-m.height-l)/m.height)),!p&&s>=t.right-m.width?(h.x=ar.Forward,v.x=n*Math.abs((t.right-m.width-s)/m.width)):!d&&o<=t.left+m.width&&(h.x=ar.Backward,v.x=n*Math.abs((t.left+m.width-o)/m.width)),{direction:h,speed:v}}function BY(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function b$(e){return e.reduce((t,r)=>ls(t,ix(r)),$n)}function FY(e){return e.reduce((t,r)=>t+m$(r),0)}function zY(e){return e.reduce((t,r)=>t+g$(r),0)}function qY(e,t){if(t===void 0&&(t=ll),!e)return;const{top:r,left:n,bottom:i,right:a}=t(e);p$(e)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const UY=[["x",["left","right"],FY],["y",["top","bottom"],zY]];class t_{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=hp(r),i=b$(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,s]of UY)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=s(n),u=i[a]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ac{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function WY(e){const{EventTarget:t}=Ir(e);return e instanceof t?e:sl(e)}function Fm(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var nn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nn||(nn={}));function kE(e){e.preventDefault()}function HY(e){e.stopPropagation()}var tt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(tt||(tt={}));const x$={start:[tt.Space,tt.Enter],cancel:[tt.Esc],end:[tt.Space,tt.Enter,tt.Tab]},VY=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case tt.Right:return{...r,x:r.x+25};case tt.Left:return{...r,x:r.x-25};case tt.Down:return{...r,y:r.y+25};case tt.Up:return{...r,y:r.y-25}}};class r_{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new ac(sl(r)),this.windowListeners=new ac(Ir(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&qY(n),r($n)}handleKeyDown(t){if(e_(t)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:a=x$,coordinateGetter:o=VY,scrollBehavior:s="smooth"}=i,{code:l}=t;if(a.end.includes(l)){this.handleEnd(t);return}if(a.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=n.current,u=c?{x:c.left,y:c.top}:$n;this.referenceCoordinates||(this.referenceCoordinates=u);const d=o(t,{active:r,context:n.current,currentCoordinates:u});if(d){const p=Pc(d,u),h={x:0,y:0},{scrollableAncestors:v}=n.current;for(const m of v){const g=t.code,{isTop:y,isRight:b,isLeft:x,isBottom:S,maxScroll:w,minScroll:j}=y$(m),E=BY(m),C={x:Math.min(g===tt.Right?E.right-E.width/2:E.right,Math.max(g===tt.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(g===tt.Down?E.bottom-E.height/2:E.bottom,Math.max(g===tt.Down?E.top:E.top+E.height/2,d.y))},P=g===tt.Right&&!b||g===tt.Left&&!x,O=g===tt.Down&&!S||g===tt.Up&&!y;if(P&&C.x!==d.x){const N=m.scrollLeft+p.x,T=g===tt.Right&&N<=w.x||g===tt.Left&&N>=j.x;if(T&&!p.y){m.scrollTo({left:N,behavior:s});return}T?h.x=m.scrollLeft-N:h.x=g===tt.Right?m.scrollLeft-w.x:m.scrollLeft-j.x,h.x&&m.scrollBy({left:-h.x,behavior:s});break}else if(O&&C.y!==d.y){const N=m.scrollTop+p.y,T=g===tt.Down&&N<=w.y||g===tt.Up&&N>=j.y;if(T&&!p.x){m.scrollTo({top:N,behavior:s});return}T?h.y=m.scrollTop-N:h.y=g===tt.Down?m.scrollTop-w.y:m.scrollTop-j.y,h.y&&m.scrollBy({top:-h.y,behavior:s});break}}this.handleMove(t,ls(Pc(d,this.referenceCoordinates),h))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}r_.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=x$,onActivation:i}=t,{active:a}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function AE(e){return!!(e&&"distance"in e)}function OE(e){return!!(e&&"delay"in e)}class n_{constructor(t,r,n){var i;n===void 0&&(n=WY(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:o}=a;this.props=t,this.events=r,this.document=sl(o),this.documentListeners=new ac(this.document),this.listeners=new ac(n),this.windowListeners=new ac(Ir(o)),this.initialCoordinates=(i=nx(a))!=null?i:$n,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.DragStart,kE),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),this.windowListeners.add(nn.ContextMenu,kE),this.documentListeners.add(nn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(OE(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(AE(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(nn.Click,HY,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:s}}=a;if(!i)return;const l=(r=nx(t))!=null?r:$n,c=Pc(i,l);if(!n&&s){if(AE(s)){if(s.tolerance!=null&&Fm(c,s.tolerance))return this.handleCancel();if(Fm(c,s.distance))return this.handleStart()}if(OE(s)&&Fm(c,s.tolerance))return this.handleCancel();this.handlePending(s,c);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===tt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const KY={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class i_ extends n_{constructor(t){const{event:r}=t,n=sl(r.target);super(t,KY,n)}}i_.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const GY={move:{name:"mousemove"},end:{name:"mouseup"}};var ax;(function(e){e[e.RightClick=2]="RightClick"})(ax||(ax={}));class YY extends n_{constructor(t){super(t,GY,sl(t.event.target))}}YY.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===ax.RightClick?!1:(n?.({event:r}),!0)}}];const zm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class w$ extends n_{constructor(t){super(t,zm)}static setup(){return window.addEventListener(zm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(zm.move.name,t)};function t(){}}}w$.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var oc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(oc||(oc={}));var bf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(bf||(bf={}));function XY(e){let{acceleration:t,activator:r=oc.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:o=5,order:s=bf.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:p}=e;const h=JY({delta:d,disabled:!a}),[v,m]=cY(),g=_.useRef({x:0,y:0}),y=_.useRef({x:0,y:0}),b=_.useMemo(()=>{switch(r){case oc.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case oc.DraggableRect:return i}},[r,i,l]),x=_.useRef(null),S=_.useCallback(()=>{const j=x.current;if(!j)return;const E=g.current.x*y.current.x,C=g.current.y*y.current.y;j.scrollBy(E,C)},[]),w=_.useMemo(()=>s===bf.TreeOrder?[...c].reverse():c,[s,c]);_.useEffect(()=>{if(!a||!c.length||!b){m();return}for(const j of w){if(n?.(j)===!1)continue;const E=c.indexOf(j),C=u[E];if(!C)continue;const{direction:P,speed:O}=LY(j,C,b,t,p);for(const N of["x","y"])h[N][P[N]]||(O[N]=0,P[N]=0);if(O.x>0||O.y>0){m(),x.current=j,v(S,o),g.current=O,y.current=P;return}}g.current={x:0,y:0},y.current={x:0,y:0},m()},[t,S,n,m,a,o,JSON.stringify(b),JSON.stringify(h),v,c,w,u,JSON.stringify(p)])}const QY={x:{[ar.Backward]:!1,[ar.Forward]:!1},y:{[ar.Backward]:!1,[ar.Forward]:!1}};function JY(e){let{delta:t,disabled:r}=e;const n=rx(t);return Tu(i=>{if(r||!n||!i)return QY;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[ar.Backward]:i.x[ar.Backward]||a.x===-1,[ar.Forward]:i.x[ar.Forward]||a.x===1},y:{[ar.Backward]:i.y[ar.Backward]||a.y===-1,[ar.Forward]:i.y[ar.Forward]||a.y===1}}},[r,t,n])}function ZY(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Tu(i=>{var a;return t==null?null:(a=n??i)!=null?a:null},[n,t])}function eX(e,t){return _.useMemo(()=>e.reduce((r,n)=>{const{sensor:i}=n,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...a]},[]),[e,t])}var Nc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Nc||(Nc={}));var ox;(function(e){e.Optimized="optimized"})(ox||(ox={}));const CE=new Map;function tX(e,t){let{dragging:r,dependencies:n,config:i}=t;const[a,o]=_.useState(null),{frequency:s,measure:l,strategy:c}=i,u=_.useRef(e),d=g(),p=Cc(d),h=_.useCallback(function(y){y===void 0&&(y=[]),!p.current&&o(b=>b===null?y:b.concat(y.filter(x=>!b.includes(x))))},[p]),v=_.useRef(null),m=Tu(y=>{if(d&&!r)return CE;if(!y||y===CE||u.current!==e||a!=null){const b=new Map;for(let x of e){if(!x)continue;if(a&&a.length>0&&!a.includes(x.id)&&x.rect.current){b.set(x.id,x.rect.current);continue}const S=x.node.current,w=S?new t_(l(S),S):null;x.rect.current=w,w&&b.set(x.id,w)}return b}return y},[e,a,r,d,l]);return _.useEffect(()=>{u.current=e},[e]),_.useEffect(()=>{d||h()},[r,d]),_.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),_.useEffect(()=>{d||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},s))},[s,d,h,...n]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:a!=null};function g(){switch(c){case Nc.Always:return!1;case Nc.BeforeDragging:return r;default:return!r}}}function _$(e,t){return Tu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function rX(e,t){return _$(e,t)}function nX(e){let{callback:t,disabled:r}=e;const n=Z1(t),i=_.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return _.useEffect(()=>()=>i?.disconnect(),[i]),i}function pp(e){let{callback:t,disabled:r}=e;const n=Z1(t),i=_.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return _.useEffect(()=>()=>i?.disconnect(),[i]),i}function iX(e){return new t_(ll(e),e)}function PE(e,t,r){t===void 0&&(t=iX);const[n,i]=_.useState(null);function a(){i(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??r)!=null?c:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=nX({callback(l){if(e)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(e)){a();break}}}}),s=pp({callback:a});return ai(()=>{a(),e?(s?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[e]),n}function aX(e){const t=_$(e);return h$(e,t)}const TE=[];function oX(e){const t=_.useRef(e),r=Tu(n=>e?n&&n!==TE&&e&&t.current&&e.parentNode===t.current.parentNode?n:hp(e):TE,[e]);return _.useEffect(()=>{t.current=e},[e]),r}function sX(e){const[t,r]=_.useState(null),n=_.useRef(e),i=_.useCallback(a=>{const o=Bm(a.target);o&&r(s=>s?(s.set(o,ix(o)),new Map(s)):null)},[]);return _.useEffect(()=>{const a=n.current;if(e!==a){o(a);const s=e.map(l=>{const c=Bm(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,ix(c)]):null}).filter(l=>l!=null);r(s.length?new Map(s):null),n.current=e}return()=>{o(e),o(a)};function o(s){s.forEach(l=>{const c=Bm(l);c?.removeEventListener("scroll",i)})}},[i,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>ls(a,o),$n):b$(e):$n,[e,t])}function NE(e,t){t===void 0&&(t=[]);const r=_.useRef(null);return _.useEffect(()=>{r.current=null},t),_.useEffect(()=>{const n=e!==$n;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Pc(e,r.current):$n}function lX(e){_.useEffect(()=>{if(!fp)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function cX(e,t){return _.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=o=>{a(o,t)},r},{}),[e,t])}function S$(e){return _.useMemo(()=>e?IY(e):null,[e])}const RE=[];function uX(e,t){t===void 0&&(t=ll);const[r]=e,n=S$(r?Ir(r):null),[i,a]=_.useState(RE);function o(){a(()=>e.length?e.map(l=>v$(l)?n:new t_(t(l),l)):RE)}const s=pp({callback:o});return ai(()=>{s?.disconnect(),o(),e.forEach(l=>s?.observe(l))},[e]),i}function dX(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Pu(t)?t:e}function fX(e){let{measure:t}=e;const[r,n]=_.useState(null),i=_.useCallback(c=>{for(const{target:u}of c)if(Pu(u)){n(d=>{const p=t(u);return d?{...d,width:p.width,height:p.height}:p});break}},[t]),a=pp({callback:i}),o=_.useCallback(c=>{const u=dX(c);a?.disconnect(),u&&a?.observe(u),n(u?t(u):null)},[t,a]),[s,l]=vf(o);return _.useMemo(()=>({nodeRef:s,rect:r,setRef:l}),[r,s,l])}const hX=[{sensor:i_,options:{}},{sensor:r_,options:{}}],pX={current:{}},Hd={draggable:{measure:EE},droppable:{measure:EE,strategy:Nc.WhileDragging,frequency:ox.Optimized},dragOverlay:{measure:ll}};class sc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const mX={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new sc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:yf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Hd,measureDroppableContainers:yf,windowRect:null,measuringScheduled:!1},gX={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:yf,draggableNodes:new Map,over:null,measureDroppableContainers:yf},mp=_.createContext(gX),j$=_.createContext(mX);function vX(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new sc}}}function yX(e,t){switch(t.type){case Jt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Jt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Jt.DragEnd:case Jt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Jt.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new sc(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case Jt.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const o=new sc(e.droppable.containers);return o.set(r,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case Jt.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const a=new sc(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function bX(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=_.useContext(mp),a=rx(n),o=rx(r?.id);return _.useEffect(()=>{if(!t&&!n&&a&&o!=null){if(!e_(a)||document.activeElement===a.target)return;const s=i.get(o);if(!s)return;const{activatorNode:l,node:c}=s;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=fY(u);if(d){d.focus();break}}})}},[n,t,i,o,a]),null}function xX(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...n}),r):r}function wX(e){return _.useMemo(()=>({draggable:{...Hd.draggable,...e?.draggable},droppable:{...Hd.droppable,...e?.droppable},dragOverlay:{...Hd.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function _X(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const a=_.useRef(!1),{x:o,y:s}=typeof i=="boolean"?{x:i,y:i}:i;ai(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!n)return;const c=t?.node.current;if(!c||c.isConnected===!1)return;const u=r(c),d=h$(u,n);if(o||(d.x=0),s||(d.y=0),a.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const p=p$(c);p&&p.scrollBy({top:d.y,left:d.x})}},[t,o,s,n,r])}const E$=_.createContext({...$n,scaleX:1,scaleY:1});var Xi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Xi||(Xi={}));const SX=_.memo(function(t){var r,n,i,a;let{id:o,accessibility:s,autoScroll:l=!0,children:c,sensors:u=hX,collisionDetection:d=AY,measuring:p,modifiers:h,...v}=t;const m=_.useReducer(yX,void 0,vX),[g,y]=m,[b,x]=yY(),[S,w]=_.useState(Xi.Uninitialized),j=S===Xi.Initialized,{draggable:{active:E,nodes:C,translate:P},droppable:{containers:O}}=g,N=E!=null?C.get(E):null,T=_.useRef({initial:null,translated:null}),D=_.useMemo(()=>{var Ce;return E!=null?{id:E,data:(Ce=N?.data)!=null?Ce:pX,rect:T}:null},[E,N]),k=_.useRef(null),[R,F]=_.useState(null),[B,U]=_.useState(null),L=Cc(v,Object.values(v)),M=Nu("DndDescribedBy",o),H=_.useMemo(()=>O.getEnabled(),[O]),z=wX(p),{droppableRects:$,measureDroppableContainers:Q,measuringScheduled:Z}=tX(H,{dragging:j,dependencies:[P.x,P.y],config:z.droppable}),fe=ZY(C,E),le=_.useMemo(()=>B?nx(B):null,[B]),ue=ot(),ee=rX(fe,z.draggable.measure);_X({activeNode:E!=null?C.get(E):null,config:ue.layoutShiftCompensation,initialRect:ee,measure:z.draggable.measure});const te=PE(fe,z.draggable.measure,ee),ce=PE(fe?fe.parentElement:null),J=_.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ne=O.getNodeFor((r=J.current.over)==null?void 0:r.id),A=fX({measure:z.dragOverlay.measure}),K=(n=A.nodeRef.current)!=null?n:fe,V=j?(i=A.rect)!=null?i:te:null,W=!!(A.nodeRef.current&&A.rect),q=aX(W?null:te),G=S$(K?Ir(K):null),ie=oX(j?ne??fe:null),re=uX(ie),X=xX(h,{transform:{x:P.x-q.x,y:P.y-q.y,scaleX:1,scaleY:1},activatorEvent:B,active:D,activeNodeRect:te,containerNodeRect:ce,draggingNodeRect:V,over:J.current.over,overlayNodeRect:A.rect,scrollableAncestors:ie,scrollableAncestorRects:re,windowRect:G}),de=le?ls(le,P):null,ve=sX(ie),he=NE(ve),Y=NE(ve,[te]),oe=ls(X,he),ge=V?PY(V,X):null,Oe=D&&ge?d({active:D,collisionRect:ge,droppableRects:$,droppableContainers:H,pointerCoordinates:de}):null,ze=f$(Oe,"id"),[Ve,Tt]=_.useState(null),Ke=W?X:ls(X,Y),It=OY(Ke,(a=Ve?.rect)!=null?a:null,te),rr=_.useRef(null),Ze=_.useCallback((Ce,He)=>{let{sensor:st,options:we}=He;if(k.current==null)return;const Ne=C.get(k.current);if(!Ne)return;const Le=Ce.nativeEvent,lt=new st({active:k.current,activeNode:Ne,event:Le,options:we,context:J,onAbort(ct){if(!C.get(ct))return;const{onDragAbort:Nt}=L.current,nr={id:ct};Nt?.(nr),b({type:"onDragAbort",event:nr})},onPending(ct,Vt,Nt,nr){if(!C.get(ct))return;const{onDragPending:Al}=L.current,Ui={id:ct,constraint:Vt,initialCoordinates:Nt,offset:nr};Al?.(Ui),b({type:"onDragPending",event:Ui})},onStart(ct){const Vt=k.current;if(Vt==null)return;const Nt=C.get(Vt);if(!Nt)return;const{onDragStart:nr}=L.current,kl={activatorEvent:Le,active:{id:Vt,data:Nt.data,rect:T}};Kn.unstable_batchedUpdates(()=>{nr?.(kl),w(Xi.Initializing),y({type:Jt.DragStart,initialCoordinates:ct,active:Vt}),b({type:"onDragStart",event:kl}),F(rr.current),U(Le)})},onMove(ct){y({type:Jt.DragMove,coordinates:ct})},onEnd:pt(Jt.DragEnd),onCancel:pt(Jt.DragCancel)});rr.current=lt;function pt(ct){return async function(){const{active:Nt,collisions:nr,over:kl,scrollAdjustedTranslate:Al}=J.current;let Ui=null;if(Nt&&Al){const{cancelDrop:Ol}=L.current;Ui={activatorEvent:Le,active:Nt,collisions:nr,delta:Al,over:kl},ct===Jt.DragEnd&&typeof Ol=="function"&&await Promise.resolve(Ol(Ui))&&(ct=Jt.DragCancel)}k.current=null,Kn.unstable_batchedUpdates(()=>{y({type:ct}),w(Xi.Uninitialized),Tt(null),F(null),U(null),rr.current=null;const Ol=ct===Jt.DragEnd?"onDragEnd":"onDragCancel";if(Ui){const pm=L.current[Ol];pm?.(Ui),b({type:Ol,event:Ui})}})}}},[C]),yr=_.useCallback((Ce,He)=>(st,we)=>{const Ne=st.nativeEvent,Le=C.get(we);if(k.current!==null||!Le||Ne.dndKit||Ne.defaultPrevented)return;const lt={active:Le};Ce(st,He.options,lt)===!0&&(Ne.dndKit={capturedBy:He.sensor},k.current=we,Ze(st,He))},[C,Ze]),je=eX(u,yr);lX(u),ai(()=>{te&&S===Xi.Initializing&&w(Xi.Initialized)},[te,S]),_.useEffect(()=>{const{onDragMove:Ce}=L.current,{active:He,activatorEvent:st,collisions:we,over:Ne}=J.current;if(!He||!st)return;const Le={active:He,activatorEvent:st,collisions:we,delta:{x:oe.x,y:oe.y},over:Ne};Kn.unstable_batchedUpdates(()=>{Ce?.(Le),b({type:"onDragMove",event:Le})})},[oe.x,oe.y]),_.useEffect(()=>{const{active:Ce,activatorEvent:He,collisions:st,droppableContainers:we,scrollAdjustedTranslate:Ne}=J.current;if(!Ce||k.current==null||!He||!Ne)return;const{onDragOver:Le}=L.current,lt=we.get(ze),pt=lt&&lt.rect.current?{id:lt.id,rect:lt.rect.current,data:lt.data,disabled:lt.disabled}:null,ct={active:Ce,activatorEvent:He,collisions:st,delta:{x:Ne.x,y:Ne.y},over:pt};Kn.unstable_batchedUpdates(()=>{Tt(pt),Le?.(ct),b({type:"onDragOver",event:ct})})},[ze]),ai(()=>{J.current={activatorEvent:B,active:D,activeNode:fe,collisionRect:ge,collisions:Oe,droppableRects:$,draggableNodes:C,draggingNode:K,draggingNodeRect:V,droppableContainers:O,over:Ve,scrollableAncestors:ie,scrollAdjustedTranslate:oe},T.current={initial:V,translated:ge}},[D,fe,Oe,ge,C,K,V,$,O,Ve,ie,oe]),XY({...ue,delta:P,draggingRect:ge,pointerCoordinates:de,scrollableAncestors:ie,scrollableAncestorRects:re});const et=_.useMemo(()=>({active:D,activeNode:fe,activeNodeRect:te,activatorEvent:B,collisions:Oe,containerNodeRect:ce,dragOverlay:A,draggableNodes:C,droppableContainers:O,droppableRects:$,over:Ve,measureDroppableContainers:Q,scrollableAncestors:ie,scrollableAncestorRects:re,measuringConfiguration:z,measuringScheduled:Z,windowRect:G}),[D,fe,te,B,Oe,ce,A,C,O,$,Ve,Q,ie,re,z,Z,G]),it=_.useMemo(()=>({activatorEvent:B,activators:je,active:D,activeNodeRect:te,ariaDescribedById:{draggable:M},dispatch:y,draggableNodes:C,over:Ve,measureDroppableContainers:Q}),[B,je,D,te,y,M,C,Ve,Q]);return I.createElement(c$.Provider,{value:x},I.createElement(mp.Provider,{value:it},I.createElement(j$.Provider,{value:et},I.createElement(E$.Provider,{value:It},c)),I.createElement(bX,{disabled:s?.restoreFocus===!1})),I.createElement(wY,{...s,hiddenTextDescribedById:M}));function ot(){const Ce=R?.autoScrollEnabled===!1,He=typeof l=="object"?l.enabled===!1:l===!1,st=j&&!Ce&&!He;return typeof l=="object"?{...l,enabled:st}:{enabled:st}}}),jX=_.createContext(null),IE="button",EX="Draggable";function kX(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const a=Nu(EX),{activators:o,activatorEvent:s,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:p}=_.useContext(mp),{role:h=IE,roleDescription:v="draggable",tabIndex:m=0}=i??{},g=l?.id===t,y=_.useContext(g?E$:jX),[b,x]=vf(),[S,w]=vf(),j=cX(o,t),E=Cc(r);ai(()=>(d.set(t,{id:t,key:a,node:b,activatorNode:S,data:E}),()=>{const P=d.get(t);P&&P.key===a&&d.delete(t)}),[d,t]);const C=_.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":n,"aria-pressed":g&&h===IE?!0:void 0,"aria-roledescription":v,"aria-describedby":u.draggable}),[n,h,m,g,v,u.draggable]);return{active:l,activatorEvent:s,activeNodeRect:c,attributes:C,isDragging:g,listeners:n?void 0:j,node:b,over:p,setNodeRef:x,setActivatorNodeRef:w,transform:y}}function AX(){return _.useContext(j$)}const OX="Droppable",CX={timeout:25};function PX(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const a=Nu(OX),{active:o,dispatch:s,over:l,measureDroppableContainers:c}=_.useContext(mp),u=_.useRef({disabled:r}),d=_.useRef(!1),p=_.useRef(null),h=_.useRef(null),{disabled:v,updateMeasurementsFor:m,timeout:g}={...CX,...i},y=Cc(m??n),b=_.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),h.current=null},g)},[g]),x=pp({callback:b,disabled:v||!o}),S=_.useCallback((C,P)=>{x&&(P&&(x.unobserve(P),d.current=!1),C&&x.observe(C))},[x]),[w,j]=vf(S),E=Cc(t);return _.useEffect(()=>{!x||!w.current||(x.disconnect(),d.current=!1,x.observe(w.current))},[w,x]),_.useEffect(()=>(s({type:Jt.RegisterDroppable,element:{id:n,key:a,disabled:r,node:w,rect:p,data:E}}),()=>s({type:Jt.UnregisterDroppable,key:a,id:n})),[n]),_.useEffect(()=>{r!==u.current.disabled&&(s({type:Jt.SetDroppableDisabled,id:n,key:a,disabled:r}),u.current.disabled=r)},[n,a,r,s]),{active:o,rect:p,isOver:l?.id===n,node:w,over:l,setNodeRef:j}}function a_(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function TX(e,t){return e.reduce((r,n,i)=>{const a=t.get(n);return a&&(r[i]=a),r},Array(e.length))}function fd(e){return e!==null&&e>=0}function NX(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function RX(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const k$=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const a=a_(t,n,r),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},hd={scaleX:1,scaleY:1},IX=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:a,overIndex:o}=e;const s=(t=a[r])!=null?t:n;if(!s)return null;if(i===r){const c=a[o];return c?{x:0,y:r<o?c.top+c.height-(s.top+s.height):c.top-s.top,...hd}:null}const l=DX(a,i,r);return i>r&&i<=o?{x:0,y:-s.height-l,...hd}:i<r&&i>=o?{x:0,y:s.height+l,...hd}:{x:0,y:0,...hd}};function DX(e,t,r){const n=e[t],i=e[t-1],a=e[t+1];return n?r<t?i?n.top-(i.top+i.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const A$="Sortable",O$=I.createContext({activeIndex:-1,containerId:A$,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:k$,disabled:{draggable:!1,droppable:!1}});function MX(e){let{children:t,id:r,items:n,strategy:i=k$,disabled:a=!1}=e;const{active:o,dragOverlay:s,droppableRects:l,over:c,measureDroppableContainers:u}=AX(),d=Nu(A$,r),p=s.rect!==null,h=_.useMemo(()=>n.map(j=>typeof j=="object"&&"id"in j?j.id:j),[n]),v=o!=null,m=o?h.indexOf(o.id):-1,g=c?h.indexOf(c.id):-1,y=_.useRef(h),b=!NX(h,y.current),x=g!==-1&&m===-1||b,S=RX(a);ai(()=>{b&&v&&u(h)},[b,h,v,u]),_.useEffect(()=>{y.current=h},[h]);const w=_.useMemo(()=>({activeIndex:m,containerId:d,disabled:S,disableTransforms:x,items:h,overIndex:g,useDragOverlay:p,sortedRects:TX(h,l),strategy:i}),[m,d,S.draggable,S.droppable,x,h,g,l,p,i]);return I.createElement(O$.Provider,{value:w},t)}const $X=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return a_(r,n,i).indexOf(t)},LX=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:c}=e;return!c||!n||s!==a&&i===o?!1:r?!0:o!==i&&t===l},BX={duration:200,easing:"ease"},C$="transform",FX=Tc.Transition.toString({property:C$,duration:0,easing:"linear"}),zX={roleDescription:"sortable"};function qX(e){let{disabled:t,index:r,node:n,rect:i}=e;const[a,o]=_.useState(null),s=_.useRef(r);return ai(()=>{if(!t&&r!==s.current&&n.current){const l=i.current;if(l){const c=ll(n.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}r!==s.current&&(s.current=r)},[t,r,n,i]),_.useEffect(()=>{a&&o(null)},[a]),a}function UX(e){let{animateLayoutChanges:t=LX,attributes:r,disabled:n,data:i,getNewIndex:a=$X,id:o,strategy:s,resizeObserverConfig:l,transition:c=BX}=e;const{items:u,containerId:d,activeIndex:p,disabled:h,disableTransforms:v,sortedRects:m,overIndex:g,useDragOverlay:y,strategy:b}=_.useContext(O$),x=WX(n,h),S=u.indexOf(o),w=_.useMemo(()=>({sortable:{containerId:d,index:S,items:u},...i}),[d,i,S,u]),j=_.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:E,node:C,isOver:P,setNodeRef:O}=PX({id:o,data:w,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...l}}),{active:N,activatorEvent:T,activeNodeRect:D,attributes:k,setNodeRef:R,listeners:F,isDragging:B,over:U,setActivatorNodeRef:L,transform:M}=kX({id:o,data:w,attributes:{...zX,...r},disabled:x.draggable}),H=lY(O,R),z=!!N,$=z&&!v&&fd(p)&&fd(g),Q=!y&&B,Z=Q&&$?M:null,le=$?Z??(s??b)({rects:m,activeNodeRect:D,activeIndex:p,overIndex:g,index:S}):null,ue=fd(p)&&fd(g)?a({id:o,items:u,activeIndex:p,overIndex:g}):S,ee=N?.id,te=_.useRef({activeId:ee,items:u,newIndex:ue,containerId:d}),ce=u!==te.current.items,J=t({active:N,containerId:d,isDragging:B,isSorting:z,id:o,index:S,items:u,newIndex:te.current.newIndex,previousItems:te.current.items,previousContainerId:te.current.containerId,transition:c,wasDragging:te.current.activeId!=null}),ne=qX({disabled:!J,index:S,node:C,rect:E});return _.useEffect(()=>{z&&te.current.newIndex!==ue&&(te.current.newIndex=ue),d!==te.current.containerId&&(te.current.containerId=d),u!==te.current.items&&(te.current.items=u)},[z,ue,d,u]),_.useEffect(()=>{if(ee===te.current.activeId)return;if(ee!=null&&te.current.activeId==null){te.current.activeId=ee;return}const K=setTimeout(()=>{te.current.activeId=ee},50);return()=>clearTimeout(K)},[ee]),{active:N,activeIndex:p,attributes:k,data:w,rect:E,index:S,newIndex:ue,items:u,isOver:P,isSorting:z,isDragging:B,listeners:F,node:C,overIndex:g,over:U,setNodeRef:H,setActivatorNodeRef:L,setDroppableNodeRef:O,setDraggableNodeRef:R,transform:ne??le,transition:A()};function A(){if(ne||ce&&te.current.newIndex===S)return FX;if(!(Q&&!e_(T)||!c)&&(z||J))return Tc.Transition.toString({...c,property:C$})}}function WX(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function xf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const HX=[tt.Down,tt.Right,tt.Up,tt.Left],VX=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(HX.includes(e.code)){if(e.preventDefault(),!r||!n)return;const l=[];a.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const p=i.get(d.id);if(p)switch(e.code){case tt.Down:n.top<p.top&&l.push(d);break;case tt.Up:n.top>p.top&&l.push(d);break;case tt.Left:n.left>p.left&&l.push(d);break;case tt.Right:n.left<p.left&&l.push(d);break}});const c=EY({collisionRect:n,droppableRects:i,droppableContainers:l});let u=f$(c,"id");if(u===o?.id&&c.length>1&&(u=c[1].id),u!=null){const d=a.get(r.id),p=a.get(u),h=p?i.get(p.id):null,v=p?.node.current;if(v&&h&&d&&p){const g=hp(v).some((j,E)=>s[E]!==j),y=P$(d,p),b=KX(d,p),x=g||!y?{x:0,y:0}:{x:b?n.width-h.width:0,y:b?n.height-h.height:0},S={x:h.left,y:h.top};return x.x&&x.y?S:Pc(S,x)}}}};function P$(e,t){return!xf(e)||!xf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function KX(e,t){return!xf(e)||!xf(t)||!P$(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function GX({habit:e,isEditing:t,editTitle:r,editColor:n,isPrivacyMode:i,isDeleting:a,isUpdating:o,onStartEdit:s,onCancelEdit:l,onSaveEdit:c,onRemove:u,setEditTitle:d,setEditColor:p}){const{attributes:h,listeners:v,setNodeRef:m,transform:g,transition:y,isDragging:b}=UX({id:e.id}),x={transform:Tc.Transform.toString(g),transition:y,opacity:b?.5:1};return f.jsx("div",{ref:m,style:x,children:t?f.jsxs("div",{className:"rounded-xl p-3 bg-primary/10 border border-primary/30 space-y-3",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Nome"}),f.jsx(va,{value:r,onChange:S=>d(S.target.value),className:"bg-black/30 border-white/10 h-9 rounded-lg",autoFocus:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colore"}),f.jsx(X1,{value:n,onChange:p})]}),f.jsxs("div",{className:"flex gap-2 pt-1",children:[f.jsxs(Ge,{size:"sm",variant:"ghost",onClick:l,className:"flex-1 h-8 rounded-lg",children:[f.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Annulla"]}),f.jsxs(Ge,{size:"sm",onClick:c,disabled:!r.trim()||o,className:"flex-1 h-8 rounded-lg",children:[f.jsx(Lh,{className:"h-4 w-4 mr-1"}),o?"Salvando...":"Salva"]})]})]}):f.jsxs("div",{className:"group flex items-center gap-2 rounded-xl p-3 bg-white/5 border border-transparent hover:border-white/10 hover:bg-white/10 transition-all",children:[f.jsx("div",{...h,...v,className:"cursor-grab active:cursor-grabbing opacity-40 group-hover:opacity-100 transition-opacity touch-none",children:f.jsx(u6,{className:"h-4 w-4 text-muted-foreground"})}),f.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor] shrink-0",style:{backgroundColor:e.color,color:e.color}}),f.jsx("span",{className:ae("text-sm font-medium transition-all duration-300 truncate",i&&"blur-sm"),children:e.title})]}),f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>s(e),className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-primary hover:bg-primary/10 transition-all rounded-lg",children:f.jsx(_6,{className:"h-4 w-4"})}),f.jsxs(ro,{children:[f.jsx(ys,{asChild:!0,children:f.jsx(Ge,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-destructive hover:bg-destructive/10 transition-all rounded-lg",children:f.jsx(d1,{className:"h-4 w-4"})})}),f.jsxs(sa,{children:[f.jsxs(la,{children:[f.jsx(ua,{children:"Sei sicuro?"}),f.jsx(da,{children:"Stai per rimuovere questa abitudine. Se ha dei dati associati, verr archiviata per preservare lo storico. Altrimenti verr eliminata definitivamente."})]}),f.jsxs(ca,{children:[f.jsx(po,{children:"Annulla"}),f.jsx(fa,{onClick:()=>u(e.id),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:a,children:a?"Eliminazione...":"Conferma elimina"})]})]})]})]})]})})}function YX({habits:e,onAddHabit:t,onRemoveHabit:r,onUpdateHabit:n,onUpdateOrder:i,isDeleting:a,isUpdating:o,isPrivacyMode:s=!1}){const[l,c]=_.useState(!1),u=_.useMemo(()=>[...e].sort((D,k)=>{const R=D.display_order??999999,F=k.display_order??999999;return R!==F?R-F:new Date(D.created_at).getTime()-new Date(k.created_at).getTime()}),[e]),[d,p]=_.useState(u);_.useEffect(()=>{p(u)},[u]);const[h,v]=_.useState(""),[m,g]=_.useState("hsl(145 55% 42%)"),[y,b]=_.useState(null),[x,S]=_.useState(""),[w,j]=_.useState(""),E=_Y(Lm(i_),Lm(w$),Lm(r_,{coordinateGetter:VX})),C=()=>{h.trim()&&(t({title:h,color:m}),v(""),g("hsl(145 55% 42%)"))},P=D=>{b(D),S(D.title),j(D.color)},O=()=>{b(null),S(""),j("")},N=()=>{y&&x.trim()&&n&&(n({id:y.id,title:x.trim(),color:w}),O())},T=D=>{const{active:k,over:R}=D;!R||k.id===R.id||p(F=>{const B=F.findIndex(M=>M.id===k.id),U=F.findIndex(M=>M.id===R.id),L=a_(F,B,U);if(i){const M=L.map((H,z)=>({id:H.id,display_order:z+1}));i(M)}return L})};return f.jsxs(cp,{open:l,onOpenChange:c,children:[f.jsx(K1,{asChild:!0,children:f.jsx(Ge,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",children:f.jsx(CR,{className:"h-4 w-4"})})}),f.jsxs(Au,{className:"sm:max-w-[425px] max-h-[85vh] flex flex-col bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground p-0 gap-0",children:[f.jsxs(up,{className:"p-6 pb-2 shrink-0",children:[f.jsx(Ou,{children:"Gestisci Abitudini"}),f.jsx(Cu,{children:"Aggiungi, modifica o riordina le abitudini che vuoi tracciare. Trascina per riordinare."})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-8",children:[f.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:f.jsx(w0,{className:"h-4 w-4"})}),f.jsx("h4",{className:"text-sm font-display font-bold",children:"Nuova Abitudine"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Nome"}),f.jsx(va,{placeholder:"Es. Bere acqua, Leggere...",value:h,onChange:D=>v(D.target.value),className:"bg-black/30 border-white/10 h-10 rounded-xl"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Colore"}),f.jsx(X1,{value:m,onChange:g})]}),f.jsx(Ge,{onClick:C,disabled:!h.trim(),className:"w-full rounded-xl",children:"Aggiungi al Protocollo"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"text-sm font-display font-bold px-1",children:"Le tue Abitudini"}),f.jsx(SX,{sensors:E,collisionDetection:jY,onDragEnd:T,children:f.jsx(MX,{items:d.map(D=>D.id),strategy:IX,children:f.jsxs("div",{className:"space-y-2",children:[d.map(D=>f.jsx(GX,{habit:D,isEditing:y?.id===D.id,editTitle:x,editColor:w,isPrivacyMode:s,isDeleting:a,isUpdating:o,onStartEdit:P,onCancelEdit:O,onSaveEdit:N,onRemove:r,setEditTitle:S,setEditColor:j},D.id)),e.length===0&&f.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-muted-foreground space-y-2",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-white/5 flex items-center justify-center",children:f.jsx(w0,{className:"h-5 w-5 opacity-50"})}),f.jsx("p",{className:"text-sm",children:"Nessuna abitudine definita."})]})]})})})]})]})]})]})}const T$=_.forwardRef(({className:e,...t},r)=>f.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));T$.displayName="Textarea";var XX=_.createContext(void 0);function cl(e){const t=_.useContext(XX);return e||t||"ltr"}function Rc(e,[t,r]){return Math.min(r,Math.max(t,e))}function QX(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var o_="ScrollArea",[N$]=Ar(o_),[JX,gn]=N$(o_),R$=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,l]=_.useState(null),[c,u]=_.useState(null),[d,p]=_.useState(null),[h,v]=_.useState(null),[m,g]=_.useState(null),[y,b]=_.useState(0),[x,S]=_.useState(0),[w,j]=_.useState(!1),[E,C]=_.useState(!1),P=$e(t,N=>l(N)),O=cl(i);return f.jsx(JX,{scope:r,type:n,dir:O,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:u,content:d,onContentChange:p,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:w,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:S,children:f.jsx(ke.div,{dir:O,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});R$.displayName=o_;var I$="ScrollAreaViewport",D$=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,o=gn(I$,r),s=_.useRef(null),l=$e(t,s,o.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),f.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:f.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});D$.displayName=I$;var li="ScrollAreaScrollbar",s_=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=gn(li,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return _.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?f.jsx(ZX,{...n,ref:t,forceMount:r}):i.type==="scroll"?f.jsx(eQ,{...n,ref:t,forceMount:r}):i.type==="auto"?f.jsx(M$,{...n,ref:t,forceMount:r}):i.type==="always"?f.jsx(l_,{...n,ref:t}):null});s_.displayName=li;var ZX=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=gn(li,e.__scopeScrollArea),[a,o]=_.useState(!1);return _.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(Di,{present:r||a,children:f.jsx(M$,{"data-state":a?"visible":"hidden",...n,ref:t})})}),eQ=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=gn(li,e.__scopeScrollArea),a=e.orientation==="horizontal",o=vp(()=>l("SCROLL_END"),100),[s,l]=QX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),_.useEffect(()=>{const c=i.viewport,u=a?"scrollLeft":"scrollTop";if(c){let d=c[u];const p=()=>{const h=c[u];d!==h&&(l("SCROLL"),o()),d=h};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[i.viewport,a,l,o]),f.jsx(Di,{present:r||s!=="hidden",children:f.jsx(l_,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),M$=_.forwardRef((e,t)=>{const r=gn(li,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=_.useState(!1),s=e.orientation==="horizontal",l=vp(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?c:u)}},10);return bs(r.viewport,l),bs(r.content,l),f.jsx(Di,{present:n||a,children:f.jsx(l_,{"data-state":a?"visible":"hidden",...i,ref:t})})}),l_=_.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=gn(li,e.__scopeScrollArea),a=_.useRef(null),o=_.useRef(0),[s,l]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=z$(s.viewport,s.content),u={...n,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function d(p,h){return oQ(p,o.current,s,h)}return r==="horizontal"?f.jsx(tQ,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollLeft,h=DE(p,s,i.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=d(p,i.dir))}}):r==="vertical"?f.jsx(rQ,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollTop,h=DE(p,s);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=d(p))}}):null}),tQ=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=gn(li,e.__scopeScrollArea),[o,s]=_.useState(),l=_.useRef(null),c=$e(t,l,a.onScrollbarXChange);return _.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.jsx(L$,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gp(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(a.viewport){const p=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),U$(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:_f(o.paddingLeft),paddingEnd:_f(o.paddingRight)}})}})}),rQ=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=gn(li,e.__scopeScrollArea),[o,s]=_.useState(),l=_.useRef(null),c=$e(t,l,a.onScrollbarYChange);return _.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.jsx(L$,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gp(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(a.viewport){const p=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),U$(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:_f(o.paddingTop),paddingEnd:_f(o.paddingBottom)}})}})}),[nQ,$$]=N$(li),L$=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...p}=e,h=gn(li,r),[v,m]=_.useState(null),g=$e(t,P=>m(P)),y=_.useRef(null),b=_.useRef(""),x=h.viewport,S=n.content-n.viewport,w=Lt(u),j=Lt(l),E=vp(d,10);function C(P){if(y.current){const O=P.clientX-y.current.left,N=P.clientY-y.current.top;c({x:O,y:N})}}return _.useEffect(()=>{const P=O=>{const N=O.target;v?.contains(N)&&w(O,S)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[x,v,S,w]),_.useEffect(j,[n,j]),bs(v,E),bs(h.content,E),f.jsx(nQ,{scope:r,scrollbar:v,hasThumb:i,onThumbChange:Lt(a),onThumbPointerUp:Lt(o),onThumbPositionChange:j,onThumbPointerDown:Lt(s),children:f.jsx(ke.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:Ee(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:Ee(e.onPointerMove,C),onPointerUp:Ee(e.onPointerUp,P=>{const O=P.target;O.hasPointerCapture(P.pointerId)&&O.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})})}),wf="ScrollAreaThumb",B$=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=$$(wf,e.__scopeScrollArea);return f.jsx(Di,{present:r||i.hasThumb,children:f.jsx(iQ,{ref:t,...n})})}),iQ=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=gn(wf,r),o=$$(wf,r),{onThumbPositionChange:s}=o,l=$e(t,d=>o.onThumbChange(d)),c=_.useRef(void 0),u=vp(()=>{c.current&&(c.current(),c.current=void 0)},100);return _.useEffect(()=>{const d=a.viewport;if(d){const p=()=>{if(u(),!c.current){const h=sQ(d,s);c.current=h,s()}};return s(),d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[a.viewport,u,s]),f.jsx(ke.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(e.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),v=d.clientX-h.left,m=d.clientY-h.top;o.onThumbPointerDown({x:v,y:m})}),onPointerUp:Ee(e.onPointerUp,o.onThumbPointerUp)})});B$.displayName=wf;var c_="ScrollAreaCorner",F$=_.forwardRef((e,t)=>{const r=gn(c_,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?f.jsx(aQ,{...e,ref:t}):null});F$.displayName=c_;var aQ=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=gn(c_,r),[a,o]=_.useState(0),[s,l]=_.useState(0),c=!!(a&&s);return bs(i.scrollbarX,()=>{const u=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(u),l(u)}),bs(i.scrollbarY,()=>{const u=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(u),o(u)}),c?f.jsx(ke.div,{...n,ref:t,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _f(e){return e?parseInt(e,10):0}function z$(e,t){const r=e/t;return isNaN(r)?0:r}function gp(e){const t=z$(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function oQ(e,t,r,n="ltr"){const i=gp(r),a=i/2,o=t||a,s=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return q$([l,c],d)(e)}function DE(e,t,r="ltr"){const n=gp(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],c=Rc(e,l);return q$([0,o],[0,s])(c)}function q$(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function U$(e,t){return e>0&&e<t}var sQ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&t(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function vp(e,t){const r=Lt(e),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function bs(e,t){const r=Lt(t);Ht(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var W$=R$,lQ=D$,cQ=F$;const u_=_.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(W$,{ref:n,className:ae("relative overflow-hidden",e),...r,children:[f.jsx(lQ,{className:"h-full w-full rounded-[inherit]",children:t}),f.jsx(H$,{}),f.jsx(cQ,{})]}));u_.displayName=W$.displayName;const H$=_.forwardRef(({className:e,orientation:t="vertical",...r},n)=>f.jsx(s_,{ref:n,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:f.jsx(B$,{className:"relative flex-1 rounded-full bg-border"})}));H$.displayName=s_.displayName;function uQ(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const dQ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fQ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hQ={};function ME(e,t){return(hQ.jsx?fQ:dQ).test(e)}const pQ=/[ \t\n\f\r]/g;function mQ(e){return typeof e=="object"?e.type==="text"?$E(e.value):!1:$E(e)}function $E(e){return e.replace(pQ,"")===""}class Ru{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Ru.prototype.normal={};Ru.prototype.property={};Ru.prototype.space=void 0;function V$(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Ru(r,n,t)}function sx(e){return e.toLowerCase()}class Dr{constructor(t,r){this.attribute=r,this.property=t}}Dr.prototype.attribute="";Dr.prototype.booleanish=!1;Dr.prototype.boolean=!1;Dr.prototype.commaOrSpaceSeparated=!1;Dr.prototype.commaSeparated=!1;Dr.prototype.defined=!1;Dr.prototype.mustUseProperty=!1;Dr.prototype.number=!1;Dr.prototype.overloadedBoolean=!1;Dr.prototype.property="";Dr.prototype.spaceSeparated=!1;Dr.prototype.space=void 0;let gQ=0;const We=Eo(),Ft=Eo(),lx=Eo(),me=Eo(),St=Eo(),cs=Eo(),$r=Eo();function Eo(){return 2**++gQ}const cx=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:Ft,commaOrSpaceSeparated:$r,commaSeparated:cs,number:me,overloadedBoolean:lx,spaceSeparated:St},Symbol.toStringTag,{value:"Module"})),qm=Object.keys(cx);class d_ extends Dr{constructor(t,r,n,i){let a=-1;if(super(t,r),LE(this,"space",i),typeof n=="number")for(;++a<qm.length;){const o=qm[a];LE(this,qm[a],(n&cx[o])===cx[o])}}}d_.prototype.defined=!0;function LE(e,t,r){r&&(e[t]=r)}function ul(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new d_(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[sx(n)]=n,r[sx(a.attribute)]=n}return new Ru(t,r,e.space)}const K$=ul({properties:{ariaActiveDescendant:null,ariaAtomic:Ft,ariaAutoComplete:null,ariaBusy:Ft,ariaChecked:Ft,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:St,ariaCurrent:null,ariaDescribedBy:St,ariaDetails:null,ariaDisabled:Ft,ariaDropEffect:St,ariaErrorMessage:null,ariaExpanded:Ft,ariaFlowTo:St,ariaGrabbed:Ft,ariaHasPopup:null,ariaHidden:Ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:St,ariaLevel:me,ariaLive:null,ariaModal:Ft,ariaMultiLine:Ft,ariaMultiSelectable:Ft,ariaOrientation:null,ariaOwns:St,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Ft,ariaReadOnly:Ft,ariaRelevant:null,ariaRequired:Ft,ariaRoleDescription:St,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Ft,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function G$(e,t){return t in e?e[t]:t}function Y$(e,t){return G$(e,t.toLowerCase())}const vQ=ul({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cs,acceptCharset:St,accessKey:St,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:St,autoFocus:We,autoPlay:We,blocking:St,capture:null,charSet:null,checked:We,cite:null,className:St,cols:me,colSpan:null,content:null,contentEditable:Ft,controls:We,controlsList:St,coords:me|cs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:lx,draggable:Ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:St,height:me,hidden:lx,high:me,href:null,hrefLang:null,htmlFor:St,httpEquiv:St,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:St,itemRef:St,itemScope:We,itemType:St,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:me,pattern:null,ping:St,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:St,required:We,reversed:We,rows:me,rowSpan:me,sandbox:St,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:Ft,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:St,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Ft,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:Y$}),yQ=ul({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$r,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:St,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cs,g2:cs,glyphName:cs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:$r,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:St,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$r,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$r,rev:$r,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$r,requiredFeatures:$r,requiredFonts:$r,requiredFormats:$r,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:$r,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$r,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$r,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:G$}),X$=ul({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Q$=ul({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Y$}),J$=ul({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),bQ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xQ=/[A-Z]/g,BE=/-[a-z]/g,wQ=/^data[-\w.:]+$/i;function _Q(e,t){const r=sx(t);let n=t,i=Dr;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&wQ.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(BE,jQ);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!BE.test(a)){let o=a.replace(xQ,SQ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=d_}return new i(n,t)}function SQ(e){return"-"+e.toLowerCase()}function jQ(e){return e.charAt(1).toUpperCase()}const EQ=V$([K$,vQ,X$,Q$,J$],"html"),f_=V$([K$,yQ,X$,Q$,J$],"svg");function kQ(e){return e.join(" ").trim()}var Bo={},Um,FE;function AQ(){if(FE)return Um;FE=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",u="*",d="",p="comment",h="declaration";function v(g,y){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];y=y||{};var b=1,x=1;function S(k){var R=k.match(t);R&&(b+=R.length);var F=k.lastIndexOf(l);x=~F?k.length-F:x+k.length}function w(){var k={line:b,column:x};return function(R){return R.position=new j(k),P(),R}}function j(k){this.start=k,this.end={line:b,column:x},this.source=y.source}j.prototype.content=g;function E(k){var R=new Error(y.source+":"+b+":"+x+": "+k);if(R.reason=k,R.filename=y.source,R.line=b,R.column=x,R.source=g,!y.silent)throw R}function C(k){var R=k.exec(g);if(R){var F=R[0];return S(F),g=g.slice(F.length),R}}function P(){C(r)}function O(k){var R;for(k=k||[];R=N();)R!==!1&&k.push(R);return k}function N(){var k=w();if(!(c!=g.charAt(0)||u!=g.charAt(1))){for(var R=2;d!=g.charAt(R)&&(u!=g.charAt(R)||c!=g.charAt(R+1));)++R;if(R+=2,d===g.charAt(R-1))return E("End of comment missing");var F=g.slice(2,R-2);return x+=2,S(F),g=g.slice(R),x+=2,k({type:p,comment:F})}}function T(){var k=w(),R=C(n);if(R){if(N(),!C(i))return E("property missing ':'");var F=C(a),B=k({type:h,property:m(R[0].replace(e,d)),value:F?m(F[0].replace(e,d)):d});return C(o),B}}function D(){var k=[];O(k);for(var R;R=T();)R!==!1&&(k.push(R),O(k));return k}return P(),D()}function m(g){return g?g.replace(s,d):d}return Um=v,Um}var zE;function OQ(){if(zE)return Bo;zE=1;var e=Bo&&Bo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.default=r;const t=e(AQ());function r(n,i){let a=null;if(!n||typeof n!="string")return a;const o=(0,t.default)(n),s=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:u}=l;s?i(c,u,l):u&&(a=a||{},a[c]=u)}),a}return Bo}var Rl={},qE;function CQ(){if(qE)return Rl;qE=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(c){return!c||r.test(c)||e.test(c)},o=function(c,u){return u.toUpperCase()},s=function(c,u){return"".concat(u,"-")},l=function(c,u){return u===void 0&&(u={}),a(c)?c:(c=c.toLowerCase(),u.reactCompat?c=c.replace(i,s):c=c.replace(n,s),c.replace(t,o))};return Rl.camelCase=l,Rl}var Il,UE;function PQ(){if(UE)return Il;UE=1;var e=Il&&Il.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(OQ()),r=CQ();function n(i,a){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(s,l){s&&l&&(o[(0,r.camelCase)(s,a)]=l)}),o}return n.default=n,Il=n,Il}var TQ=PQ();const NQ=nt(TQ),Z$=e5("end"),h_=e5("start");function e5(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function RQ(e){const t=h_(e),r=Z$(e);if(t&&r)return{start:t,end:r}}function lc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?WE(e.position):"start"in e||"end"in e?WE(e):"line"in e||"column"in e?ux(e):""}function ux(e){return HE(e&&e.line)+":"+HE(e&&e.column)}function WE(e){return ux(e&&e.start)+"-"+ux(e&&e.end)}function HE(e){return e&&typeof e=="number"?e:1}class vr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},o=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=lc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}vr.prototype.file="";vr.prototype.name="";vr.prototype.reason="";vr.prototype.message="";vr.prototype.stack="";vr.prototype.column=void 0;vr.prototype.line=void 0;vr.prototype.ancestors=void 0;vr.prototype.cause=void 0;vr.prototype.fatal=void 0;vr.prototype.place=void 0;vr.prototype.ruleId=void 0;vr.prototype.source=void 0;const p_={}.hasOwnProperty,IQ=new Map,DQ=/[A-Z]/g,MQ=new Set(["table","tbody","thead","tfoot","tr"]),$Q=new Set(["td","th"]),t5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function LQ(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=VQ(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=HQ(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?f_:EQ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=r5(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function r5(e,t,r){if(t.type==="element")return BQ(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return FQ(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return qQ(e,t,r);if(t.type==="mdxjsEsm")return zQ(e,t);if(t.type==="root")return UQ(e,t,r);if(t.type==="text")return WQ(e,t)}function BQ(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=f_,e.schema=i),e.ancestors.push(t);const a=i5(e,t.tagName,!1),o=KQ(e,t);let s=g_(e,t);return MQ.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!mQ(l):!0})),n5(e,o,a,t),m_(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function FQ(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Ic(e,t.position)}function zQ(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ic(e,t.position)}function qQ(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=f_,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:i5(e,t.name,!0),o=GQ(e,t),s=g_(e,t);return n5(e,o,a,t),m_(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function UQ(e,t,r){const n={};return m_(n,g_(e,t)),e.create(t,e.Fragment,n,r)}function WQ(e,t){return t.value}function n5(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function m_(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function HQ(e,t,r){return n;function n(i,a,o,s){const c=Array.isArray(o.children)?r:t;return s?c(a,o,s):c(a,o)}}function VQ(e,t){return r;function r(n,i,a,o){const s=Array.isArray(a.children),l=h_(n);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function KQ(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&p_.call(t.properties,i)){const a=YQ(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&$Q.has(t.tagName)?n=s:r[o]=s}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function GQ(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(r,e.evaluater.evaluateExpression(s.argument))}else Ic(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const s=n.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else Ic(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function g_(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:IQ;for(;++n<t.children.length;){const a=t.children[n];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=r5(e,a,o);s!==void 0&&r.push(s)}return r}function YQ(e,t,r){const n=_Q(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?uQ(r):kQ(r)),n.property==="style"){let i=typeof r=="object"?r:XQ(e,String(r));return e.stylePropertyNameCase==="css"&&(i=QQ(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?bQ[n.property]||n.property:n.attribute,r]}}function XQ(e,t){try{return NQ(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new vr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=t5+"#cannot-parse-style-attribute",i}}function i5(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=ME(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}n=o}else n=ME(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return p_.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Ic(e)}function Ic(e,t){const r=new vr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=t5+"#cannot-handle-mdx-estrees-without-createevaluater",r}function QQ(e){const t={};let r;for(r in e)p_.call(e,r)&&(t[JQ(r)]=e[r]);return t}function JQ(e){let t=e.replace(DQ,ZQ);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ZQ(e){return"-"+e.toLowerCase()}const Wm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},eJ={};function v_(e,t){const r=eJ,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return a5(e,n,i)}function a5(e,t,r){if(tJ(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return VE(e.children,t,r)}return Array.isArray(e)?VE(e,t,r):""}function VE(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=a5(e[i],t,r);return n.join("")}function tJ(e){return!!(e&&typeof e=="object")}const KE=document.createElement("i");function y_(e){const t="&"+e+";";KE.innerHTML=t;const r=KE.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Gr(e,t,r,n){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);a<n.length;)o=n.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function on(e,t){return e.length>0?(Gr(e,e.length,0,t),e):t}const GE={}.hasOwnProperty;function o5(e){const t={};let r=-1;for(;++r<e.length;)rJ(t,e[r]);return t}function rJ(e,t){let r;for(r in t){const i=(GE.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let o;if(a)for(o in a){GE.call(i,o)||(i[o]=[]);const s=a[o];nJ(i[o],Array.isArray(s)?s:s?[s]:[])}}}function nJ(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Gr(e,0,0,n)}function s5(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Nn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const wr=_a(/[A-Za-z]/),gr=_a(/[\dA-Za-z]/),iJ=_a(/[#-'*+\--9=?A-Z^-~]/);function Sf(e){return e!==null&&(e<32||e===127)}const dx=_a(/\d/),aJ=_a(/[\dA-Fa-f]/),oJ=_a(/[!-/:-@[-`{-~]/);function Re(e){return e!==null&&e<-2}function wt(e){return e!==null&&(e<0||e===32)}function Xe(e){return e===-2||e===-1||e===32}const yp=_a(new RegExp("\\p{P}|\\p{S}","u")),mo=_a(/\s/);function _a(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function dl(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let o="";if(a===37&&gr(e.charCodeAt(r+1))&&gr(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(r+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(n,r),encodeURIComponent(o)),n=r+i+1,o=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function rt(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Xe(l)?(e.enter(r),s(l)):t(l)}function s(l){return Xe(l)&&a++<i?(e.consume(l),s):(e.exit(r),t(l))}}const sJ={tokenize:lJ};function lJ(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),rt(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Re(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const cJ={tokenize:uJ},YE={tokenize:dJ};function uJ(e){const t=this,r=[];let n=0,i,a,o;return s;function s(x){if(n<r.length){const S=r[n];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(x)}return c(x)}function l(x){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let w=S,j;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){j=t.events[w][1].end;break}y(n);let E=S;for(;E<t.events.length;)t.events[E][1].end={...j},E++;return Gr(t.events,w+1,0,t.events.slice(S)),t.events.length=E,c(x)}return s(x)}function c(x){if(n===r.length){if(!i)return p(x);if(i.currentConstruct&&i.currentConstruct.concrete)return v(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(YE,u,d)(x)}function u(x){return i&&b(),y(n),p(x)}function d(x){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,v(x)}function p(x){return t.containerState={},e.attempt(YE,h,v)(x)}function h(x){return n++,r.push([t.currentConstruct,t.containerState]),p(x)}function v(x){if(x===null){i&&b(),y(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(x)}function m(x){if(x===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(x);return}return Re(x)?(e.consume(x),g(e.exit("chunkFlow")),n=0,t.interrupt=void 0,s):(e.consume(x),m)}function g(x,S){const w=t.sliceStream(x);if(S&&w.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(w),t.parser.lazy[x.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const E=t.events.length;let C=E,P,O;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(P){O=t.events[C][1].end;break}P=!0}for(y(n),j=E;j<t.events.length;)t.events[j][1].end={...O},j++;Gr(t.events,C+1,0,t.events.slice(E)),t.events.length=j}}function y(x){let S=r.length;for(;S-- >x;){const w=r[S];t.containerState=w[1],w[0].exit.call(t,e)}r.length=x}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function dJ(e,t,r){return rt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xs(e){if(e===null||wt(e)||mo(e))return 1;if(yp(e))return 2}function bp(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const fx={name:"attention",resolveAll:fJ,tokenize:hJ};function fJ(e,t){let r=-1,n,i,a,o,s,l,c,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},p={...e[r][1].start};XE(d,-l),XE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[n][1].end={...o.start},e[r][1].start={...s.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=on(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=on(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=on(c,bp(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=on(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,c=on(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,Gr(e,n-1,r-n+3,c),r=n+c.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function hJ(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=xs(n);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),u=xs(l),d=!u||u===2&&i||r.includes(l),p=!i||i===2&&u||r.includes(n);return c._open=!!(a===42?d:d&&(i||!p)),c._close=!!(a===42?p:p&&(u||!d)),t(l)}}function XE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const pJ={name:"autolink",tokenize:mJ};function mJ(e,t,r){let n=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return wr(h)?(e.consume(h),o):h===64?r(h):c(h)}function o(h){return h===43||h===45||h===46||gr(h)?(n=1,s(h)):c(h)}function s(h){return h===58?(e.consume(h),n=0,l):(h===43||h===45||h===46||gr(h))&&n++<32?(e.consume(h),s):(n=0,c(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Sf(h)?r(h):(e.consume(h),l)}function c(h){return h===64?(e.consume(h),u):iJ(h)?(e.consume(h),c):r(h)}function u(h){return gr(h)?d(h):r(h)}function d(h){return h===46?(e.consume(h),n=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||gr(h))&&n++<63){const v=h===45?p:d;return e.consume(h),v}return r(h)}}const Iu={partial:!0,tokenize:gJ};function gJ(e,t,r){return n;function n(a){return Xe(a)?rt(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Re(a)?t(a):r(a)}}const l5={continuation:{tokenize:yJ},exit:bJ,name:"blockQuote",tokenize:vJ};function vJ(e,t,r){const n=this;return i;function i(o){if(o===62){const s=n.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return r(o)}function a(o){return Xe(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function yJ(e,t,r){const n=this;return i;function i(o){return Xe(o)?rt(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(l5,t,r)(o)}}function bJ(e){e.exit("blockQuote")}const c5={name:"characterEscape",tokenize:xJ};function xJ(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return oJ(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const u5={name:"characterReference",tokenize:wJ};function wJ(e,t,r){const n=this;let i=0,a,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=gr,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=aJ,u):(e.enter("characterReferenceValue"),a=7,o=dx,u(d))}function u(d){if(d===59&&i){const p=e.exit("characterReferenceValue");return o===gr&&!y_(n.sliceSerialize(p))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<a?(e.consume(d),u):r(d)}}const QE={partial:!0,tokenize:SJ},JE={concrete:!0,name:"codeFenced",tokenize:_J};function _J(e,t,r){const n=this,i={partial:!0,tokenize:w};let a=0,o=0,s;return l;function l(j){return c(j)}function c(j){const E=n.events[n.events.length-1];return a=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(j)}function u(j){return j===s?(o++,e.consume(j),u):o<3?r(j):(e.exit("codeFencedFenceSequence"),Xe(j)?rt(e,d,"whitespace")(j):d(j))}function d(j){return j===null||Re(j)?(e.exit("codeFencedFence"),n.interrupt?t(j):e.check(QE,m,S)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||Re(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(j)):Xe(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rt(e,h,"whitespace")(j)):j===96&&j===s?r(j):(e.consume(j),p)}function h(j){return j===null||Re(j)?d(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===null||Re(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(j)):j===96&&j===s?r(j):(e.consume(j),v)}function m(j){return e.attempt(i,S,g)(j)}function g(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),y}function y(j){return a>0&&Xe(j)?rt(e,b,"linePrefix",a+1)(j):b(j)}function b(j){return j===null||Re(j)?e.check(QE,m,S)(j):(e.enter("codeFlowValue"),x(j))}function x(j){return j===null||Re(j)?(e.exit("codeFlowValue"),b(j)):(e.consume(j),x)}function S(j){return e.exit("codeFenced"),t(j)}function w(j,E,C){let P=0;return O;function O(R){return j.enter("lineEnding"),j.consume(R),j.exit("lineEnding"),N}function N(R){return j.enter("codeFencedFence"),Xe(R)?rt(j,T,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):T(R)}function T(R){return R===s?(j.enter("codeFencedFenceSequence"),D(R)):C(R)}function D(R){return R===s?(P++,j.consume(R),D):P>=o?(j.exit("codeFencedFenceSequence"),Xe(R)?rt(j,k,"whitespace")(R):k(R)):C(R)}function k(R){return R===null||Re(R)?(j.exit("codeFencedFence"),E(R)):C(R)}}}function SJ(e,t,r){const n=this;return i;function i(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}const Hm={name:"codeIndented",tokenize:EJ},jJ={partial:!0,tokenize:kJ};function EJ(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),rt(e,a,"linePrefix",5)(c)}function a(c){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):r(c)}function o(c){return c===null?l(c):Re(c)?e.attempt(jJ,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Re(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function kJ(e,t,r){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?r(o):Re(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):rt(e,a,"linePrefix",5)(o)}function a(o){const s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Re(o)?i(o):r(o)}}const AJ={name:"codeText",previous:CJ,resolve:OJ,tokenize:PJ};function OJ(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function CJ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function PJ(e,t,r){let n=0,i,a;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),n++,s):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(a=e.enter("codeTextSequence"),i=0,u(d)):Re(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Re(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(a.type="codeTextData",c(d))}}class TJ{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Dl(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Dl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Dl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Dl(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Dl(this.left,r.reverse())}}}function Dl(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function d5(e){const t={};let r=-1,n,i,a,o,s,l,c;const u=new TJ(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,NJ(u,r)),r=t[r],c=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(o=u.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...u.get(i)[1].start},s=u.slice(i,r),s.unshift(n),u.splice(i,r-i+1,s))}}return Gr(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function NJ(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let u,d,p=-1,h=r,v=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);a.push(i),h._tokenizer||(u=n.sliceStream(h),h.next||u.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=r;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(m=p+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),p=g.length;p--;){const y=s.slice(g[p],g[p+1]),b=a.pop();l.push([b,b+y.length-1]),e.splice(b,2,y)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const RJ={resolve:DJ,tokenize:MJ},IJ={partial:!0,tokenize:$J};function DJ(e){return d5(e),e}function MJ(e,t){let r;return n;function n(s){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Re(s)?e.check(IJ,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function $J(e,t,r){const n=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),rt(e,a,"linePrefix")}function a(o){if(o===null||Re(o))return r(o);const s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}function f5(e,t,r,n,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(y){return y===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(y),e.exit(a),p):y===null||y===32||y===41||Sf(y)?r(y):(e.enter(n),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function p(y){return y===62?(e.enter(a),e.consume(y),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(s),p(y)):y===null||y===60||Re(y)?r(y):(e.consume(y),y===92?v:h)}function v(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!u&&(y===null||y===41||wt(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(n),t(y)):u<c&&y===40?(e.consume(y),u++,m):y===41?(e.consume(y),u--,m):y===null||y===32||y===40||Sf(y)?r(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function h5(e,t,r,n,i,a){const o=this;let s=0,l;return c;function c(h){return e.enter(n),e.enter(i),e.consume(h),e.exit(i),e.enter(a),u}function u(h){return s>999||h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?r(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):Re(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Re(h)||s++>999?(e.exit("chunkString"),u(h)):(e.consume(h),l||(l=!Xe(h)),h===92?p:d)}function p(h){return h===91||h===92||h===93?(e.consume(h),s++,d):d(h)}}function p5(e,t,r,n,i,a){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(n),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,l):r(p)}function l(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):(e.enter(a),c(p))}function c(p){return p===o?(e.exit(a),l(o)):p===null?r(p):Re(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),rt(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===o||p===null||Re(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?d:u)}function d(p){return p===o||p===92?(e.consume(p),u):u(p)}}function cc(e,t){let r;return n;function n(i){return Re(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):Xe(i)?rt(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const LJ={name:"definition",tokenize:FJ},BJ={partial:!0,tokenize:zJ};function FJ(e,t,r){const n=this;let i;return a;function a(h){return e.enter("definition"),o(h)}function o(h){return h5.call(n,e,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=Nn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):r(h)}function l(h){return wt(h)?cc(e,c)(h):c(h)}function c(h){return f5(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(BJ,d,d)(h)}function d(h){return Xe(h)?rt(e,p,"whitespace")(h):p(h)}function p(h){return h===null||Re(h)?(e.exit("definition"),n.parser.defined.push(i),t(h)):r(h)}}function zJ(e,t,r){return n;function n(s){return wt(s)?cc(e,i)(s):r(s)}function i(s){return p5(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Xe(s)?rt(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Re(s)?t(s):r(s)}}const qJ={name:"hardBreakEscape",tokenize:UJ};function UJ(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Re(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const WJ={name:"headingAtx",resolve:HJ,tokenize:VJ};function HJ(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Gr(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function VJ(e,t,r){let n=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&n++<6?(e.consume(u),o):u===null||wt(u)?(e.exit("atxHeadingSequence"),s(u)):r(u)}function s(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Re(u)?(e.exit("atxHeading"),t(u)):Xe(u)?rt(e,s,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||wt(u)?(e.exit("atxHeadingText"),s(u)):(e.consume(u),c)}}const KJ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ZE=["pre","script","style","textarea"],GJ={concrete:!0,name:"htmlFlow",resolveTo:QJ,tokenize:JJ},YJ={partial:!0,tokenize:eZ},XJ={partial:!0,tokenize:ZJ};function QJ(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function JJ(e,t,r){const n=this;let i,a,o,s,l;return c;function c($){return u($)}function u($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),d}function d($){return $===33?(e.consume($),p):$===47?(e.consume($),a=!0,m):$===63?(e.consume($),i=3,n.interrupt?t:M):wr($)?(e.consume($),o=String.fromCharCode($),g):r($)}function p($){return $===45?(e.consume($),i=2,h):$===91?(e.consume($),i=5,s=0,v):wr($)?(e.consume($),i=4,n.interrupt?t:M):r($)}function h($){return $===45?(e.consume($),n.interrupt?t:M):r($)}function v($){const Q="CDATA[";return $===Q.charCodeAt(s++)?(e.consume($),s===Q.length?n.interrupt?t:T:v):r($)}function m($){return wr($)?(e.consume($),o=String.fromCharCode($),g):r($)}function g($){if($===null||$===47||$===62||wt($)){const Q=$===47,Z=o.toLowerCase();return!Q&&!a&&ZE.includes(Z)?(i=1,n.interrupt?t($):T($)):KJ.includes(o.toLowerCase())?(i=6,Q?(e.consume($),y):n.interrupt?t($):T($)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r($):a?b($):x($))}return $===45||gr($)?(e.consume($),o+=String.fromCharCode($),g):r($)}function y($){return $===62?(e.consume($),n.interrupt?t:T):r($)}function b($){return Xe($)?(e.consume($),b):O($)}function x($){return $===47?(e.consume($),O):$===58||$===95||wr($)?(e.consume($),S):Xe($)?(e.consume($),x):O($)}function S($){return $===45||$===46||$===58||$===95||gr($)?(e.consume($),S):w($)}function w($){return $===61?(e.consume($),j):Xe($)?(e.consume($),w):x($)}function j($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),l=$,E):Xe($)?(e.consume($),j):C($)}function E($){return $===l?(e.consume($),l=null,P):$===null||Re($)?r($):(e.consume($),E)}function C($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||wt($)?w($):(e.consume($),C)}function P($){return $===47||$===62||Xe($)?x($):r($)}function O($){return $===62?(e.consume($),N):r($)}function N($){return $===null||Re($)?T($):Xe($)?(e.consume($),N):r($)}function T($){return $===45&&i===2?(e.consume($),F):$===60&&i===1?(e.consume($),B):$===62&&i===4?(e.consume($),H):$===63&&i===3?(e.consume($),M):$===93&&i===5?(e.consume($),L):Re($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(YJ,z,D)($)):$===null||Re($)?(e.exit("htmlFlowData"),D($)):(e.consume($),T)}function D($){return e.check(XJ,k,z)($)}function k($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),R}function R($){return $===null||Re($)?D($):(e.enter("htmlFlowData"),T($))}function F($){return $===45?(e.consume($),M):T($)}function B($){return $===47?(e.consume($),o="",U):T($)}function U($){if($===62){const Q=o.toLowerCase();return ZE.includes(Q)?(e.consume($),H):T($)}return wr($)&&o.length<8?(e.consume($),o+=String.fromCharCode($),U):T($)}function L($){return $===93?(e.consume($),M):T($)}function M($){return $===62?(e.consume($),H):$===45&&i===2?(e.consume($),M):T($)}function H($){return $===null||Re($)?(e.exit("htmlFlowData"),z($)):(e.consume($),H)}function z($){return e.exit("htmlFlow"),t($)}}function ZJ(e,t,r){const n=this;return i;function i(o){return Re(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):r(o)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}function eZ(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Iu,t,r)}}const tZ={name:"htmlText",tokenize:rZ};function rZ(e,t,r){const n=this;let i,a,o;return s;function s(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),l}function l(M){return M===33?(e.consume(M),c):M===47?(e.consume(M),w):M===63?(e.consume(M),x):wr(M)?(e.consume(M),C):r(M)}function c(M){return M===45?(e.consume(M),u):M===91?(e.consume(M),a=0,v):wr(M)?(e.consume(M),b):r(M)}function u(M){return M===45?(e.consume(M),h):r(M)}function d(M){return M===null?r(M):M===45?(e.consume(M),p):Re(M)?(o=d,B(M)):(e.consume(M),d)}function p(M){return M===45?(e.consume(M),h):d(M)}function h(M){return M===62?F(M):M===45?p(M):d(M)}function v(M){const H="CDATA[";return M===H.charCodeAt(a++)?(e.consume(M),a===H.length?m:v):r(M)}function m(M){return M===null?r(M):M===93?(e.consume(M),g):Re(M)?(o=m,B(M)):(e.consume(M),m)}function g(M){return M===93?(e.consume(M),y):m(M)}function y(M){return M===62?F(M):M===93?(e.consume(M),y):m(M)}function b(M){return M===null||M===62?F(M):Re(M)?(o=b,B(M)):(e.consume(M),b)}function x(M){return M===null?r(M):M===63?(e.consume(M),S):Re(M)?(o=x,B(M)):(e.consume(M),x)}function S(M){return M===62?F(M):x(M)}function w(M){return wr(M)?(e.consume(M),j):r(M)}function j(M){return M===45||gr(M)?(e.consume(M),j):E(M)}function E(M){return Re(M)?(o=E,B(M)):Xe(M)?(e.consume(M),E):F(M)}function C(M){return M===45||gr(M)?(e.consume(M),C):M===47||M===62||wt(M)?P(M):r(M)}function P(M){return M===47?(e.consume(M),F):M===58||M===95||wr(M)?(e.consume(M),O):Re(M)?(o=P,B(M)):Xe(M)?(e.consume(M),P):F(M)}function O(M){return M===45||M===46||M===58||M===95||gr(M)?(e.consume(M),O):N(M)}function N(M){return M===61?(e.consume(M),T):Re(M)?(o=N,B(M)):Xe(M)?(e.consume(M),N):P(M)}function T(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),i=M,D):Re(M)?(o=T,B(M)):Xe(M)?(e.consume(M),T):(e.consume(M),k)}function D(M){return M===i?(e.consume(M),i=void 0,R):M===null?r(M):Re(M)?(o=D,B(M)):(e.consume(M),D)}function k(M){return M===null||M===34||M===39||M===60||M===61||M===96?r(M):M===47||M===62||wt(M)?P(M):(e.consume(M),k)}function R(M){return M===47||M===62||wt(M)?P(M):r(M)}function F(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):r(M)}function B(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),U}function U(M){return Xe(M)?rt(e,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):L(M)}function L(M){return e.enter("htmlTextData"),o(M)}}const b_={name:"labelEnd",resolveAll:oZ,resolveTo:sZ,tokenize:lZ},nZ={tokenize:cZ},iZ={tokenize:uZ},aZ={tokenize:dZ};function oZ(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Gr(e,0,e.length,r),e}function sZ(e,t){let r=e.length,n=0,i,a,o,s;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=on(s,e.slice(a+1,a+n+3)),s=on(s,[["enter",u,t]]),s=on(s,bp(t.parser.constructs.insideSpan.null,e.slice(a+n+4,o-3),t)),s=on(s,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),s=on(s,e.slice(o+1)),s=on(s,[["exit",l,t]]),Gr(e,a,e.length,s),e}function lZ(e,t,r){const n=this;let i=n.events.length,a,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return s;function s(p){return a?a._inactive?d(p):(o=n.parser.defined.includes(Nn(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):r(p)}function l(p){return p===40?e.attempt(nZ,u,o?u:d)(p):p===91?e.attempt(iZ,u,o?c:d)(p):o?u(p):d(p)}function c(p){return e.attempt(aZ,u,d)(p)}function u(p){return t(p)}function d(p){return a._balanced=!0,r(p)}}function cZ(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return wt(d)?cc(e,a)(d):a(d)}function a(d){return d===41?u(d):f5(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return wt(d)?cc(e,l)(d):u(d)}function s(d){return r(d)}function l(d){return d===34||d===39||d===40?p5(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return wt(d)?cc(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function uZ(e,t,r){const n=this;return i;function i(s){return h5.call(n,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return n.parser.defined.includes(Nn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(s):r(s)}function o(s){return r(s)}}function dZ(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const fZ={name:"labelStartImage",resolveAll:b_.resolveAll,tokenize:hZ};function hZ(e,t,r){const n=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):r(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const pZ={name:"labelStartLink",resolveAll:b_.resolveAll,tokenize:mZ};function mZ(e,t,r){const n=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const Vm={name:"lineEnding",tokenize:gZ};function gZ(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),rt(e,t,"linePrefix")}}const Vd={name:"thematicBreak",tokenize:vZ};function vZ(e,t,r){let n=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||Re(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),Xe(c)?rt(e,s,"whitespace")(c):s(c))}}const Or={continuation:{tokenize:wZ},exit:SZ,name:"list",tokenize:xZ},yZ={partial:!0,tokenize:jZ},bZ={partial:!0,tokenize:_Z};function xZ(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(h){const v=n.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!n.containerState.marker||h===n.containerState.marker:dx(h)){if(n.containerState.type||(n.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Vd,r,c)(h):c(h);if(!n.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return r(h)}function l(h){return dx(h)&&++o<10?(e.consume(h),l):(!n.interrupt||o<2)&&(n.containerState.marker?h===n.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):r(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||h,e.check(Iu,n.interrupt?r:u,e.attempt(yZ,p,d))}function u(h){return n.containerState.initialBlankLine=!0,a++,p(h)}function d(h){return Xe(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):r(h)}function p(h){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function wZ(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Iu,i,a);function i(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,rt(e,t,"listItemIndent",n.containerState.size+1)(s)}function a(s){return n.containerState.furtherBlankLines||!Xe(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(bZ,t,o)(s))}function o(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,rt(e,e.attempt(Or,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function _Z(e,t,r){const n=this;return rt(e,i,"listItemIndent",n.containerState.size+1);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(a):r(a)}}function SZ(e){e.exit(this.containerState.type)}function jZ(e,t,r){const n=this;return rt(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=n.events[n.events.length-1];return!Xe(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const ek={name:"setextUnderline",resolveTo:EZ,tokenize:kZ};function EZ(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}function kZ(e,t,r){const n=this;let i;return a;function a(c){let u=n.events.length,d;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){d=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),i=c,o(c)):r(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Xe(c)?rt(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Re(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const AZ={tokenize:OZ};function OZ(e){const t=this,r=e.attempt(Iu,n,e.attempt(this.parser.constructs.flowInitial,i,rt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(RJ,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const CZ={resolveAll:g5()},PZ=m5("string"),TZ=m5("text");function m5(e){return{resolveAll:g5(e==="text"?NZ:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,o,s);return o;function o(u){return c(u)?a(u):s(u)}function s(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),l}function l(u){return c(u)?(r.exit("data"),a(u)):(r.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let p=-1;if(d)for(;++p<d.length;){const h=d[p];if(!h.previous||h.previous.call(n,n.previous))return!0}return!1}}}function g5(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function NZ(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(s=0),s){const c={type:r===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:n.start._bufferIndex+o,_index:n.start._index+a,line:n.end.line,column:n.end.column-s,offset:n.end.offset-s},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const RZ={42:Or,43:Or,45:Or,48:Or,49:Or,50:Or,51:Or,52:Or,53:Or,54:Or,55:Or,56:Or,57:Or,62:l5},IZ={91:LJ},DZ={[-2]:Hm,[-1]:Hm,32:Hm},MZ={35:WJ,42:Vd,45:[ek,Vd],60:GJ,61:ek,95:Vd,96:JE,126:JE},$Z={38:u5,92:c5},LZ={[-5]:Vm,[-4]:Vm,[-3]:Vm,33:fZ,38:u5,42:fx,60:[pJ,tZ],91:pZ,92:[qJ,c5],93:b_,95:fx,96:AJ},BZ={null:[fx,CZ]},FZ={null:[42,95]},zZ={null:[]},qZ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:FZ,contentInitial:IZ,disable:zZ,document:RZ,flow:MZ,flowInitial:DZ,insideSpan:BZ,string:$Z,text:LZ},Symbol.toStringTag,{value:"Module"}));function UZ(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:E(w),check:E(j),consume:b,enter:x,exit:S,interrupt:E(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:v,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(N){return o=on(o,N),g(),o[o.length-1]!==null?[]:(C(t,0),c.events=bp(a,c.events,c),c.events)}function p(N,T){return HZ(h(N),T)}function h(N){return WZ(o,N)}function v(){const{_bufferIndex:N,_index:T,line:D,column:k,offset:R}=n;return{_bufferIndex:N,_index:T,line:D,column:k,offset:R}}function m(N){i[N.line]=N.column,O()}function g(){let N;for(;n._index<o.length;){const T=o[n._index];if(typeof T=="string")for(N=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===N&&n._bufferIndex<T.length;)y(T.charCodeAt(n._bufferIndex));else y(T)}}function y(N){u=u(N)}function b(N){Re(N)?(n.line++,n.column=1,n.offset+=N===-3?2:1,O()):N!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=N}function x(N,T){const D=T||{};return D.type=N,D.start=v(),c.events.push(["enter",D,c]),s.push(D),D}function S(N){const T=s.pop();return T.end=v(),c.events.push(["exit",T,c]),T}function w(N,T){C(N,T.from)}function j(N,T){T.restore()}function E(N,T){return D;function D(k,R,F){let B,U,L,M;return Array.isArray(k)?z(k):"tokenize"in k?z([k]):H(k);function H(fe){return le;function le(ue){const ee=ue!==null&&fe[ue],te=ue!==null&&fe.null,ce=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(te)?te:te?[te]:[]];return z(ce)(ue)}}function z(fe){return B=fe,U=0,fe.length===0?F:$(fe[U])}function $(fe){return le;function le(ue){return M=P(),L=fe,fe.partial||(c.currentConstruct=fe),fe.name&&c.parser.constructs.disable.null.includes(fe.name)?Z():fe.tokenize.call(T?Object.assign(Object.create(c),T):c,l,Q,Z)(ue)}}function Q(fe){return N(L,M),R}function Z(fe){return M.restore(),++U<B.length?$(B[U]):F}}}function C(N,T){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&Gr(c.events,T,c.events.length-T,N.resolve(c.events.slice(T),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function P(){const N=v(),T=c.previous,D=c.currentConstruct,k=c.events.length,R=Array.from(s);return{from:k,restore:F};function F(){n=N,c.previous=T,c.currentConstruct=D,c.events.length=k,s=R,O()}}function O(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function WZ(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(r===i)o=[e[r].slice(n,a)];else{if(o=e.slice(r,i),n>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(n):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function HZ(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,n.push(o)}return n.join("")}function VZ(e){const n={constructs:o5([qZ,...(e||{}).extensions||[]]),content:i(sJ),defined:[],document:i(cJ),flow:i(AZ),lazy:{},string:i(PZ),text:i(TZ)};return n;function i(a){return o;function o(s){return UZ(n,a,s)}}}function KZ(e){for(;!d5(e););return e}const tk=/[\0\t\n\r]/g;function GZ(){let e=1,t="",r=!0,n;return i;function i(a,o,s){const l=[];let c,u,d,p,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),d=0,t="",r&&(a.charCodeAt(0)===65279&&d++,r=void 0);d<a.length;){if(tk.lastIndex=d,c=tk.exec(a),p=c&&c.index!==void 0?c.index:a.length,h=a.charCodeAt(p),!c){t=a.slice(d);break}if(h===10&&d===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),d<p&&(l.push(a.slice(d,p)),e+=p-d),h){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}d=p+1}return s&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const YZ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function XZ(e){return e.replace(YZ,QZ)}function QZ(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return s5(r.slice(a?2:1),a?16:10)}return y_(r)||e}const v5={}.hasOwnProperty;function JZ(e,t,r){return typeof t!="string"&&(r=t,t=void 0),ZZ(r)(KZ(VZ(r).document().write(GZ()(e,t,!0))))}function ZZ(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(G),autolinkProtocol:P,autolinkEmail:P,atxHeading:a(K),blockQuote:a(te),characterEscape:P,characterReference:P,codeFenced:a(ce),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ce,o),codeText:a(J,o),codeTextData:P,data:P,codeFlowValue:P,definition:a(ne),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(A),hardBreakEscape:a(V),hardBreakTrailing:a(V),htmlFlow:a(W,o),htmlFlowData:P,htmlText:a(W,o),htmlTextData:P,image:a(q),label:o,link:a(G),listItem:a(re),listItemValue:p,listOrdered:a(ie,d),listUnordered:a(ie),paragraph:a(X),reference:$,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(K),strong:a(de),thematicBreak:a(he)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:ee,autolinkProtocol:ue,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:fe,characterReference:le,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:v,codeFlowValue:O,codeIndented:l(y),codeText:l(R),codeTextData:O,data:O,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(D),htmlFlowData:O,htmlText:l(k),htmlTextData:O,image:l(B),label:L,labelText:U,lineEnding:N,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Q,resourceDestinationString:M,resourceTitleString:H,resource:z,setextHeading:l(C),setextHeadingLineSequence:E,setextHeadingText:j,strong:l(),thematicBreak:l()}};y5(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(Y){let oe={type:"root",children:[]};const ge={stack:[oe],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:u,data:r},Oe=[];let ze=-1;for(;++ze<Y.length;)if(Y[ze][1].type==="listOrdered"||Y[ze][1].type==="listUnordered")if(Y[ze][0]==="enter")Oe.push(ze);else{const Ve=Oe.pop();ze=i(Y,Ve,ze)}for(ze=-1;++ze<Y.length;){const Ve=t[Y[ze][0]];v5.call(Ve,Y[ze][1].type)&&Ve[Y[ze][1].type].call(Object.assign({sliceSerialize:Y[ze][2].sliceSerialize},ge),Y[ze][1])}if(ge.tokenStack.length>0){const Ve=ge.tokenStack[ge.tokenStack.length-1];(Ve[1]||rk).call(ge,void 0,Ve[0])}for(oe.position={start:Vi(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:Vi(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<t.transforms.length;)oe=t.transforms[ze](oe)||oe;return oe}function i(Y,oe,ge){let Oe=oe-1,ze=-1,Ve=!1,Tt,Ke,It,rr;for(;++Oe<=ge;){const Ze=Y[Oe];switch(Ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ze[0]==="enter"?ze++:ze--,rr=void 0;break}case"lineEndingBlank":{Ze[0]==="enter"&&(Tt&&!rr&&!ze&&!It&&(It=Oe),rr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rr=void 0}if(!ze&&Ze[0]==="enter"&&Ze[1].type==="listItemPrefix"||ze===-1&&Ze[0]==="exit"&&(Ze[1].type==="listUnordered"||Ze[1].type==="listOrdered")){if(Tt){let yr=Oe;for(Ke=void 0;yr--;){const je=Y[yr];if(je[1].type==="lineEnding"||je[1].type==="lineEndingBlank"){if(je[0]==="exit")continue;Ke&&(Y[Ke][1].type="lineEndingBlank",Ve=!0),je[1].type="lineEnding",Ke=yr}else if(!(je[1].type==="linePrefix"||je[1].type==="blockQuotePrefix"||je[1].type==="blockQuotePrefixWhitespace"||je[1].type==="blockQuoteMarker"||je[1].type==="listItemIndent"))break}It&&(!Ke||It<Ke)&&(Tt._spread=!0),Tt.end=Object.assign({},Ke?Y[Ke][1].start:Ze[1].end),Y.splice(Ke||Oe,0,["exit",Tt,Ze[2]]),Oe++,ge++}if(Ze[1].type==="listItemPrefix"){const yr={type:"listItem",_spread:!1,start:Object.assign({},Ze[1].start),end:void 0};Tt=yr,Y.splice(Oe,0,["enter",yr,Ze[2]]),Oe++,ge++,It=void 0,rr=!0}}}return Y[oe][1]._spread=Ve,ge}function a(Y,oe){return ge;function ge(Oe){s.call(this,Y(Oe),Oe),oe&&oe.call(this,Oe)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Y,oe,ge){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([oe,ge||void 0]),Y.position={start:Vi(oe.start),end:void 0}}function l(Y){return oe;function oe(ge){Y&&Y.call(this,ge),c.call(this,ge)}}function c(Y,oe){const ge=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==Y.type&&(oe?oe.call(this,Y,Oe[0]):(Oe[1]||rk).call(this,Y,Oe[0]));else throw new Error("Cannot close `"+Y.type+"` ("+lc({start:Y.start,end:Y.end})+"): its not open");ge.position.end=Vi(Y.end)}function u(){return v_(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(Y){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function h(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Y}function v(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Y}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/(\r?\n|\r)$/g,"")}function b(Y){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=oe,ge.identifier=Nn(this.sliceSerialize(Y)).toLowerCase()}function x(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function S(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function w(Y){const oe=this.stack[this.stack.length-1];if(!oe.depth){const ge=this.sliceSerialize(Y).length;oe.depth=ge}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function E(Y){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function P(Y){const ge=this.stack[this.stack.length-1].children;let Oe=ge[ge.length-1];(!Oe||Oe.type!=="text")&&(Oe=ve(),Oe.position={start:Vi(Y.start),end:void 0},ge.push(Oe)),this.stack.push(Oe)}function O(Y){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Y),oe.position.end=Vi(Y.end)}function N(Y){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=oe.children[oe.children.length-1];ge.position.end=Vi(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(P.call(this,Y),O.call(this,Y))}function T(){this.data.atHardBreak=!0}function D(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function k(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function R(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function F(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function B(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function U(Y){const oe=this.sliceSerialize(Y),ge=this.stack[this.stack.length-2];ge.label=XZ(oe),ge.identifier=Nn(oe).toLowerCase()}function L(){const Y=this.stack[this.stack.length-1],oe=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Oe=Y.children;ge.children=Oe}else ge.alt=oe}function M(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function H(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function z(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function Q(Y){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=oe,ge.identifier=Nn(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function Z(Y){this.data.characterReferenceType=Y.type}function fe(Y){const oe=this.sliceSerialize(Y),ge=this.data.characterReferenceType;let Oe;ge?(Oe=s5(oe,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=y_(oe);const ze=this.stack[this.stack.length-1];ze.value+=Oe}function le(Y){const oe=this.stack.pop();oe.position.end=Vi(Y.end)}function ue(Y){O.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Y)}function ee(Y){O.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Y)}function te(){return{type:"blockquote",children:[]}}function ce(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function A(){return{type:"emphasis",children:[]}}function K(){return{type:"heading",depth:0,children:[]}}function V(){return{type:"break"}}function W(){return{type:"html",value:""}}function q(){return{type:"image",title:null,url:"",alt:null}}function G(){return{type:"link",title:null,url:"",children:[]}}function ie(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function re(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function X(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function ve(){return{type:"text",value:""}}function he(){return{type:"thematicBreak"}}}function Vi(e){return{line:e.line,column:e.column,offset:e.offset}}function y5(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?y5(e,n):eee(e,n)}}function eee(e,t){let r;for(r in t)if(v5.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function rk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+lc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+lc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+lc({start:t.start,end:t.end})+") is still open")}function tee(e){const t=this;t.parser=r;function r(n){return JZ(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ree(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function nee(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function iee(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function aee(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function oee(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function see(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=dl(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let o,s=e.footnoteCounts.get(n);s===void 0?(s=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(n,s);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function lee(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cee(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function b5(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function uee(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return b5(e,t);const i={src:dl(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function dee(e,t){const r={src:dl(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function fee(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function hee(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return b5(e,t);const i={href:dl(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function pee(e,t){const r={href:dl(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mee(e,t,r){const n=e.all(t),i=r?gee(r):x5(t),a={},o=[];if(typeof t.checked=="boolean"){const u=n[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<n.length;){const u=n[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function gee(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=x5(r[n])}return t}function x5(e){const t=e.spread;return t??e.children.length>1}function vee(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function yee(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bee(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function xee(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function wee(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),i.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},s=h_(t.children[1]),l=Z$(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function _ee(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const d=t.children[l],p={},h=o?o[l]:void 0;h&&(p.align=h);let v={type:"element",tagName:a,properties:p,children:[]};d&&(v.children=e.all(d),e.patch(d,v),v=e.applyData(d,v)),c.push(v)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function See(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const nk=9,ik=32;function jee(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(ak(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(ak(t.slice(i),i>0,!1)),a.join("")}function ak(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===nk||a===ik;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===nk||a===ik;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function Eee(e,t){const r={type:"text",value:jee(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function kee(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const Aee={blockquote:ree,break:nee,code:iee,delete:aee,emphasis:oee,footnoteReference:see,heading:lee,html:cee,imageReference:uee,image:dee,inlineCode:fee,linkReference:hee,link:pee,listItem:mee,list:vee,paragraph:yee,root:bee,strong:xee,table:wee,tableCell:See,tableRow:_ee,text:Eee,thematicBreak:kee,toml:pd,yaml:pd,definition:pd,footnoteDefinition:pd};function pd(){}const w5=-1,xp=0,uc=1,jf=2,x_=3,w_=4,__=5,S_=6,_5=7,S5=8,ok=typeof self=="object"?self:globalThis,Oee=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case xp:case w5:return r(o,i);case uc:{const s=r([],i);for(const l of o)s.push(n(l));return s}case jf:{const s=r({},i);for(const[l,c]of o)s[n(l)]=n(c);return s}case x_:return r(new Date(o),i);case w_:{const{source:s,flags:l}=o;return r(new RegExp(s,l),i)}case __:{const s=r(new Map,i);for(const[l,c]of o)s.set(n(l),n(c));return s}case S_:{const s=r(new Set,i);for(const l of o)s.add(n(l));return s}case _5:{const{name:s,message:l}=o;return r(new ok[s](l),i)}case S5:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return r(new DataView(s),o)}}return r(new ok[a](o),i)};return n},sk=e=>Oee(new Map,e)(0),Fo="",{toString:Cee}={},{keys:Pee}=Object,Ml=e=>{const t=typeof e;if(t!=="object"||!e)return[xp,t];const r=Cee.call(e).slice(8,-1);switch(r){case"Array":return[uc,Fo];case"Object":return[jf,Fo];case"Date":return[x_,Fo];case"RegExp":return[w_,Fo];case"Map":return[__,Fo];case"Set":return[S_,Fo];case"DataView":return[uc,r]}return r.includes("Array")?[uc,r]:r.includes("Error")?[_5,r]:[jf,r]},md=([e,t])=>e===xp&&(t==="function"||t==="symbol"),Tee=(e,t,r,n)=>{const i=(o,s)=>{const l=n.push(o)-1;return r.set(s,l),l},a=o=>{if(r.has(o))return r.get(o);let[s,l]=Ml(o);switch(s){case xp:{let u=o;switch(l){case"bigint":s=S5,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([w5],o)}return i([s,u],o)}case uc:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const u=[],d=i([s,u],o);for(const p of o)u.push(a(p));return d}case jf:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const u=[],d=i([s,u],o);for(const p of Pee(o))(e||!md(Ml(o[p])))&&u.push([a(p),a(o[p])]);return d}case x_:return i([s,o.toISOString()],o);case w_:{const{source:u,flags:d}=o;return i([s,{source:u,flags:d}],o)}case __:{const u=[],d=i([s,u],o);for(const[p,h]of o)(e||!(md(Ml(p))||md(Ml(h))))&&u.push([a(p),a(h)]);return d}case S_:{const u=[],d=i([s,u],o);for(const p of o)(e||!md(Ml(p)))&&u.push(a(p));return d}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},lk=(e,{json:t,lossy:r}={})=>{const n=[];return Tee(!(t||r),!!t,new Map,n)(e),n},Ef=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?sk(lk(e,t)):structuredClone(e):(e,t)=>sk(lk(e,t));function Nee(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Ree(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Iee(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Nee,n=e.options.footnoteBackLabel||Ree,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),d=String(c.identifier).toUpperCase(),p=dl(d.toLowerCase());let h=0;const v=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++h<=m;){v.length>0&&v.push({type:"text",value:" "});let b=typeof r=="string"?r:r(l,h);typeof b=="string"&&(b={type:"text",value:b}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,h),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const g=u[u.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const b=g.children[g.children.length-1];b&&b.type==="text"?b.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...v)}else u.push(...v);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(u,!0)};e.patch(c,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ef(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const wp=(function(e){if(e==null)return Lee;if(typeof e=="function")return _p(e);if(typeof e=="object")return Array.isArray(e)?Dee(e):Mee(e);if(typeof e=="string")return $ee(e);throw new Error("Expected function, string, or object as test")});function Dee(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=wp(e[r]);return _p(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Mee(e){const t=e;return _p(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function $ee(e){return _p(t);function t(r){return r&&r.type===e}}function _p(e){return t;function t(r,n,i){return!!(Bee(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Lee(){return!0}function Bee(e){return e!==null&&typeof e=="object"&&"type"in e}const j5=[],Fee=!0,hx=!1,zee="skip";function E5(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=wp(i),o=n?-1:1;s(e,void 0,[])();function s(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=j5,v,m,g;if((!t||a(l,c,u[u.length-1]||void 0))&&(h=qee(r(l,u)),h[0]===hx))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==zee)for(m=(n?y.children.length:-1)+o,g=u.concat(y);m>-1&&m<y.children.length;){const b=y.children[m];if(v=s(b,m,g)(),v[0]===hx)return v;m=typeof v[1]=="number"?v[1]:m+o}}return h}}}function qee(e){return Array.isArray(e)?e:typeof e=="number"?[Fee,e]:e==null?j5:[e]}function j_(e,t,r,n){let i,a,o;typeof t=="function"&&typeof r!="function"?(a=void 0,o=t,i=r):(a=t,o=r,i=n),E5(e,a,s,i);function s(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const px={}.hasOwnProperty,Uee={};function Wee(e,t){const r=t||Uee,n=new Map,i=new Map,a=new Map,o={...Aee,...r.handlers},s={all:c,applyData:Vee,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:r,patch:Hee,wrap:Gee};return j_(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?n:i,p=String(u.identifier).toUpperCase();d.has(p)||d.set(p,u)}}),s;function l(u,d){const p=u.type,h=s.handlers[p];if(px.call(s.handlers,p)&&h)return h(s,u,d);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in u){const{children:m,...g}=u,y=Ef(g);return y.children=s.all(u),y}return Ef(u)}return(s.options.unknownHandler||Kee)(s,u,d)}function c(u){const d=[];if("children"in u){const p=u.children;let h=-1;for(;++h<p.length;){const v=s.one(p[h],u);if(v){if(h&&p[h-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=ck(v.value)),!Array.isArray(v)&&v.type==="element")){const m=v.children[0];m&&m.type==="text"&&(m.value=ck(m.value))}Array.isArray(v)?d.push(...v):d.push(v)}}}return d}}function Hee(e,t){e.position&&(t.position=RQ(e))}function Vee(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&a&&Object.assign(r.properties,Ef(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Kee(e,t){const r=t.data||{},n="value"in t&&!(px.call(r,"hProperties")||px.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Gee(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function ck(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function uk(e,t){const r=Wee(e,t),n=r.one(e,void 0),i=Iee(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Yee(e,t){return e&&"run"in e?async function(r,n){const i=uk(r,{file:n,...t});await e.run(i,n)}:function(r,n){return uk(r,{file:n,...e||t})}}function dk(e){if(e)throw e}var Km,fk;function Xee(){if(fk)return Km;fk=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var u=e.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!d)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},o=function(c,u){r&&u.name==="__proto__"?r(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},s=function(c,u){if(u==="__proto__")if(e.call(c,u)){if(n)return n(c,u).value}else return;return c[u]};return Km=function l(){var c,u,d,p,h,v,m=arguments[0],g=1,y=arguments.length,b=!1;for(typeof m=="boolean"&&(b=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<y;++g)if(c=arguments[g],c!=null)for(u in c)d=s(m,u),p=s(c,u),m!==p&&(b&&p&&(a(p)||(h=i(p)))?(h?(h=!1,v=d&&i(d)?d:[]):v=d&&a(d)?d:{},o(m,{name:u,newValue:l(b,v,p)})):typeof p<"u"&&o(m,{name:u,newValue:p}));return m},Km}var Qee=Xee();const Gm=nt(Qee);function mx(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Jee(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const u=e[++a];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?Zee(u,s)(...c):o(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Zee(e,t){let r;return n;function n(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(s&&r)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){r||(r=!0,t(o,...s))}function a(o){i(null,o)}}const zn={basename:ete,dirname:tte,extname:rte,join:nte,sep:"/"};function ete(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Du(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(n=i):(s=-1,n=o));return r===n?n=o:n<0&&(n=e.length),e.slice(r,n)}function tte(e){if(Du(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function rte(e){Du(e);let t=e.length,r=-1,n=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){n=t+1;break}continue}r<0&&(o=!0,r=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function nte(...e){let t=-1,r;for(;++t<e.length;)Du(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":ite(r)}function ite(e){Du(e);const t=e.codePointAt(0)===47;let r=ate(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function ate(e,t){let r="",n=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=o,a=0;continue}}else if(r.length>0){r="",n=0,i=o,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o),n=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return r}function Du(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ote={cwd:ste};function ste(){return"/"}function gx(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function lte(e){if(typeof e=="string")e=new URL(e);else if(!gx(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return cte(e)}function cte(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ym=["history","path","basename","stem","extname","dirname"];class k5{constructor(t){let r;t?gx(t)?r={path:t}:typeof t=="string"||ute(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":ote.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Ym.length;){const a=Ym[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)Ym.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?zn.basename(this.path):void 0}set basename(t){Qm(t,"basename"),Xm(t,"basename"),this.path=zn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?zn.dirname(this.path):void 0}set dirname(t){hk(this.basename,"dirname"),this.path=zn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?zn.extname(this.path):void 0}set extname(t){if(Xm(t,"extname"),hk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){gx(t)&&(t=lte(t)),Qm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?zn.basename(this.path,this.extname):void 0}set stem(t){Qm(t,"stem"),Xm(t,"stem"),this.path=zn.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new vr(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Xm(e,t){if(e&&e.includes(zn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+zn.sep+"`")}function Qm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function hk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function ute(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dte=(function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a}),fte={}.hasOwnProperty;class E_ extends dte{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Jee()}copy(){const t=new E_;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Gm(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(eg("data",this.frozen),this.namespace[t]=r,this):fte.call(this.namespace,t)&&this.namespace[t]||void 0:t?(eg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=gd(t),n=this.parser||this.Parser;return Jm("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Jm("process",this.parser||this.Parser),Zm("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,o){const s=gd(t),l=n.parse(s);n.run(l,s,function(u,d,p){if(u||!d||!p)return c(u);const h=d,v=n.stringify(h,p);mte(v)?p.value=v:p.result=v,c(u,p)});function c(u,d){u||!d?o(u):a?a(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),Jm("processSync",this.parser||this.Parser),Zm("processSync",this.compiler||this.Compiler),this.process(t,i),mk("processSync","process",r),n;function i(a,o){r=!0,dk(a),n=o}}run(t,r,n){pk(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(o,s){const l=gd(r);i.run(t,l,c);function c(u,d,p){const h=d||t;u?s(u):o?o(h):n(void 0,h,p)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),mk("runSync","run",n),i;function a(o,s){dk(o),i=s,n=!0}}stringify(t,r){this.freeze();const n=gd(r),i=this.compiler||this.Compiler;return Zm("stringify",i),pk(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(eg("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=Gm(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];a(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,p=-1;for(;++d<n.length;)if(n[d][0]===c){p=d;break}if(p===-1)n.push([c,...u]);else if(u.length>0){let[h,...v]=u;const m=n[p][1];mx(m)&&mx(h)&&(h=Gm(!0,m,h)),n[p]=[c,h,...v]}}}}const hte=new E_().freeze();function Jm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Zm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function eg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pk(e){if(!mx(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function mk(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function gd(e){return pte(e)?e:new k5(e)}function pte(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function mte(e){return typeof e=="string"||gte(e)}function gte(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const vte="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gk=[],vk={allowDangerousHtml:!0},yte=/^(https?|ircs?|mailto|xmpp)$/i,bte=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function A5(e){const t=xte(e),r=wte(e);return _te(t.runSync(t.parse(r),r),e)}function xte(e){const t=e.rehypePlugins||gk,r=e.remarkPlugins||gk,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...vk}:vk;return hte().use(tee).use(r).use(Yee,n).use(t)}function wte(e){const t=e.children||"",r=new k5;return typeof t=="string"&&(r.value=t),r}function _te(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Ste;for(const u of bte)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+vte+u.id,void 0);return j_(e,c),LQ(e,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function c(u,d,p){if(u.type==="raw"&&p&&typeof d=="number")return o?p.children.splice(d,1):p.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let h;for(h in Wm)if(Object.hasOwn(Wm,h)&&Object.hasOwn(u.properties,h)){const v=u.properties[h],m=Wm[h];(m===null||m.includes(u.tagName))&&(u.properties[h]=l(String(v||""),h,u))}}if(u.type==="element"){let h=r?!r.includes(u.tagName):a?a.includes(u.tagName):!1;if(!h&&n&&typeof d=="number"&&(h=!n(u,d,p)),h&&p&&typeof d=="number")return s&&u.children?p.children.splice(d,1,...u.children):p.children.splice(d,1),d}}}function Ste(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||yte.test(e.slice(0,t))?e:""}function yk(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function jte(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ete(e,t,r){const i=wp((r||{}).ignore||[]),a=kte(t);let o=-1;for(;++o<a.length;)E5(e,"text",s);function s(c,u){let d=-1,p;for(;++d<u.length;){const h=u[d],v=p?p.children:void 0;if(i(h,v?v.indexOf(h):void 0,p))return;p=h}if(p)return l(c,u)}function l(c,u){const d=u[u.length-1],p=a[o][0],h=a[o][1];let v=0;const g=d.children.indexOf(c);let y=!1,b=[];p.lastIndex=0;let x=p.exec(c.value);for(;x;){const S=x.index,w={index:x.index,input:x.input,stack:[...u,c]};let j=h(...x,w);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?p.lastIndex=S+1:(v!==S&&b.push({type:"text",value:c.value.slice(v,S)}),Array.isArray(j)?b.push(...j):j&&b.push(j),v=S+x[0].length,y=!0),!p.global)break;x=p.exec(c.value)}return y?(v<c.value.length&&b.push({type:"text",value:c.value.slice(v)}),d.children.splice(g,1,...b)):b=[c],g+b.length}}function kte(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([Ate(i[0]),Ote(i[1])])}return t}function Ate(e){return typeof e=="string"?new RegExp(jte(e),"g"):e}function Ote(e){return typeof e=="function"?e:function(){return e}}const tg="phrasing",rg=["autolink","link","image","label"];function Cte(){return{transforms:[Mte],enter:{literalAutolink:Tte,literalAutolinkEmail:ng,literalAutolinkHttp:ng,literalAutolinkWww:ng},exit:{literalAutolink:Dte,literalAutolinkEmail:Ite,literalAutolinkHttp:Nte,literalAutolinkWww:Rte}}}function Pte(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:tg,notInConstruct:rg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:tg,notInConstruct:rg},{character:":",before:"[ps]",after:"\\/",inConstruct:tg,notInConstruct:rg}]}}function Tte(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ng(e){this.config.enter.autolinkProtocol.call(this,e)}function Nte(e){this.config.exit.autolinkProtocol.call(this,e)}function Rte(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Ite(e){this.config.exit.autolinkEmail.call(this,e)}function Dte(e){this.exit(e)}function Mte(e){Ete(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,$te],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Lte]],{ignore:["link","linkReference"]})}function $te(e,t,r,n,i){let a="";if(!O5(i)||(/^w/i.test(t)&&(r=t+r,t="",a="http://"),!Bte(r)))return!1;const o=Fte(r+n);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Lte(e,t,r,n){return!O5(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Bte(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Fte(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=yk(e,"(");let a=yk(e,")");for(;n!==-1&&i>a;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),a++;return[e,r]}function O5(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||mo(r)||yp(r))&&(!t||r!==47)}C5.peek=Yte;function zte(){this.buffer()}function qte(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Ute(){this.buffer()}function Wte(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Hte(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Nn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Vte(e){this.exit(e)}function Kte(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Nn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Gte(e){this.exit(e)}function Yte(){return"["}function C5(e,t,r,n){const i=r.createTracker(n);let a=i.move("[^");const o=r.enter("footnoteReference"),s=r.enter("reference");return a+=i.move(r.safe(r.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function Xte(){return{enter:{gfmFootnoteCallString:zte,gfmFootnoteCall:qte,gfmFootnoteDefinitionLabelString:Ute,gfmFootnoteDefinition:Wte},exit:{gfmFootnoteCallString:Hte,gfmFootnoteCall:Vte,gfmFootnoteDefinitionLabelString:Kte,gfmFootnoteDefinition:Gte}}}function Qte(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:C5},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=s.move(a.safe(a.associationId(n),{before:l,after:"]"})),u(),l+=s.move("]:"),n.children&&n.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(n,s.current()),t?P5:Jte))),c(),l}}function Jte(e,t,r){return t===0?e:P5(e,t,r)}function P5(e,t,r){return(r?"":"    ")+e}const Zte=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];T5.peek=ire;function ere(){return{canContainEols:["delete"],enter:{strikethrough:rre},exit:{strikethrough:nre}}}function tre(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Zte}],handlers:{delete:T5}}}function rre(e){this.enter({type:"delete",children:[]},e)}function nre(e){this.exit(e)}function T5(e,t,r,n){const i=r.createTracker(n),a=r.enter("strikethrough");let o=i.move("~~");return o+=r.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function ire(){return"~"}function are(e){return e.length}function ore(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||are,a=[],o=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const m=[],g=[];let y=-1;for(e[u].length>c&&(c=e[u].length);++y<e[u].length;){const b=sre(e[u][y]);if(r.alignDelimiters!==!1){const x=i(b);g[y]=x,(l[y]===void 0||x>l[y])&&(l[y]=x)}m.push(b)}o[u]=m,s[u]=g}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<c;)a[d]=bk(n[d]);else{const m=bk(n);for(;++d<c;)a[d]=m}d=-1;const p=[],h=[];for(;++d<c;){const m=a[d];let g="",y="";m===99?(g=":",y=":"):m===108?g=":":m===114&&(y=":");let b=r.alignDelimiters===!1?1:Math.max(1,l[d]-g.length-y.length);const x=g+"-".repeat(b)+y;r.alignDelimiters!==!1&&(b=g.length+b+y.length,b>l[d]&&(l[d]=b),h[d]=b),p[d]=x}o.splice(1,0,p),s.splice(1,0,h),u=-1;const v=[];for(;++u<o.length;){const m=o[u],g=s[u];d=-1;const y=[];for(;++d<c;){const b=m[d]||"";let x="",S="";if(r.alignDelimiters!==!1){const w=l[d]-(g[d]||0),j=a[d];j===114?x=" ".repeat(w):j===99?w%2?(x=" ".repeat(w/2+.5),S=" ".repeat(w/2-.5)):(x=" ".repeat(w/2),S=x):S=" ".repeat(w)}r.delimiterStart!==!1&&!d&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||d)&&y.push(" "),r.alignDelimiters!==!1&&y.push(x),y.push(b),r.alignDelimiters!==!1&&y.push(S),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||d!==c-1)&&y.push("|")}v.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return v.join(`
`)}function sre(e){return e==null?"":String(e)}function bk(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function lre(e,t,r,n){const i=r.enter("blockquote"),a=r.createTracker(n);a.move("> "),a.shift(2);const o=r.indentLines(r.containerFlow(e,a.current()),cre);return i(),o}function cre(e,t,r){return">"+(r?"":" ")+e}function ure(e,t){return xk(e,t.inConstruct,!0)&&!xk(e,t.notInConstruct,!1)}function xk(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function wk(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&ure(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function dre(e,t){const r=String(e);let n=r.indexOf(t),i=n,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>o&&(o=a):a=1,i=n+t.length,n=r.indexOf(t,i);return o}function fre(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function hre(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function pre(e,t,r,n){const i=hre(r),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(fre(e,r)){const d=r.enter("codeIndented"),p=r.indentLines(a,mre);return d(),p}const s=r.createTracker(n),l=i.repeat(Math.max(dre(a,i)+1,3)),c=r.enter("codeFenced");let u=s.move(l);if(e.lang){const d=r.enter(`codeFencedLang${o}`);u+=s.move(r.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=r.enter(`codeFencedMeta${o}`);u+=s.move(" "),u+=s.move(r.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),d()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(l),c(),u}function mre(e,t,r){return(r?"":"    ")+e}function k_(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function gre(e,t,r,n){const i=k_(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("definition");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("[");return c+=l.move(r.safe(r.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function vre(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Dc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function kf(e,t,r){const n=xs(e),i=xs(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}N5.peek=yre;function N5(e,t,r,n){const i=vre(r),a=r.enter("emphasis"),o=r.createTracker(n),s=o.move(i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=kf(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=Dc(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=kf(n.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+Dc(d));const h=o.move(i);return a(),r.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}function yre(e,t,r){return r.options.emphasis||"*"}function bre(e,t){let r=!1;return j_(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,hx}),!!((!e.depth||e.depth<3)&&v_(e)&&(t.options.setext||r))}function xre(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),a=r.createTracker(n);if(bre(e,r)){const u=r.enter("headingSetext"),d=r.enter("phrasing"),p=r.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return d(),u(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=r.enter("headingAtx"),l=r.enter("phrasing");a.move(o+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Dc(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,r.options.closeAtx&&(c+=" "+o),l(),s(),c}R5.peek=wre;function R5(e){return e.value||""}function wre(){return"<"}I5.peek=_re;function I5(e,t,r,n){const i=k_(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("image");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("![");return c+=l.move(r.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function _re(){return"!"}D5.peek=Sre;function D5(e,t,r,n){const i=e.referenceType,a=r.enter("imageReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("![");const c=r.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=u,a(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Sre(){return"!"}M5.peek=jre;function M5(e,t,r){let n=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<r.unsafe.length;){const o=r.unsafe[a],s=r.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(n);){let c=l.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(l.index+1)}}return i+n+i}function jre(){return"`"}function $5(e,t){const r=v_(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}L5.peek=Ere;function L5(e,t,r,n){const i=k_(r),a=i==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let s,l;if($5(e,r)){const u=r.stack;r.stack=[],s=r.enter("autolink");let d=o.move("<");return d+=o.move(r.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),r.stack=u,d}s=r.enter("link"),l=r.enter("label");let c=o.move("[");return c+=o.move(r.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(r.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=r.enter("destinationRaw"),c+=o.move(r.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=r.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(r.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function Ere(e,t,r){return $5(e,r)?"<":"["}B5.peek=kre;function B5(e,t,r,n){const i=e.referenceType,a=r.enter("linkReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("[");const c=r.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=u,a(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function kre(){return"["}function A_(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Are(e){const t=A_(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Ore(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function F5(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Cre(e,t,r,n){const i=r.enter("list"),a=r.bulletCurrent;let o=e.ordered?Ore(r):A_(r);const s=e.ordered?o==="."?")":".":Are(r);let l=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),F5(r)===o&&u){let d=-1;for(;++d<e.children.length;){const p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),r.bulletCurrent=o;const c=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=a,i(),c}function Pre(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Tre(e,t,r,n){const i=Pre(r);let a=r.bulletCurrent||A_(r);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=r.createTracker(n);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,s.current()),u);return l(),c;function u(d,p,h){return p?(h?"":" ".repeat(o))+d:(h?a:a+" ".repeat(o-a.length))+d}}function Nre(e,t,r,n){const i=r.enter("paragraph"),a=r.enter("phrasing"),o=r.containerPhrasing(e,n);return a(),i(),o}const Rre=wp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ire(e,t,r,n){return(e.children.some(function(o){return Rre(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function Dre(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}z5.peek=Mre;function z5(e,t,r,n){const i=Dre(r),a=r.enter("strong"),o=r.createTracker(n),s=o.move(i+i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=kf(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=Dc(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=kf(n.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+Dc(d));const h=o.move(i+i);return a(),r.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}function Mre(e,t,r){return r.options.strong||"*"}function $re(e,t,r,n){return r.safe(e.value,n)}function Lre(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Bre(e,t,r){const n=(F5(r)+(r.options.ruleSpaces?" ":"")).repeat(Lre(r));return r.options.ruleSpaces?n.slice(0,-1):n}const q5={blockquote:lre,break:wk,code:pre,definition:gre,emphasis:N5,hardBreak:wk,heading:xre,html:R5,image:I5,imageReference:D5,inlineCode:M5,link:L5,linkReference:B5,list:Cre,listItem:Tre,paragraph:Nre,root:Ire,strong:z5,text:$re,thematicBreak:Bre};function Fre(){return{enter:{table:zre,tableData:_k,tableHeader:_k,tableRow:Ure},exit:{codeText:Wre,table:qre,tableData:ig,tableHeader:ig,tableRow:ig}}}function zre(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function qre(e){this.exit(e),this.data.inTable=void 0}function Ure(e){this.enter({type:"tableRow",children:[]},e)}function ig(e){this.exit(e)}function _k(e){this.enter({type:"tableCell",children:[]},e)}function Wre(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Hre));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Hre(e,t){return t==="|"?t:e}function Vre(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(h,v,m,g){return c(u(h,m,g),h.align)}function s(h,v,m,g){const y=d(h,m,g),b=c([y]);return b.slice(0,b.indexOf(`
`))}function l(h,v,m,g){const y=m.enter("tableCell"),b=m.enter("phrasing"),x=m.containerPhrasing(h,{...g,before:a,after:a});return b(),y(),x}function c(h,v){return ore(h,{align:v,alignDelimiters:n,padding:r,stringLength:i})}function u(h,v,m){const g=h.children;let y=-1;const b=[],x=v.enter("table");for(;++y<g.length;)b[y]=d(g[y],v,m);return x(),b}function d(h,v,m){const g=h.children;let y=-1;const b=[],x=v.enter("tableRow");for(;++y<g.length;)b[y]=l(g[y],h,v,m);return x(),b}function p(h,v,m){let g=q5.inlineCode(h,v,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function Kre(){return{exit:{taskListCheckValueChecked:Sk,taskListCheckValueUnchecked:Sk,paragraph:Yre}}}function Gre(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Xre}}}function Sk(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Yre(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Xre(e,t,r,n){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=r.createTracker(n);a&&s.move(o);let l=q5.listItem(e,t,r,{...n,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function Qre(){return[Cte(),Xte(),ere(),Fre(),Kre()]}function Jre(e){return{extensions:[Pte(),Qte(e),tre(),Vre(e),Gre()]}}const Zre={tokenize:ane,partial:!0},U5={tokenize:one,partial:!0},W5={tokenize:sne,partial:!0},H5={tokenize:lne,partial:!0},ene={tokenize:cne,partial:!0},V5={name:"wwwAutolink",tokenize:nne,previous:G5},K5={name:"protocolAutolink",tokenize:ine,previous:Y5},Li={name:"emailAutolink",tokenize:rne,previous:X5},ci={};function tne(){return{text:ci}}let Na=48;for(;Na<123;)ci[Na]=Li,Na++,Na===58?Na=65:Na===91&&(Na=97);ci[43]=Li;ci[45]=Li;ci[46]=Li;ci[95]=Li;ci[72]=[Li,K5];ci[104]=[Li,K5];ci[87]=[Li,V5];ci[119]=[Li,V5];function rne(e,t,r){const n=this;let i,a;return o;function o(d){return!vx(d)||!X5.call(n,n.previous)||O_(n.events)?r(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return vx(d)?(e.consume(d),s):d===64?(e.consume(d),l):r(d)}function l(d){return d===46?e.check(ene,u,c)(d):d===45||d===95||gr(d)?(a=!0,e.consume(d),l):u(d)}function c(d){return e.consume(d),i=!0,l}function u(d){return a&&i&&wr(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):r(d)}}function nne(e,t,r){const n=this;return i;function i(o){return o!==87&&o!==119||!G5.call(n,n.previous)||O_(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Zre,e.attempt(U5,e.attempt(W5,a),r),r)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function ine(e,t,r){const n=this;let i="",a=!1;return o;function o(d){return(d===72||d===104)&&Y5.call(n,n.previous)&&!O_(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):r(d)}function s(d){if(wr(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(d),l}return r(d)}function l(d){return d===47?(e.consume(d),a?c:(a=!0,l)):r(d)}function c(d){return d===null||Sf(d)||wt(d)||mo(d)||yp(d)?r(d):e.attempt(U5,e.attempt(W5,u),r)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function ane(e,t,r){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),i):o===46&&n===3?(e.consume(o),a):r(o)}function a(o){return o===null?r(o):t(o)}}function one(e,t,r){let n,i,a;return o;function o(c){return c===46||c===95?e.check(H5,l,s)(c):c===null||wt(c)||mo(c)||c!==45&&yp(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),o}function l(c){return i||n||!a?r(c):t(c)}}function sne(e,t){let r=0,n=0;return i;function i(o){return o===40?(r++,e.consume(o),i):o===41&&n<r?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(H5,t,a)(o):o===null||wt(o)||mo(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&n++,e.consume(o),i}}function lne(e,t,r){return n;function n(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),n):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||wt(s)||mo(s)?t(s):r(s)}function i(s){return s===null||s===40||s===91||wt(s)||mo(s)?t(s):n(s)}function a(s){return wr(s)?o(s):r(s)}function o(s){return s===59?(e.consume(s),n):wr(s)?(e.consume(s),o):r(s)}}function cne(e,t,r){return n;function n(a){return e.consume(a),i}function i(a){return gr(a)?r(a):t(a)}}function G5(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||wt(e)}function Y5(e){return!wr(e)}function X5(e){return!(e===47||vx(e))}function vx(e){return e===43||e===45||e===46||e===95||gr(e)}function O_(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const une={tokenize:yne,partial:!0};function dne(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:mne,continuation:{tokenize:gne},exit:vne}},text:{91:{name:"gfmFootnoteCall",tokenize:pne},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:fne,resolveTo:hne}}}}function fne(e,t,r){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return r(l);const c=Nn(n.sliceSerialize({start:o.end,end:n.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function hne(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...s),e}function pne(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?r(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(a>999||d===93&&!o||d===null||d===91||wt(d))return r(d);if(d===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(Nn(n.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(d)}return wt(d)||(o=!0),a++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),a++,c):c(d)}}function mne(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):r(v)}function u(v){if(o>999||v===93&&!s||v===null||v===91||wt(v))return r(v);if(v===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return a=Nn(n.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return wt(v)||(s=!0),o++,e.consume(v),v===92?d:u}function d(v){return v===91||v===92||v===93?(e.consume(v),o++,u):u(v)}function p(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(a)||i.push(a),rt(e,h,"gfmFootnoteDefinitionWhitespace")):r(v)}function h(v){return t(v)}}function gne(e,t,r){return e.check(Iu,t,e.attempt(une,t,r))}function vne(e){e.exit("gfmFootnoteDefinition")}function yne(e,t,r){const n=this;return rt(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):r(a)}}function bne(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",u,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",d,s]],h=s.parser.constructs.insideSpan.null;h&&Gr(p,p.length,0,bp(h,o.slice(c+1,l),s)),Gr(p,p.length,0,[["exit",d,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",u,s]]),Gr(o,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,u=this.events;let d=0;return p;function p(v){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(v):(o.enter("strikethroughSequenceTemporary"),h(v))}function h(v){const m=xs(c);if(v===126)return d>1?l(v):(o.consume(v),d++,h);if(d<2&&!r)return l(v);const g=o.exit("strikethroughSequenceTemporary"),y=xs(v);return g._open=!y||y===2&&!!m,g._close=!m||m===2&&!!y,s(v)}}}class xne{constructor(){this.map=[]}add(t,r,n){wne(this,t,r,n)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const a of i)t.push(a);i=n.pop()}this.map.length=0}}function wne(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function _ne(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Sne(){return{flow:{null:{name:"table",tokenize:jne,resolveAll:Ene}}}}function jne(e,t,r){const n=this;let i=0,a=0,o;return s;function s(O){let N=n.events.length-1;for(;N>-1;){const k=n.events[N][1].type;if(k==="lineEnding"||k==="linePrefix")N--;else break}const T=N>-1?n.events[N][1].type:null,D=T==="tableHead"||T==="tableRow"?j:l;return D===j&&n.parser.lazy[n.now().line]?r(O):D(O)}function l(O){return e.enter("tableHead"),e.enter("tableRow"),c(O)}function c(O){return O===124||(o=!0,a+=1),u(O)}function u(O){return O===null?r(O):Re(O)?a>1?(a=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),h):r(O):Xe(O)?rt(e,u,"whitespace")(O):(a+=1,o&&(o=!1,i+=1),O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),d(O)))}function d(O){return O===null||O===124||wt(O)?(e.exit("data"),u(O)):(e.consume(O),O===92?p:d)}function p(O){return O===92||O===124?(e.consume(O),d):d(O)}function h(O){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(O):(e.enter("tableDelimiterRow"),o=!1,Xe(O)?rt(e,v,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):v(O))}function v(O){return O===45||O===58?g(O):O===124?(o=!0,e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),m):w(O)}function m(O){return Xe(O)?rt(e,g,"whitespace")(O):g(O)}function g(O){return O===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),y):O===45?(a+=1,y(O)):O===null||Re(O)?S(O):w(O)}function y(O){return O===45?(e.enter("tableDelimiterFiller"),b(O)):w(O)}function b(O){return O===45?(e.consume(O),b):O===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(O))}function x(O){return Xe(O)?rt(e,S,"whitespace")(O):S(O)}function S(O){return O===124?v(O):O===null||Re(O)?!o||i!==a?w(O):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(O)):w(O)}function w(O){return r(O)}function j(O){return e.enter("tableRow"),E(O)}function E(O){return O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),E):O===null||Re(O)?(e.exit("tableRow"),t(O)):Xe(O)?rt(e,E,"whitespace")(O):(e.enter("data"),C(O))}function C(O){return O===null||O===124||wt(O)?(e.exit("data"),E(O)):(e.consume(O),O===92?P:C)}function P(O){return O===92||O===124?(e.consume(O),C):C(O)}}function Ene(e,t){let r=-1,n=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,u,d;const p=new xne;for(;++r<e.length;){const h=e[r],v=h[1];h[0]==="enter"?v.type==="tableHead"?(s=!1,l!==0&&(jk(p,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(r,0,[["enter",c,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(n=!0,d=void 0,a=[0,0,0,0],o=[0,r+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(r,0,[["enter",u,t]])),i=v.type==="tableDelimiterRow"?2:u?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=vd(p,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=r)):v.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(o[0]=o[1],d=vd(p,t,a,i,void 0,d)),a=o,o=[a[1],r,0,0])):v.type==="tableHead"?(s=!0,l=r):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=r,a[1]!==0?(o[0]=o[1],d=vd(p,t,a,i,r,d)):o[1]!==0&&(d=vd(p,t,o,i,r,d)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=r)}for(l!==0&&jk(p,t,l,c,u),p.consume(t.events),r=-1;++r<t.events.length;){const h=t.events[r];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=_ne(t.events,r))}return e}function vd(e,t,r,n,i,a){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",s="tableContent";r[0]!==0&&(a.end=Object.assign({},Yo(t.events,r[0])),e.add(r[0],0,[["exit",a,t]]));const l=Yo(t.events,r[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",a,t]]),r[2]!==0){const c=Yo(t.events,r[2]),u=Yo(t.events,r[3]),d={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(r[2],0,[["enter",d,t]]),n!==2){const p=t.events[r[2]],h=t.events[r[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const v=r[2]+1,m=r[3]-r[2]-1;e.add(v,m,[])}}e.add(r[3]+1,0,[["exit",d,t]])}return i!==void 0&&(a.end=Object.assign({},Yo(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function jk(e,t,r,n,i){const a=[],o=Yo(t.events,r);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),n.end=Object.assign({},o),a.push(["exit",n,t]),e.add(r+1,0,a)}function Yo(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const kne={name:"tasklistCheck",tokenize:One};function Ane(){return{text:{91:kne}}}function One(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return wt(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):r(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):r(l)}function s(l){return Re(l)?t(l):Xe(l)?e.check({tokenize:Cne},t,r)(l):r(l)}}function Cne(e,t,r){return rt(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function Pne(e){return o5([tne(),dne(),bne(e),Sne(),Ane()])}const Tne={};function Q5(e){const t=this,r=e||Tne,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Pne(r)),a.push(Qre()),o.push(Jre(r))}function Nne(){const[e,t]=_.useState(!1),[r,n]=_.useState(""),[i,a]=_.useState("preview"),[o,s]=_.useState(!1),[l,c]=_.useState("idle");return _.useEffect(()=>{(async()=>{const{data:{session:d}}=await be.auth.getSession();if(!d)return;const{data:p,error:h}=await be.from("user_memos").select("content").eq("user_id",d.user.id).single();p?n(p.content||""):h||n(`# Note

Scrivi qui i tuoi appunti...`)})()},[]),_.useEffect(()=>{c("idle");const u=setTimeout(async()=>{const{data:{session:d}}=await be.auth.getSession();if(!d)return;c("saving");const{error:p}=await be.from("user_memos").upsert({user_id:d.user.id,content:r,updated_at:new Date().toISOString()},{onConflict:"user_id"});p?(console.error("Error saving memo:",p),c("error"),Ue.error("Errore salvataggio nota: "+(p.message||"Errore sconosciuto"))):c("saved")},1e3);return()=>clearTimeout(u)},[r]),f.jsxs(cp,{open:e,onOpenChange:t,children:[f.jsx(K1,{asChild:!0,children:f.jsx(Ge,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Memo / Appunti",children:f.jsx(u1,{className:"h-4 w-4"})})}),f.jsxs(Au,{className:ae("flex flex-col gap-0 p-0 sm:max-w-xl transition-all duration-300 [&>button:last-child]:hidden",o?"w-[95vw] h-[95vh] sm:max-w-[95vw]":"h-[80vh]"),children:[f.jsx(Cu,{className:"sr-only",children:"Editor di testo in markdown per appunti temporanei e veloci."}),f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/40",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ou,{className:"font-semibold text-lg",children:"Memo"}),f.jsx("span",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-0.5 rounded",children:".md support"}),f.jsxs("div",{className:"flex items-center gap-1.5 ml-2 text-xs transition-all duration-300",children:[l==="saving"&&f.jsxs(f.Fragment,{children:[f.jsx(Tn,{className:"w-3 h-3 animate-spin text-muted-foreground"}),f.jsx("span",{className:"text-muted-foreground",children:"Salvataggio..."})]}),l==="saved"&&f.jsxs(f.Fragment,{children:[f.jsx(Lh,{className:"w-3 h-3 text-green-500"}),f.jsx("span",{className:"text-green-500 font-medium",children:"Salvato"})]}),l==="error"&&f.jsxs(f.Fragment,{children:[f.jsx(ts,{className:"w-3 h-3 text-destructive"}),f.jsx("span",{className:"text-destructive font-medium",children:"Errore Sync"})]})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>a(i==="preview"?"edit":"preview"),className:"gap-2 h-8",title:i==="preview"?"Modifica":"Visualizza",children:i==="preview"?f.jsxs(f.Fragment,{children:[f.jsx(w6,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Modifica"})]}):f.jsxs(f.Fragment,{children:[f.jsx(ER,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Anteprima"})]})}),f.jsx(Ge,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(!o),title:o?"Riduci":"Espandi",children:o?f.jsx(b6,{className:"w-4 h-4"}):f.jsx(y6,{className:"w-4 h-4"})}),f.jsx(Ge,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>t(!1),children:f.jsx(Qs,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative bg-card",children:i==="edit"?f.jsx(T$,{value:r,onChange:u=>n(u.target.value),className:"w-full h-full resize-none p-6 font-mono text-sm bg-transparent border-0 focus-visible:ring-0 leading-relaxed",placeholder:"# Inizia a scrivere..."}):f.jsx(u_,{className:"h-full w-full",children:f.jsx("div",{className:"p-6 prose prose-invert prose-sm max-w-none",children:f.jsx(A5,{remarkPlugins:[Q5],components:{h1:({node:u,...d})=>f.jsx("h1",{className:"text-3xl font-bold mt-2 mb-6",...d}),h2:({node:u,...d})=>f.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4 border-b border-border/50 pb-2",...d}),code:({node:u,className:d,children:p,...h})=>String(p).includes(`
`)?f.jsx("code",{className:d,...h,children:p}):f.jsx("code",{className:"bg-primary/20 text-primary rounded px-1.5 py-0.5 font-mono text-sm",...h,children:p})},children:r})})})})]})]})}var ag="rovingFocusGroup.onEntryFocus",Rne={bubbles:!1,cancelable:!0},Mu="RovingFocusGroup",[yx,J5,Ine]=Rh(Mu),[Dne,Sp]=Ar(Mu,[Ine]),[Mne,$ne]=Dne(Mu),Z5=_.forwardRef((e,t)=>f.jsx(yx.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(yx.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(Lne,{...e,ref:t})})}));Z5.displayName=Mu;var Lne=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,p=_.useRef(null),h=$e(t,p),v=cl(a),[m,g]=ti({prop:o,defaultProp:s??null,onChange:l,caller:Mu}),[y,b]=_.useState(!1),x=Lt(c),S=J5(r),w=_.useRef(!1),[j,E]=_.useState(0);return _.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(ag,x),()=>C.removeEventListener(ag,x)},[x]),f.jsx(Mne,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:m,onItemFocus:_.useCallback(C=>g(C),[g]),onItemShiftTab:_.useCallback(()=>b(!0),[]),onFocusableItemAdd:_.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:_.useCallback(()=>E(C=>C-1),[]),children:f.jsx(ke.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{w.current=!0}),onFocus:Ee(e.onFocus,C=>{const P=!w.current;if(C.target===C.currentTarget&&P&&!y){const O=new CustomEvent(ag,Rne);if(C.currentTarget.dispatchEvent(O),!O.defaultPrevented){const N=S().filter(F=>F.focusable),T=N.find(F=>F.active),D=N.find(F=>F.id===m),R=[T,D,...N].filter(Boolean).map(F=>F.ref.current);rL(R,u)}}w.current=!1}),onBlur:Ee(e.onBlur,()=>b(!1))})})}),eL="RovingFocusGroupItem",tL=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=e,l=Ei(),c=a||l,u=$ne(eL,r),d=u.currentTabStopId===c,p=J5(r),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:m}=u;return _.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),f.jsx(yx.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:f.jsx(ke.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:Ee(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:Ee(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ee(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=zne(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=p().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const S=x.indexOf(g.currentTarget);x=u.loop?qne(x,S+1):x.slice(S+1)}setTimeout(()=>rL(x))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:m!=null}):o})})});tL.displayName=eL;var Bne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Fne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zne(e,t,r){const n=Fne(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Bne[n]}function rL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function qne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var nL=Z5,iL=tL,jp="Tabs",[Une]=Ar(jp,[Sp]),aL=Sp(),[Wne,C_]=Une(jp),oL=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,u=cl(s),[d,p]=ti({prop:n,onChange:i,defaultProp:a??"",caller:jp});return f.jsx(Wne,{scope:r,baseId:Ei(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:f.jsx(ke.div,{dir:u,"data-orientation":o,...c,ref:t})})});oL.displayName=jp;var sL="TabsList",lL=_.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=C_(sL,r),o=aL(r);return f.jsx(nL,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:f.jsx(ke.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});lL.displayName=sL;var cL="TabsTrigger",uL=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=C_(cL,r),s=aL(r),l=hL(o.baseId,n),c=pL(o.baseId,n),u=n===o.value;return f.jsx(iL,{asChild:!0,...s,focusable:!i,active:u,children:f.jsx(ke.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:Ee(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:Ee(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:Ee(e.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(n)})})})});uL.displayName=cL;var dL="TabsContent",fL=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,s=C_(dL,r),l=hL(s.baseId,n),c=pL(s.baseId,n),u=n===s.value,d=_.useRef(u);return _.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(Di,{present:i||u,children:({present:p})=>f.jsx(ke.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:p&&a})})});fL.displayName=dL;function hL(e,t){return`${e}-trigger-${t}`}function pL(e,t){return`${e}-content-${t}`}var Hne=oL,mL=lL,gL=uL,vL=fL;const us=Hne,no=_.forwardRef(({className:e,...t},r)=>f.jsx(mL,{ref:r,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));no.displayName=mL.displayName;const vt=_.forwardRef(({className:e,...t},r)=>f.jsx(gL,{ref:r,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));vt.displayName=gL.displayName;const Pr=_.forwardRef(({className:e,...t},r)=>f.jsx(vL,{ref:r,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Pr.displayName=vL.displayName;function Ep(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var kp="Switch",[Vne]=Ar(kp),[Kne,Gne]=Vne(kp),yL=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=e,[p,h]=_.useState(null),v=$e(t,x=>h(x)),m=_.useRef(!1),g=p?u||!!p.closest("form"):!0,[y,b]=ti({prop:i,defaultProp:a??!1,onChange:c,caller:kp});return f.jsxs(Kne,{scope:r,checked:y,disabled:s,children:[f.jsx(ke.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":_L(y),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:v,onClick:Ee(e.onClick,x=>{b(S=>!S),g&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),g&&f.jsx(wL,{control:p,bubbles:!m.current,name:n,value:l,checked:y,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});yL.displayName=kp;var bL="SwitchThumb",xL=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=Gne(bL,r);return f.jsx(ke.span,{"data-state":_L(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});xL.displayName=bL;var Yne="SwitchBubbleInput",wL=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=_.useRef(null),s=$e(o,a),l=Ep(r),c=Wh(t);return _.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&h){const v=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(v)}},[l,r,n]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wL.displayName=Yne;function _L(e){return e?"checked":"unchecked"}var SL=yL,Xne=xL;const bx=_.forwardRef(({className:e,...t},r)=>f.jsx(SL,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:f.jsx(Xne,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));bx.displayName=SL.displayName;const Fe=_.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Fe.displayName="Card";const Qe=_.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));Qe.displayName="CardHeader";const Je=_.forwardRef(({className:e,...t},r)=>f.jsx("h3",{ref:r,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));Je.displayName="CardTitle";const jn=_.forwardRef(({className:e,...t},r)=>f.jsx("p",{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));jn.displayName="CardDescription";const qe=_.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ae("p-6 pt-0",e),...t}));qe.displayName="CardContent";const Qne=_.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ae("flex items-center p-6 pt-0",e),...t}));Qne.displayName="CardFooter";var jL=["PageUp","PageDown"],EL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},fl="Slider",[xx,Jne,Zne]=Rh(fl),[AL]=Ar(fl,[Zne]),[eie,Ap]=AL(fl),OL=_.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:u,onValueChange:d=()=>{},onValueCommit:p=()=>{},inverted:h=!1,form:v,...m}=e,g=_.useRef(new Set),y=_.useRef(0),x=o==="horizontal"?tie:rie,[S=[],w]=ti({prop:u,defaultProp:c,onChange:N=>{[...g.current][y.current]?.focus(),d(N)}}),j=_.useRef(S);function E(N){const T=sie(S,N);O(N,T)}function C(N){O(N,y.current)}function P(){const N=j.current[y.current];S[y.current]!==N&&p(S)}function O(N,T,{commit:D}={commit:!1}){const k=die(a),R=fie(Math.round((N-n)/a)*a+n,k),F=Rc(R,[n,i]);w((B=[])=>{const U=aie(B,F,T);if(uie(U,l*a)){y.current=U.indexOf(F);const L=String(U)!==String(B);return L&&D&&p(U),L?U:B}else return B})}return f.jsx(eie,{scope:e.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:y,thumbs:g.current,values:S,orientation:o,form:v,children:f.jsx(xx.Provider,{scope:e.__scopeSlider,children:f.jsx(xx.Slot,{scope:e.__scopeSlider,children:f.jsx(x,{"aria-disabled":s,"data-disabled":s?"":void 0,...m,ref:t,onPointerDown:Ee(m.onPointerDown,()=>{s||(j.current=S)}),min:n,max:i,inverted:h,onSlideStart:s?void 0:E,onSlideMove:s?void 0:C,onSlideEnd:s?void 0:P,onHomeKeyDown:()=>!s&&O(n,0,{commit:!0}),onEndKeyDown:()=>!s&&O(i,S.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:T})=>{if(!s){const R=jL.includes(N.key)||N.shiftKey&&EL.includes(N.key)?10:1,F=y.current,B=S[F],U=a*R*T;O(B+U,F,{commit:!0})}}})})})})});OL.displayName=fl;var[CL,PL]=AL(fl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),tie=_.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,[d,p]=_.useState(null),h=$e(t,x=>p(x)),v=_.useRef(void 0),m=cl(i),g=m==="ltr",y=g&&!a||!g&&a;function b(x){const S=v.current||d.getBoundingClientRect(),w=[0,S.width],E=P_(w,y?[r,n]:[n,r]);return v.current=S,E(x-S.left)}return f.jsx(CL,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:f.jsx(TL,{dir:m,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const S=b(x.clientX);o?.(S)},onSlideMove:x=>{const S=b(x.clientX);s?.(S)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:x=>{const w=kL[y?"from-left":"from-right"].includes(x.key);c?.({event:x,direction:w?-1:1})}})})}),rie=_.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...c}=e,u=_.useRef(null),d=$e(t,u),p=_.useRef(void 0),h=!i;function v(m){const g=p.current||u.current.getBoundingClientRect(),y=[0,g.height],x=P_(y,h?[n,r]:[r,n]);return p.current=g,x(m-g.top)}return f.jsx(CL,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:f.jsx(TL,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=v(m.clientY);a?.(g)},onSlideMove:m=>{const g=v(m.clientY);o?.(g)},onSlideEnd:()=>{p.current=void 0,s?.()},onStepKeyDown:m=>{const y=kL[h?"from-bottom":"from-top"].includes(m.key);l?.({event:m,direction:y?-1:1})}})})}),TL=_.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...c}=e,u=Ap(fl,r);return f.jsx(ke.span,{...c,ref:t,onKeyDown:Ee(e.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(s(d),d.preventDefault()):jL.concat(EL).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Ee(e.onPointerDown,d=>{const p=d.target;p.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(p)?p.focus():n(d)}),onPointerMove:Ee(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:Ee(e.onPointerUp,d=>{const p=d.target;p.hasPointerCapture(d.pointerId)&&(p.releasePointerCapture(d.pointerId),a(d))})})}),NL="SliderTrack",RL=_.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=Ap(NL,r);return f.jsx(ke.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});RL.displayName=NL;var wx="SliderRange",IL=_.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=Ap(wx,r),a=PL(wx,r),o=_.useRef(null),s=$e(t,o),l=i.values.length,c=i.values.map(p=>$L(p,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return f.jsx(ke.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[a.startEdge]:u+"%",[a.endEdge]:d+"%"}})});IL.displayName=wx;var _x="SliderThumb",DL=_.forwardRef((e,t)=>{const r=Jne(e.__scopeSlider),[n,i]=_.useState(null),a=$e(t,s=>i(s)),o=_.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return f.jsx(nie,{...e,ref:a,index:o})}),nie=_.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...a}=e,o=Ap(_x,r),s=PL(_x,r),[l,c]=_.useState(null),u=$e(t,b=>c(b)),d=l?o.form||!!l.closest("form"):!0,p=Wh(l),h=o.values[n],v=h===void 0?0:$L(h,o.min,o.max),m=oie(n,o.values.length),g=p?.[s.size],y=g?lie(g,v,s.direction):0;return _.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${v}% + ${y}px)`},children:[f.jsx(xx.ItemSlot,{scope:e.__scopeSlider,children:f.jsx(ke.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:u,style:h===void 0?{display:"none"}:e.style,onFocus:Ee(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&f.jsx(ML,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},n)]})});DL.displayName=_x;var iie="RadioBubbleInput",ML=_.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=_.useRef(null),a=$e(i,n),o=Ep(t);return _.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("input",{bubbles:!0});u.call(s,t),s.dispatchEvent(d)}},[o,t]),f.jsx(ke.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});ML.displayName=iie;function aie(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,a)=>i-a)}function $L(e,t,r){const a=100/(r-t)*(e-t);return Rc(a,[0,100])}function oie(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function sie(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function lie(e,t,r){const n=e/2,a=P_([0,50],[0,n]);return(n-a(t)*r)*r}function cie(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function uie(e,t){if(t>0){const r=cie(e);return Math.min(...r)>=t}return!0}function P_(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function die(e){return(String(e).split(".")[1]||"").length}function fie(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var LL=OL,hie=RL,pie=IL,mie=DL;const Sx=_.forwardRef(({className:e,...t},r)=>f.jsxs(LL,{ref:r,className:ae("relative flex w-full touch-none select-none items-center",e),...t,children:[f.jsx(hie,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:f.jsx(pie,{className:"absolute h-full bg-primary"})}),f.jsx(mie,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Sx.displayName=LL.displayName;const gie=()=>ni({queryKey:["moods"],queryFn:async()=>{const{data:e,error:t}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(t)throw console.error("Error fetching moods:",t),t;return e}}),BL=()=>{const e=Ye(new Date,"yyyy-MM-dd");return ni({queryKey:["moods",e],queryFn:async()=>{const{data:t,error:r}=await be.from("daily_moods").select("*").eq("date",e).maybeSingle();if(r)throw console.error("Error fetching today's mood:",r),r;return t}})},vie=()=>{const e=xa();return an({mutationFn:async t=>{const{data:{user:r}}=await be.auth.getUser();if(!r)throw new Error("No user found");const{data:n,error:i}=await be.from("daily_moods").upsert({...t,user_id:r.id},{onConflict:"user_id,date"}).select().single();if(i)throw i;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["moods"]}),Ue.success("Mood & Energy logged successfully!")},onError:t=>{console.error("Error logging mood:",t),Ue.error("Failed to log mood.")}})},Ek=()=>{const{data:e,isLoading:t}=BL(),r=vie(),[n,i]=_.useState([5]),[a,o]=_.useState([5]);_.useEffect(()=>{e&&(i([e.mood_score]),o([e.energy_score]))},[e]);const s=()=>{r.mutate({date:Ye(new Date,"yyyy-MM-dd"),mood_score:n[0],energy_score:a[0]})},l=u=>u>=8?"":u>=6?"":u>=4?"":u>=3?"":"",c=u=>"text-foreground";return t?f.jsx("div",{className:"h-40 animate-pulse bg-muted rounded-xl"}):f.jsxs(Fe,{className:"w-full border shadow-sm overflow-hidden relative",children:[f.jsx(Qe,{className:"pb-2",children:f.jsxs(Je,{className:"text-lg font-medium flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-2",children:"Daily Check-in"}),!e&&f.jsxs("span",{className:"flex h-2 w-2",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-primary opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]})}),f.jsxs(qe,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[f.jsx(kR,{className:"w-4 h-4"}),"Mood"]}),f.jsxs("span",{className:ae("text-lg font-bold transition-colors",c(n[0])),children:[l(n[0])," ",n[0],"/10"]})]}),f.jsx(Sx,{value:n,onValueChange:i,max:10,min:1,step:1,className:"cursor-pointer"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[f.jsx(Su,{className:"w-4 h-4"}),"Energy"]}),f.jsxs("span",{className:ae("text-lg font-bold transition-colors",c(a[0])),children:[" ",a[0],"/10"]})]}),f.jsx(Sx,{value:a,onValueChange:o,max:10,min:1,step:1,className:"cursor-pointer"})]}),f.jsx(Ge,{onClick:s,disabled:r.isPending,className:"w-full mt-2 transition-all duration-300 transform hover:scale-[1.02]",children:r.isPending?"Saving...":f.jsxs(f.Fragment,{children:[f.jsx(j6,{className:"w-4 h-4 mr-2"}),e?"Update Daily Status":"Insert Daily Status"]})})]})]})},yie=()=>{const[e,t]=_.useState("active"),[r,n]=_.useState(null);return _.useEffect(()=>{const i=async()=>{if(!navigator.onLine){t("offline");return}const o=performance.now();try{const{error:s}=await be.from("goals").select("id",{count:"exact",head:!0});s?(console.error("Supabase health check failed:",s),t("error")):(t("active"),n(Math.round(performance.now()-o)))}catch(s){console.error("Supabase connection error:",s),t("error")}};i(),window.addEventListener("online",i),window.addEventListener("offline",()=>t("offline"));const a=setInterval(i,3e4);return()=>{window.removeEventListener("online",i),window.removeEventListener("offline",()=>t("offline")),clearInterval(a)}},[]),{status:e,latency:r}};function bie(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const FL=I.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),$u=()=>{const e=I.useContext(FL);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};bie(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const xie=24,wie=typeof window<"u"?_.useLayoutEffect:_.useEffect;function kk(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function _ie(){return T_(/^Mac/)}function Sie(){return T_(/^iPhone/)}function Ak(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function jie(){return T_(/^iPad/)||_ie()&&navigator.maxTouchPoints>1}function zL(){return Sie()||jie()}function T_(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const og=typeof document<"u"&&window.visualViewport;function Ok(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function qL(e){for(Ok(e)&&(e=e.parentElement);e&&!Ok(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Eie=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let yd=0,sg;function kie(e={}){let{isDisabled:t}=e;wie(()=>{if(!t)return yd++,yd===1&&zL()&&(sg=Aie()),()=>{yd--,yd===0&&sg?.()}},[t])}function Aie(){let e,t=0,r=d=>{e=qL(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},n=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let p=d.changedTouches[0].pageY,h=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((h<=0&&p>t||h>=v&&p<t)&&d.preventDefault(),t=p)},i=d=>{let p=d.target;jx(p)&&p!==document.activeElement&&(d.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},a=d=>{let p=d.target;jx(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",og&&(og.height<window.innerHeight?requestAnimationFrame(()=>{Ck(p)}):og.addEventListener("resize",()=>Ck(p),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,c=kk(Oie(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=kk($l(document,"touchstart",r,{passive:!1,capture:!0}),$l(document,"touchmove",n,{passive:!1,capture:!0}),$l(document,"touchend",i,{passive:!1,capture:!0}),$l(document,"focus",a,!0),$l(window,"scroll",o));return()=>{c(),u(),window.scrollTo(s,l)}}function Oie(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function $l(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function Ck(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=qL(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+xie;a>o&&(r.scrollTop+=i-n)}e=r.parentElement}}function jx(e){return e instanceof HTMLInputElement&&!Eie.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Cie(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Pie(...e){return t=>e.forEach(r=>Cie(r,t))}function UL(...e){return _.useCallback(Pie(...e),e)}const WL=new WeakMap;function Yt(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}n[i]=e.style[i],e.style[i]=a}),!r&&WL.set(e,n)}function Tie(e,t){if(!e||!(e instanceof HTMLElement))return;let r=WL.get(e);r&&(e.style[t]=r[t])}const Xt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function bd(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Xt(t)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Xt(t)?5:4]):null)}function Nie(e){return 8*(Math.log(e+1)-2)}function lg(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Rie(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Pt={DURATION:.5,EASE:[.32,.72,0,1]},HL=.4,Iie=.25,Die=100,VL=8,Ra=16,Ex=26,cg="vaul-dragging";function KL(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function Mie({defaultProp:e,onChange:t}){const r=I.useState(e),[n]=r,i=I.useRef(n),a=KL(t);return I.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}function GL({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=Mie({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,s=KL(r),l=I.useCallback(c=>{if(a){const d=typeof c=="function"?c(e):c;d!==e&&s(d)}else i(c)},[a,e,i,s]);return[o,l]}function $ie({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:s="bottom",container:l,snapToSequentialPoint:c}){const[u,d]=GL({prop:e,defaultProp:r?.[0],onChange:t}),[p,h]=I.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);I.useEffect(()=>{function E(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const v=I.useMemo(()=>u===r?.[r.length-1]||null,[r,u]),m=I.useMemo(()=>r?.findIndex(E=>E===u),[r,u]),g=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===u||!r,y=I.useMemo(()=>{const E=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var C;return(C=r?.map(P=>{const O=typeof P=="string";let N=0;if(O&&(N=parseInt(P,10)),Xt(s)){const D=O?N:p?P*E.height:0;return p?s==="bottom"?E.height-D:-E.height+D:D}const T=O?N:p?P*E.width:0;return p?s==="right"?E.width-T:-E.width+T:T}))!=null?C:[]},[r,p,l]),b=I.useMemo(()=>m!==null?y?.[m]:null,[y,m]),x=I.useCallback(E=>{var C;const P=(C=y?.findIndex(O=>O===E))!=null?C:null;o(P),Yt(n.current,{transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,transform:Xt(s)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`}),y&&P!==y.length-1&&P!==a&&P<a?Yt(i.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,opacity:"0"}):Yt(i.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,opacity:"1"}),d(r?.[Math.max(P,0)])},[n.current,r,y,a,i,d]);I.useEffect(()=>{if(u||e){var E;const C=(E=r?.findIndex(P=>P===e||P===u))!=null?E:-1;y&&C!==-1&&typeof y[C]=="number"&&x(y[C])}},[u,e,r,y,x]);function S({draggedDistance:E,closeDrawer:C,velocity:P,dismissible:O}){if(a===void 0)return;const N=s==="bottom"||s==="right"?(b??0)-E:(b??0)+E,T=m===a-1,D=m===0,k=E>0;if(T&&Yt(i.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`}),!c&&P>2&&!k){O?C():x(y[0]);return}if(!c&&P>2&&k&&y&&r){x(y[r.length-1]);return}const R=y?.reduce((B,U)=>typeof B!="number"||typeof U!="number"?B:Math.abs(U-N)<Math.abs(B-N)?U:B),F=Xt(s)?window.innerHeight:window.innerWidth;if(P>HL&&Math.abs(E)<F*.4){const B=k?1:-1;if(B>0&&v){x(y[r.length-1]);return}if(D&&B<0&&O&&C(),m===null)return;x(y[m+B]);return}x(R)}function w({draggedDistance:E}){if(b===null)return;const C=s==="bottom"||s==="right"?b-E:b+E;(s==="bottom"||s==="right")&&C<y[y.length-1]||(s==="top"||s==="left")&&C>y[y.length-1]||Yt(n.current,{transform:Xt(s)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`})}function j(E,C){if(!r||typeof m!="number"||!y||a===void 0)return null;const P=m===a-1;if(m>=a&&C)return 0;if(P&&!C)return 1;if(!g&&!P)return null;const N=P?m+1:m-1,T=P?y[N]-y[N-1]:y[N+1]-y[N],D=E/Math.abs(T);return P?1-D:D}return{isLastSnapPoint:v,activeSnapPoint:u,shouldFade:g,getPercentageDragged:j,setActiveSnapPoint:d,activeSnapPointIndex:m,onRelease:S,onDrag:w,snapPointsOffset:y}}const Lie=()=>()=>{};function Bie(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:i}=$u(),a=I.useRef(null),o=_.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-Ex)/window.innerWidth}I.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;Rie(n&&!i?lg(document.body,{background:"black"}):Lie,lg(l,{transformOrigin:Xt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Pt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Pt.EASE.join(",")})`}));const c=lg(l,{borderRadius:`${VL}px`,overflow:"hidden",...Xt(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Pt.DURATION*1e3)}}},[t,r,o])}let Ll=null;function Fie({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:i,noBodyStyles:a}){const[o,s]=I.useState(()=>typeof window<"u"?window.location.href:""),l=I.useRef(0),c=I.useCallback(()=>{if(Ak()&&Ll===null&&e&&!a){Ll={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=p-window.innerHeight;h&&l.current>=p&&(document.body.style.top=`${-(l.current+h)}px`)}),300)}},[e]),u=I.useCallback(()=>{if(Ak()&&Ll!==null&&!a){const d=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ll),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){s(window.location.href);return}window.scrollTo(p,d)}),Ll=null}},[o]);return I.useEffect(()=>{function d(){l.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),I.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{u()},500)):u())},[e,n,o,t,r,c,u]),{restorePositionSetting:u}}function zie({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:s=!0,closeThreshold:l=Iie,scrollLockTimeout:c=Die,dismissible:u=!0,handleOnly:d=!1,fadeFromIndex:p=a&&a.length-1,activeSnapPoint:h,setActiveSnapPoint:v,fixed:m,modal:g=!0,onClose:y,nested:b,noBodyStyles:x,direction:S="bottom",defaultOpen:w=!1,disablePreventScroll:j=!0,snapToSequentialPoint:E=!1,preventScrollRestoration:C=!1,repositionInputs:P=!0,onAnimationEnd:O,container:N,autoFocus:T=!1}){var D,k;const[R=!1,F]=GL({defaultProp:w,prop:e,onChange:je=>{t?.(je),!je&&!b&&Y(),setTimeout(()=>{O?.(je)},Pt.DURATION*1e3),je&&!g&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),je||(document.body.style.pointerEvents="auto")}}),[B,U]=I.useState(!1),[L,M]=I.useState(!1),[H,z]=I.useState(!1),$=I.useRef(null),Q=I.useRef(null),Z=I.useRef(null),fe=I.useRef(null),le=I.useRef(null),ue=I.useRef(!1),ee=I.useRef(null),te=I.useRef(0),ce=I.useRef(!1),J=I.useRef(0),ne=I.useRef(null),A=I.useRef(((D=ne.current)==null?void 0:D.getBoundingClientRect().height)||0),K=I.useRef(((k=ne.current)==null?void 0:k.getBoundingClientRect().width)||0),V=I.useRef(0),W=I.useCallback(je=>{a&&je===X.length-1&&(Q.current=new Date)},[]),{activeSnapPoint:q,activeSnapPointIndex:G,setActiveSnapPoint:ie,onRelease:re,snapPointsOffset:X,onDrag:de,shouldFade:ve,getPercentageDragged:he}=$ie({snapPoints:a,activeSnapPointProp:h,setActiveSnapPointProp:v,drawerRef:ne,fadeFromIndex:p,overlayRef:$,onSnapPointChange:W,direction:S,container:N,snapToSequentialPoint:E});kie({isDisabled:!R||L||!g||H||!B||!P||!j});const{restorePositionSetting:Y}=Fie({isOpen:R,modal:g,nested:b,hasBeenOpened:B,preventScrollRestoration:C,noBodyStyles:x});function oe(){return(window.innerWidth-Ex)/window.innerWidth}function ge(je){var et,it;!u&&!a||ne.current&&!ne.current.contains(je.target)||(A.current=((et=ne.current)==null?void 0:et.getBoundingClientRect().height)||0,K.current=((it=ne.current)==null?void 0:it.getBoundingClientRect().width)||0,M(!0),Z.current=new Date,zL()&&window.addEventListener("touchend",()=>ue.current=!1,{once:!0}),je.target.setPointerCapture(je.pointerId),te.current=Xt(S)?je.pageY:je.pageX)}function Oe(je,et){var it,ot;let Ce=je;const He=(it=window.getSelection())==null?void 0:it.toString(),st=ne.current?bd(ne.current,S):null,we=new Date;if(Ce.hasAttribute("data-vaul-no-drag")||Ce.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if(Q.current&&we.getTime()-Q.current.getTime()<500)return!1;if(st!==null&&(S==="bottom"?st>0:st<0))return!0;if(He&&He.length>0)return!1;if(we.getTime()-((ot=le.current)==null?void 0:ot.getTime())<c&&st===0||et)return le.current=we,!1;for(;Ce;){if(Ce.scrollHeight>Ce.clientHeight){if(Ce.scrollTop!==0)return le.current=new Date,!1;if(Ce.getAttribute("role")==="dialog")return!0}Ce=Ce.parentNode}return!0}function ze(je){if(ne.current&&L){const et=S==="bottom"||S==="right"?1:-1,it=(te.current-(Xt(S)?je.pageY:je.pageX))*et,ot=it>0,Ce=a&&!u&&!ot;if(Ce&&G===0)return;const He=Math.abs(it),st=document.querySelector("[data-vaul-drawer-wrapper]"),we=S==="bottom"||S==="top"?A.current:K.current;let Ne=He/we;const Le=he(He,ot);if(Le!==null&&(Ne=Le),Ce&&Ne>=1||!ue.current&&!Oe(je.target,ot))return;if(ne.current.classList.add(cg),ue.current=!0,Yt(ne.current,{transition:"none"}),Yt($.current,{transition:"none"}),a&&de({draggedDistance:it}),ot&&!a){const pt=Nie(it),ct=Math.min(pt*-1,0)*et;Yt(ne.current,{transform:Xt(S)?`translate3d(0, ${ct}px, 0)`:`translate3d(${ct}px, 0, 0)`});return}const lt=1-Ne;if((ve||p&&G===p-1)&&(n?.(je,Ne),Yt($.current,{opacity:`${lt}`,transition:"none"},!0)),st&&$.current&&o){const pt=Math.min(oe()+Ne*(1-oe()),1),ct=8-Ne*8,Vt=Math.max(0,14-Ne*14);Yt(st,{borderRadius:`${ct}px`,transform:Xt(S)?`scale(${pt}) translate3d(0, ${Vt}px, 0)`:`scale(${pt}) translate3d(${Vt}px, 0, 0)`,transition:"none"},!0)}if(!a){const pt=He*et;Yt(ne.current,{transform:Xt(S)?`translate3d(0, ${pt}px, 0)`:`translate3d(${pt}px, 0, 0)`})}}}I.useEffect(()=>{var je;function et(){if(!ne.current||!P)return;const it=document.activeElement;if(jx(it)||ce.current){var ot;const Ce=((ot=window.visualViewport)==null?void 0:ot.height)||0,He=window.innerHeight;let st=He-Ce;const we=ne.current.getBoundingClientRect().height||0,Ne=we>He*.8;V.current||(V.current=we);const Le=ne.current.getBoundingClientRect().top;if(Math.abs(J.current-st)>60&&(ce.current=!ce.current),a&&a.length>0&&X&&G){const lt=X[G]||0;st+=lt}if(J.current=st,we>Ce||ce.current){const lt=ne.current.getBoundingClientRect().height;let pt=lt;lt>Ce&&(pt=Ce-(Ne?Le:Ex)),m?ne.current.style.height=`${lt-Math.max(st,0)}px`:ne.current.style.height=`${Math.max(pt,Ce-Le)}px`}else ne.current.style.height=`${V.current}px`;a&&a.length>0&&!ce.current?ne.current.style.bottom="0px":ne.current.style.bottom=`${Math.max(st,0)}px`}}return(je=window.visualViewport)==null||je.addEventListener("resize",et),()=>{var it;return(it=window.visualViewport)==null?void 0:it.removeEventListener("resize",et)}},[G,a,X]);function Ve(je){Ke(),y?.(),je||F(!1),setTimeout(()=>{a&&ie(a[0])},Pt.DURATION*1e3)}function Tt(){if(!ne.current)return;const je=document.querySelector("[data-vaul-drawer-wrapper]"),et=bd(ne.current,S);Yt(ne.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`}),Yt($.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,opacity:"1"}),o&&et&&et>0&&R&&Yt(je,{borderRadius:`${VL}px`,overflow:"hidden",...Xt(S)?{transform:`scale(${oe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${oe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Pt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Pt.EASE.join(",")})`},!0)}function Ke(){!L||!ne.current||(ne.current.classList.remove(cg),ue.current=!1,M(!1),fe.current=new Date)}function It(je){if(!L||!ne.current)return;ne.current.classList.remove(cg),ue.current=!1,M(!1),fe.current=new Date;const et=bd(ne.current,S);if(!Oe(je.target,!1)||!et||Number.isNaN(et)||Z.current===null)return;const it=fe.current.getTime()-Z.current.getTime(),ot=te.current-(Xt(S)?je.pageY:je.pageX),Ce=Math.abs(ot)/it;if(Ce>.05&&(z(!0),setTimeout(()=>{z(!1)},200)),a){re({draggedDistance:ot*(S==="bottom"||S==="right"?1:-1),closeDrawer:Ve,velocity:Ce,dismissible:u}),i?.(je,!0);return}if(S==="bottom"||S==="right"?ot>0:ot<0){Tt(),i?.(je,!0);return}if(Ce>HL){Ve(),i?.(je,!1);return}var He;const st=Math.min((He=ne.current.getBoundingClientRect().height)!=null?He:0,window.innerHeight);var we;const Ne=Math.min((we=ne.current.getBoundingClientRect().width)!=null?we:0,window.innerWidth),Le=S==="left"||S==="right";if(Math.abs(et)>=(Le?Ne:st)*l){Ve(),i?.(je,!1);return}i?.(je,!0),Tt()}I.useEffect(()=>(R&&(Yt(document.documentElement,{scrollBehavior:"auto"}),Q.current=new Date),()=>{Tie(document.documentElement,"scrollBehavior")}),[R]);function rr(je){const et=je?(window.innerWidth-Ra)/window.innerWidth:1,it=je?-Ra:0;ee.current&&window.clearTimeout(ee.current),Yt(ne.current,{transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,transform:`scale(${et}) translate3d(0, ${it}px, 0)`}),!je&&ne.current&&(ee.current=setTimeout(()=>{const ot=bd(ne.current,S);Yt(ne.current,{transition:"none",transform:Xt(S)?`translate3d(0, ${ot}px, 0)`:`translate3d(${ot}px, 0, 0)`})},500))}function Ze(je,et){if(et<0)return;const it=(window.innerWidth-Ra)/window.innerWidth,ot=it+et*(1-it),Ce=-Ra+et*Ra;Yt(ne.current,{transform:Xt(S)?`scale(${ot}) translate3d(0, ${Ce}px, 0)`:`scale(${ot}) translate3d(${Ce}px, 0, 0)`,transition:"none"})}function yr(je,et){const it=Xt(S)?window.innerHeight:window.innerWidth,ot=et?(it-Ra)/it:1,Ce=et?-Ra:0;et&&Yt(ne.current,{transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,transform:Xt(S)?`scale(${ot}) translate3d(0, ${Ce}px, 0)`:`scale(${ot}) translate3d(${Ce}px, 0, 0)`})}return I.createElement(ap,{defaultOpen:w,onOpenChange:je=>{!u&&!je||(je?U(!0):Ve(!0),F(je))},open:R},I.createElement(FL.Provider,{value:{activeSnapPoint:q,snapPoints:a,setActiveSnapPoint:ie,drawerRef:ne,overlayRef:$,onOpenChange:t,onPress:ge,onRelease:It,onDrag:ze,dismissible:u,handleOnly:d,isOpen:R,isDragging:L,shouldFade:ve,closeDrawer:Ve,onNestedDrag:Ze,onNestedOpenChange:rr,onNestedRelease:yr,keyboardIsOpen:ce,modal:g,snapPointsOffset:X,direction:S,shouldScaleBackground:o,setBackgroundColorOnScale:s,noBodyStyles:x,container:N,autoFocus:T}},r))}const YL=I.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:i,shouldFade:a,isOpen:o,modal:s}=$u(),l=UL(t,r),c=n&&n.length>0;return s?I.createElement(rl,{onMouseUp:i,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":o&&c?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});YL.displayName="Drawer.Overlay";const XL=I.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},i){const{drawerRef:a,onPress:o,onRelease:s,onDrag:l,keyboardIsOpen:c,snapPointsOffset:u,modal:d,isOpen:p,direction:h,snapPoints:v,container:m,handleOnly:g,autoFocus:y}=$u(),[b,x]=I.useState(!1),S=UL(i,a),w=I.useRef(null),j=I.useRef(null),E=I.useRef(!1),C=v&&v.length>0;Bie();const P=(N,T,D=0)=>{if(E.current)return!0;const k=Math.abs(N.y),R=Math.abs(N.x),F=R>k,B=["bottom","right"].includes(T)?1:-1;if(T==="left"||T==="right"){if(!(N.x*B<0)&&R>=0&&R<=D)return F}else if(!(N.y*B<0)&&k>=0&&k<=D)return!F;return E.current=!0,!0};I.useEffect(()=>{C&&window.requestAnimationFrame(()=>{x(!0)})},[]);function O(N){w.current=null,E.current=!1,s(N)}return I.createElement(nl,{"data-vaul-drawer-direction":h,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":p&&C?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:S,style:u&&u.length>0?{"--snap-point-height":`${u[0]}px`,...t}:t,onPointerDown:N=>{g||(n.onPointerDown==null||n.onPointerDown.call(n,N),w.current={x:N.pageX,y:N.pageY},o(N))},onOpenAutoFocus:N=>{r?.(N),y||N.preventDefault()},onPointerDownOutside:N=>{if(e?.(N),!d||N.defaultPrevented){N.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:N=>{if(!d){N.preventDefault();return}},onPointerMove:N=>{if(j.current=N,g||(n.onPointerMove==null||n.onPointerMove.call(n,N),!w.current))return;const T=N.pageY-w.current.y,D=N.pageX-w.current.x,k=N.pointerType==="touch"?10:2;P({x:D,y:T},h,k)?l(N):(Math.abs(D)>k||Math.abs(T)>k)&&(w.current=null)},onPointerUp:N=>{n.onPointerUp==null||n.onPointerUp.call(n,N),w.current=null,E.current=!1,s(N)},onPointerOut:N=>{n.onPointerOut==null||n.onPointerOut.call(n,N),O(j.current)},onContextMenu:N=>{n.onContextMenu==null||n.onContextMenu.call(n,N),O(j.current)}})});XL.displayName="Drawer.Content";const qie=250,Uie=120,Wie=I.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:s,setActiveSnapPoint:l,dismissible:c,handleOnly:u,isOpen:d,onPress:p,onDrag:h}=$u(),v=I.useRef(null),m=I.useRef(!1);function g(){if(m.current){x();return}window.setTimeout(()=>{y()},Uie)}function y(){if(a||e||m.current){x();return}if(x(),(!o||o.length===0)&&c){i();return}if(s===o[o.length-1]&&c){i();return}const w=o.findIndex(E=>E===s);if(w===-1)return;const j=o[w+1];l(j)}function b(){v.current=window.setTimeout(()=>{m.current=!0},qie)}function x(){window.clearTimeout(v.current),m.current=!1}return I.createElement("div",{onClick:g,onPointerCancel:x,onPointerDown:S=>{u&&p(S),b()},onPointerMove:S=>{u&&h(S)},ref:n,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},I.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});Wie.displayName="Drawer.Handle";function Hie(e){const t=$u(),{container:r=t.container,...n}=e;return I.createElement(sp,{container:r,...n})}const ui={Root:zie,Content:XL,Overlay:YL,Trigger:op,Portal:Hie,Title:il,Description:al},QL=({shouldScaleBackground:e=!0,...t})=>f.jsx(ui.Root,{shouldScaleBackground:e,...t});QL.displayName="Drawer";const Vie=ui.Trigger,Kie=ui.Portal,JL=_.forwardRef(({className:e,...t},r)=>f.jsx(ui.Overlay,{ref:r,className:ae("fixed inset-0 z-50 bg-black/80",e),...t}));JL.displayName=ui.Overlay.displayName;const ZL=_.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(Kie,{children:[f.jsx(JL,{}),f.jsxs(ui.Content,{ref:n,className:ae("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[f.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));ZL.displayName="DrawerContent";const e3=({className:e,...t})=>f.jsx("div",{className:ae("grid gap-1.5 p-4 text-center sm:text-left",e),...t});e3.displayName="DrawerHeader";const t3=_.forwardRef(({className:e,...t},r)=>f.jsx(ui.Title,{ref:r,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));t3.displayName=ui.Title.displayName;const r3=_.forwardRef(({className:e,...t},r)=>f.jsx(ui.Description,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));r3.displayName=ui.Description.displayName;const Gie=()=>{const e=Y2(),{status:t,latency:r}=yie(),{data:n}=BL(),{goals:i,logs:a,allGoals:o,rawLogs:s,createGoal:l,updateGoal:c,updateOrder:u,deleteGoal:d,toggleGoal:p,isDeleting:h,isUpdating:v,resetAllData:m,isResetting:g}=B1(),{isPrivacyMode:y,setIsPrivacyMode:b}=tp(),{isAIEnabled:x,setIsAIEnabled:S}=Yh(),w=()=>{if(!s||!o){Ue.error("Nessun dato da esportare");return}try{const C=new Map(o.map(D=>[D.id,D.title])),P=["Date,Habit Name,Status,Value,Notes"];s.forEach(D=>{const k=C.get(D.goal_id)||"Archived Habit",R=B=>`"${B.replace(/"/g,'""')}"`,F=[D.date,R(k),D.status,D.value||"",D.notes?R(D.notes):""].join(",");P.push(F)});const O=new Blob([P.join(`
`)],{type:"text/csv;charset=utf-8;"}),N=window.URL.createObjectURL(O),T=document.createElement("a");T.href=N,T.download=`habit-tracker-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(T),T.click(),window.URL.revokeObjectURL(N),document.body.removeChild(T),Ue.success("Export completato!")}catch(C){console.error("Export failed:",C),Ue.error("Errore durante l'export")}},[j,E]=_.useState("month");return f.jsxs("div",{className:"flex-1 h-full overflow-hidden flex flex-col pt-4 lg:pt-8 pb-0 sm:pb-8 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[2400px] mx-auto",children:[f.jsx("div",{className:"fixed top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-2 lg:gap-8 w-full h-full lg:h-full",children:[f.jsxs("div",{className:"lg:col-span-3 space-y-2 lg:space-y-8",children:[f.jsxs("div",{className:"glass-panel p-4 lg:p-6 rounded-2xl space-y-4 transition-all",children:[f.jsxs("div",{className:"flex flex-row lg:flex-col items-center lg:items-start justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl lg:text-3xl font-display font-bold text-foreground",children:"Protocollo"}),f.jsx("p",{className:"text-muted-foreground text-xs lg:text-sm",children:"Esecuzione giornaliera."})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(bx,{id:"privacy-mode",checked:y,onCheckedChange:b}),f.jsxs(Mn,{htmlFor:"privacy-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[y?f.jsx(c6,{className:"w-3 h-3"}):f.jsx(ER,{className:"w-3 h-3"}),"Privacy"]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(bx,{id:"ai-mode",checked:x,onCheckedChange:S}),f.jsxs(Mn,{htmlFor:"ai-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[f.jsx(wR,{className:"w-3 h-3"}),"AI"]})]})]})]}),f.jsxs("div",{className:"pt-0 lg:pt-4 border-t-0 lg:border-t border-white/5 flex gap-2 justify-end lg:justify-start",children:[f.jsx("div",{className:"lg:hidden mr-auto relative",children:f.jsxs(QL,{shouldScaleBackground:!1,children:[f.jsx(Vie,{asChild:!0,children:f.jsxs(Ge,{variant:"outline",size:"icon",className:ae("h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 transition-all",n?"text-muted-foreground":"text-primary border-primary/40 shadow-[0_0_10px_-3px_rgba(255,255,255,0.1)]"),children:[f.jsx(kR,{className:ae("h-4 w-4",!n&&"animate-pulse")}),!n&&f.jsx("span",{className:"absolute top-2 right-2.5 h-1.5 w-1.5 rounded-full bg-red-500 shadow-[0_0_8px_2px_rgba(239,68,68,0.5)] animate-pulse"})]})}),f.jsx(ZL,{children:f.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[f.jsxs(e3,{children:[f.jsx(t3,{children:"Daily Check-in"}),f.jsx(r3,{children:"Traccia il tuo umore ed energia."})]}),f.jsx("div",{className:"p-4 pb-8",children:f.jsx(Ek,{})})]})})]})}),f.jsx(Nne,{}),f.jsx(YX,{habits:i,onAddHabit:l,onUpdateHabit:c,onUpdateOrder:u,onRemoveHabit:d,isDeleting:h,isUpdating:v,isPrivacyMode:y}),f.jsxs(ro,{children:[f.jsx(ys,{asChild:!0,children:f.jsx(Ge,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Esporta dati CSV",children:f.jsx(Fh,{className:"h-4 w-4"})})}),f.jsxs(sa,{children:[f.jsxs(la,{children:[f.jsx(ua,{children:"Esportare i dati?"}),f.jsxs(da,{children:["Verr scaricato un file CSV contenente tutto lo storico delle tue abitudini. ",f.jsx("br",{}),"Vuoi procedere con il download?"]})]}),f.jsxs(ca,{children:[f.jsx(po,{children:"Annulla"}),f.jsx(fa,{onClick:w,children:"Esporta CSV"})]})]})]}),f.jsx(Ge,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 hover:bg-primary/10",title:"Backup Completo",onClick:()=>e("/complete-backup"),children:f.jsx(jR,{className:"h-4 w-4"})}),f.jsxs(ro,{children:[f.jsx(ys,{asChild:!0,children:f.jsx(Ge,{variant:"ghost",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border-red-500/20",title:"Hard Reset (Elimina tutto)",children:f.jsx(d1,{className:"h-4 w-4"})})}),f.jsxs(sa,{children:[f.jsxs(la,{children:[f.jsx(ua,{className:"text-destructive",children:"Hard Reset: Attenzione!"}),f.jsxs(da,{children:["Questa azione eliminer ",f.jsx("strong",{children:"definitivamente"})," tutte le tue abitudini e tutto lo storico dei progressi.",f.jsx("br",{}),f.jsx("br",{}),"I dati non potranno essere recuperati. Sei sicuro di voler procedere?"]})]}),f.jsxs(ca,{children:[f.jsx(po,{children:"Annulla"}),f.jsx(fa,{onClick:()=>m(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:g,children:g?"Eliminazione...":"Conferma Reset Totale"})]})]})]})]})]}),f.jsxs("div",{className:"glass-card p-6 rounded-2xl hidden lg:block transition-colors duration-300",children:[f.jsxs("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-widest mb-2 flex items-center justify-between",children:["System Status",t==="active"&&f.jsx(C6,{className:"w-4 h-4 text-green-500"}),t==="offline"&&f.jsx(O6,{className:"w-4 h-4 text-yellow-500"}),t==="error"&&f.jsx(Qd,{className:"w-4 h-4 text-red-500"})]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:ae("text-2xl font-bold font-mono-nums transition-colors",t==="active"?"text-primary":t==="offline"?"text-yellow-500":"text-red-500"),children:t==="active"?"Online":t==="offline"?"Offline":"Error"}),f.jsx("span",{className:ae("w-2 h-2 rounded-full animate-pulse",t==="active"?"bg-green-500":t==="offline"?"bg-yellow-500":"bg-red-500")})]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-4 flex justify-between items-center",children:[f.jsx("span",{children:"Mattioli.OS v4.1"}),r&&f.jsxs("span",{className:"font-mono opacity-50",children:[r,"ms"]})]})]}),f.jsx("div",{className:"hidden lg:block",children:f.jsx(Ek,{})})]}),f.jsx("div",{className:"lg:col-span-9 flex flex-col flex-1 h-full min-h-0 overflow-hidden lg:overflow-visible",children:f.jsxs(us,{defaultValue:"month",value:j,onValueChange:E,className:"w-full h-full flex flex-col",children:[f.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 lg:mb-4 shrink-0",children:f.jsxs(no,{className:"grid w-full grid-cols-3 bg-card/40 border border-white/10 backdrop-blur-md rounded-xl p-1 shadow-sm h-10 sm:h-auto",children:[f.jsxs(vt,{value:"month",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[f.jsx(lo,{className:"w-4 h-4"}),f.jsx("span",{className:"xs:inline",children:"Mese"})]}),f.jsxs(vt,{value:"week",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[f.jsx(h6,{className:"w-4 h-4"}),f.jsx("span",{className:"xs:inline",children:"Settimana"})]}),f.jsxs(vt,{value:"year",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[f.jsx(m6,{className:"w-4 h-4"}),f.jsx("span",{className:"xs:inline",children:"Anno"})]})]})}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-0 glass-panel rounded-xl sm:rounded-2xl p-0 sm:p-2 overflow-hidden mb-2",children:[f.jsx(Pr,{value:"month",className:"mt-0 animate-scale-in h-full",children:f.jsx(xG,{habits:i,records:a,onToggleHabit:p,isPrivacyMode:y})}),f.jsx(Pr,{value:"week",className:"mt-0 animate-scale-in h-full",children:f.jsx(wG,{habits:i,records:a,onToggleHabit:p,isPrivacyMode:y})}),f.jsx(Pr,{value:"year",className:"mt-0 animate-scale-in h-full",children:f.jsx(SG,{habits:i,records:a,onToggleHabit:p,isPrivacyMode:y})})]})]})})]})]})};function n3(e,t,r="weekly"){return _.useMemo(()=>{const n=Un(new Date),i=Object.keys(t).sort(),a=e.map(L=>{const M=Un(new Date(L.start_date)),H=L.id;let z=0,$=0,Q=0,Z=0,fe=0,le=0;const ue=Math.max(0,Ac(n,M)+1),ee=new Date(n);let te=!0;const ce=Ye(ee,"yyyy-MM-dd"),J=t[ce]?.[H];J==="done"?z++:J==="missed"&&(te=!1);let ne=1;for(;;){const G=Ut(n,ne);if(Fn(G,M))break;const ie=Ye(G,"yyyy-MM-dd"),re=t[ie]?.[H];if(re==="done"?te&&z++:re==="missed"&&(te=!1),!te||ne>365*5)break;ne++}if(ue>0){for(let G=0;G<ue;G++){const ie=Ut(n,G),re=Ye(ie,"yyyy-MM-dd"),X=t[re]?.[H];X==="done"?(le++,Q++,Z=Math.max(Z,fe),fe=0):(X==="missed"||X===null)&&(fe++,X==="missed"&&($=Math.max($,Q),Q=0))}$=Math.max($,Q),Z=Math.max(Z,fe)}let A=0,K=0;const V=Ut(n,29),W=Yi(M,V)?M:V;Yi(W,n)||Cn({start:W,end:n}).forEach(G=>{A++;const ie=Ye(G,"yyyy-MM-dd");t[ie]?.[H]==="done"&&K++});const q=A>0?Math.round(K/A*100):0;return{id:L.id,title:L.title,color:L.color,currentStreak:z,longestStreak:$,worstStreak:Z,totalDays:le,completionRate:q}}),o=[],s=Ut(n,365);Cn({start:s,end:n}).forEach(L=>{const M=Ye(L,"yyyy-MM-dd");let H=0,z=0;e.forEach(Q=>{const Z=new Date(Q.start_date);Fn(Un(L),Un(Z))||(H++,t[M]?.[Q.id]==="done"&&z++)});let $=0;if(H>0&&z>0){const Q=z/H;Q<=.25?$=1:Q<=.5?$=2:Q<=.75?$=3:$=4}o.push({date:M,count:z,intensity:$})});const l=[];let c,u=n,d="day";switch(r){case"weekly":c=Ut(n,6),d="day";break;case"monthly":c=Ut(n,29),d="day";break;case"annual":c=nE(n,11),d="month";break;case"all":const L=e.reduce((M,H)=>Fn(new Date(H.start_date),M)?new Date(H.start_date):M,n);c=L,Ac(n,L)>90?(d="month",c=Ya(c)):d="day";break;default:c=Ut(n,6)}if(d==="day")Cn({start:c,end:u}).forEach(L=>{const M=Ye(L,"yyyy-MM-dd");let H=Ye(L,"EEE",{locale:Wr});(r==="monthly"||r==="all")&&(H=Ye(L,"dd/MM",{locale:Wr}));const z={date:H};let $=0,Q=0;e.forEach(fe=>{const le=new Date(fe.start_date);if(Fn(Un(L),Un(le))){z[fe.id]=0;return}Q++;const ee=t[M]?.[fe.id]==="done";ee&&$++,z[fe.id]=ee?100:0});const Z=Q>0?Math.round($/Q*100):0;z.overall=Z,l.push(z)});else{let L=Ya(c);for(;!Yi(L,u);){const M=GD(L),H=Fn(M,u)?M:u,z={date:Ye(L,"MMM yy",{locale:Wr})};let $=0,Q=0;e.forEach(fe=>{const le=new Date(fe.start_date),ue=Fn(L,le)?le:L;if(Yi(ue,H)){z[fe.id]=0;return}let ee=0,te=0;Cn({start:ue,end:H}).forEach(J=>{const ne=Ye(J,"yyyy-MM-dd");te++,t[ne]?.[fe.id]==="done"&&ee++});const ce=te>0?Math.round(ee/te*100):0;z[fe.id]=ce,$+=te,Q+=ee});const Z=$>0?Math.round(Q/$*100):0;z.overall=Z,l.push(z),L=Ya(Ut(L,-32))}}const p=[0,0,0,0,0,0,0].map((L,M)=>({dayIndex:M,dayName:Ye(new Date(2024,0,7+M),"EEEE",{locale:Wr}),totalActive:0,totalDone:0,rate:0})),h=e.reduce((L,M)=>Fn(new Date(M.start_date),L)?new Date(M.start_date):L,n),v=Yi(h,Ut(n,365))?h:Ut(n,365);Yi(v,n)||Cn({start:v,end:n}).forEach(L=>{const M=L.getDay(),H=Ye(L,"yyyy-MM-dd");e.forEach(z=>{const $=new Date(z.start_date);Fn(L,$)||(p[M].totalActive++,t[H]?.[z.id]==="done"&&p[M].totalDone++)})}),p.forEach(L=>{L.rate=L.totalActive>0?Math.round(L.totalDone/L.totalActive*100):0});const m=i.length,g=a.length>0?Math.round(a.reduce((L,M)=>L+M.completionRate,0)/a.length):0,y=Yie(e,t,n,a),b=hn(n,{locale:Wr,weekStartsOn:1}),x=n,S=j7(b),w=Ut(b,1),j=Ya(n),E=n,C=nE(j,1),P=Ut(j,1),O=L1(n),N=n,T=E7(O),D=Ut(O,1),k=ug(e,t,b,x,S,w,"week"),R=ug(e,t,j,E,C,P,"month"),F=ug(e,t,O,N,T,D,"year"),B=e.map(L=>({habitId:L.id,week:k[L.id],month:R[L.id],year:F[L.id]}));return{habitStats:a,heatmapData:o,trendData:l,weekdayStats:p.sort((L,M)=>L.dayIndex===0?1:M.dayIndex===0?-1:L.dayIndex-M.dayIndex),totalActiveDays:m,globalSuccessRate:g,bestStreak:Math.max(...a.map(L=>L.longestStreak),0),worstDay:p.reduce((L,M)=>M.rate<L.rate&&M.totalActive>0?M:L,p[0]).dayName,comparisons:B,criticalHabits:y.sort((L,M)=>L.completionRate-M.completionRate)}},[e,t,r])}function ug(e,t,r,n,i,a,o="month"){const s={},l=e.map(u=>u.id),c=(u,d,p,h)=>{const v=Fn(d,h)?h:d;if(Yi(v,p))return 0;let m=0,g=0;return Cn({start:v,end:p}).forEach(y=>{m++;const b=Ye(y,"yyyy-MM-dd");t[b]?.[u]==="done"&&g++}),m>0?Math.round(g/m*100):0};return l.forEach(u=>{const d=e.find(y=>y.id===u);if(!d)return;const p=new Date(d.start_date),h=c(u,r,n,p),v=c(u,i,a,p),m=h-v;let g="neutral";m>0&&(g="up"),m<0&&(g="down"),s[u]={previous:v,current:h,change:m,trend:g}}),s}function Yie(e,t,r,n){const i=[],a=Ut(r,90);return e.forEach(o=>{const s=[0,0,0,0,0,0,0].map(()=>({total:0,done:0})),l=Fn(a,new Date(o.start_date))?new Date(o.start_date):a,c=Math.max(0,Ac(r,new Date(o.start_date)))+1;let u=4;c<8?u=1:c<15?u=2:c<29&&(u=3),Yi(l,r)||Cn({start:l,end:r}).forEach(m=>{const g=m.getDay(),y=Ye(m,"yyyy-MM-dd");s[g].total++,t[y]?.[o.id]==="done"&&s[g].done++});let d="",p=101;s.forEach((m,g)=>{if(m.total<u)return;const y=Math.round(m.done/m.total*100);if(y<p){p=y;const b=new Date(2024,0,7+g);d=Ye(b,"EEEE",{locale:Wr})}});const h=n.find(m=>m.id===o.id),v=h?h.completionRate:0;p===101&&(d="N/A",p=v),i.push({habitId:o.id,title:o.title,color:o.color,completionRate:v,worstDay:d,worstDayRate:p})}),i}function Pk(e,t){if(e.length!==t.length||e.length===0)return 0;const r=e.length,n=e.reduce((u,d)=>u+d,0),i=t.reduce((u,d)=>u+d,0),a=e.reduce((u,d,p)=>u+d*t[p],0),o=e.reduce((u,d)=>u+d*d,0),s=t.reduce((u,d)=>u+d*d,0),l=r*a-n*i,c=Math.sqrt((r*o-n*n)*(r*s-i*i));return c===0?0:l/c}function Tk(e){return e<=4?"low":e<=7?"medium":"high"}const Xie=(e,t)=>{const{data:r}=ni({queryKey:["moods"],queryFn:async()=>{const{data:a,error:o}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(o)throw o;return a}}),n=_.useMemo(()=>{if(!r||r.length===0||e.length===0)return[];const a=new Map;return r.forEach(o=>{a.set(o.date,{mood:o.mood_score,energy:o.energy_score})}),e.map(o=>{const s=[];Object.entries(t).forEach(([R,F])=>{const B=F[o.id],U=a.get(R);B&&U&&s.push({date:R,completed:B==="done",mood:U.mood,energy:U.energy})});const l=s.filter(R=>R.completed),c=s.filter(R=>!R.completed),u=l.length>0?l.reduce((R,F)=>R+F.mood,0)/l.length:0,d=c.length>0?c.reduce((R,F)=>R+F.mood,0)/c.length:0,p=l.length>0?l.reduce((R,F)=>R+F.energy,0)/l.length:0,h=c.length>0?c.reduce((R,F)=>R+F.energy,0)/c.length:0,v={low:0,medium:0,high:0},m={low:0,medium:0,high:0},g={low:0,medium:0,high:0},y={low:0,medium:0,high:0};s.forEach(R=>{const F=Tk(R.mood),B=Tk(R.energy);m[F]++,y[B]++,R.completed&&(v[F]++,g[B]++)});const b={low:m.low>0?v.low/m.low*100:0,medium:m.medium>0?v.medium/m.medium*100:0,high:m.high>0?v.high/m.high*100:0},x={low:y.low>0?g.low/y.low*100:0,medium:y.medium>0?g.medium/y.medium*100:0,high:y.high>0?g.high/y.high*100:0},S=s.map(R=>R.completed?1:0),w=s.map(R=>R.mood),j=s.map(R=>R.energy),E=Pk(w,S),C=Pk(j,S),O=b.high-b.low>30&&E>.3,T=x.high-x.low>30&&C>.3,D=b.low>=60&&x.low>=60;return{habitId:o.id,habitTitle:o.title,habitColor:o.color,avgMoodWhenCompleted:u,avgMoodWhenMissed:d,avgEnergyWhenCompleted:p,avgEnergyWhenMissed:h,completionRateByMood:b,completionRateByEnergy:x,moodCorrelation:E,energyCorrelation:C,isMoodSensitive:O,isEnergySensitive:T,isResilient:D,totalDaysWithMoodData:s.length,daysCompleted:l.length,daysMissed:c.length}})},[e,t,r]),i=_.useMemo(()=>{const a=n.filter(o=>o.totalDaysWithMoodData>=5);return{moodSensitiveHabits:a.filter(o=>o.isMoodSensitive).sort((o,s)=>s.moodCorrelation-o.moodCorrelation).slice(0,3),energySensitiveHabits:a.filter(o=>o.isEnergySensitive).sort((o,s)=>s.energyCorrelation-o.energyCorrelation).slice(0,3),resilientHabits:a.filter(o=>o.isResilient).sort((o,s)=>s.completionRateByMood.low+s.completionRateByEnergy.low-(o.completionRateByMood.low+o.completionRateByEnergy.low)).slice(0,3),bestAtHighMood:a.sort((o,s)=>s.completionRateByMood.high-o.completionRateByMood.high).slice(0,3),bestAtLowMood:a.sort((o,s)=>s.completionRateByMood.low-o.completionRateByMood.low).slice(0,3),bestAtHighEnergy:a.sort((o,s)=>s.completionRateByEnergy.high-o.completionRateByEnergy.high).slice(0,3),bestAtLowEnergy:a.sort((o,s)=>s.completionRateByEnergy.low-o.completionRateByEnergy.low).slice(0,3)}},[n]);return{correlations:n,insights:i,isLoading:!r}};function Qie(e,t){if(e.length!==t.length||e.length===0)return 0;const r=e.length,n=e.reduce((u,d)=>u+d,0),i=t.reduce((u,d)=>u+d,0),a=e.reduce((u,d,p)=>u+d*t[p],0),o=e.reduce((u,d)=>u+d*d,0),s=t.reduce((u,d)=>u+d*d,0),l=r*a-n*i,c=Math.sqrt((r*o-n*n)*(r*s-i*i));return c===0?0:l/c}function Jie(e){const t=Math.abs(e);return t>=.6?"strong":t>=.3?"moderate":"weak"}function Zie(e){return e>=.3?"positive":e<=-.3?"negative":"none"}function eae(e){const{habitA:t,habitB:r,correlationCoefficient:n,coOccurrenceRate:i,type:a}=e;if(a==="positive"){const o=Math.round(i);return n>=.6?`Quando completi "${t.title}", hai una probabilit del ${o}% di completare anche "${r.title}". Considera di farle insieme come routine consolidata.`:`"${t.title}" e "${r.title}" tendono ad essere completate insieme (${o}%). Prova a collegarle per rafforzare entrambe.`}else if(a==="negative")return`"${t.title}" e "${r.title}" raramente vengono completate lo stesso giorno. Potrebbero competere per tempo/energia - considera di pianificarle in giorni diversi.`;return`Correlazione debole tra "${t.title}" e "${r.title}".`}const tae=(e,t)=>{const r=_.useMemo(()=>{if(e.length<2)return[];const i=[],a=Object.keys(t).sort();for(let o=0;o<e.length;o++)for(let s=o+1;s<e.length;s++){const l=e[o],c=e[s],u=[];if(a.forEach(P=>{const O=t[P],N=O?.[l.id],T=O?.[c.id];N&&T&&u.push({dateStr:P,aComplete:N==="done"?1:0,bComplete:T==="done"?1:0})}),u.length<10)continue;const p=u.map(P=>P.aComplete),h=u.map(P=>P.bComplete),v=Qie(p,h);if(Math.abs(v)<.3)continue;const g=u.filter(P=>P.aComplete===1&&P.bComplete===1).length,y=u.filter(P=>P.aComplete===1).length,b=y>0?g/y*100:0,x=Jie(v),S=Zie(v),w=p.reduce((P,O)=>P+O,0)/p.length*100,j=h.reduce((P,O)=>P+O,0)/h.length*100,E=w>=70&&j>=70,C={habitA:{id:l.id,title:l.title,color:l.color},habitB:{id:c.id,title:c.title,color:c.color},correlationCoefficient:v,coOccurrenceRate:b,totalDaysTracked:u.length,strength:x,type:S,isKeystonePair:E,suggestion:""};C.suggestion=eae(C),i.push(C)}return i},[e,t]),n=_.useMemo(()=>{const i=[...r].sort((d,p)=>Math.abs(p.correlationCoefficient)-Math.abs(d.correlationCoefficient)),a=i.filter(d=>d.type==="positive"),o=i.filter(d=>d.type==="negative"),s=new Map;e.forEach(d=>{s.set(d.id,{habit:d,correlations:[],connections:[]})}),r.forEach(d=>{const p=d.correlationCoefficient,h=s.get(d.habitA.id);h&&(h.correlations.push(p),h.connections.push({habitId:d.habitB.id,title:d.habitB.title,correlation:p}));const v=s.get(d.habitB.id);v&&(v.correlations.push(p),v.connections.push({habitId:d.habitA.id,title:d.habitA.title,correlation:p}))});const l=[];s.forEach((d,p)=>{if(d.correlations.length>=2){const h=d.correlations.reduce((g,y)=>g+y,0)/d.correlations.length;let v="low";d.correlations.length>=4?v="high":d.correlations.length>=3&&(v="medium");const m=[...d.connections].sort((g,y)=>Math.abs(y.correlation)-Math.abs(g.correlation));l.push({habitId:p,title:d.habit.title,color:d.habit.color,avgCorrelation:h,connectedHabits:d.correlations.length,impact:v,connections:m})}}),l.sort((d,p)=>p.connectedHabits-d.connectedHabits);const c=e.filter(d=>!s.get(d.id)?.correlations.length).map(d=>d.id),u=r.length>0?r.reduce((d,p)=>d+Math.abs(p.correlationCoefficient),0)/r.length:0;return{strongestPositive:a.slice(0,5),strongestNegative:o.slice(0,3),keystoneHabits:l.slice(0,3),totalPairs:r.length,avgCorrelation:u,isolatedHabits:c}},[r,e]);return{correlations:r,insights:n}};function rae({globalStats:e,bestHabit:t}){return f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(Gn,{className:"w-24 h-24"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[f.jsx(Gn,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Completamento"})]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:[e.globalSuccessRate,"%"]}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"globale"})]})]})]}),f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(x0,{className:"w-24 h-24 text-orange-500"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[f.jsx(x0,{className:"w-4 h-4 text-orange-500"}),f.jsx("span",{className:"text-sm font-medium",children:"Miglior Serie"})]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:"text-4xl font-display font-bold text-foreground",children:e.bestStreak}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"giorni"})]})]})]}),f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(to,{className:"w-24 h-24 text-yellow-500"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[f.jsx(to,{className:"w-4 h-4 text-yellow-500"}),f.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]}),t?f.jsxs("div",{children:[f.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:t.title}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.completionRate,"% completamento"]})]}):f.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]}),f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx("div",{className:"text-4xl",children:""})}),f.jsxs("div",{children:[f.jsx("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:f.jsx("span",{className:"text-sm font-medium",children:"Giorno Peggiore"})}),e.worstDay?f.jsxs("div",{children:[f.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:e.worstDay}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"Focus richiesto"})]}):f.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]})]})}function nae({data:e}){const t=new Date,r=105,n=e.filter(a=>nV(t,new Date(a.date))<r),i=[];for(let a=r-1;a>=0;a--){const o=Ut(t,a),s=Ye(o,"yyyy-MM-dd"),l=n.find(c=>c.date===s);i.push(l||{date:s,count:0,intensity:0})}return f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[f.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Costanza"}),f.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:i.map(a=>f.jsx("div",{className:ae("w-3 h-3 sm:w-4 sm:h-4 rounded-sm transition-all hover:scale-125 hover:z-10 relative cursor-pointer",a.intensity===0&&"bg-muted/10",a.intensity===1&&"bg-primary/30",a.intensity===2&&"bg-primary/50",a.intensity===3&&"bg-primary/70",a.intensity===4&&"bg-primary"),title:`${a.date}: ${a.count} habits`},a.date))}),f.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted-foreground",children:[f.jsx("span",{children:"Meno"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted/10"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/30"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/70"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),f.jsx("span",{children:"Pi"})]})]})}var dg,Nk;function Mr(){if(Nk)return dg;Nk=1;var e=Array.isArray;return dg=e,dg}var fg,Rk;function i3(){if(Rk)return fg;Rk=1;var e=typeof cn=="object"&&cn&&cn.Object===Object&&cn;return fg=e,fg}var hg,Ik;function di(){if(Ik)return hg;Ik=1;var e=i3(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return hg=r,hg}var pg,Dk;function Lu(){if(Dk)return pg;Dk=1;var e=di(),t=e.Symbol;return pg=t,pg}var mg,Mk;function iae(){if(Mk)return mg;Mk=1;var e=Lu(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var u=n.call(o);return c&&(s?o[i]=l:delete o[i]),u}return mg=a,mg}var gg,$k;function aae(){if($k)return gg;$k=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return gg=r,gg}var vg,Lk;function Bi(){if(Lk)return vg;Lk=1;var e=Lu(),t=iae(),r=aae(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):r(s)}return vg=o,vg}var yg,Bk;function Fi(){if(Bk)return yg;Bk=1;function e(t){return t!=null&&typeof t=="object"}return yg=e,yg}var bg,Fk;function hl(){if(Fk)return bg;Fk=1;var e=Bi(),t=Fi(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return bg=n,bg}var xg,zk;function N_(){if(zk)return xg;zk=1;var e=Mr(),t=hl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return xg=i,xg}var wg,qk;function Sa(){if(qk)return wg;qk=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return wg=e,wg}var _g,Uk;function R_(){if(Uk)return _g;Uk=1;var e=Bi(),t=Sa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==i||l==r||l==a}return _g=o,_g}var Sg,Wk;function oae(){if(Wk)return Sg;Wk=1;var e=di(),t=e["__core-js_shared__"];return Sg=t,Sg}var jg,Hk;function sae(){if(Hk)return jg;Hk=1;var e=oae(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return jg=r,jg}var Eg,Vk;function a3(){if(Vk)return Eg;Vk=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Eg=r,Eg}var kg,Kk;function lae(){if(Kk)return kg;Kk=1;var e=R_(),t=sae(),r=Sa(),n=a3(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!r(p)||t(p))return!1;var h=e(p)?u:a;return h.test(n(p))}return kg=d,kg}var Ag,Gk;function cae(){if(Gk)return Ag;Gk=1;function e(t,r){return t?.[r]}return Ag=e,Ag}var Og,Yk;function ko(){if(Yk)return Og;Yk=1;var e=lae(),t=cae();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return Og=r,Og}var Cg,Xk;function Op(){if(Xk)return Cg;Xk=1;var e=ko(),t=e(Object,"create");return Cg=t,Cg}var Pg,Qk;function uae(){if(Qk)return Pg;Qk=1;var e=Op();function t(){this.__data__=e?e(null):{},this.size=0}return Pg=t,Pg}var Tg,Jk;function dae(){if(Jk)return Tg;Jk=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Tg=e,Tg}var Ng,Zk;function fae(){if(Zk)return Ng;Zk=1;var e=Op(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return Ng=i,Ng}var Rg,eA;function hae(){if(eA)return Rg;eA=1;var e=Op(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return Rg=n,Rg}var Ig,tA;function pae(){if(tA)return Ig;tA=1;var e=Op(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return Ig=r,Ig}var Dg,rA;function mae(){if(rA)return Dg;rA=1;var e=uae(),t=dae(),r=fae(),n=hae(),i=pae();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Dg=a,Dg}var Mg,nA;function gae(){if(nA)return Mg;nA=1;function e(){this.__data__=[],this.size=0}return Mg=e,Mg}var $g,iA;function I_(){if(iA)return $g;iA=1;function e(t,r){return t===r||t!==t&&r!==r}return $g=e,$g}var Lg,aA;function Cp(){if(aA)return Lg;aA=1;var e=I_();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Lg=t,Lg}var Bg,oA;function vae(){if(oA)return Bg;oA=1;var e=Cp(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return Bg=n,Bg}var Fg,sA;function yae(){if(sA)return Fg;sA=1;var e=Cp();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Fg=t,Fg}var zg,lA;function bae(){if(lA)return zg;lA=1;var e=Cp();function t(r){return e(this.__data__,r)>-1}return zg=t,zg}var qg,cA;function xae(){if(cA)return qg;cA=1;var e=Cp();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return qg=t,qg}var Ug,uA;function Pp(){if(uA)return Ug;uA=1;var e=gae(),t=vae(),r=yae(),n=bae(),i=xae();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ug=a,Ug}var Wg,dA;function D_(){if(dA)return Wg;dA=1;var e=ko(),t=di(),r=e(t,"Map");return Wg=r,Wg}var Hg,fA;function wae(){if(fA)return Hg;fA=1;var e=mae(),t=Pp(),r=D_();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Hg=n,Hg}var Vg,hA;function _ae(){if(hA)return Vg;hA=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Vg=e,Vg}var Kg,pA;function Tp(){if(pA)return Kg;pA=1;var e=_ae();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Kg=t,Kg}var Gg,mA;function Sae(){if(mA)return Gg;mA=1;var e=Tp();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Gg=t,Gg}var Yg,gA;function jae(){if(gA)return Yg;gA=1;var e=Tp();function t(r){return e(this,r).get(r)}return Yg=t,Yg}var Xg,vA;function Eae(){if(vA)return Xg;vA=1;var e=Tp();function t(r){return e(this,r).has(r)}return Xg=t,Xg}var Qg,yA;function kae(){if(yA)return Qg;yA=1;var e=Tp();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Qg=t,Qg}var Jg,bA;function M_(){if(bA)return Jg;bA=1;var e=wae(),t=Sae(),r=jae(),n=Eae(),i=kae();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Jg=a,Jg}var Zg,xA;function o3(){if(xA)return Zg;xA=1;var e=M_(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=n.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(r.Cache||e),a}return r.Cache=e,Zg=r,Zg}var ev,wA;function Aae(){if(wA)return ev;wA=1;var e=o3(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return ev=r,ev}var tv,_A;function Oae(){if(_A)return tv;_A=1;var e=Aae(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(r,"$1"):s||o)}),a});return tv=n,tv}var rv,SA;function $_(){if(SA)return rv;SA=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return rv=e,rv}var nv,jA;function Cae(){if(jA)return nv;jA=1;var e=Lu(),t=$_(),r=Mr(),n=hl(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return nv=o,nv}var iv,EA;function s3(){if(EA)return iv;EA=1;var e=Cae();function t(r){return r==null?"":e(r)}return iv=t,iv}var av,kA;function l3(){if(kA)return av;kA=1;var e=Mr(),t=N_(),r=Oae(),n=s3();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return av=i,av}var ov,AA;function Np(){if(AA)return ov;AA=1;var e=hl();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ov=t,ov}var sv,OA;function L_(){if(OA)return sv;OA=1;var e=l3(),t=Np();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return sv=r,sv}var lv,CA;function c3(){if(CA)return lv;CA=1;var e=L_();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return lv=t,lv}var Pae=c3();const Yr=nt(Pae);var cv,PA;function Tae(){if(PA)return cv;PA=1;function e(t){return t==null}return cv=e,cv}var Nae=Tae();const Te=nt(Nae);var uv,TA;function Rae(){if(TA)return uv;TA=1;var e=Bi(),t=Mr(),r=Fi(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return uv=i,uv}var Iae=Rae();const go=nt(Iae);var Dae=R_();const Pe=nt(Dae);var Mae=Sa();const pl=nt(Mae);var dv={exports:{}},dt={};var NA;function $ae(){if(NA)return dt;NA=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function m(g){if(typeof g=="object"&&g!==null){var y=g.$$typeof;switch(y){case e:switch(g=g.type,g){case r:case i:case n:case c:case u:return g;default:switch(g=g&&g.$$typeof,g){case s:case o:case l:case p:case d:case a:return g;default:return y}}case t:return y}}}return dt.ContextConsumer=o,dt.ContextProvider=a,dt.Element=e,dt.ForwardRef=l,dt.Fragment=r,dt.Lazy=p,dt.Memo=d,dt.Portal=t,dt.Profiler=i,dt.StrictMode=n,dt.Suspense=c,dt.SuspenseList=u,dt.isAsyncMode=function(){return!1},dt.isConcurrentMode=function(){return!1},dt.isContextConsumer=function(g){return m(g)===o},dt.isContextProvider=function(g){return m(g)===a},dt.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},dt.isForwardRef=function(g){return m(g)===l},dt.isFragment=function(g){return m(g)===r},dt.isLazy=function(g){return m(g)===p},dt.isMemo=function(g){return m(g)===d},dt.isPortal=function(g){return m(g)===t},dt.isProfiler=function(g){return m(g)===i},dt.isStrictMode=function(g){return m(g)===n},dt.isSuspense=function(g){return m(g)===c},dt.isSuspenseList=function(g){return m(g)===u},dt.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===c||g===u||g===h||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===d||g.$$typeof===a||g.$$typeof===o||g.$$typeof===l||g.$$typeof===v||g.getModuleId!==void 0)},dt.typeOf=m,dt}var RA;function Lae(){return RA||(RA=1,dv.exports=$ae()),dv.exports}var Bae=Lae(),fv,IA;function u3(){if(IA)return fv;IA=1;var e=Bi(),t=Fi(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return fv=n,fv}var hv,DA;function Fae(){if(DA)return hv;DA=1;var e=u3();function t(r){return e(r)&&r!=+r}return hv=t,hv}var zae=Fae();const ml=nt(zae);var qae=u3();const Uae=nt(qae);var _r=function(t){return t===0?0:t>0?1:-1},Xa=function(t){return go(t)&&t.indexOf("%")===t.length-1},pe=function(t){return Uae(t)&&!ml(t)},Wae=function(t){return Te(t)},er=function(t){return pe(t)||go(t)},Hae=0,ja=function(t){var r=++Hae;return"".concat(t||"").concat(r)},Sr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!go(t))return n;var a;if(Xa(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return ml(a)&&(a=n),i&&a>r&&(a=r),a},ea=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Vae=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},yt=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Af(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Yr(n,t))===r})}var Kae=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,a=0,o=0,s=1/0,l=-1/0,c=0,u=0,d=0;d<r;d++)c=t[d].cx||0,u=t[d].cy||0,n+=c,i+=u,a+=c*u,o+=c*c,s=Math.min(s,c),l=Math.max(l,c);var p=r*o!==n*n?(r*a-n*i)/(r*o-n*n):0;return{xmin:s,xmax:l,a:p,b:(i-p*n)/r}},Gae=function(t,r){return pe(t)&&pe(r)?t-r:go(t)&&go(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ds(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function kx(e){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kx(e)}var Yae=["viewBox","children"],Xae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MA=["points","pathLength"],pv={svg:Yae,polygon:MA,polyline:MA},B_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Of=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!pl(n))return null;var i={};return Object.keys(n).forEach(function(a){B_.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Qae=function(t,r,n){return function(i){return t(r,n,i),null}},ya=function(t,r,n){if(!pl(t)||kx(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];B_.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Qae(o,r,n))}),i},Jae=["children"],Zae=["children"];function $A(e,t){if(e==null)return{};var r=eoe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ax(e){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(e)}var LA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ki=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},BA=null,mv=null,F_=function e(t){if(t===BA&&Array.isArray(mv))return mv;var r=[];return _.Children.forEach(t,function(n){Te(n)||(Bae.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),mv=r,BA=t,r};function kr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return ki(i)}):n=[ki(t)],F_(e).forEach(function(i){var a=Yr(i,"type.displayName")||Yr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Fr(e,t){var r=kr(e,t);return r&&r[0]}var FA=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!pe(n)||n<=0||!pe(i)||i<=0)},toe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],roe=function(t){return t&&t.type&&go(t.type)&&toe.indexOf(t.type)>=0},d3=function(t){return t&&Ax(t)==="object"&&"clipDot"in t},noe=function(t,r,n,i){var a,o=(a=pv?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Pe(t)&&(i&&o.includes(r)||Xae.includes(r))||n&&B_.includes(r)},xe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(_.isValidElement(t)&&(i=t.props),!pl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;noe((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},Ox=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return zA(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!zA(a,o))return!1}return!0},zA=function(t,r){if(Te(t)&&Te(r))return!0;if(!Te(t)&&!Te(r)){var n=t.props||{},i=n.children,a=$A(n,Jae),o=r.props||{},s=o.children,l=$A(o,Zae);return i&&s?ds(a,l)&&Ox(i,s):!i&&!s?ds(a,l):!1}return!1},qA=function(t,r){var n=[],i={};return F_(t).forEach(function(a,o){if(roe(a))n.push(a);else if(a){var s=ki(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(a,s,o);n.push(d),i[s]=!0}}}),n},ioe=function(t){var r=t&&t.type;return r&&LA[r]?LA[r]:null},aoe=function(t,r){return F_(r).indexOf(t)},ooe=["children","width","height","viewBox","className","style","title","desc"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(this,arguments)}function soe(e,t){if(e==null)return{};var r=loe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function loe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Px(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,c=soe(e,ooe),u=i||{width:r,height:n,x:0,y:0},d=Me("recharts-surface",a);return I.createElement("svg",Cx({},xe(c,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var coe=["children","className"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tx.apply(this,arguments)}function uoe(e,t){if(e==null)return{};var r=doe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function doe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Be=I.forwardRef(function(e,t){var r=e.children,n=e.className,i=uoe(e,coe),a=Me("recharts-layer",n);return I.createElement("g",Tx({className:a},xe(i,!0),{ref:t}),r)}),Rn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},gv,UA;function foe(){if(UA)return gv;UA=1;function e(t,r,n){var i=-1,a=t.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+r];return o}return gv=e,gv}var vv,WA;function hoe(){if(WA)return vv;WA=1;var e=foe();function t(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:e(r,n,i)}return vv=t,vv}var yv,HA;function f3(){if(HA)return yv;HA=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function l(c){return s.test(c)}return yv=l,yv}var bv,VA;function poe(){if(VA)return bv;VA=1;function e(t){return t.split("")}return bv=e,bv}var xv,KA;function moe(){if(KA)return xv;KA=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=c+"?",m="["+a+"]?",g="(?:"+h+"(?:"+[u,d,p].join("|")+")"+m+v+")*",y=m+v+g,b="(?:"+[u+s+"?",s,d,p,o].join("|")+")",x=RegExp(l+"(?="+l+")|"+b+y,"g");function S(w){return w.match(x)||[]}return xv=S,xv}var wv,GA;function goe(){if(GA)return wv;GA=1;var e=poe(),t=f3(),r=moe();function n(i){return t(i)?r(i):e(i)}return wv=n,wv}var _v,YA;function voe(){if(YA)return _v;YA=1;var e=hoe(),t=f3(),r=goe(),n=s3();function i(a){return function(o){o=n(o);var s=t(o)?r(o):void 0,l=s?s[0]:o.charAt(0),c=s?e(s,1).join(""):o.slice(1);return l[a]()+c}}return _v=i,_v}var Sv,XA;function yoe(){if(XA)return Sv;XA=1;var e=voe(),t=e("toUpperCase");return Sv=t,Sv}var boe=yoe();const Rp=nt(boe);function Et(e){return function(){return e}}const h3=Math.cos,Cf=Math.sin,Bn=Math.sqrt,Pf=Math.PI,Ip=2*Pf,Nx=Math.PI,Rx=2*Nx,za=1e-6,xoe=Rx-za;function p3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function woe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return p3;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class _oe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?p3:woe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,c=i-r,u=o-t,d=s-r,p=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>za)if(!(Math.abs(d*l-c*u)>za)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=i-s,m=l*l+c*c,g=h*h+v*v,y=Math.sqrt(m),b=Math.sqrt(p),x=a*Math.tan((Nx-Math.acos((m+p-g)/(2*y*b)))/2),S=x/b,w=x/y;Math.abs(S-1)>za&&this._append`L${t+S*u},${r+S*d}`,this._append`A${a},${a},0,0,${+(d*h>u*v)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,u=r+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>za||Math.abs(this._y1-u)>za)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%Rx+Rx),p>xoe?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:p>za&&this._append`A${n},${n},0,${+(p>=Nx)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function z_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _oe(t)}function q_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function m3(e){this._context=e}m3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dp(e){return new m3(e)}function g3(e){return e[0]}function v3(e){return e[1]}function y3(e,t){var r=Et(!0),n=null,i=Dp,a=null,o=z_(s);e=typeof e=="function"?e:e===void 0?g3:Et(e),t=typeof t=="function"?t:t===void 0?v3:Et(t);function s(l){var c,u=(l=q_(l)).length,d,p=!1,h;for(n==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,c,l),+t(d,c,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Et(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Et(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Et(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function xd(e,t,r){var n=null,i=Et(!0),a=null,o=Dp,s=null,l=z_(c);e=typeof e=="function"?e:e===void 0?g3:Et(+e),t=typeof t=="function"?t:Et(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?v3:Et(+r);function c(d){var p,h,v,m=(d=q_(d)).length,g,y=!1,b,x=new Array(m),S=new Array(m);for(a==null&&(s=o(b=l())),p=0;p<=m;++p){if(!(p<m&&i(g=d[p],p,d))===y)if(y=!y)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=h;--v)s.point(x[v],S[v]);s.lineEnd(),s.areaEnd()}y&&(x[p]=+e(g,p,d),S[p]=+t(g,p,d),s.point(n?+n(g,p,d):x[p],r?+r(g,p,d):S[p]))}if(b)return s=null,b+""||null}function u(){return y3().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Et(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Et(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Et(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Et(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Et(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Et(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Et(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class b3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Soe(e){return new b3(e,!0)}function joe(e){return new b3(e,!1)}const U_={draw(e,t){const r=Bn(t/Pf);e.moveTo(r,0),e.arc(0,0,r,0,Ip)}},Eoe={draw(e,t){const r=Bn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},x3=Bn(1/3),koe=x3*2,Aoe={draw(e,t){const r=Bn(t/koe),n=r*x3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ooe={draw(e,t){const r=Bn(t),n=-r/2;e.rect(n,n,r,r)}},Coe=.8908130915292852,w3=Cf(Pf/10)/Cf(7*Pf/10),Poe=Cf(Ip/10)*w3,Toe=-h3(Ip/10)*w3,Noe={draw(e,t){const r=Bn(t*Coe),n=Poe*r,i=Toe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Ip*a/5,s=h3(o),l=Cf(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},jv=Bn(3),Roe={draw(e,t){const r=-Bn(t/(jv*3));e.moveTo(0,r*2),e.lineTo(-jv*r,-r),e.lineTo(jv*r,-r),e.closePath()}},Qr=-.5,Jr=Bn(3)/2,Ix=1/Bn(12),Ioe=(Ix/2+1)*3,Doe={draw(e,t){const r=Bn(t/Ioe),n=r/2,i=r*Ix,a=n,o=r*Ix+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Qr*n-Jr*i,Jr*n+Qr*i),e.lineTo(Qr*a-Jr*o,Jr*a+Qr*o),e.lineTo(Qr*s-Jr*l,Jr*s+Qr*l),e.lineTo(Qr*n+Jr*i,Qr*i-Jr*n),e.lineTo(Qr*a+Jr*o,Qr*o-Jr*a),e.lineTo(Qr*s+Jr*l,Qr*l-Jr*s),e.closePath()}};function Moe(e,t){let r=null,n=z_(i);e=typeof e=="function"?e:Et(e||U_),t=typeof t=="function"?t:Et(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Et(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Et(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Tf(){}function Nf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _3(e){this._context=e}_3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $oe(e){return new _3(e)}function S3(e){this._context=e}S3.prototype={areaStart:Tf,areaEnd:Tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Loe(e){return new S3(e)}function j3(e){this._context=e}j3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Boe(e){return new j3(e)}function E3(e){this._context=e}E3.prototype={areaStart:Tf,areaEnd:Tf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Foe(e){return new E3(e)}function QA(e){return e<0?-1:1}function JA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(QA(a)+QA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function ZA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ev(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Rf(e){this._context=e}Rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ev(this,this._t0,ZA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ev(this,ZA(this,r=JA(this,e,t)),r);break;default:Ev(this,this._t0,r=JA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function k3(e){this._context=new A3(e)}(k3.prototype=Object.create(Rf.prototype)).point=function(e,t){Rf.prototype.point.call(this,t,e)};function A3(e){this._context=e}A3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function zoe(e){return new Rf(e)}function qoe(e){return new k3(e)}function O3(e){this._context=e}O3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=eO(e),i=eO(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eO(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Uoe(e){return new O3(e)}function Mp(e,t){this._context=e,this._t=t}Mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Woe(e){return new Mp(e,.5)}function Hoe(e){return new Mp(e,0)}function Voe(e){return new Mp(e,1)}function ws(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Dx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Koe(e,t){return e[t]}function Goe(e){const t=[];return t.key=e,t}function Yoe(){var e=Et([]),t=Dx,r=ws,n=Koe;function i(a){var o=Array.from(e.apply(this,arguments),Goe),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,a)]).data=d;for(s=0,u=q_(t(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Et(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Et(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Dx:typeof a=="function"?a:Et(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ws,i):r},i}function Xoe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ws(e,t)}}function Qoe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}ws(e,t)}}function Joe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[n][1]||0,p=u[n-1][1]||0,h=(d-p)/2,v=0;v<s;++v){var m=e[t[v]],g=m[n][1]||0,y=m[n-1][1]||0;h+=g-y}l+=d,c+=h*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,ws(e,t)}}function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}var Zoe=["type","size","sizeType"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(this,arguments)}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ese(e,t,r){return t=tse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tse(e){var t=rse(e,"string");return Mc(t)=="symbol"?t:t+""}function rse(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nse(e,t){if(e==null)return{};var r=ise(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ise(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var C3={symbolCircle:U_,symbolCross:Eoe,symbolDiamond:Aoe,symbolSquare:Ooe,symbolStar:Noe,symbolTriangle:Roe,symbolWye:Doe},ase=Math.PI/180,ose=function(t){var r="symbol".concat(Rp(t));return C3[r]||U_},sse=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*ase;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lse=function(t,r){C3["symbol".concat(Rp(t))]=r},$p=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=nse(t,Zoe),c=rO(rO({},l),{},{type:n,size:a,sizeType:s}),u=function(){var g=ose(n),y=Moe().type(g).size(sse(a,s,n));return y()},d=c.className,p=c.cx,h=c.cy,v=xe(c,!0);return p===+p&&h===+h&&a===+a?I.createElement("path",Mx({},v,{className:Me("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};$p.registerSymbol=lse;function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(this,arguments)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){$c(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function use(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T3(n.key),n)}}function fse(e,t,r){return t&&dse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hse(e,t,r){return t=If(t),pse(e,P3()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function pse(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mse(e)}function mse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P3=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function gse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lx(e,t)}function Lx(e,t){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lx(e,t)}function $c(e,t,r){return t=T3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T3(e){var t=vse(e,"string");return _s(t)=="symbol"?t:t+""}function vse(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zr=32,W_=(function(e){function t(){return use(this,t),hse(this,t,arguments)}return gse(t,e),fse(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Zr/2,o=Zr/6,s=Zr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Zr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Zr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zr/8,"h").concat(Zr,"v").concat(Zr*3/4,"h").concat(-Zr,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var c=cse({},n);return delete c.legendIcon,I.cloneElement(n.legendIcon,c)}return I.createElement($p,{fill:l,cx:a,cy:a,size:Zr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Zr,height:Zr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,v){var m=h.formatter||l,g=Me($c($c({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=Pe(h.value)?null:h.value;Rn(!Pe(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?c:h.color;return I.createElement("li",$x({className:g,style:d,key:"legend-item-".concat(v)},ya(n.props,h,v)),I.createElement(Px,{width:o,height:o,viewBox:u,style:p},n.renderIcon(h)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,h,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(_.PureComponent);$c(W_,"displayName","Legend");$c(W_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kv,iO;function yse(){if(iO)return kv;iO=1;var e=Pp();function t(){this.__data__=new e,this.size=0}return kv=t,kv}var Av,aO;function bse(){if(aO)return Av;aO=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Av=e,Av}var Ov,oO;function xse(){if(oO)return Ov;oO=1;function e(t){return this.__data__.get(t)}return Ov=e,Ov}var Cv,sO;function wse(){if(sO)return Cv;sO=1;function e(t){return this.__data__.has(t)}return Cv=e,Cv}var Pv,lO;function _se(){if(lO)return Pv;lO=1;var e=Pp(),t=D_(),r=M_(),n=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return Pv=i,Pv}var Tv,cO;function N3(){if(cO)return Tv;cO=1;var e=Pp(),t=yse(),r=bse(),n=xse(),i=wse(),a=_se();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,Tv=o,Tv}var Nv,uO;function Sse(){if(uO)return Nv;uO=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Nv=t,Nv}var Rv,dO;function jse(){if(dO)return Rv;dO=1;function e(t){return this.__data__.has(t)}return Rv=e,Rv}var Iv,fO;function R3(){if(fO)return Iv;fO=1;var e=M_(),t=Sse(),r=jse();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Iv=n,Iv}var Dv,hO;function I3(){if(hO)return Dv;hO=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Dv=e,Dv}var Mv,pO;function D3(){if(pO)return Mv;pO=1;function e(t,r){return t.has(r)}return Mv=e,Mv}var $v,mO;function M3(){if(mO)return $v;mO=1;var e=R3(),t=I3(),r=D3(),n=1,i=2;function a(o,s,l,c,u,d){var p=l&n,h=o.length,v=s.length;if(h!=v&&!(p&&v>h))return!1;var m=d.get(o),g=d.get(s);if(m&&g)return m==s&&g==o;var y=-1,b=!0,x=l&i?new e:void 0;for(d.set(o,s),d.set(s,o);++y<h;){var S=o[y],w=s[y];if(c)var j=p?c(w,S,y,s,o,d):c(S,w,y,o,s,d);if(j!==void 0){if(j)continue;b=!1;break}if(x){if(!t(s,function(E,C){if(!r(x,C)&&(S===E||u(S,E,l,c,d)))return x.push(C)})){b=!1;break}}else if(!(S===w||u(S,w,l,c,d))){b=!1;break}}return d.delete(o),d.delete(s),b}return $v=a,$v}var Lv,gO;function Ese(){if(gO)return Lv;gO=1;var e=di(),t=e.Uint8Array;return Lv=t,Lv}var Bv,vO;function kse(){if(vO)return Bv;vO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return Bv=e,Bv}var Fv,yO;function H_(){if(yO)return Fv;yO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Fv=e,Fv}var zv,bO;function Ase(){if(bO)return zv;bO=1;var e=Lu(),t=Ese(),r=I_(),n=M3(),i=kse(),a=H_(),o=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",p="[object Number]",h="[object RegExp]",v="[object Set]",m="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",x=e?e.prototype:void 0,S=x?x.valueOf:void 0;function w(j,E,C,P,O,N,T){switch(C){case b:if(j.byteLength!=E.byteLength||j.byteOffset!=E.byteOffset)return!1;j=j.buffer,E=E.buffer;case y:return!(j.byteLength!=E.byteLength||!N(new t(j),new t(E)));case l:case c:case p:return r(+j,+E);case u:return j.name==E.name&&j.message==E.message;case h:case m:return j==E+"";case d:var D=i;case v:var k=P&o;if(D||(D=a),j.size!=E.size&&!k)return!1;var R=T.get(j);if(R)return R==E;P|=s,T.set(j,E);var F=n(D(j),D(E),P,O,N,T);return T.delete(j),F;case g:if(S)return S.call(j)==S.call(E)}return!1}return zv=w,zv}var qv,xO;function $3(){if(xO)return qv;xO=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return qv=e,qv}var Uv,wO;function Ose(){if(wO)return Uv;wO=1;var e=$3(),t=Mr();function r(n,i,a){var o=i(n);return t(n)?o:e(o,a(n))}return Uv=r,Uv}var Wv,_O;function Cse(){if(_O)return Wv;_O=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,o=[];++n<i;){var s=t[n];r(s,n,t)&&(o[a++]=s)}return o}return Wv=e,Wv}var Hv,SO;function Pse(){if(SO)return Hv;SO=1;function e(){return[]}return Hv=e,Hv}var Vv,jO;function Tse(){if(jO)return Vv;jO=1;var e=Cse(),t=Pse(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return n.call(o,s)}))}:t;return Vv=a,Vv}var Kv,EO;function Nse(){if(EO)return Kv;EO=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return Kv=e,Kv}var Gv,kO;function Rse(){if(kO)return Gv;kO=1;var e=Bi(),t=Fi(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return Gv=n,Gv}var Yv,AO;function V_(){if(AO)return Yv;AO=1;var e=Rse(),t=Fi(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Yv=a,Yv}var Ql={exports:{}},Xv,OO;function Ise(){if(OO)return Xv;OO=1;function e(){return!1}return Xv=e,Xv}Ql.exports;var CO;function L3(){return CO||(CO=1,(function(e,t){var r=di(),n=Ise(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Ql,Ql.exports)),Ql.exports}var Qv,PO;function K_(){if(PO)return Qv;PO=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Qv=r,Qv}var Jv,TO;function G_(){if(TO)return Jv;TO=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Jv=t,Jv}var Zv,NO;function Dse(){if(NO)return Zv;NO=1;var e=Bi(),t=G_(),r=Fi(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",p="[object RegExp]",h="[object Set]",v="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",j="[object Int32Array]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",N={};N[b]=N[x]=N[S]=N[w]=N[j]=N[E]=N[C]=N[P]=N[O]=!0,N[n]=N[i]=N[g]=N[a]=N[y]=N[o]=N[s]=N[l]=N[c]=N[u]=N[d]=N[p]=N[h]=N[v]=N[m]=!1;function T(D){return r(D)&&t(D.length)&&!!N[e(D)]}return Zv=T,Zv}var ey,RO;function B3(){if(RO)return ey;RO=1;function e(t){return function(r){return t(r)}}return ey=e,ey}var Jl={exports:{}};Jl.exports;var IO;function Mse(){return IO||(IO=1,(function(e,t){var r=i3(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();e.exports=s})(Jl,Jl.exports)),Jl.exports}var ty,DO;function F3(){if(DO)return ty;DO=1;var e=Dse(),t=B3(),r=Mse(),n=r&&r.isTypedArray,i=n?t(n):e;return ty=i,ty}var ry,MO;function $se(){if(MO)return ry;MO=1;var e=Nse(),t=V_(),r=Mr(),n=L3(),i=K_(),a=F3(),o=Object.prototype,s=o.hasOwnProperty;function l(c,u){var d=r(c),p=!d&&t(c),h=!d&&!p&&n(c),v=!d&&!p&&!h&&a(c),m=d||p||h||v,g=m?e(c.length,String):[],y=g.length;for(var b in c)(u||s.call(c,b))&&!(m&&(b=="length"||h&&(b=="offset"||b=="parent")||v&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&g.push(b);return g}return ry=l,ry}var ny,$O;function Lse(){if($O)return ny;$O=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return ny=t,ny}var iy,LO;function z3(){if(LO)return iy;LO=1;function e(t,r){return function(n){return t(r(n))}}return iy=e,iy}var ay,BO;function Bse(){if(BO)return ay;BO=1;var e=z3(),t=e(Object.keys,Object);return ay=t,ay}var oy,FO;function Fse(){if(FO)return oy;FO=1;var e=Lse(),t=Bse(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return oy=i,oy}var sy,zO;function Bu(){if(zO)return sy;zO=1;var e=R_(),t=G_();function r(n){return n!=null&&t(n.length)&&!e(n)}return sy=r,sy}var ly,qO;function Lp(){if(qO)return ly;qO=1;var e=$se(),t=Fse(),r=Bu();function n(i){return r(i)?e(i):t(i)}return ly=n,ly}var cy,UO;function zse(){if(UO)return cy;UO=1;var e=Ose(),t=Tse(),r=Lp();function n(i){return e(i,r,t)}return cy=n,cy}var uy,WO;function qse(){if(WO)return uy;WO=1;var e=zse(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,c,u){var d=s&t,p=e(a),h=p.length,v=e(o),m=v.length;if(h!=m&&!d)return!1;for(var g=h;g--;){var y=p[g];if(!(d?y in o:n.call(o,y)))return!1}var b=u.get(a),x=u.get(o);if(b&&x)return b==o&&x==a;var S=!0;u.set(a,o),u.set(o,a);for(var w=d;++g<h;){y=p[g];var j=a[y],E=o[y];if(l)var C=d?l(E,j,y,o,a,u):l(j,E,y,a,o,u);if(!(C===void 0?j===E||c(j,E,s,l,u):C)){S=!1;break}w||(w=y=="constructor")}if(S&&!w){var P=a.constructor,O=o.constructor;P!=O&&"constructor"in a&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(S=!1)}return u.delete(a),u.delete(o),S}return uy=i,uy}var dy,HO;function Use(){if(HO)return dy;HO=1;var e=ko(),t=di(),r=e(t,"DataView");return dy=r,dy}var fy,VO;function Wse(){if(VO)return fy;VO=1;var e=ko(),t=di(),r=e(t,"Promise");return fy=r,fy}var hy,KO;function q3(){if(KO)return hy;KO=1;var e=ko(),t=di(),r=e(t,"Set");return hy=r,hy}var py,GO;function Hse(){if(GO)return py;GO=1;var e=ko(),t=di(),r=e(t,"WeakMap");return py=r,py}var my,YO;function Vse(){if(YO)return my;YO=1;var e=Use(),t=D_(),r=Wse(),n=q3(),i=Hse(),a=Bi(),o=a3(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",p="[object DataView]",h=o(e),v=o(t),m=o(r),g=o(n),y=o(i),b=a;return(e&&b(new e(new ArrayBuffer(1)))!=p||t&&b(new t)!=s||r&&b(r.resolve())!=c||n&&b(new n)!=u||i&&b(new i)!=d)&&(b=function(x){var S=a(x),w=S==l?x.constructor:void 0,j=w?o(w):"";if(j)switch(j){case h:return p;case v:return s;case m:return c;case g:return u;case y:return d}return S}),my=b,my}var gy,XO;function Kse(){if(XO)return gy;XO=1;var e=N3(),t=M3(),r=Ase(),n=qse(),i=Vse(),a=Mr(),o=L3(),s=F3(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function v(m,g,y,b,x,S){var w=a(m),j=a(g),E=w?u:i(m),C=j?u:i(g);E=E==c?d:E,C=C==c?d:C;var P=E==d,O=C==d,N=E==C;if(N&&o(m)){if(!o(g))return!1;w=!0,P=!1}if(N&&!P)return S||(S=new e),w||s(m)?t(m,g,y,b,x,S):r(m,g,E,y,b,x,S);if(!(y&l)){var T=P&&h.call(m,"__wrapped__"),D=O&&h.call(g,"__wrapped__");if(T||D){var k=T?m.value():m,R=D?g.value():g;return S||(S=new e),x(k,R,y,b,S)}}return N?(S||(S=new e),n(m,g,y,b,x,S)):!1}return gy=v,gy}var vy,QO;function Y_(){if(QO)return vy;QO=1;var e=Kse(),t=Fi();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,o,r,s)}return vy=r,vy}var yy,JO;function Gse(){if(JO)return yy;JO=1;var e=N3(),t=Y_(),r=1,n=2;function i(a,o,s,l){var c=s.length,u=c,d=!l;if(a==null)return!u;for(a=Object(a);c--;){var p=s[c];if(d&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++c<u;){p=s[c];var h=p[0],v=a[h],m=p[1];if(d&&p[2]){if(v===void 0&&!(h in a))return!1}else{var g=new e;if(l)var y=l(v,m,h,a,o,g);if(!(y===void 0?t(m,v,r|n,l,g):y))return!1}}return!0}return yy=i,yy}var by,ZO;function U3(){if(ZO)return by;ZO=1;var e=Sa();function t(r){return r===r&&!e(r)}return by=t,by}var xy,eC;function Yse(){if(eC)return xy;eC=1;var e=U3(),t=Lp();function r(n){for(var i=t(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,e(s)]}return i}return xy=r,xy}var wy,tC;function W3(){if(tC)return wy;tC=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return wy=e,wy}var _y,rC;function Xse(){if(rC)return _y;rC=1;var e=Gse(),t=Yse(),r=W3();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return _y=n,_y}var Sy,nC;function Qse(){if(nC)return Sy;nC=1;function e(t,r){return t!=null&&r in Object(t)}return Sy=e,Sy}var jy,iC;function Jse(){if(iC)return jy;iC=1;var e=l3(),t=V_(),r=Mr(),n=K_(),i=G_(),a=Np();function o(s,l,c){l=e(l,s);for(var u=-1,d=l.length,p=!1;++u<d;){var h=a(l[u]);if(!(p=s!=null&&c(s,h)))break;s=s[h]}return p||++u!=d?p:(d=s==null?0:s.length,!!d&&i(d)&&n(h,d)&&(r(s)||t(s)))}return jy=o,jy}var Ey,aC;function Zse(){if(aC)return Ey;aC=1;var e=Qse(),t=Jse();function r(n,i){return n!=null&&t(n,i,e)}return Ey=r,Ey}var ky,oC;function ele(){if(oC)return ky;oC=1;var e=Y_(),t=c3(),r=Zse(),n=N_(),i=U3(),a=W3(),o=Np(),s=1,l=2;function c(u,d){return n(u)&&i(d)?a(o(u),d):function(p){var h=t(p,u);return h===void 0&&h===d?r(p,u):e(d,h,s|l)}}return ky=c,ky}var Ay,sC;function gl(){if(sC)return Ay;sC=1;function e(t){return t}return Ay=e,Ay}var Oy,lC;function tle(){if(lC)return Oy;lC=1;function e(t){return function(r){return r?.[t]}}return Oy=e,Oy}var Cy,cC;function rle(){if(cC)return Cy;cC=1;var e=L_();function t(r){return function(n){return e(n,r)}}return Cy=t,Cy}var Py,uC;function nle(){if(uC)return Py;uC=1;var e=tle(),t=rle(),r=N_(),n=Np();function i(a){return r(a)?e(n(a)):t(a)}return Py=i,Py}var Ty,dC;function fi(){if(dC)return Ty;dC=1;var e=Xse(),t=ele(),r=gl(),n=Mr(),i=nle();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return Ty=a,Ty}var Ny,fC;function H3(){if(fC)return Ny;fC=1;function e(t,r,n,i){for(var a=t.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(t[o],o,t))return o;return-1}return Ny=e,Ny}var Ry,hC;function ile(){if(hC)return Ry;hC=1;function e(t){return t!==t}return Ry=e,Ry}var Iy,pC;function ale(){if(pC)return Iy;pC=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return Iy=e,Iy}var Dy,mC;function ole(){if(mC)return Dy;mC=1;var e=H3(),t=ile(),r=ale();function n(i,a,o){return a===a?r(i,a,o):e(i,t,o)}return Dy=n,Dy}var My,gC;function sle(){if(gC)return My;gC=1;var e=ole();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return My=t,My}var $y,vC;function lle(){if(vC)return $y;vC=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return $y=e,$y}var Ly,yC;function cle(){if(yC)return Ly;yC=1;function e(){}return Ly=e,Ly}var By,bC;function ule(){if(bC)return By;bC=1;var e=q3(),t=cle(),r=H_(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return By=i,By}var Fy,xC;function dle(){if(xC)return Fy;xC=1;var e=R3(),t=sle(),r=lle(),n=D3(),i=ule(),a=H_(),o=200;function s(l,c,u){var d=-1,p=t,h=l.length,v=!0,m=[],g=m;if(u)v=!1,p=r;else if(h>=o){var y=c?null:i(l);if(y)return a(y);v=!1,p=n,g=new e}else g=c?[]:m;e:for(;++d<h;){var b=l[d],x=c?c(b):b;if(b=u||b!==0?b:0,v&&x===x){for(var S=g.length;S--;)if(g[S]===x)continue e;c&&g.push(x),m.push(b)}else p(g,x,u)||(g!==m&&g.push(x),m.push(b))}return m}return Fy=s,Fy}var zy,wC;function fle(){if(wC)return zy;wC=1;var e=fi(),t=dle();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return zy=r,zy}var hle=fle();const _C=nt(hle);function V3(e,t,r){return t===!0?_C(e,r):Pe(t)?_C(e,t):e}function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}var ple=["ref"];function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){Bp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G3(n.key),n)}}function gle(e,t,r){return t&&jC(e.prototype,t),r&&jC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vle(e,t,r){return t=Df(t),yle(e,K3()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function yle(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ble(e)}function ble(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K3=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function xle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bx(e,t)}function Bx(e,t){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bx(e,t)}function Bp(e,t,r){return t=G3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G3(e){var t=wle(e,"string");return Ss(t)=="symbol"?t:t+""}function wle(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _le(e,t){if(e==null)return{};var r=Sle(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jle(e){return e.value}function Ele(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=_le(t,ple);return I.createElement(W_,r)}var EC=1,Vr=(function(e){function t(){var r;mle(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=vle(this,t,[].concat(i)),Bp(r,"lastBoundingBox",{width:-1,height:-1}),r}return xle(t,e),gle(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>EC||Math.abs(i.height-this.lastBoundingBox.height)>EC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((c||0)-h.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((u||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return gi(gi({},d),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=gi(gi({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){n.wrapperNode=h}},Ele(a,gi(gi({},this.props),{},{payload:V3(u,c,jle)})))}}],[{key:"getWithHeight",value:function(n,i){var a=gi(gi({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(_.PureComponent);Bp(Vr,"displayName","Legend");Bp(Vr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qy,kC;function kle(){if(kC)return qy;kC=1;var e=Lu(),t=V_(),r=Mr(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return qy=i,qy}var Uy,AC;function Y3(){if(AC)return Uy;AC=1;var e=$3(),t=kle();function r(n,i,a,o,s){var l=-1,c=n.length;for(a||(a=t),s||(s=[]);++l<c;){var u=n[l];i>0&&a(u)?i>1?r(u,i-1,a,o,s):e(s,u):o||(s[s.length]=u)}return s}return Uy=r,Uy}var Wy,OC;function Ale(){if(OC)return Wy;OC=1;function e(t){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var c=s[t?l:++a];if(n(o[c],c,o)===!1)break}return r}}return Wy=e,Wy}var Hy,CC;function Ole(){if(CC)return Hy;CC=1;var e=Ale(),t=e();return Hy=t,Hy}var Vy,PC;function X3(){if(PC)return Vy;PC=1;var e=Ole(),t=Lp();function r(n,i){return n&&e(n,i,t)}return Vy=r,Vy}var Ky,TC;function Cle(){if(TC)return Ky;TC=1;var e=Bu();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return Ky=t,Ky}var Gy,NC;function X_(){if(NC)return Gy;NC=1;var e=X3(),t=Cle(),r=t(e);return Gy=r,Gy}var Yy,RC;function Q3(){if(RC)return Yy;RC=1;var e=X_(),t=Bu();function r(n,i){var a=-1,o=t(n)?Array(n.length):[];return e(n,function(s,l,c){o[++a]=i(s,l,c)}),o}return Yy=r,Yy}var Xy,IC;function Ple(){if(IC)return Xy;IC=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Xy=e,Xy}var Qy,DC;function Tle(){if(DC)return Qy;DC=1;var e=hl();function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=e(r),l=n!==void 0,c=n===null,u=n===n,d=e(n);if(!c&&!d&&!s&&r>n||s&&l&&u&&!c&&!d||a&&l&&u||!i&&u||!o)return 1;if(!a&&!s&&!d&&r<n||d&&i&&o&&!a&&!s||c&&i&&o||!l&&o||!u)return-1}return 0}return Qy=t,Qy}var Jy,MC;function Nle(){if(MC)return Jy;MC=1;var e=Tle();function t(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,c=i.length;++a<l;){var u=e(o[a],s[a]);if(u){if(a>=c)return u;var d=i[a];return u*(d=="desc"?-1:1)}}return r.index-n.index}return Jy=t,Jy}var Zy,$C;function Rle(){if($C)return Zy;$C=1;var e=$_(),t=L_(),r=fi(),n=Q3(),i=Ple(),a=B3(),o=Nle(),s=gl(),l=Mr();function c(u,d,p){d.length?d=e(d,function(m){return l(m)?function(g){return t(g,m.length===1?m[0]:m)}:m}):d=[s];var h=-1;d=e(d,a(r));var v=n(u,function(m,g,y){var b=e(d,function(x){return x(m)});return{criteria:b,index:++h,value:m}});return i(v,function(m,g){return o(m,g,p)})}return Zy=c,Zy}var eb,LC;function Ile(){if(LC)return eb;LC=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return eb=e,eb}var tb,BC;function Dle(){if(BC)return tb;BC=1;var e=Ile(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var u=Array(i+1);++s<i;)u[s]=o[s];return u[i]=a(c),e(n,this,u)}}return tb=r,tb}var rb,FC;function Mle(){if(FC)return rb;FC=1;function e(t){return function(){return t}}return rb=e,rb}var nb,zC;function J3(){if(zC)return nb;zC=1;var e=ko(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return nb=t,nb}var ib,qC;function $le(){if(qC)return ib;qC=1;var e=Mle(),t=J3(),r=gl(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return ib=n,ib}var ab,UC;function Lle(){if(UC)return ab;UC=1;var e=800,t=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return ab=n,ab}var ob,WC;function Ble(){if(WC)return ob;WC=1;var e=$le(),t=Lle(),r=t(e);return ob=r,ob}var sb,HC;function Fle(){if(HC)return sb;HC=1;var e=gl(),t=Dle(),r=Ble();function n(i,a){return r(t(i,a,e),i+"")}return sb=n,sb}var lb,VC;function Fp(){if(VC)return lb;VC=1;var e=I_(),t=Bu(),r=K_(),n=Sa();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?t(s)&&r(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return lb=i,lb}var cb,KC;function zle(){if(KC)return cb;KC=1;var e=Y3(),t=Rle(),r=Fle(),n=Fp(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return cb=i,cb}var qle=zle();const Q_=nt(qle);function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(this,arguments)}function Ule(e,t){return Kle(e)||Vle(e,t)||Hle(e,t)||Wle()}function Wle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hle(e,t){if(e){if(typeof e=="string")return GC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GC(e,t)}}function GC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Kle(e){if(Array.isArray(e))return e}function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){Gle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gle(e,t,r){return t=Yle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yle(e){var t=Xle(e,"string");return Lc(t)=="symbol"?t:t+""}function Xle(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qle(e){return Array.isArray(e)&&er(e[0])&&er(e[1])?e.join(" ~ "):e}var Jle=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,p=t.itemSorter,h=t.wrapperClassName,v=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(u&&u.length){var T={padding:0,margin:0},D=(p?Q_(u,p):u).map(function(k,R){if(k.type==="none")return null;var F=ub({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},s),B=k.formatter||d||Qle,U=k.value,L=k.name,M=U,H=L;if(B&&M!=null&&H!=null){var z=B(U,L,k,R,u);if(Array.isArray(z)){var $=Ule(z,2);M=$[0],H=$[1]}else M=z}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:F},er(H)?I.createElement("span",{className:"recharts-tooltip-item-name"},H):null,er(H)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},M),I.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:T},D)}return null},S=ub({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=ub({margin:0},c),j=!Te(m),E=j?m:"",C=Me("recharts-default-tooltip",h),P=Me("recharts-tooltip-label",v);j&&g&&u!==void 0&&u!==null&&(E=g(m,u));var O=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",Fx({className:C,style:S},O),I.createElement("p",{className:P,style:w},I.isValidElement(E)?E:"".concat(E)),x())};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function wd(e,t,r){return t=Zle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zle(e){var t=ece(e,"string");return Bc(t)=="symbol"?t:t+""}function ece(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bl="recharts-tooltip-wrapper",tce={visibility:"hidden"};function rce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Me(Bl,wd(wd(wd(wd({},"".concat(Bl,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Bl,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Bl,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Bl,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function XC(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&pe(a[n]))return a[n];var u=r[n]-s-i,d=r[n]+i;if(t[n])return o[n]?u:d;if(o[n]){var p=u,h=l[n];return p<h?Math.max(d,l[n]):Math.max(u,l[n])}var v=d+s,m=l[n]+c;return v>m?Math.max(u,l[n]):Math.max(d,l[n])}function nce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ice(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return o.height>0&&o.width>0&&r?(u=XC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=XC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=nce({translateX:u,translateY:d,useTranslate3d:s})):c=tce,{cssProperties:c,cssClasses:rce({translateX:u,translateY:d,coordinate:r})}}function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){qx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ace(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e4(n.key),n)}}function sce(e,t,r){return t&&oce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lce(e,t,r){return t=Mf(t),cce(e,Z3()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function cce(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uce(e)}function uce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z3=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function dce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zx(e,t)}function zx(e,t){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zx(e,t)}function qx(e,t,r){return t=e4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e4(e){var t=fce(e,"string");return js(t)=="symbol"?t:t+""}function fce(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZC=1,hce=(function(e){function t(){var r;ace(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=lce(this,t,[].concat(i)),qx(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qx(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return dce(t,e),sce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ZC||Math.abs(n.height-this.state.lastBoundingBox.height)>ZC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,h=i.offset,v=i.position,m=i.reverseDirection,g=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,x=ice({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),S=x.cssClasses,w=x.cssProperties,j=JC(JC({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(C){n.wrapperNode=C}},c)}}])})(_.PureComponent),pce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hi={isSsr:pce()};function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){J_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r4(n.key),n)}}function vce(e,t,r){return t&&gce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yce(e,t,r){return t=$f(t),bce(e,t4()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function bce(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(e)}function xce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function wce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ux(e,t)}function Ux(e,t){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ux(e,t)}function J_(e,t,r){return t=r4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r4(e){var t=_ce(e,"string");return Es(t)=="symbol"?t:t+""}function _ce(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sce(e){return e.dataKey}function jce(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(Jle,t)}var kt=(function(e){function t(){return mce(this,t),yce(this,t,arguments)}return wce(t,e),vce(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,p=i.isAnimationActive,h=i.offset,v=i.payload,m=i.payloadUniqBy,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,S=i.wrapperStyle,w=v??[];d&&w.length&&(w=V3(v.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,Sce));var j=w.length>0;return I.createElement(hce,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:u,hasPayload:j,offset:h,position:g,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:S},jce(c,tP(tP({},this.props),{},{payload:w})))}}])})(_.PureComponent);J_(kt,"displayName","Tooltip");J_(kt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var db,rP;function Ece(){if(rP)return db;rP=1;var e=di(),t=function(){return e.Date.now()};return db=t,db}var fb,nP;function kce(){if(nP)return fb;nP=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return fb=t,fb}var hb,iP;function Ace(){if(iP)return hb;iP=1;var e=kce(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return hb=r,hb}var pb,aP;function n4(){if(aP)return pb;aP=1;var e=Ace(),t=Sa(),r=hl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=a.test(c);return d||o.test(c)?s(c.slice(2),d?2:8):i.test(c)?n:+c}return pb=l,pb}var mb,oP;function Oce(){if(oP)return mb;oP=1;var e=Sa(),t=Ece(),r=n4(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var u,d,p,h,v,m,g=0,y=!1,b=!1,x=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,p=b?i(r(c.maxWait)||0,l):p,x="trailing"in c?!!c.trailing:x);function S(D){var k=u,R=d;return u=d=void 0,g=D,h=s.apply(R,k),h}function w(D){return g=D,v=setTimeout(C,l),y?S(D):h}function j(D){var k=D-m,R=D-g,F=l-k;return b?a(F,p-R):F}function E(D){var k=D-m,R=D-g;return m===void 0||k>=l||k<0||b&&R>=p}function C(){var D=t();if(E(D))return P(D);v=setTimeout(C,j(D))}function P(D){return v=void 0,x&&u?S(D):(u=d=void 0,h)}function O(){v!==void 0&&clearTimeout(v),g=0,u=m=d=v=void 0}function N(){return v===void 0?h:P(t())}function T(){var D=t(),k=E(D);if(u=arguments,d=this,m=D,k){if(v===void 0)return w(m);if(b)return clearTimeout(v),v=setTimeout(C,l),S(m)}return v===void 0&&(v=setTimeout(C,l)),h}return T.cancel=O,T.flush=N,T}return mb=o,mb}var gb,sP;function Cce(){if(sP)return gb;sP=1;var e=Oce(),t=Sa(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(i,a,{leading:s,maxWait:a,trailing:l})}return gb=n,gb}var Pce=Cce();const i4=nt(Pce);function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){Tce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tce(e,t,r){return t=Nce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nce(e){var t=Rce(e,"string");return Fc(t)=="symbol"?t:t+""}function Rce(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ice(e,t){return Lce(e)||$ce(e,t)||Mce(e,t)||Dce()}function Dce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mce(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $ce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Lce(e){if(Array.isArray(e))return e}var dr=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,p=e.maxHeight,h=e.children,v=e.debounce,m=v===void 0?0:v,g=e.id,y=e.className,b=e.onResize,x=e.style,S=x===void 0?{}:x,w=_.useRef(null),j=_.useRef();j.current=b,_.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=_.useState({containerWidth:i.width,containerHeight:i.height}),C=Ice(E,2),P=C[0],O=C[1],N=_.useCallback(function(D,k){O(function(R){var F=Math.round(D),B=Math.round(k);return R.containerWidth===F&&R.containerHeight===B?R:{containerWidth:F,containerHeight:B}})},[]);_.useEffect(function(){var D=function(L){var M,H=L[0].contentRect,z=H.width,$=H.height;N(z,$),(M=j.current)===null||M===void 0||M.call(j,z,$)};m>0&&(D=i4(D,m,{trailing:!0,leading:!1}));var k=new ResizeObserver(D),R=w.current.getBoundingClientRect(),F=R.width,B=R.height;return N(F,B),k.observe(w.current),function(){k.disconnect()}},[N,m]);var T=_.useMemo(function(){var D=P.containerWidth,k=P.containerHeight;if(D<0||k<0)return null;Rn(Xa(o)||Xa(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Rn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Xa(o)?D:o,F=Xa(l)?k:l;r&&r>0&&(R?F=R/r:F&&(R=F*r),p&&F>p&&(F=p)),Rn(R>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,F,o,l,u,d,r);var B=!Array.isArray(h)&&ki(h.type).endsWith("Chart");return I.Children.map(h,function(U){return I.isValidElement(U)?_.cloneElement(U,_d({width:R,height:F},B?{style:_d({height:"100%",width:"100%",maxHeight:F,maxWidth:R},U.props.style)}:{})):U})},[r,h,l,p,d,u,P,o]);return I.createElement("div",{id:g?"".concat(g):void 0,className:Me("recharts-responsive-container",y),style:_d(_d({},S),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:p}),ref:w},T)}),vl=function(t){return null};vl.displayName="Cell";function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){Bce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bce(e,t,r){return t=Fce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fce(e){var t=zce(e,"string");return zc(t)=="symbol"?t:t+""}function zce(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zo={widthCache:{},cacheCount:0},qce=2e3,Uce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dP="recharts_measurement_span";function Wce(e){var t=Wx({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var dc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hi.isSsr)return{width:0,height:0};var n=Wce(r),i=JSON.stringify({text:t,copyStyle:n});if(zo.widthCache[i])return zo.widthCache[i];try{var a=document.getElementById(dP);a||(a=document.createElement("span"),a.setAttribute("id",dP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Wx(Wx({},Uce),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return zo.widthCache[i]=l,++zo.cacheCount>qce&&(zo.cacheCount=0,zo.widthCache={}),l}catch{return{width:0,height:0}}},Hce=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Lf(e,t){return Yce(e)||Gce(e,t)||Kce(e,t)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(e,t){if(e){if(typeof e=="string")return fP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fP(e,t)}}function fP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Yce(e){if(Array.isArray(e))return e}function Xce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jce(n.key),n)}}function Qce(e,t,r){return t&&hP(e.prototype,t),r&&hP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jce(e){var t=Zce(e,"string");return qc(t)=="symbol"?t:t+""}function Zce(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,a4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rue=Object.keys(a4),Xo="NaN";function nue(e,t){return e*a4[t]}var Sd=(function(){function e(t,r){Xce(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!eue.test(r)&&(this.num=NaN,this.unit=""),rue.includes(r)&&(this.num=nue(t,r),this.unit="px")}return Qce(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=tue.exec(r))!==null&&n!==void 0?n:[],a=Lf(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])})();function o4(e){if(e.includes(Xo))return Xo;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=pP.exec(t))!==null&&r!==void 0?r:[],i=Lf(n,4),a=i[1],o=i[2],s=i[3],l=Sd.parse(a??""),c=Sd.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Xo;t=t.replace(pP,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=mP.exec(t))!==null&&d!==void 0?d:[],h=Lf(p,4),v=h[1],m=h[2],g=h[3],y=Sd.parse(v??""),b=Sd.parse(g??""),x=m==="+"?y.add(b):y.subtract(b);if(x.isNaN())return Xo;t=t.replace(mP,x.toString())}return t}var gP=/\(([^()]*)\)/;function iue(e){for(var t=e;t.includes("(");){var r=gP.exec(t),n=Lf(r,2),i=n[1];t=t.replace(gP,o4(i))}return t}function aue(e){var t=e.replace(/\s+/g,"");return t=iue(t),t=o4(t),t}function oue(e){try{return aue(e)}catch{return Xo}}function vb(e){var t=oue(e.slice(5,-1));return t===Xo?"":t}var sue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lue=["dx","dy","angle","className","breakAll"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(this,arguments)}function vP(e,t){if(e==null)return{};var r=cue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yP(e,t){return hue(e)||fue(e,t)||due(e,t)||uue()}function uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function due(e,t){if(e){if(typeof e=="string")return bP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bP(e,t)}}function bP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hue(e){if(Array.isArray(e))return e}var s4=/[ \f\n\r\t\v\u2028\u2029]+/,l4=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Te(r)||(n?a=r.toString().split(""):a=r.toString().split(s4));var o=a.map(function(l){return{word:l,width:dc(l,i).width}}),s=n?0:dc("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},pue=function(t,r,n,i,a){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=pe(o),d=s,p=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(F,B){var U=B.word,L=B.width,M=F[F.length-1];if(M&&(i==null||a||M.width+L+n<Number(i)))M.words.push(U),M.width+=L+n;else{var H={words:[U],width:L};F.push(H)}return F},[])},h=p(r),v=function(R){return R.reduce(function(F,B){return F.width>B.width?F:B})};if(!u)return h;for(var m="",g=function(R){var F=d.slice(0,R),B=l4({breakAll:c,style:l,children:F+m}).wordsWithComputedWidth,U=p(B),L=U.length>o||v(U).width>Number(i);return[L,U]},y=0,b=d.length-1,x=0,S;y<=b&&x<=d.length-1;){var w=Math.floor((y+b)/2),j=w-1,E=g(j),C=yP(E,2),P=C[0],O=C[1],N=g(w),T=yP(N,1),D=T[0];if(!P&&!D&&(y=w+1),P&&D&&(b=w-1),!P&&D){S=O;break}x++}return S||h},xP=function(t){var r=Te(t)?[]:t.toString().split(s4);return[{words:r}]},mue=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!hi.isSsr){var l,c,u=l4({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,p=u.spaceWidth;l=d,c=p}else return xP(i);return pue({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return xP(i)},wP="#808080",vo=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,p=t.textAnchor,h=p===void 0?"start":p,v=t.verticalAnchor,m=v===void 0?"end":v,g=t.fill,y=g===void 0?wP:g,b=vP(t,sue),x=_.useMemo(function(){return mue({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,w=b.dy,j=b.angle,E=b.className,C=b.breakAll,P=vP(b,lue);if(!er(n)||!er(a))return null;var O=n+(pe(S)?S:0),N=a+(pe(w)?w:0),T;switch(m){case"start":T=vb("calc(".concat(c,")"));break;case"middle":T=vb("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:T=vb("calc(".concat(x.length-1," * -").concat(s,")"));break}var D=[];if(d){var k=x[0].width,R=b.width;D.push("scale(".concat((pe(R)?R/k:1)/k,")"))}return j&&D.push("rotate(".concat(j,", ").concat(O,", ").concat(N,")")),D.length&&(P.transform=D.join(" ")),I.createElement("text",Hx({},xe(P,!0),{x:O,y:N,className:Me("recharts-text",E),textAnchor:h,fill:y.includes("url")?wP:y}),x.map(function(F,B){var U=F.words.join(C?"":" ");return I.createElement("tspan",{x:O,dy:B===0?T:s,key:"".concat(U,"-").concat(B)},U)}))};function ha(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Z_(e){let t,r,n;e.length!==2?(t=ha,r=(s,l)=>ha(e(s),l),n=(s,l)=>e(s)-l):(t=e===ha||e===gue?e:vue,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function vue(){return 0}function c4(e){return e===null?NaN:+e}function*yue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const bue=Z_(ha),Fu=bue.right;Z_(c4).center;class _P extends Map{constructor(t,r=_ue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(SP(this,t))}has(t){return super.has(SP(this,t))}set(t,r){return super.set(xue(this,t),r)}delete(t){return super.delete(wue(this,t))}}function SP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function xue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function wue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _ue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Sue(e=ha){if(e===ha)return u4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function u4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const jue=Math.sqrt(50),Eue=Math.sqrt(10),kue=Math.sqrt(2);function Bf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=jue?10:a>=Eue?5:a>=kue?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Bf(e,t,r*2):[s,l,c]}function Vx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Bf(t,e,r):Bf(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Kx(e,t,r){return t=+t,e=+e,r=+r,Bf(e,t,r)[2]}function Gx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Kx(t,e,r):Kx(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function jP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function EP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function d4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?u4:Sue(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*d/l+p)),v=Math.min(n,Math.floor(t+(l-c)*d/l+p));d4(e,t,h,v,i)}const a=e[t];let o=r,s=n;for(Fl(e,r,t),i(e[n],a)>0&&Fl(e,r,n);o<s;){for(Fl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?Fl(e,r,s):(++s,Fl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Fl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Aue(e,t,r){if(e=Float64Array.from(yue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return EP(e);if(t>=1)return jP(e);var n,i=(n-1)*t,a=Math.floor(i),o=jP(d4(e,a).subarray(0,a+1)),s=EP(e.subarray(a+1));return o+(s-o)*(i-a)}}function Oue(e,t,r=c4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Cue(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yx=Symbol("implicit");function eS(){var e=new _P,t=[],r=[],n=Yx;function i(a){let o=e.get(a);if(o===void 0){if(n!==Yx)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new _P;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return eS(t,r).unknown(n)},vn.apply(i,arguments),i}function Uc(){var e=eS().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var p=t().length,h=i<n,v=h?i:n,m=h?n:i;a=(m-v)/Math.max(1,p-l+c*2),s&&(a=Math.floor(a)),v+=(m-v-a*(p-l))*u,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var g=Cue(p).map(function(y){return v+a*y});return r(h?g.reverse():g)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),d()):u},e.copy=function(){return Uc(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},vn.apply(d(),arguments)}function f4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return f4(t())},e}function fc(){return f4(Uc.apply(null,arguments).paddingInner(1))}function tS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function h4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zu(){}var Wc=.7,Ff=1/Wc,fs="\\s*([+-]?\\d+)\\s*",Hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pue=/^#([0-9a-f]{3,8})$/,Tue=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),Nue=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),Rue=new RegExp(`^rgba\\(${fs},${fs},${fs},${Hc}\\)$`),Iue=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${Hc}\\)$`),Due=new RegExp(`^hsl\\(${Hc},${Zn},${Zn}\\)$`),Mue=new RegExp(`^hsla\\(${Hc},${Zn},${Zn},${Hc}\\)$`),kP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tS(zu,Vc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AP,formatHex:AP,formatHex8:$ue,formatHsl:Lue,formatRgb:OP,toString:OP});function AP(){return this.rgb().formatHex()}function $ue(){return this.rgb().formatHex8()}function Lue(){return p4(this).formatHsl()}function OP(){return this.rgb().formatRgb()}function Vc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?CP(t):r===3?new Rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tue.exec(e))?new Rr(t[1],t[2],t[3],1):(t=Nue.exec(e))?new Rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Rue.exec(e))?jd(t[1],t[2],t[3],t[4]):(t=Iue.exec(e))?jd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Due.exec(e))?NP(t[1],t[2]/100,t[3]/100,1):(t=Mue.exec(e))?NP(t[1],t[2]/100,t[3]/100,t[4]):kP.hasOwnProperty(e)?CP(kP[e]):e==="transparent"?new Rr(NaN,NaN,NaN,0):null}function CP(e){return new Rr(e>>16&255,e>>8&255,e&255,1)}function jd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rr(e,t,r,n)}function Bue(e){return e instanceof zu||(e=Vc(e)),e?(e=e.rgb(),new Rr(e.r,e.g,e.b,e.opacity)):new Rr}function Xx(e,t,r,n){return arguments.length===1?Bue(e):new Rr(e,t,r,n??1)}function Rr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tS(Rr,Xx,h4(zu,{brighter(e){return e=e==null?Ff:Math.pow(Ff,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wc:Math.pow(Wc,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rr(io(this.r),io(this.g),io(this.b),zf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PP,formatHex:PP,formatHex8:Fue,formatRgb:TP,toString:TP}));function PP(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}`}function Fue(){return`#${Qa(this.r)}${Qa(this.g)}${Qa(this.b)}${Qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function TP(){const e=zf(this.opacity);return`${e===1?"rgb(":"rgba("}${io(this.r)}, ${io(this.g)}, ${io(this.b)}${e===1?")":`, ${e})`}`}function zf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qa(e){return e=io(e),(e<16?"0":"")+e.toString(16)}function NP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pn(e,t,r,n)}function p4(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof zu||(e=Vc(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Pn(o,s,l,e.opacity)}function zue(e,t,r,n){return arguments.length===1?p4(e):new Pn(e,t,r,n??1)}function Pn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tS(Pn,zue,h4(zu,{brighter(e){return e=e==null?Ff:Math.pow(Ff,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wc:Math.pow(Wc,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Rr(yb(e>=240?e-240:e+120,i,n),yb(e,i,n),yb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Pn(RP(this.h),Ed(this.s),Ed(this.l),zf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zf(this.opacity);return`${e===1?"hsl(":"hsla("}${RP(this.h)}, ${Ed(this.s)*100}%, ${Ed(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RP(e){return e=(e||0)%360,e<0?e+360:e}function Ed(e){return Math.max(0,Math.min(1,e||0))}function yb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rS=e=>()=>e;function que(e,t){return function(r){return e+r*t}}function Uue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Wue(e){return(e=+e)==1?m4:function(t,r){return r-t?Uue(t,r,e):rS(isNaN(t)?r:t)}}function m4(e,t){var r=t-e;return r?que(e,r):rS(isNaN(e)?t:e)}const IP=(function e(t){var r=Wue(t);function n(i,a){var o=r((i=Xx(i)).r,(a=Xx(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=m4(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function Hue(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Vue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kue(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=yl(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Gue(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Yue(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=yl(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Qx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bb=new RegExp(Qx.source,"g");function Xue(e){return function(){return e}}function Que(e){return function(t){return e(t)+""}}function Jue(e,t){var r=Qx.lastIndex=bb.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Qx.exec(e))&&(i=bb.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:qf(n,i)})),r=bb.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Que(l[0].x):Xue(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function yl(e,t){var r=typeof t,n;return t==null||r==="boolean"?rS(t):(r==="number"?qf:r==="string"?(n=Vc(t))?(t=n,IP):Jue:t instanceof Vc?IP:t instanceof Date?Gue:Vue(t)?Hue:Array.isArray(t)?Kue:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yue:qf)(e,t)}function nS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Zue(e,t){t===void 0&&(t=e,e=yl);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function ede(e){return function(){return e}}function Uf(e){return+e}var DP=[0,1];function jr(e){return e}function Jx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ede(isNaN(t)?NaN:.5)}function tde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function rde(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Jx(i,n),a=r(o,a)):(n=Jx(n,i),a=r(a,o)),function(s){return a(n(s))}}function nde(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Jx(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=Fu(e,s,1,n)-1;return a[l](i[l](s))}}function qu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zp(){var e=DP,t=DP,r=yl,n,i,a,o=jr,s,l,c;function u(){var p=Math.min(e.length,t.length);return o!==jr&&(o=tde(e[0],e[p-1])),s=p>2?nde:rde,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return d.invert=function(p){return o(i((c||(c=s(t,e.map(n),qf)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,Uf),u()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=nS,u()},d.clamp=function(p){return arguments.length?(o=p?!0:jr,u()):o!==jr},d.interpolate=function(p){return arguments.length?(r=p,u()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,h){return n=p,i=h,u()}}function iS(){return zp()(jr,jr)}function ide(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ks(e){return e=Wf(Math.abs(e)),e?e[1]:NaN}function ade(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ode(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var sde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kc(e){if(!(t=sde.exec(e)))throw new Error("invalid format: "+e);var t;return new aS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Kc.prototype=aS.prototype;function aS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lde(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var g4;function cde(e,t){var r=Wf(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(g4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Wf(e,Math.max(0,t+a-1))[0]}function MP(e,t){var r=Wf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $P={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ide,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>MP(e*100,t),r:MP,s:cde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LP(e){return e}var BP=Array.prototype.map,FP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ude(e){var t=e.grouping===void 0||e.thousands===void 0?LP:ade(BP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?LP:ode(BP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Kc(d);var p=d.fill,h=d.align,v=d.sign,m=d.symbol,g=d.zero,y=d.width,b=d.comma,x=d.precision,S=d.trim,w=d.type;w==="n"?(b=!0,w="g"):$P[w]||(x===void 0&&(x=12),S=!0,w="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=m==="$"?n:/[%p]/.test(w)?o:"",C=$P[w],P=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(N){var T=j,D=E,k,R,F;if(w==="c")D=C(N)+D,N="";else{N=+N;var B=N<0||1/N<0;if(N=isNaN(N)?l:C(Math.abs(N),x),S&&(N=lde(N)),B&&+N==0&&v!=="+"&&(B=!1),T=(B?v==="("?v:s:v==="-"||v==="("?"":v)+T,D=(w==="s"?FP[8+g4/3]:"")+D+(B&&v==="("?")":""),P){for(k=-1,R=N.length;++k<R;)if(F=N.charCodeAt(k),48>F||F>57){D=(F===46?i+N.slice(k+1):N.slice(k))+D,N=N.slice(0,k);break}}}b&&!g&&(N=t(N,1/0));var U=T.length+N.length+D.length,L=U<y?new Array(y-U+1).join(p):"";switch(b&&g&&(N=t(L+N,L.length?y-D.length:1/0),L=""),h){case"<":N=T+N+D+L;break;case"=":N=T+L+N+D;break;case"^":N=L.slice(0,U=L.length>>1)+T+N+D+L.slice(U);break;default:N=L+T+N+D;break}return a(N)}return O.toString=function(){return d+""},O}function u(d,p){var h=c((d=Kc(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(ks(p)/3)))*3,m=Math.pow(10,-v),g=FP[8+v/3];return function(y){return h(m*y)+g}}return{format:c,formatPrefix:u}}var kd,oS,v4;dde({thousands:",",grouping:[3],currency:["$",""]});function dde(e){return kd=ude(e),oS=kd.format,v4=kd.formatPrefix,kd}function fde(e){return Math.max(0,-ks(Math.abs(e)))}function hde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ks(t)/3)))*3-ks(Math.abs(e)))}function pde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ks(t)-ks(e))+1}function y4(e,t,r,n){var i=Gx(e,t,r),a;switch(n=Kc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=hde(i,o))&&(n.precision=a),v4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=pde(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=fde(i))&&(n.precision=a-(n.type==="%")*2);break}}return oS(n)}function Ea(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return y4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Kx(o,s,r),c===l)return n[i]=o,n[a]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Hf(){var e=iS();return e.copy=function(){return qu(e,Hf())},vn.apply(e,arguments),Ea(e)}function b4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Uf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return b4(e).unknown(t)},e=arguments.length?Array.from(e,Uf):[0,1],Ea(r)}function x4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function zP(e){return Math.log(e)}function qP(e){return Math.exp(e)}function mde(e){return-Math.log(-e)}function gde(e){return-Math.exp(-e)}function vde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yde(e){return e===10?vde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function UP(e){return(t,r)=>-e(-t,r)}function sS(e){const t=e(zP,qP),r=t.domain;let n=10,i,a;function o(){return i=bde(n),a=yde(n),r()[0]<0?(i=UP(i),a=UP(a),e(mde,gde)):e(zP,qP),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let p=i(c),h=i(u),v,m;const g=s==null?10:+s;let y=[];if(!(n%1)&&h-p<g){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(v=1;v<n;++v)if(m=p<0?v/a(-p):v*a(p),!(m<c)){if(m>u)break;y.push(m)}}else for(;p<=h;++p)for(v=n-1;v>=1;--v)if(m=p>0?v/a(-p):v*a(p),!(m<c)){if(m>u)break;y.push(m)}y.length*2<g&&(y=Vx(c,u,g))}else y=Vx(p,h,Math.min(h-p,g)).map(a);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Kc(l)).precision==null&&(l.trim=!0),l=oS(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(x4(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function w4(){const e=sS(zp()).domain([1,10]);return e.copy=()=>qu(e,w4()).base(e.base()),vn.apply(e,arguments),e}function WP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lS(e){var t=1,r=e(WP(t),HP(t));return r.constant=function(n){return arguments.length?e(WP(t=+n),HP(t)):t},Ea(r)}function _4(){var e=lS(zp());return e.copy=function(){return qu(e,_4()).constant(e.constant())},vn.apply(e,arguments)}function VP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wde(e){return e<0?-e*e:e*e}function cS(e){var t=e(jr,jr),r=1;function n(){return r===1?e(jr,jr):r===.5?e(xde,wde):e(VP(r),VP(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ea(t)}function uS(){var e=cS(zp());return e.copy=function(){return qu(e,uS()).exponent(e.exponent())},vn.apply(e,arguments),e}function _de(){return uS.apply(null,arguments).exponent(.5)}function KP(e){return Math.sign(e)*e*e}function Sde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function S4(){var e=iS(),t=[0,1],r=!1,n;function i(a){var o=Sde(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(KP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Uf)).map(KP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return S4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},vn.apply(i,arguments),Ea(i)}function j4(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Oue(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Fu(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ha),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return j4().domain(e).range(t).unknown(n)},vn.apply(a,arguments)}function E4(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Fu(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return E4().domain([e,t]).range(i).unknown(a)},vn.apply(Ea(o),arguments)}function k4(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Fu(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return k4().domain(e).range(t).unknown(r)},vn.apply(i,arguments)}const xb=new Date,wb=new Date;function tr(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>tr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(xb.setTime(+a),wb.setTime(+o),e(xb),e(wb),Math.floor(r(xb,wb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Vf=tr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Vf);Vf.range;const xi=1e3,un=xi*60,wi=un*60,Pi=wi*24,dS=Pi*7,GP=Pi*30,_b=Pi*365,Ja=tr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getUTCSeconds());Ja.range;const fS=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xi)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getMinutes());fS.range;const hS=tr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCMinutes());hS.range;const pS=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xi-e.getMinutes()*un)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getHours());pS.range;const mS=tr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCHours());mS.range;const Uu=tr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*un)/Pi,e=>e.getDate()-1);Uu.range;const qp=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pi,e=>e.getUTCDate()-1);qp.range;const A4=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pi,e=>Math.floor(e/Pi));A4.range;function Ao(e){return tr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*un)/dS)}const Up=Ao(0),Kf=Ao(1),jde=Ao(2),Ede=Ao(3),As=Ao(4),kde=Ao(5),Ade=Ao(6);Up.range;Kf.range;jde.range;Ede.range;As.range;kde.range;Ade.range;function Oo(e){return tr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dS)}const Wp=Oo(0),Gf=Oo(1),Ode=Oo(2),Cde=Oo(3),Os=Oo(4),Pde=Oo(5),Tde=Oo(6);Wp.range;Gf.range;Ode.range;Cde.range;Os.range;Pde.range;Tde.range;const gS=tr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gS.range;const vS=tr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vS.range;const Ti=tr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ti.range;const Ni=tr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ni.range;function O4(e,t,r,n,i,a){const o=[[Ja,1,xi],[Ja,5,5*xi],[Ja,15,15*xi],[Ja,30,30*xi],[a,1,un],[a,5,5*un],[a,15,15*un],[a,30,30*un],[i,1,wi],[i,3,3*wi],[i,6,6*wi],[i,12,12*wi],[n,1,Pi],[n,2,2*Pi],[r,1,dS],[t,1,GP],[t,3,3*GP],[e,1,_b]];function s(c,u,d){const p=u<c;p&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),v=h?h.range(c,+u+1):[];return p?v.reverse():v}function l(c,u,d){const p=Math.abs(u-c)/d,h=Z_(([,,g])=>g).right(o,p);if(h===o.length)return e.every(Gx(c/_b,u/_b,d));if(h===0)return Vf.every(Math.max(Gx(c,u,d),1));const[v,m]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return v.every(m)}return[s,l]}const[Nde,Rde]=O4(Ni,vS,Wp,A4,mS,hS),[Ide,Dde]=O4(Ti,gS,Up,Uu,pS,fS);function Sb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Mde(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=ql(i),u=Ul(i),d=ql(a),p=Ul(a),h=ql(o),v=Ul(o),m=ql(s),g=Ul(s),y=ql(l),b=Ul(l),x={a:B,A:U,b:L,B:M,c:null,d:eT,e:eT,f:afe,g:mfe,G:vfe,H:rfe,I:nfe,j:ife,L:C4,m:ofe,M:sfe,p:H,q:z,Q:nT,s:iT,S:lfe,u:cfe,U:ufe,V:dfe,w:ffe,W:hfe,x:null,X:null,y:pfe,Y:gfe,Z:yfe,"%":rT},S={a:$,A:Q,b:Z,B:fe,c:null,d:tT,e:tT,f:_fe,g:Nfe,G:Ife,H:bfe,I:xfe,j:wfe,L:T4,m:Sfe,M:jfe,p:le,q:ue,Q:nT,s:iT,S:Efe,u:kfe,U:Afe,V:Ofe,w:Cfe,W:Pfe,x:null,X:null,y:Tfe,Y:Rfe,Z:Dfe,"%":rT},w={a:O,A:N,b:T,B:D,c:k,d:JP,e:JP,f:Jde,g:QP,G:XP,H:ZP,I:ZP,j:Gde,L:Qde,m:Kde,M:Yde,p:P,q:Vde,Q:efe,s:tfe,S:Xde,u:zde,U:qde,V:Ude,w:Fde,W:Wde,x:R,X:F,y:QP,Y:XP,Z:Hde,"%":Zde};x.x=j(r,x),x.X=j(n,x),x.c=j(t,x),S.x=j(r,S),S.X=j(n,S),S.c=j(t,S);function j(ee,te){return function(ce){var J=[],ne=-1,A=0,K=ee.length,V,W,q;for(ce instanceof Date||(ce=new Date(+ce));++ne<K;)ee.charCodeAt(ne)===37&&(J.push(ee.slice(A,ne)),(W=YP[V=ee.charAt(++ne)])!=null?V=ee.charAt(++ne):W=V==="e"?" ":"0",(q=te[V])&&(V=q(ce,W)),J.push(V),A=ne+1);return J.push(ee.slice(A,ne)),J.join("")}}function E(ee,te){return function(ce){var J=zl(1900,void 0,1),ne=C(J,ee,ce+="",0),A,K;if(ne!=ce.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(te&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(A=jb(zl(J.y,0,1)),K=A.getUTCDay(),A=K>4||K===0?Gf.ceil(A):Gf(A),A=qp.offset(A,(J.V-1)*7),J.y=A.getUTCFullYear(),J.m=A.getUTCMonth(),J.d=A.getUTCDate()+(J.w+6)%7):(A=Sb(zl(J.y,0,1)),K=A.getDay(),A=K>4||K===0?Kf.ceil(A):Kf(A),A=Uu.offset(A,(J.V-1)*7),J.y=A.getFullYear(),J.m=A.getMonth(),J.d=A.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),K="Z"in J?jb(zl(J.y,0,1)).getUTCDay():Sb(zl(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(K+5)%7:J.w+J.U*7-(K+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,jb(J)):Sb(J)}}function C(ee,te,ce,J){for(var ne=0,A=te.length,K=ce.length,V,W;ne<A;){if(J>=K)return-1;if(V=te.charCodeAt(ne++),V===37){if(V=te.charAt(ne++),W=w[V in YP?te.charAt(ne++):V],!W||(J=W(ee,ce,J))<0)return-1}else if(V!=ce.charCodeAt(J++))return-1}return J}function P(ee,te,ce){var J=c.exec(te.slice(ce));return J?(ee.p=u.get(J[0].toLowerCase()),ce+J[0].length):-1}function O(ee,te,ce){var J=h.exec(te.slice(ce));return J?(ee.w=v.get(J[0].toLowerCase()),ce+J[0].length):-1}function N(ee,te,ce){var J=d.exec(te.slice(ce));return J?(ee.w=p.get(J[0].toLowerCase()),ce+J[0].length):-1}function T(ee,te,ce){var J=y.exec(te.slice(ce));return J?(ee.m=b.get(J[0].toLowerCase()),ce+J[0].length):-1}function D(ee,te,ce){var J=m.exec(te.slice(ce));return J?(ee.m=g.get(J[0].toLowerCase()),ce+J[0].length):-1}function k(ee,te,ce){return C(ee,t,te,ce)}function R(ee,te,ce){return C(ee,r,te,ce)}function F(ee,te,ce){return C(ee,n,te,ce)}function B(ee){return o[ee.getDay()]}function U(ee){return a[ee.getDay()]}function L(ee){return l[ee.getMonth()]}function M(ee){return s[ee.getMonth()]}function H(ee){return i[+(ee.getHours()>=12)]}function z(ee){return 1+~~(ee.getMonth()/3)}function $(ee){return o[ee.getUTCDay()]}function Q(ee){return a[ee.getUTCDay()]}function Z(ee){return l[ee.getUTCMonth()]}function fe(ee){return s[ee.getUTCMonth()]}function le(ee){return i[+(ee.getUTCHours()>=12)]}function ue(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var te=j(ee+="",x);return te.toString=function(){return ee},te},parse:function(ee){var te=E(ee+="",!1);return te.toString=function(){return ee},te},utcFormat:function(ee){var te=j(ee+="",S);return te.toString=function(){return ee},te},utcParse:function(ee){var te=E(ee+="",!0);return te.toString=function(){return ee},te}}}var YP={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,$de=/^%/,Lde=/[\\^$*+?|[\]().{}]/g;function at(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Bde(e){return e.replace(Lde,"\\$&")}function ql(e){return new RegExp("^(?:"+e.map(Bde).join("|")+")","i")}function Ul(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Fde(e,t,r){var n=sr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zde(e,t,r){var n=sr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qde(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Ude(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Wde(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function XP(e,t,r){var n=sr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function QP(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Hde(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Vde(e,t,r){var n=sr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Kde(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function JP(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Gde(e,t,r){var n=sr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ZP(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Yde(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Xde(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Qde(e,t,r){var n=sr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Jde(e,t,r){var n=sr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Zde(e,t,r){var n=$de.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function efe(e,t,r){var n=sr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tfe(e,t,r){var n=sr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function eT(e,t){return at(e.getDate(),t,2)}function rfe(e,t){return at(e.getHours(),t,2)}function nfe(e,t){return at(e.getHours()%12||12,t,2)}function ife(e,t){return at(1+Uu.count(Ti(e),e),t,3)}function C4(e,t){return at(e.getMilliseconds(),t,3)}function afe(e,t){return C4(e,t)+"000"}function ofe(e,t){return at(e.getMonth()+1,t,2)}function sfe(e,t){return at(e.getMinutes(),t,2)}function lfe(e,t){return at(e.getSeconds(),t,2)}function cfe(e){var t=e.getDay();return t===0?7:t}function ufe(e,t){return at(Up.count(Ti(e)-1,e),t,2)}function P4(e){var t=e.getDay();return t>=4||t===0?As(e):As.ceil(e)}function dfe(e,t){return e=P4(e),at(As.count(Ti(e),e)+(Ti(e).getDay()===4),t,2)}function ffe(e){return e.getDay()}function hfe(e,t){return at(Kf.count(Ti(e)-1,e),t,2)}function pfe(e,t){return at(e.getFullYear()%100,t,2)}function mfe(e,t){return e=P4(e),at(e.getFullYear()%100,t,2)}function gfe(e,t){return at(e.getFullYear()%1e4,t,4)}function vfe(e,t){var r=e.getDay();return e=r>=4||r===0?As(e):As.ceil(e),at(e.getFullYear()%1e4,t,4)}function yfe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+at(t/60|0,"0",2)+at(t%60,"0",2)}function tT(e,t){return at(e.getUTCDate(),t,2)}function bfe(e,t){return at(e.getUTCHours(),t,2)}function xfe(e,t){return at(e.getUTCHours()%12||12,t,2)}function wfe(e,t){return at(1+qp.count(Ni(e),e),t,3)}function T4(e,t){return at(e.getUTCMilliseconds(),t,3)}function _fe(e,t){return T4(e,t)+"000"}function Sfe(e,t){return at(e.getUTCMonth()+1,t,2)}function jfe(e,t){return at(e.getUTCMinutes(),t,2)}function Efe(e,t){return at(e.getUTCSeconds(),t,2)}function kfe(e){var t=e.getUTCDay();return t===0?7:t}function Afe(e,t){return at(Wp.count(Ni(e)-1,e),t,2)}function N4(e){var t=e.getUTCDay();return t>=4||t===0?Os(e):Os.ceil(e)}function Ofe(e,t){return e=N4(e),at(Os.count(Ni(e),e)+(Ni(e).getUTCDay()===4),t,2)}function Cfe(e){return e.getUTCDay()}function Pfe(e,t){return at(Gf.count(Ni(e)-1,e),t,2)}function Tfe(e,t){return at(e.getUTCFullYear()%100,t,2)}function Nfe(e,t){return e=N4(e),at(e.getUTCFullYear()%100,t,2)}function Rfe(e,t){return at(e.getUTCFullYear()%1e4,t,4)}function Ife(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Os(e):Os.ceil(e),at(e.getUTCFullYear()%1e4,t,4)}function Dfe(){return"+0000"}function rT(){return"%"}function nT(e){return+e}function iT(e){return Math.floor(+e/1e3)}var qo,R4,I4;Mfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mfe(e){return qo=Mde(e),R4=qo.format,qo.parse,I4=qo.utcFormat,qo.utcParse,qo}function $fe(e){return new Date(e)}function Lfe(e){return e instanceof Date?+e:+new Date(+e)}function yS(e,t,r,n,i,a,o,s,l,c){var u=iS(),d=u.invert,p=u.domain,h=c(".%L"),v=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),x=c("%B"),S=c("%Y");function w(j){return(l(j)<j?h:s(j)<j?v:o(j)<j?m:a(j)<j?g:n(j)<j?i(j)<j?y:b:r(j)<j?x:S)(j)}return u.invert=function(j){return new Date(d(j))},u.domain=function(j){return arguments.length?p(Array.from(j,Lfe)):p().map($fe)},u.ticks=function(j){var E=p();return e(E[0],E[E.length-1],j??10)},u.tickFormat=function(j,E){return E==null?w:c(E)},u.nice=function(j){var E=p();return(!j||typeof j.range!="function")&&(j=t(E[0],E[E.length-1],j??10)),j?p(x4(E,j)):u},u.copy=function(){return qu(u,yS(e,t,r,n,i,a,o,s,l,c))},u}function Bfe(){return vn.apply(yS(Ide,Dde,Ti,gS,Up,Uu,pS,fS,Ja,R4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ffe(){return vn.apply(yS(Nde,Rde,Ni,vS,Wp,qp,mS,hS,Ja,I4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hp(){var e=0,t=1,r,n,i,a,o=jr,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(p){var h,v;return arguments.length?([h,v]=p,o=d(h,v),c):[o(0),o(1)]}}return c.range=u(yl),c.rangeRound=u(nS),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function ka(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function D4(){var e=Ea(Hp()(jr));return e.copy=function(){return ka(e,D4())},zi.apply(e,arguments)}function M4(){var e=sS(Hp()).domain([1,10]);return e.copy=function(){return ka(e,M4()).base(e.base())},zi.apply(e,arguments)}function $4(){var e=lS(Hp());return e.copy=function(){return ka(e,$4()).constant(e.constant())},zi.apply(e,arguments)}function bS(){var e=cS(Hp());return e.copy=function(){return ka(e,bS()).exponent(e.exponent())},zi.apply(e,arguments)}function zfe(){return bS.apply(null,arguments).exponent(.5)}function L4(){var e=[],t=jr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Fu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ha),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Aue(e,a/n))},r.copy=function(){return L4(t).domain(e)},zi.apply(r,arguments)}function Vp(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,c=jr,u,d=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+u(m))-a)*(n*m<n*a?s:l),c(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,r]=m,i=u(e=+e),a=u(t=+t),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(c=m,h):c};function v(m){return function(g){var y,b,x;return arguments.length?([y,b,x]=g,c=Zue(m,[y,b,x]),h):[c(0),c(.5),c(1)]}}return h.range=v(yl),h.rangeRound=v(nS),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return u=m,i=m(e),a=m(t),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function B4(){var e=Ea(Vp()(jr));return e.copy=function(){return ka(e,B4())},zi.apply(e,arguments)}function F4(){var e=sS(Vp()).domain([.1,1,10]);return e.copy=function(){return ka(e,F4()).base(e.base())},zi.apply(e,arguments)}function z4(){var e=lS(Vp());return e.copy=function(){return ka(e,z4()).constant(e.constant())},zi.apply(e,arguments)}function xS(){var e=cS(Vp());return e.copy=function(){return ka(e,xS()).exponent(e.exponent())},zi.apply(e,arguments)}function qfe(){return xS.apply(null,arguments).exponent(.5)}const aT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uc,scaleDiverging:B4,scaleDivergingLog:F4,scaleDivergingPow:xS,scaleDivergingSqrt:qfe,scaleDivergingSymlog:z4,scaleIdentity:b4,scaleImplicit:Yx,scaleLinear:Hf,scaleLog:w4,scaleOrdinal:eS,scalePoint:fc,scalePow:uS,scaleQuantile:j4,scaleQuantize:E4,scaleRadial:S4,scaleSequential:D4,scaleSequentialLog:M4,scaleSequentialPow:bS,scaleSequentialQuantile:L4,scaleSequentialSqrt:zfe,scaleSequentialSymlog:$4,scaleSqrt:_de,scaleSymlog:_4,scaleThreshold:k4,scaleTime:Bfe,scaleUtc:Ffe,tickFormat:y4},Symbol.toStringTag,{value:"Module"}));var Eb,oT;function Kp(){if(oT)return Eb;oT=1;var e=hl();function t(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,u=s}return u}return Eb=t,Eb}var kb,sT;function q4(){if(sT)return kb;sT=1;function e(t,r){return t>r}return kb=e,kb}var Ab,lT;function Ufe(){if(lT)return Ab;lT=1;var e=Kp(),t=q4(),r=gl();function n(i){return i&&i.length?e(i,r,t):void 0}return Ab=n,Ab}var Wfe=Ufe();const ta=nt(Wfe);var Ob,cT;function U4(){if(cT)return Ob;cT=1;function e(t,r){return t<r}return Ob=e,Ob}var Cb,uT;function Hfe(){if(uT)return Cb;uT=1;var e=Kp(),t=U4(),r=gl();function n(i){return i&&i.length?e(i,r,t):void 0}return Cb=n,Cb}var Vfe=Hfe();const Gp=nt(Vfe);var Pb,dT;function Kfe(){if(dT)return Pb;dT=1;var e=$_(),t=fi(),r=Q3(),n=Mr();function i(a,o){var s=n(a)?e:r;return s(a,t(o,3))}return Pb=i,Pb}var Tb,fT;function Gfe(){if(fT)return Tb;fT=1;var e=Y3(),t=Kfe();function r(n,i){return e(t(n,i),1)}return Tb=r,Tb}var Yfe=Gfe();const Xfe=nt(Yfe);var Nb,hT;function Qfe(){if(hT)return Nb;hT=1;var e=Y_();function t(r,n){return e(r,n)}return Nb=t,Nb}var Jfe=Qfe();const Ri=nt(Jfe);var bl=1e9,Zfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_S,Ct=!0,pn="[DecimalError] ",ao=pn+"Invalid argument: ",wS=pn+"Exponent out of range: ",xl=Math.floor,qa=Math.pow,ehe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hr,ir=1e7,At=7,W4=9007199254740991,Yf=xl(W4/At),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return Ai(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return xt(Ai(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return Wt(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Hr))throw Error(pn+"NaN");if(r.s<1)throw Error(pn+(r.s?"NaN":"-Infinity"));return r.eq(Hr)?new n(0):(Ct=!1,t=Ai(Gc(r,a),Gc(e,a),a),Ct=!0,xt(t,i))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K4(t,e):H4(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(pn+"NaN");return r.s?(Ct=!1,t=Ai(r,e,0,1).times(e),Ct=!0,r.minus(t)):xt(new n(r),i)};Se.naturalExponential=Se.exp=function(){return V4(this)};Se.naturalLogarithm=Se.ln=function(){return Gc(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H4(t,e):K4(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ao+e);if(t=Wt(i)+1,n=i.d.length-1,r=n*At+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(pn+"NaN")}for(e=Wt(s),Ct=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Xn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Ai(s,a,o+2)).times(.5),Xn(a.d).slice(0,o)===(t=Xn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(xt(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Ct=!0,xt(n,r)};Se.times=Se.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this,d=u.constructor,p=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+h[n]*p[i-n-1]+t,a[i--]=s%ir|0,t=s/ir|0;a[i]=(a[i]+t)%ir|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ct?xt(e,d.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oi(e,0,bl),t===void 0?t=n.rounding:oi(t,0,8),xt(r,e+Wt(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=yo(n,!0):(oi(e,0,bl),t===void 0?t=i.rounding:oi(t,0,8),n=xt(new i(n),e+1,t),r=yo(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?yo(i):(oi(e,0,bl),t===void 0?t=a.rounding:oi(t,0,8),n=xt(new a(i),e+Wt(i)+1,t),r=yo(n.abs(),!1,e+Wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return xt(new t(e),Wt(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Hr);if(s=new l(s),!s.s){if(e.s<1)throw Error(pn+"Infinity");return s}if(s.eq(Hr))return s;if(n=l.precision,e.eq(Hr))return xt(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=u<0?-u:u)<=W4){for(i=new l(Hr),t=Math.ceil(n/At+4),Ct=!1;r%2&&(i=i.times(s),mT(i.d,t)),r=xl(r/2),r!==0;)s=s.times(s),mT(s.d,t);return Ct=!0,e.s<0?new l(Hr).div(i):xt(i,n)}}else if(a<0)throw Error(pn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ct=!1,i=e.times(Gc(s,n+c)),Ct=!0,i=V4(i),i.s=a,i};Se.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Wt(i),n=yo(i,r<=a.toExpNeg||r>=a.toExpPos)):(oi(e,1,bl),t===void 0?t=a.rounding:oi(t,0,8),i=xt(new a(i),e,t),r=Wt(i),n=yo(i,e<=r||r<=a.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oi(e,1,bl),t===void 0?t=n.rounding:oi(t,0,8)),xt(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wt(e),r=e.constructor;return yo(e,t<=r.toExpNeg||t>=r.toExpPos)};function H4(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ct?xt(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(d/At),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/ir|0,l[a]%=ir;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Ct?xt(t,d):t}function oi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ao+e)}function Xn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=At-n.length,r&&(a+=Qi(r)),a+=n;o=e[t],n=o+"",r=At-n.length,r&&(a+=Qi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ai=(function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%ir|0,o=a/ir|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*ir+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,d,p,h,v,m,g,y,b,x,S,w,j,E,C,P=n.constructor,O=n.s==i.s?1:-1,N=n.d,T=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(pn+"Division by zero");for(l=n.e-i.e,E=T.length,w=N.length,h=new P(O),v=h.d=[],c=0;T[c]==(N[c]||0);)++c;if(T[c]>(N[c]||0)&&--l,a==null?b=a=P.precision:o?b=a+(Wt(n)-Wt(i))+1:b=a,b<0)return new P(0);if(b=b/At+2|0,c=0,E==1)for(u=0,T=T[0],b++;(c<w||u)&&b--;c++)x=u*ir+(N[c]||0),v[c]=x/T|0,u=x%T|0;else{for(u=ir/(T[0]+1)|0,u>1&&(T=e(T,u),N=e(N,u),E=T.length,w=N.length),S=E,m=N.slice(0,E),g=m.length;g<E;)m[g++]=0;C=T.slice(),C.unshift(0),j=T[0],T[1]>=ir/2&&++j;do u=0,s=t(T,m,E,g),s<0?(y=m[0],E!=g&&(y=y*ir+(m[1]||0)),u=y/j|0,u>1?(u>=ir&&(u=ir-1),d=e(T,u),p=d.length,g=m.length,s=t(d,m,p,g),s==1&&(u--,r(d,E<p?C:T,p))):(u==0&&(s=u=1),d=T.slice()),p=d.length,p<g&&d.unshift(0),r(m,d,g),s==-1&&(g=m.length,s=t(T,m,E,g),s<1&&(u++,r(m,E<g?C:T,g))),g=m.length):s===0&&(u++,m=[0]),v[c++]=u,s&&m[0]?m[g++]=N[S]||0:(m=[N[S]],g=1);while((S++<w||m[0]!==void 0)&&b--)}return v[0]||v.shift(),h.e=l,xt(h,o?a+Wt(h)+1:a)}})();function V4(e,t){var r,n,i,a,o,s,l=0,c=0,u=e.constructor,d=u.precision;if(Wt(e)>16)throw Error(wS+Wt(e));if(!e.s)return new u(Hr);for(Ct=!1,s=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(qa(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(Hr),u.precision=s;;){if(i=xt(i.times(e),s),r=r.times(++l),o=a.plus(Ai(i,r,s)),Xn(o.d).slice(0,s)===Xn(a.d).slice(0,s)){for(;c--;)a=xt(a.times(a),s);return u.precision=d,t==null?(Ct=!0,xt(a,d)):a}a=o}}function Wt(e){for(var t=e.e*At,r=e.d[0];r>=10;r/=10)t++;return t}function Rb(e,t,r){if(t>e.LN10.sd())throw Ct=!0,r&&(e.precision=r),Error(pn+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function Qi(e){for(var t="";e--;)t+="0";return t}function Gc(e,t){var r,n,i,a,o,s,l,c,u,d=1,p=10,h=e,v=h.d,m=h.constructor,g=m.precision;if(h.s<1)throw Error(pn+(h.s?"NaN":"-Infinity"));if(h.eq(Hr))return new m(0);if(t==null?(Ct=!1,c=g):c=t,h.eq(10))return t==null&&(Ct=!0),Rb(m,c);if(c+=p,m.precision=c,r=Xn(v),n=r.charAt(0),a=Wt(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Xn(h.d),n=r.charAt(0),d++;a=Wt(h),n>1?(h=new m("0."+r),a++):h=new m(n+"."+r.slice(1))}else return l=Rb(m,c+2,g).times(a+""),h=Gc(new m(n+"."+r.slice(1)),c-p).plus(l),m.precision=g,t==null?(Ct=!0,xt(h,g)):h;for(s=o=h=Ai(h.minus(Hr),h.plus(Hr),c),u=xt(h.times(h),c),i=3;;){if(o=xt(o.times(u),c),l=s.plus(Ai(o,new m(i),c)),Xn(l.d).slice(0,c)===Xn(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Rb(m,c+2,g).times(a+""))),s=Ai(s,new m(d),c),m.precision=g,t==null?(Ct=!0,xt(s,g)):s;s=l,i+=2}}function pT(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=xl(r/At),e.d=[],n=(r+1)%At,r<0&&(n+=At),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=At;n<i;)e.d.push(+t.slice(n,n+=At));t=t.slice(n),n=At-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ct&&(e.e>Yf||e.e<-Yf))throw Error(wS+r)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,r){var n,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=At,i=t,c=d[u=0];else{if(u=Math.ceil((n+1)/At),a=d.length,u>=a)return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=At,i=n-At+o}if(r!==void 0&&(a=qa(10,o-i-1),s=c/a%10|0,l=t<0||d[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/qa(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Wt(e),d.length=1,t=t-a-1,d[0]=qa(10,(At-t%At)%At),e.e=xl(-t/At)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=qa(10,At-n),d[u]=i>0?(c/qa(10,o-i)%qa(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==ir&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=ir)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Ct&&(e.e>Yf||e.e<-Yf))throw Error(wS+Wt(e));return e}function K4(e,t){var r,n,i,a,o,s,l,c,u,d,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ct?xt(t,h):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(h/At),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=ir-1;--l[a],l[i]+=ir}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ct?xt(t,h):t):new p(0)}function yo(e,t,r){var n,i=Wt(e),a=Xn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Qi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Qi(-i-1)+a,r&&(n=r-o)>0&&(a+=Qi(n))):i>=o?(a+=Qi(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Qi(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Qi(n))),e.s<0?"-"+a:a}function mT(e,t){if(e.length>t)return e.length=t,!0}function G4(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ao+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return pT(o,a.toString())}else if(typeof a!="string")throw Error(ao+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ehe.test(a))pT(o,a);else throw Error(ao+a)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=G4,i.config=i.set=the,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function the(e){if(!e||typeof e!="object")throw Error(pn+"Object expected");var t,r,n,i=["precision",1,bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(xl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ao+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ao+r+": "+n);return this}var _S=G4(Zfe);Hr=new _S(1);const gt=_S;function rhe(e){return ohe(e)||ahe(e)||ihe(e)||nhe()}function nhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ihe(e,t){if(e){if(typeof e=="string")return Zx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zx(e,t)}}function ahe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ohe(e){if(Array.isArray(e))return Zx(e)}function Zx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var she=function(t){return t},Y4={},X4=function(t){return t===Y4},gT=function(t){return function r(){return arguments.length===0||arguments.length===1&&X4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},lhe=function e(t,r){return t===1?r:gT(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Y4}).length;return o>=t?r.apply(void 0,i):e(t-o,gT(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return X4(d)?l.shift():d});return r.apply(void 0,rhe(u).concat(l))}))})},Yp=function(t){return lhe(t.length,t)},ew=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},che=Yp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),uhe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return she;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},tw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Q4=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function dhe(e){var t;return e===0?t=1:t=Math.floor(new gt(e).abs().log(10).toNumber())+1,t}function fhe(e,t,r){for(var n=new gt(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var hhe=Yp(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),phe=Yp(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),mhe=Yp(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Xp={rangeStep:fhe,getDigitCount:dhe,interpolateNumber:hhe,uninterpolateNumber:phe,uninterpolateTruncation:mhe};function rw(e){return yhe(e)||vhe(e)||J4(e)||ghe()}function ghe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vhe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yhe(e){if(Array.isArray(e))return nw(e)}function Yc(e,t){return whe(e)||xhe(e,t)||J4(e,t)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J4(e,t){if(e){if(typeof e=="string")return nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nw(e,t)}}function nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xhe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function whe(e){if(Array.isArray(e))return e}function Z4(e){var t=Yc(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function eB(e,t,r){if(e.lte(0))return new gt(0);var n=Xp.getDigitCount(e.toNumber()),i=new gt(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new gt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?l:new gt(Math.ceil(l))}function _he(e,t,r){var n=1,i=new gt(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new gt(10).pow(Xp.getDigitCount(e)-1),i=new gt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new gt(Math.floor(e)))}else e===0?i=new gt(Math.floor((t-1)/2)):r||(i=new gt(Math.floor(e)));var o=Math.floor((t-1)/2),s=uhe(che(function(l){return i.add(new gt(l-o).mul(n)).toNumber()}),ew);return s(0,t)}function tB(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var a=eB(new gt(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new gt(0):(o=new gt(e).add(t).div(2),o=o.sub(new gt(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new gt(t).sub(o).div(a).toNumber()),c=s+l+1;return c>r?tB(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:a,tickMin:o.sub(new gt(s).mul(a)),tickMax:o.add(new gt(l).mul(a))})}function She(e){var t=Yc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=Z4([r,n]),l=Yc(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(rw(ew(0,i-1).map(function(){return 1/0}))):[].concat(rw(ew(0,i-1).map(function(){return-1/0})),[u]);return r>n?tw(d):d}if(c===u)return _he(c,i,a);var p=tB(c,u,o,a),h=p.step,v=p.tickMin,m=p.tickMax,g=Xp.rangeStep(v,m.add(new gt(.1).mul(h)),h);return r>n?tw(g):g}function jhe(e,t){var r=Yc(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Z4([n,i]),s=Yc(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(t,2),d=eB(new gt(c).sub(l).div(u-1),a,0),p=[].concat(rw(Xp.rangeStep(new gt(l),new gt(c).sub(new gt(.99).mul(d)),d)),[c]);return n>i?tw(p):p}var Ehe=Q4(She),khe=Q4(jhe),Ahe="Invariant failed";function bo(e,t){throw new Error(Ahe)}var Ohe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(this,arguments)}function Che(e,t){return Rhe(e)||Nhe(e,t)||The(e,t)||Phe()}function Phe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function The(e,t){if(e){if(typeof e=="string")return vT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vT(e,t)}}function vT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Rhe(e){if(Array.isArray(e))return e}function Ihe(e,t){if(e==null)return{};var r=Dhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $he(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iB(n.key),n)}}function Lhe(e,t,r){return t&&$he(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bhe(e,t,r){return t=Qf(t),Fhe(e,rB()?Reflect.construct(t,r||[],Qf(e).constructor):t.apply(e,r))}function Fhe(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zhe(e)}function zhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qf(e)}function qhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iw(e,t)}function iw(e,t){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iw(e,t)}function nB(e,t,r){return t=iB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=Uhe(e,"string");return Cs(t)=="symbol"?t:t+""}function Uhe(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wl=(function(e){function t(){return Mhe(this,t),Bhe(this,t,arguments)}return qhe(t,e),Lhe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,p=Ihe(n,Ohe),h=xe(p,!1);this.props.direction==="x"&&u.type!=="number"&&bo();var v=l.map(function(m){var g=c(m,s),y=g.x,b=g.y,x=g.value,S=g.errorVal;if(!S)return null;var w=[],j,E;if(Array.isArray(S)){var C=Che(S,2);j=C[0],E=C[1]}else j=E=S;if(a==="vertical"){var P=u.scale,O=b+i,N=O+o,T=O-o,D=P(x-j),k=P(x+E);w.push({x1:k,y1:N,x2:k,y2:T}),w.push({x1:D,y1:O,x2:k,y2:O}),w.push({x1:D,y1:N,x2:D,y2:T})}else if(a==="horizontal"){var R=d.scale,F=y+i,B=F-o,U=F+o,L=R(x-j),M=R(x+E);w.push({x1:B,y1:M,x2:U,y2:M}),w.push({x1:F,y1:L,x2:F,y2:M}),w.push({x1:B,y1:L,x2:U,y2:L})}return I.createElement(Be,Xf({className:"recharts-errorBar",key:"bar-".concat(w.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},h),w.map(function(H){return I.createElement("line",Xf({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return I.createElement(Be,{className:"recharts-errorBars"},v)}}])})(I.Component);nB(wl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nB(wl,"displayName","ErrorBar");function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){Whe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Whe(e,t,r){return t=Hhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hhe(e){var t=Vhe(e,"string");return Xc(t)=="symbol"?t:t+""}function Vhe(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aB=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Fr(r,Vr);if(!o)return null;var s=Vr.defaultProps,l=s!==void 0?Ia(Ia({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(u,d){var p=d.item,h=d.props,v=h.sectors||h.data||[];return u.concat(v.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,p=d.type.defaultProps,h=p!==void 0?Ia(Ia({},p),d.props):{},v=h.dataKey,m=h.name,g=h.legendType,y=h.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:SS(d),value:m||v,payload:h}}),Ia(Ia(Ia({},l),Vr.getWithHeight(o,i)),{},{payload:c,item:o})};function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function bT(e){return Xhe(e)||Yhe(e)||Ghe(e)||Khe()}function Khe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ghe(e,t){if(e){if(typeof e=="string")return aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(e,t)}}function Yhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xhe(e){if(Array.isArray(e))return aw(e)}function aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hs(e,t,r){return t=Qhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qhe(e){var t=Jhe(e,"string");return Qc(t)=="symbol"?t:t+""}function Jhe(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,r){return Te(e)||Te(t)?r:er(t)?Yr(e,t,r):Pe(t)?t(e):r}function hc(e,t,r,n){var i=Xfe(e,function(s){return bt(s,t)});if(r==="number"){var a=i.filter(function(s){return pe(s)||parseFloat(s)});return a.length?[Gp(a),ta(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Te(s)}):i;return o.map(function(s){return er(s)||s instanceof Date?s:""})}var Zhe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(_r(d-u)!==_r(p-d)){var v=[];if(_r(p-d)===_r(l[1]-l[0])){h=p;var m=d+l[1]-l[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{h=u;var g=p+l[1]-l[0];v[0]=Math.min(d,(g+d)/2),v[1]=Math.max(d,(g+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(t>y[0]&&t<=y[1]||t>=v[0]&&t<=v[1]){o=i[c].index;break}}else{var b=Math.min(u,p),x=Math.max(u,p);if(t>(b+d)/2&&t<=(x+d)/2){o=i[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},SS=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Rt(Rt({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},epe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,d=Object.keys(u),p=0,h=d.length;p<h;p++){var v=u[d[p]],m=v.items,g=v.cateAxisId,y=m.filter(function(E){return ki(E.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?Rt(Rt({},b),y[0].props):y[0].props,S=x.barSize,w=x[g];o[w]||(o[w]=[]);var j=Te(S)?r:S;o[w].push({item:y[0],stackList:y.slice(1),barSize:Te(j)?void 0:Sr(j,n,0)})}}return o},tpe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=Sr(r,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=i/l,v=o.reduce(function(S,w){return S+w.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&h>0&&(p=!0,h*=.9,v=l*h);var m=(i-v)/2>>0,g={offset:m-c,size:0};u=o.reduce(function(S,w){var j={item:w.item,position:{offset:g.offset+g.size+c,size:p?h:w.barSize}},E=[].concat(bT(S),[j]);return g=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){E.push({item:C,position:g})}),E},d)}else{var y=Sr(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var b=(i-2*y-(l-1)*c)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;u=o.reduce(function(S,w,j){var E=[].concat(bT(S),[{item:w.item,position:{offset:y+(b+c)*j+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){E.push({item:C,position:E[E.length-1].position})}),E},d)}return u},rpe=function(t,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=aB({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,p=u.height,h=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&h!=="center"&&pe(t[h]))return Rt(Rt({},t),{},hs({},h,t[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&v!=="middle"&&pe(t[v]))return Rt(Rt({},t),{},hs({},v,t[v]+(p||0)))}return t},npe=function(t,r,n){return Te(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},oB=function(t,r,n,i,a){var o=r.props.children,s=kr(o,wl).filter(function(c){return npe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=bt(u,n);if(Te(d))return c;var p=Array.isArray(d)?[Gp(d),ta(d)]:[d,d],h=l.reduce(function(v,m){var g=bt(u,m,0),y=p[0]-Math.abs(Array.isArray(g)?g[0]:g),b=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},ipe=function(t,r,n,i,a){var o=r.map(function(s){return oB(t,s,n,a,i)}).filter(function(s){return!Te(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},sB=function(t,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&oB(t,l,c,i)||hc(t,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},lB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},cB=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},_i=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?_r(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var p=a?a.indexOf(d):d;return{coordinate:i(p)+c,value:d,offset:c}});return u.filter(function(d){return!ml(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,p){return{coordinate:i(d)+c,value:d,index:p,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,p){return{coordinate:i(d)+c,value:a?a[d]:d,index:p,offset:c}})},Ib=new WeakMap,Ad=function(t,r){if(typeof r!="function")return t;Ib.has(t)||Ib.set(t,new WeakMap);var n=Ib.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},uB=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Uc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Hf(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:fc(),realScaleType:"point"}:a==="category"?{scale:Uc(),realScaleType:"band"}:{scale:Hf(),realScaleType:"linear"};if(go(i)){var l="scale".concat(Rp(i));return{scale:(aT[l]||fc)(),realScaleType:aT[l]?l:"point"}}return Pe(i)?{scale:i}:{scale:fc(),realScaleType:"point"}},wT=1e-4,dB=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-wT,o=Math.max(i[0],i[1])+wT,s=t(r[0]),l=t(r[n-1]);(s<a||s>o||l<a||l>o)&&t.domain([r[0],r[n-1]])}},ape=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},ope=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(a[0]=n),(!pe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},spe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=ml(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},lpe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=ml(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},cpe={sign:spe,expand:Xoe,none:ws,silhouette:Qoe,wiggle:Joe,positive:lpe},upe=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),a=cpe[n],o=Yoe().keys(i).value(function(s,l){return+bt(s,l,0)}).order(Dx).offset(a);return o(t)},dpe=function(t,r,n,i,a,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(d,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Rt(Rt({},p.type.defaultProps),p.props):p.props,m=v.stackId,g=v.hide;if(g)return d;var y=v[n],b=d[y]||{hasStack:!1,stackGroups:{}};if(er(m)){var x=b.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};x.items.push(p),b.hasStack=!0,b.stackGroups[m]=x}else b.stackGroups[ja("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Rt(Rt({},d),{},hs({},y,b))},l),u={};return Object.keys(c).reduce(function(d,p){var h=c[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,g){var y=h.stackGroups[g];return Rt(Rt({},m),{},hs({},g,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:upe(t,y.items,a)}))},v)}return Rt(Rt({},d),{},hs({},p,h))},u)},fB=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=Ehe(c,a,s);return t.domain([Gp(u),ta(u)]),{niceTicks:u}}if(a&&i==="number"){var d=t.domain(),p=khe(d,a,s);return{niceTicks:p}}return null};function Ps(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Te(i[t.dataKey])){var s=Af(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=bt(i,Te(o)?t.dataKey:o);return Te(l)?null:t.scale(l)}var _T=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=bt(o,r.dataKey,r.domain[s]);return Te(l)?null:r.scale(l)-a/2+i},fpe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},hpe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Rt(Rt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(er(a)){var o=r[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},ppe=function(t){return t.reduce(function(r,n){return[Gp(n.concat([r[0]]).filter(pe)),ta(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},hB=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(c,u){var d=ppe(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},ST=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ow=function(t,r,n){if(Pe(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(pe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(ST.test(t[0])){var a=+ST.exec(t[0])[1];i[0]=r[0]-a}else Pe(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(pe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(jT.test(t[1])){var o=+jT.exec(t[1])[1];i[1]=r[1]+o}else Pe(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Jf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=Q_(r,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},ET=function(t,r,n){return!t||!t.length||Ri(t,Yr(n,"type.defaultProps.domain"))?r:t},pB=function(t,r){var n=t.type.defaultProps?Rt(Rt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Rt(Rt({},xe(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:SS(t),value:bt(r,i),type:l,payload:r,chartType:c,hide:u})};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){mB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mB(e,t,r){return t=mpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mpe(e){var t=gpe(e,"string");return Jc(t)=="symbol"?t:t+""}function gpe(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vpe(e,t){return wpe(e)||xpe(e,t)||bpe(e,t)||ype()}function ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bpe(e,t){if(e){if(typeof e=="string")return AT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AT(e,t)}}function AT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function wpe(e){if(Array.isArray(e))return e}var Zf=Math.PI/180,_pe=function(t){return t*180/Math.PI},ut=function(t,r,n,i){return{x:t+Math.cos(-Zf*i)*n,y:r+Math.sin(-Zf*i)*n}},gB=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},vB=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,u=Sr(t.cx,o,o/2),d=Sr(t.cy,s,s/2),p=gB(o,s,n),h=Sr(t.innerRadius,p,0),v=Sr(t.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(g,y){var b=r[y],x=b.domain,S=b.reversed,w;if(Te(b.range))i==="angleAxis"?w=[l,c]:i==="radiusAxis"&&(w=[h,v]),S&&(w=[w[1],w[0]]);else{w=b.range;var j=w,E=vpe(j,2);l=E[0],c=E[1]}var C=uB(b,a),P=C.realScaleType,O=C.scale;O.domain(x).range(w),dB(O);var N=fB(O,vi(vi({},b),{},{realScaleType:P})),T=vi(vi(vi({},b),N),{},{range:w,radius:v,realScaleType:P,scale:O,cx:u,cy:d,innerRadius:h,outerRadius:v,startAngle:l,endAngle:c});return vi(vi({},g),{},mB({},y,T))},{})},Spe=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},jpe=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,s=Spe({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:_pe(c),angleInRadian:c}},Epe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},kpe=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},OT=function(t,r){var n=t.x,i=t.y,a=jpe({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=Epe(r),d=u.startAngle,p=u.endAngle,h=s,v;if(d<=p){for(;h>p;)h-=360;for(;h<d;)h+=360;v=h>=d&&h<=p}else{for(;h>d;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=d}return v?vi(vi({},r),{},{radius:o,angle:kpe(h,r)}):null},yB=function(t){return!_.isValidElement(t)&&!Pe(t)&&typeof t!="boolean"?t.className:""};function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}var Ape=["offset"];function Ope(e){return Npe(e)||Tpe(e)||Ppe(e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ppe(e,t){if(e){if(typeof e=="string")return sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sw(e,t)}}function Tpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Npe(e){if(Array.isArray(e))return sw(e)}function sw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rpe(e,t){if(e==null)return{};var r=Ipe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ipe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Dpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dpe(e,t,r){return t=Mpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mpe(e){var t=$pe(e,"string");return Zc(t)=="symbol"?t:t+""}function $pe(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(this,arguments)}var Lpe=function(t){var r=t.value,n=t.formatter,i=Te(t.children)?r:t.children;return Pe(n)?n(i):i},Bpe=function(t,r){var n=_r(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Fpe=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,p=l.outerRadius,h=l.startAngle,v=l.endAngle,m=l.clockWise,g=(d+p)/2,y=Bpe(h,v),b=y>=0?1:-1,x,S;i==="insideStart"?(x=h+b*o,S=m):i==="insideEnd"?(x=v-b*o,S=!m):i==="end"&&(x=v+b*o,S=m),S=y<=0?S:!S;var w=ut(c,u,g,x),j=ut(c,u,g,x+(S?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),C=Te(t.id)?ja("recharts-radial-line-"):t.id;return I.createElement("text",eu({},n,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:C,d:E})),I.createElement("textPath",{xlinkHref:"#".concat(C)},r))},zpe=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,p=(u+d)/2;if(i==="outside"){var h=ut(o,s,c+n,p),v=h.x,m=h.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,y=ut(o,s,g,p),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},qpe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,p=d*i,h=d>0?"end":"start",v=d>0?"start":"end",m=c>=0?1:-1,g=m*i,y=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var x={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:h};return Gt(Gt({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var S={x:s+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:v};return Gt(Gt({},S),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var w={x:s-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Gt(Gt({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(a==="right"){var j={x:s+c+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Gt(Gt({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return a==="insideLeft"?Gt({x:s+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?Gt({x:s+c-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideTop"?Gt({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?Gt({x:s+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},E):a==="insideTopLeft"?Gt({x:s+g,y:l+p,textAnchor:b,verticalAnchor:v},E):a==="insideTopRight"?Gt({x:s+c-g,y:l+p,textAnchor:y,verticalAnchor:v},E):a==="insideBottomLeft"?Gt({x:s+g,y:l+u-p,textAnchor:b,verticalAnchor:h},E):a==="insideBottomRight"?Gt({x:s+c-g,y:l+u-p,textAnchor:y,verticalAnchor:h},E):pl(a)&&(pe(a.x)||Xa(a.x))&&(pe(a.y)||Xa(a.y))?Gt({x:s+Sr(a.x,c),y:l+Sr(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):Gt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Upe=function(t){return"cx"in t&&pe(t.cx)};function or(e){var t=e.offset,r=t===void 0?5:t,n=Rpe(e,Ape),i=Gt({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,p=i.textBreakAll;if(!a||Te(s)&&Te(l)&&!_.isValidElement(c)&&!Pe(c))return null;if(_.isValidElement(c))return _.cloneElement(c,i);var h;if(Pe(c)){if(h=_.createElement(c,i),_.isValidElement(h))return h}else h=Lpe(i);var v=Upe(a),m=xe(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Fpe(i,h,m);var g=v?zpe(i):qpe(i);return I.createElement(vo,eu({className:Me("recharts-label",d)},m,g,{breakAll:p}),h)}or.displayName="Label";var bB=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,p=t.y,h=t.top,v=t.left,m=t.width,g=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(pe(m)&&pe(g)){if(pe(d)&&pe(p))return{x:d,y:p,width:m,height:g};if(pe(h)&&pe(v))return{x:h,y:v,width:m,height:g}}return pe(d)&&pe(p)?{x:d,y:p,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},Wpe=function(t,r){return t?t===!0?I.createElement(or,{key:"label-implicit",viewBox:r}):er(t)?I.createElement(or,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===or?_.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(or,{key:"label-implicit",content:t,viewBox:r}):Pe(t)?I.createElement(or,{key:"label-implicit",content:t,viewBox:r}):pl(t)?I.createElement(or,eu({viewBox:r},t,{key:"label-implicit"})):null:null},Hpe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=bB(t),o=kr(i,or).map(function(l,c){return _.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=Wpe(t.label,r||a);return[s].concat(Ope(o))};or.parseViewBox=bB;or.renderCallByParent=Hpe;var Db,PT;function Vpe(){if(PT)return Db;PT=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Db=e,Db}var Kpe=Vpe();const xB=nt(Kpe);function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}var Gpe=["valueAccessor"],Ype=["data","dataKey","clockWise","id","textBreakAll"];function Xpe(e){return eme(e)||Zpe(e)||Jpe(e)||Qpe()}function Qpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jpe(e,t){if(e){if(typeof e=="string")return lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lw(e,t)}}function Zpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eme(e){if(Array.isArray(e))return lw(e)}function lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(this,arguments)}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){tme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tme(e,t,r){return t=rme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rme(e){var t=nme(e,"string");return tu(t)=="symbol"?t:t+""}function nme(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RT(e,t){if(e==null)return{};var r=ime(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ime(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ame=function(t){return Array.isArray(t.value)?xB(t.value):t.value};function dn(e){var t=e.valueAccessor,r=t===void 0?ame:t,n=RT(e,Gpe),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=RT(n,Ype);return!i||!i.length?null:I.createElement(Be,{className:"recharts-label-list"},i.map(function(u,d){var p=Te(a)?r(u,d):bt(u&&u.payload,a),h=Te(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(or,eh({},xe(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:or.parseViewBox(Te(o)?u:NT(NT({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}dn.displayName="LabelList";function ome(e,t){return e?e===!0?I.createElement(dn,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Pe(e)?I.createElement(dn,{key:"labelList-implicit",data:t,content:e}):pl(e)?I.createElement(dn,eh({data:t},e,{key:"labelList-implicit"})):null:null}function sme(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=kr(n,dn).map(function(o,s){return _.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var a=ome(e.label,t);return[a].concat(Xpe(i))}dn.renderCallByParent=sme;function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(this,arguments)}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lme(e,t,r){return t=cme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cme(e){var t=ume(e,"string");return ru(t)=="symbol"?t:t+""}function ume(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dme=function(t,r){var n=_r(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Od=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/Zf,p=c?a:a+o*d,h=ut(r,n,u,p),v=ut(r,n,i,p),m=c?a-o*d:a,g=ut(r,n,u*Math.cos(d*Zf),m);return{center:h,circleTangency:v,lineTangency:g,theta:d}},wB=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=dme(o,s),c=o+l,u=ut(r,n,a,o),d=ut(r,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=ut(r,n,i,o),v=ut(r,n,i,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},fme=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=_r(u-c),p=Od({cx:r,cy:n,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),h=p.circleTangency,v=p.lineTangency,m=p.theta,g=Od({cx:r,cy:n,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),y=g.circleTangency,b=g.lineTangency,x=g.theta,S=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(S<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):wB({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var j=Od({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=j.circleTangency,C=j.lineTangency,P=j.theta,O=Od({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=O.circleTangency,T=O.lineTangency,D=O.theta,k=l?Math.abs(c-u):Math.abs(c-u)-P-D;if(k<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},hme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_B=function(t){var r=DT(DT({},hme),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,p=r.className;if(o<a||u===d)return null;var h=Me("recharts-sector",p),v=o-a,m=Sr(s,v,0,!0),g;return m>0&&Math.abs(u-d)<360?g=fme({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=wB({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),I.createElement("path",cw({},xe(r,!0),{className:h,d:g,role:"img"}))};function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){pme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pme(e,t,r){return t=mme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mme(e){var t=gme(e,"string");return nu(t)=="symbol"?t:t+""}function gme(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LT={curveBasisClosed:Loe,curveBasisOpen:Boe,curveBasis:$oe,curveBumpX:Soe,curveBumpY:joe,curveLinearClosed:Foe,curveLinear:Dp,curveMonotoneX:zoe,curveMonotoneY:qoe,curveNatural:Uoe,curveStep:Woe,curveStepAfter:Voe,curveStepBefore:Hoe},Cd=function(t){return t.x===+t.x&&t.y===+t.y},Wl=function(t){return t.x},Hl=function(t){return t.y},vme=function(t,r){if(Pe(t))return t;var n="curve".concat(Rp(t));return(n==="curveMonotone"||n==="curveBump")&&r?LT["".concat(n).concat(r==="vertical"?"Y":"X")]:LT[n]||Dp},yme=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=vme(n,s),d=c?a.filter(function(m){return Cd(m)}):a,p;if(Array.isArray(o)){var h=c?o.filter(function(m){return Cd(m)}):o,v=d.map(function(m,g){return $T($T({},m),{},{base:h[g]})});return s==="vertical"?p=xd().y(Hl).x1(Wl).x0(function(m){return m.base.x}):p=xd().x(Wl).y1(Hl).y0(function(m){return m.base.y}),p.defined(Cd).curve(u),p(v)}return s==="vertical"&&pe(o)?p=xd().y(Hl).x1(Wl).x0(o):pe(o)?p=xd().x(Wl).y1(Hl).y0(o):p=y3().x(Wl).y(Hl),p.defined(Cd).curve(u),p(d)},pa=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?yme(t):i;return _.createElement("path",uw({},xe(t,!1),Of(t),{className:Me("recharts-curve",r),d:o,ref:a}))},Mb={exports:{}},$b,BT;function bme(){if(BT)return $b;BT=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $b=e,$b}var Lb,FT;function xme(){if(FT)return Lb;FT=1;var e=bme();function t(){}function r(){}return r.resetWarningCache=t,Lb=function(){function n(o,s,l,c,u,d){if(d!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},Lb}var zT;function wme(){return zT||(zT=1,Mb.exports=xme()()),Mb.exports}var _me=wme();const ft=nt(_me);var Sme=Object.getOwnPropertyNames,jme=Object.getOwnPropertySymbols,Eme=Object.prototype.hasOwnProperty;function qT(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Pd(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function UT(e){return Sme(e).concat(jme(e))}var kme=Object.hasOwn||(function(e,t){return Eme.call(e,t)});function Co(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ame="__v",Ome="__o",Cme="_owner",WT=Object.getOwnPropertyDescriptor,HT=Object.keys;function Pme(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Tme(e,t){return Co(e.getTime(),t.getTime())}function Nme(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Rme(e,t){return e===t}function VT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var p=o.value,h=s.value;if(r.equals(p[0],h[0],l,d,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Ime=Co;function Dme(e,t,r){var n=HT(e),i=n.length;if(HT(t).length!==i)return!1;for(;i-- >0;)if(!SB(e,t,r,n[i]))return!1;return!0}function Vl(e,t,r){var n=UT(e),i=n.length;if(UT(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!SB(e,t,r,a)||(o=WT(e,a),s=WT(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Mme(e,t){return Co(e.valueOf(),t.valueOf())}function $me(e,t){return e.source===t.source&&e.flags===t.flags}function KT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Lme(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Bme(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function SB(e,t,r,n){return(n===Cme||n===Ome||n===Ame)&&(e.$$typeof||t.$$typeof)?!0:kme(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Fme="[object Arguments]",zme="[object Boolean]",qme="[object Date]",Ume="[object Error]",Wme="[object Map]",Hme="[object Number]",Vme="[object Object]",Kme="[object RegExp]",Gme="[object Set]",Yme="[object String]",Xme="[object URL]",Qme=Array.isArray,GT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,YT=Object.assign,Jme=Object.prototype.toString.call.bind(Object.prototype.toString);function Zme(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var y=typeof v;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?o(v,m,g):y==="function"?i(v,m,g):!1;var b=v.constructor;if(b!==m.constructor)return!1;if(b===Object)return s(v,m,g);if(Qme(v))return t(v,m,g);if(GT!=null&&GT(v))return d(v,m,g);if(b===Date)return r(v,m,g);if(b===RegExp)return c(v,m,g);if(b===Map)return a(v,m,g);if(b===Set)return u(v,m,g);var x=Jme(v);return x===qme?r(v,m,g):x===Kme?c(v,m,g):x===Wme?a(v,m,g):x===Gme?u(v,m,g):x===Vme?typeof v.then!="function"&&typeof m.then!="function"&&s(v,m,g):x===Xme?p(v,m,g):x===Ume?n(v,m,g):x===Fme?s(v,m,g):x===zme||x===Hme||x===Yme?l(v,m,g):!1}}function ege(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Vl:Pme,areDatesEqual:Tme,areErrorsEqual:Nme,areFunctionsEqual:Rme,areMapsEqual:n?qT(VT,Vl):VT,areNumbersEqual:Ime,areObjectsEqual:n?Vl:Dme,arePrimitiveWrappersEqual:Mme,areRegExpsEqual:$me,areSetsEqual:n?qT(KT,Vl):KT,areTypedArraysEqual:n?Vl:Lme,areUrlsEqual:Bme};if(r&&(i=YT({},i,r(i))),t){var a=Pd(i.areArraysEqual),o=Pd(i.areMapsEqual),s=Pd(i.areObjectsEqual),l=Pd(i.areSetsEqual);i=YT({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function tge(e){return function(t,r,n,i,a,o,s){return e(t,r,s)}}function rge(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,p=d===void 0?t?new WeakMap:void 0:d,h=u.meta;return r(l,c,{cache:p,equals:i,meta:h,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var nge=Aa();Aa({strict:!0});Aa({circular:!0});Aa({circular:!0,strict:!0});Aa({createInternalComparator:function(){return Co}});Aa({strict:!0,createInternalComparator:function(){return Co}});Aa({circular:!0,createInternalComparator:function(){return Co}});Aa({circular:!0,createInternalComparator:function(){return Co},strict:!0});function Aa(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=ege(e),l=Zme(s),c=n?n(l):tge(l);return rge({circular:r,comparator:l,createState:i,equals:c,strict:o})}function ige(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function XT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):ige(i)};requestAnimationFrame(n)}function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}function age(e){return cge(e)||lge(e)||sge(e)||oge()}function oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sge(e,t){if(e){if(typeof e=="string")return QT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QT(e,t)}}function QT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cge(e){if(Array.isArray(e))return e}function uge(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=age(o),l=s[0],c=s.slice(1);if(typeof l=="number"){XT(i.bind(null,c),l);return}i(l),XT(i.bind(null,c));return}dw(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){jB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jB(e,t,r){return t=dge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dge(e){var t=fge(e,"string");return iu(t)==="symbol"?t:String(t)}function fge(e,t){if(iu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},pge=function(t){return t},mge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},pc=function(t,r){return Object.keys(r).reduce(function(n,i){return ZT(ZT({},n),{},jB({},i,t(i,r[i])))},{})},eN=function(t,r,n){return t.map(function(i){return"".concat(mge(i)," ").concat(r,"ms ").concat(n)}).join(",")};function gge(e,t){return bge(e)||yge(e,t)||EB(e,t)||vge()}function vge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function bge(e){if(Array.isArray(e))return e}function xge(e){return Sge(e)||_ge(e)||EB(e)||wge()}function wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EB(e,t){if(e){if(typeof e=="string")return fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fw(e,t)}}function _ge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sge(e){if(Array.isArray(e))return fw(e)}function fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var th=1e-4,kB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},AB=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},tN=function(t,r){return function(n){var i=kB(t,r);return AB(i,n)}},jge=function(t,r){return function(n){var i=kB(t,r),a=[].concat(xge(i.map(function(o,s){return o*s}).slice(1)),[0]);return AB(a,n)}},rN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=gge(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=tN(i,o),p=tN(a,s),h=jge(i,o),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,x=b,S=0;S<8;++S){var w=d(x)-b,j=h(x);if(Math.abs(w-b)<th||j<th)return p(x);x=v(x-w/j)}return p(x)};return m.isStepper=!1,m},Ege=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(u,d,p){var h=-(u-d)*n,v=p*a,m=p+(h-v)*s/1e3,g=p*s/1e3+u;return Math.abs(g-d)<th&&Math.abs(m)<th?[d,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},kge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rN(i);case"spring":return Ege();default:if(i.split("(")[0]==="cubic-bezier")return rN(i)}return typeof i=="function"?i:null};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function nN(e){return Cge(e)||Oge(e)||OB(e)||Age()}function Age(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cge(e){if(Array.isArray(e))return pw(e)}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){hw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hw(e,t,r){return t=Pge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pge(e){var t=Tge(e,"string");return au(t)==="symbol"?t:String(t)}function Tge(e,t){if(au(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nge(e,t){return Dge(e)||Ige(e,t)||OB(e,t)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OB(e,t){if(e){if(typeof e=="string")return pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(e,t)}}function pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ige(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Dge(e){if(Array.isArray(e))return e}var rh=function(t,r,n){return t+(r-t)*n},mw=function(t){var r=t.from,n=t.to;return r!==n},Mge=function e(t,r,n){var i=pc(function(a,o){if(mw(o)){var s=t(o.from,o.to,o.velocity),l=Nge(s,2),c=l[0],u=l[1];return ur(ur({},o),{},{from:c,velocity:u})}return o},r);return n<1?pc(function(a,o){return mw(o)?ur(ur({},o),{},{velocity:rh(o.velocity,i[a].velocity,n),from:rh(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const $ge=(function(e,t,r,n,i){var a=hge(e,t),o=a.reduce(function(g,y){return ur(ur({},g),{},hw({},y,[e[y],t[y]]))},{}),s=a.reduce(function(g,y){return ur(ur({},g),{},hw({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,d=function(){return null},p=function(){return pc(function(y,b){return b.from},s)},h=function(){return!Object.values(s).filter(mw).length},v=function(y){c||(c=y);var b=y-c,x=b/r.dt;s=Mge(r,s,x),i(ur(ur(ur({},e),t),p())),c=y,h()||(l=requestAnimationFrame(d))},m=function(y){u||(u=y);var b=(y-u)/n,x=pc(function(w,j){return rh.apply(void 0,nN(j).concat([r(b)]))},o);if(i(ur(ur(ur({},e),t),x)),b<1)l=requestAnimationFrame(d);else{var S=pc(function(w,j){return rh.apply(void 0,nN(j).concat([r(1)]))},o);i(ur(ur(ur({},e),t),S))}};return d=r.isStepper?v:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var Lge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Bge(e,t){if(e==null)return{};var r=Fge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fge(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Bb(e){return Wge(e)||Uge(e)||qge(e)||zge()}function zge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qge(e,t){if(e){if(typeof e=="string")return gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gw(e,t)}}function Uge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wge(e){if(Array.isArray(e))return gw(e)}function gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){Zl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zl(e,t,r){return t=CB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CB(n.key),n)}}function Kge(e,t,r){return t&&Vge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CB(e){var t=Gge(e,"string");return Ts(t)==="symbol"?t:String(t)}function Gge(e,t){if(Ts(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vw(e,t)}function vw(e,t){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vw(e,t)}function Xge(e){var t=Qge();return function(){var n=nh(e),i;if(t){var a=nh(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return yw(this,i)}}function yw(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bw(e)}function bw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nh(e)}var Xr=(function(e){Yge(r,e);var t=Xge(r);function r(n,i){var a;Hge(this,r),a=t.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,p=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(bw(a)),a.changeStyle=a.changeStyle.bind(bw(a)),!s||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),yw(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof p=="function")return a.state={style:c},yw(a);a.state={style:l?Zl({},l,c):c}}else a.state={style:{}};return a}return Kge(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,p=this.state.style;if(s){if(!o){var h={style:l?Zl({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(nge(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?d:i.to;if(this.state&&p){var g={style:l?Zl({},l,m):m};(l&&p[l]!==m||!l&&p!==m)&&this.setState(g)}this.runAnimation(bn(bn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,h=$ge(o,s,kge(c),l,this.changeStyle),v=function(){a.stopJSAnimation=h()};this.manager.start([p,u,v,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,d=c.duration,p=d===void 0?0:d,h=function(m,g,y){if(y===0)return m;var b=g.duration,x=g.easing,S=x===void 0?"ease":x,w=g.style,j=g.properties,E=g.onAnimationEnd,C=y>0?o[y-1]:g,P=j||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Bb(m),[a.runJSAnimation.bind(a,{from:C.style,to:w,duration:b,easing:S}),b]);var O=eN(P,b,S),N=bn(bn(bn({},C.style),w),{},{transition:O});return[].concat(Bb(m),[N,b,E]).filter(pge)};return this.manager.start([l].concat(Bb(o.reduce(h,[u,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uge());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,h=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var m=s?Zl({},s,l):l,g=eN(Object.keys(m),o,c);v.start([u,a,bn(bn({},m),{},{transition:g}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Bge(i,Lge),c=_.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var d=function(h){var v=h.props,m=v.style,g=m===void 0?{}:m,y=v.className,b=_.cloneElement(h,bn(bn({},l),{},{style:bn(bn({},g),u),className:y}));return b};return c===1?d(_.Children.only(a)):I.createElement("div",null,_.Children.map(a,function(p){return d(p)}))}}]),r})(_.PureComponent);Xr.displayName="Animate";Xr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xr.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(this,arguments)}function Jge(e,t){return rve(e)||tve(e,t)||eve(e,t)||Zge()}function Zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eve(e,t){if(e){if(typeof e=="string")return oN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oN(e,t)}}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function rve(e){if(Array.isArray(e))return e}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){nve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nve(e,t,r){return t=ive(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ive(e){var t=ave(e,"string");return ou(t)=="symbol"?t:t+""}function ave(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cN=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],p=0,h=4;p<h;p++)d[p]=a[p]>o?o:a[p];u="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),u+="L ".concat(t+n,",").concat(r+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+i)),u+="L ".concat(t+l*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);u="M ".concat(t,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*v,`
            L `).concat(t+n,",").concat(r+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n-l*v,",").concat(r+i,`
            L `).concat(t+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(r+i-s*v," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},ove=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+l),p=Math.max(o,o+l);return n>=c&&n<=u&&i>=d&&i<=p}return!1},sve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jS=function(t){var r=lN(lN({},sve),t),n=_.useRef(),i=_.useState(-1),a=Jge(i,2),o=a[0],s=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,p=r.radius,h=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var x=Me("recharts-rectangle",h);return b?I.createElement(Xr,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:v,isActive:b},function(S){var w=S.width,j=S.height,E=S.x,C=S.y;return I.createElement(Xr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},I.createElement("path",ih({},xe(r,!0),{className:x,d:cN(E,C,w,j,p),ref:n})))}):I.createElement("path",ih({},xe(r,!0),{className:x,d:cN(l,c,u,d,p)}))},lve=["points","className","baseLinePoints","connectNulls"];function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}function cve(e,t){if(e==null)return{};var r=uve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uN(e){return pve(e)||hve(e)||fve(e)||dve()}function dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fve(e,t){if(e){if(typeof e=="string")return xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(e,t)}}function hve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pve(e){if(Array.isArray(e))return xw(e)}function xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dN=function(t){return t&&t.x===+t.x&&t.y===+t.y},mve=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){dN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),dN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},mc=function(t,r){var n=mve(t);r&&(n=[n.reduce(function(a,o){return[].concat(uN(a),uN(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},gve=function(t,r,n){var i=mc(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(mc(r.reverse(),n).slice(1))},PB=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=cve(t,lve);if(!r||!r.length)return null;var s=Me("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=gve(r,i,a);return I.createElement("g",{className:s},I.createElement("path",Qo({},xe(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?I.createElement("path",Qo({},xe(o,!0),{fill:"none",d:mc(r,a)})):null,l?I.createElement("path",Qo({},xe(o,!0),{fill:"none",d:mc(i,a)})):null)}var u=mc(r,a);return I.createElement("path",Qo({},xe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(this,arguments)}var _l=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=Me("recharts-dot",a);return r===+r&&n===+n&&i===+i?_.createElement("circle",ww({},xe(t,!1),Of(t),{className:o,cx:r,cy:n,r:i})):null};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var vve=["x","y","top","left","width","height","className"];function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(this,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){bve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bve(e,t,r){return t=xve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xve(e){var t=wve(e,"string");return su(t)=="symbol"?t:t+""}function wve(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ve(e,t){if(e==null)return{};var r=Sve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jve=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Eve=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,p=t.height,h=p===void 0?0:p,v=t.className,m=_ve(t,vve),g=yve({x:n,y:a,top:s,left:c,width:d,height:h},m);return!pe(n)||!pe(a)||!pe(d)||!pe(h)||!pe(s)||!pe(c)?null:I.createElement("path",_w({},xe(g,!0),{className:Me("recharts-cross",v),d:jve(n,a,d,h,s,c)}))},kve=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function Ave(e,t){if(e==null)return{};var r=Ove(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ove(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(this,arguments)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){Cve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cve(e,t,r){return t=Pve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pve(e){var t=Tve(e,"string");return lu(t)=="symbol"?t:t+""}function Tve(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nve=function(t,r,n,i){var a="";return i.forEach(function(o,s){var l=ut(r,n,t,o);s?a+="L ".concat(l.x,",").concat(l.y):a+="M ".concat(l.x,",").concat(l.y)}),a+="Z",a},Rve=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.polarAngles,s=t.radialLines;if(!o||!o.length||!s)return null;var l=cu({stroke:"#ccc"},xe(t,!1));return I.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(c){var u=ut(r,n,i,c),d=ut(r,n,a,c);return I.createElement("line",Ii({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},Ive=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.index,o=cu(cu({stroke:"#ccc"},xe(t,!1)),{},{fill:"none"});return I.createElement("circle",Ii({},o,{className:Me("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},Dve=function(t){var r=t.radius,n=t.index,i=cu(cu({stroke:"#ccc"},xe(t,!1)),{},{fill:"none"});return I.createElement("path",Ii({},i,{className:Me("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:Nve(r,t.cx,t.cy,t.polarAngles)}))},Mve=function(t){var r=t.polarRadius,n=t.gridType;return!r||!r.length?null:I.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var o=a;return n==="circle"?I.createElement(Ive,Ii({key:o},t,{radius:i,index:a})):I.createElement(Dve,Ii({key:o},t,{radius:i,index:a}))}))},ah=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,o=t.innerRadius,s=o===void 0?0:o,l=t.outerRadius,c=l===void 0?0:l,u=t.gridType,d=u===void 0?"polygon":u,p=t.radialLines,h=p===void 0?!0:p,v=Ave(t,kve);return c<=0?null:I.createElement("g",{className:"recharts-polar-grid"},I.createElement(Rve,Ii({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:h},v)),I.createElement(Mve,Ii({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:h},v)))};ah.displayName="PolarGrid";var Fb,pN;function $ve(){if(pN)return Fb;pN=1;var e=Kp(),t=q4(),r=fi();function n(i,a){return i&&i.length?e(i,r(a,2),t):void 0}return Fb=n,Fb}var Lve=$ve();const Bve=nt(Lve);var zb,mN;function Fve(){if(mN)return zb;mN=1;var e=Kp(),t=fi(),r=U4();function n(i,a){return i&&i.length?e(i,t(a,2),r):void 0}return zb=n,zb}var zve=Fve();const qve=nt(zve);var Uve=["cx","cy","angle","ticks","axisLine"],Wve=["ticks","tick","angle","tickFormatter","stroke"];function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gc.apply(this,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){Qp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vN(e,t){if(e==null)return{};var r=Hve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NB(n.key),n)}}function Kve(e,t,r){return t&&yN(e.prototype,t),r&&yN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gve(e,t,r){return t=oh(t),Yve(e,TB()?Reflect.construct(t,r||[],oh(e).constructor):t.apply(e,r))}function Yve(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xve(e)}function Xve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(e)}function Qve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sw(e,t)}function Qp(e,t,r){return t=NB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=Jve(e,"string");return Ns(t)=="symbol"?t:t+""}function Jve(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xo=(function(e){function t(){return Vve(this,t),Gve(this,t,arguments)}return Qve(t,e),Kve(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return ut(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=Bve(s,function(u){return u.coordinate||0}),c=qve(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=vN(n,Uve),u=s.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),d=ut(i,a,u[0],o),p=ut(i,a,u[1],o),h=Da(Da(Da({},xe(c,!1)),{},{fill:"none"},xe(l,!1)),{},{x1:d.x,y1:d.y,x2:p.x,y2:p.y});return I.createElement("line",gc({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=vN(i,Wve),d=this.getTickTextAnchor(),p=xe(u,!1),h=xe(o,!1),v=a.map(function(m,g){var y=n.getTickValueCoord(m),b=Da(Da(Da(Da({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:c},h),{},{index:g},y),{},{payload:m});return I.createElement(Be,gc({className:Me("recharts-polar-radius-axis-tick",yB(o)),key:"tick-".concat(m.coordinate)},ya(n.props,m,g)),t.renderTickItem(o,b,l?l(m.value,g):m.value))});return I.createElement(Be,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:I.createElement(Be,{className:Me("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),or.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Pe(n)?o=n(i):o=I.createElement(vo,gc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(_.PureComponent);Qp(xo,"displayName","PolarRadiusAxis");Qp(xo,"axisType","radiusAxis");Qp(xo,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(this,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){Jp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IB(n.key),n)}}function eye(e,t,r){return t&&xN(e.prototype,t),r&&xN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tye(e,t,r){return t=sh(t),rye(e,RB()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function rye(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nye(e)}function nye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function iye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jw(e,t)}function jw(e,t){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jw(e,t)}function Jp(e,t,r){return t=IB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=aye(e,"string");return Rs(t)=="symbol"?t:t+""}function aye(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oye=Math.PI/180,wN=1e-5,ba=(function(e){function t(){return Zve(this,t),tye(this,t,arguments)}return iye(t,e),eye(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=ut(a,o,s,n.coordinate),p=ut(a,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*oye),o;return a>wN?o=i==="outer"?"start":"end":a<-wN?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=Ma(Ma({},xe(this.props,!1)),{},{fill:"none"},xe(s,!1));if(l==="circle")return I.createElement(_l,Ka({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,d=u.map(function(p){return ut(i,a,o,p.coordinate)});return I.createElement(PB,Ka({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=xe(this.props,!1),d=xe(o,!1),p=Ma(Ma({},u),{},{fill:"none"},xe(s,!1)),h=a.map(function(v,m){var g=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),b=Ma(Ma(Ma({textAnchor:y},u),{},{stroke:"none",fill:c},d),{},{index:m,payload:v,x:g.x2,y:g.y2});return I.createElement(Be,Ka({className:Me("recharts-polar-angle-axis-tick",yB(o)),key:"tick-".concat(v.coordinate)},ya(n.props,v,m)),s&&I.createElement("line",Ka({className:"recharts-polar-angle-axis-tick-line"},p,g)),o&&t.renderTickItem(o,b,l?l(v.value,m):v.value))});return I.createElement(Be,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:I.createElement(Be,{className:Me("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Pe(n)?o=n(i):o=I.createElement(vo,Ka({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(_.PureComponent);Jp(ba,"displayName","PolarAngleAxis");Jp(ba,"axisType","angleAxis");Jp(ba,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var qb,_N;function sye(){if(_N)return qb;_N=1;var e=z3(),t=e(Object.getPrototypeOf,Object);return qb=t,qb}var Ub,SN;function lye(){if(SN)return Ub;SN=1;var e=Bi(),t=sye(),r=Fi(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(u){if(!r(u)||e(u)!=n)return!1;var d=t(u);if(d===null)return!0;var p=s.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return Ub=c,Ub}var cye=lye();const uye=nt(cye);var Wb,jN;function dye(){if(jN)return Wb;jN=1;var e=Bi(),t=Fi(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return Wb=n,Wb}var fye=dye();const hye=nt(fye);function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(this,arguments)}function pye(e,t){return yye(e)||vye(e,t)||gye(e,t)||mye()}function mye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gye(e,t){if(e){if(typeof e=="string")return EN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EN(e,t)}}function EN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function yye(e){if(Array.isArray(e))return e}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){bye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bye(e,t,r){return t=xye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xye(e){var t=wye(e,"string");return uu(t)=="symbol"?t:t+""}function wye(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ON=function(t,r,n,i,a){var o=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+a),s+="L ".concat(t+n-o/2-i,",").concat(r+a),s+="L ".concat(t,",").concat(r," Z"),s},_ye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sye=function(t){var r=AN(AN({},_ye),t),n=_.useRef(),i=_.useState(-1),a=pye(i,2),o=a[0],s=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,p=r.height,h=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||p!==+p||u===0&&d===0||p===0)return null;var b=Me("recharts-trapezoid",h);return y?I.createElement(Xr,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:p,x:l,y:c},duration:m,animationEasing:v,isActive:y},function(x){var S=x.upperWidth,w=x.lowerWidth,j=x.height,E=x.x,C=x.y;return I.createElement(Xr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},I.createElement("path",lh({},xe(r,!0),{className:b,d:ON(E,C,S,w,j),ref:n})))}):I.createElement("g",null,I.createElement("path",lh({},xe(r,!0),{className:b,d:ON(l,c,u,d,p)})))},jye=["option","shapeType","propTransformer","activeClassName","isActive"];function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function Eye(e,t){if(e==null)return{};var r=kye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){Aye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aye(e,t,r){return t=Oye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oye(e){var t=Cye(e,"string");return du(t)=="symbol"?t:t+""}function Cye(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pye(e,t){return ch(ch({},t),e)}function Tye(e,t){return e==="symbols"}function PN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(jS,r);case"trapezoid":return I.createElement(Sye,r);case"sector":return I.createElement(_B,r);case"symbols":if(Tye(t))return I.createElement($p,r);break;default:return null}}function Nye(e){return _.isValidElement(e)?e.props:e}function uh(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Pye:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=Eye(e,jye),c;if(_.isValidElement(t))c=_.cloneElement(t,ch(ch({},l),Nye(t)));else if(Pe(t))c=t(l);else if(uye(t)&&!hye(t)){var u=i(t,l);c=I.createElement(PN,{shapeType:r,elementProps:u})}else{var d=l;c=I.createElement(PN,{shapeType:r,elementProps:d})}return s?I.createElement(Be,{className:o},c):c}function Zp(e,t){return t!=null&&"trapezoids"in e.props}function em(e,t){return t!=null&&"sectors"in e.props}function fu(e,t){return t!=null&&"points"in e.props}function Rye(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function Iye(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Dye(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Mye(e,t){var r;return Zp(e,t)?r=Rye:em(e,t)?r=Iye:fu(e,t)&&(r=Dye),r}function $ye(e,t){var r;return Zp(e,t)?r="trapezoids":em(e,t)?r="sectors":fu(e,t)&&(r="points"),r}function Lye(e,t){if(Zp(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(em(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return fu(e,t)?t.payload:{}}function Bye(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=$ye(r,t),a=Lye(r,t),o=n.filter(function(l,c){var u=Ri(a,l),d=r.props[i].filter(function(v){var m=Mye(r,t);return m(v,t)}),p=r.props[i].indexOf(d[d.length-1]),h=c===p;return u&&h}),s=n.indexOf(o[o.length-1]);return s}var Kd;function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){ln(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MB(n.key),n)}}function zye(e,t,r){return t&&NN(e.prototype,t),r&&NN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qye(e,t,r){return t=dh(t),Uye(e,DB()?Reflect.construct(t,r||[],dh(e).constructor):t.apply(e,r))}function Uye(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wye(e)}function Wye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(e)}function Hye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ew(e,t)}function Ew(e,t){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ew(e,t)}function ln(e,t,r){return t=MB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=Vye(e,"string");return Is(t)=="symbol"?t:t+""}function Vye(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qi=(function(e){function t(r){var n;return Fye(this,t),n=qye(this,t,[r]),ln(n,"pieRef",null),ln(n,"sectorRefs",[]),ln(n,"id",ja("recharts-pie-")),ln(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pe(i)&&i()}),ln(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Hye(t,e),zye(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=xe(this.props,!1),d=xe(o,!1),p=xe(s,!1),h=o&&o.offsetRadius||20,v=n.map(function(m,g){var y=(m.startAngle+m.endAngle)/2,b=ut(m.cx,m.cy,m.outerRadius+h,y),x=jt(jt(jt(jt({},u),m),{},{stroke:"none"},d),{},{index:g,textAnchor:t.getTextAnchor(b.x,m.cx)},b),S=jt(jt(jt(jt({},u),m),{},{fill:"none",stroke:m.fill},p),{},{index:g,points:[ut(m.cx,m.cy,m.outerRadius,y),b]}),w=l;return Te(l)&&Te(c)?w="value":Te(l)&&(w=c),I.createElement(Be,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},s&&t.renderLabelLineItem(s,S,"line"),t.renderLabelItem(o,x,bt(m,w)))});return I.createElement(Be,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if(c?.startAngle===0&&c?.endAngle===0&&n.length!==1)return null;var d=i.isActiveIndex(u),p=l&&i.hasActiveIndex()?l:null,h=d?o:p,v=jt(jt({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return I.createElement(Be,Jo({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},ya(i.props,c,u),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(u)}),I.createElement(uh,Jo({option:h,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,p=d.prevSectors,h=d.prevIsAnimationActive;return I.createElement(Xr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],y=a&&a[0],b=y.startAngle;return a.forEach(function(x,S){var w=p&&p[S],j=S>0?Yr(x,"paddingAngle",0):0;if(w){var E=yt(w.endAngle-w.startAngle,x.endAngle-x.startAngle),C=jt(jt({},x),{},{startAngle:b+j,endAngle:b+E(m)+j});g.push(C),b=C.endAngle}else{var P=x.endAngle,O=x.startAngle,N=yt(0,P-O),T=N(m),D=jt(jt({},x),{},{startAngle:b+j,endAngle:b+T+j});g.push(D),b=D.endAngle}}),I.createElement(Be,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Ri(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!pe(c)||!pe(u)||!pe(d)||!pe(p))return null;var m=Me("recharts-pie",s);return I.createElement(Be,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),or.renderCallByParent(this.props,null,!1),(!h||v)&&dn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);if(Pe(n))return n(i);var o=Me("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(pa,Jo({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);var o=a;if(Pe(n)&&(o=n(i),I.isValidElement(o)))return o;var s=Me("recharts-pie-label-text",typeof n!="boolean"&&!Pe(n)?n.className:"");return I.createElement(vo,Jo({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(_.PureComponent);Kd=qi;ln(qi,"displayName","Pie");ln(qi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!hi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ln(qi,"parseDeltaAngle",function(e,t){var r=_r(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ln(qi,"getRealPieData",function(e){var t=e.data,r=e.children,n=xe(e,!1),i=kr(r,vl);return t&&t.length?t.map(function(a,o){return jt(jt(jt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return jt(jt({},n),a.props)}):[]});ln(qi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=gB(i,a),s=n+Sr(e.cx,i,i/2),l=r+Sr(e.cy,a,a/2),c=Sr(e.innerRadius,o,0),u=Sr(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});ln(qi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?jt(jt({},t.type.defaultProps),t.props):t.props,i=Kd.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),v=Kd.parseCoordinateOfPie(n,r),m=Kd.parseDeltaAngle(o,s),g=Math.abs(m),y=c;Te(c)&&Te(d)?(Rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Te(c)&&(Rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=d);var b=i.filter(function(C){return bt(C,y,0)!==0}).length,x=(g>=360?b:b-1)*l,S=g-b*h-x,w=i.reduce(function(C,P){var O=bt(P,y,0);return C+(pe(O)?O:0)},0),j;if(w>0){var E;j=i.map(function(C,P){var O=bt(C,y,0),N=bt(C,u,P),T=(pe(O)?O:0)/w,D;P?D=E.endAngle+_r(m)*l*(O!==0?1:0):D=o;var k=D+_r(m)*((O!==0?h:0)+T*S),R=(D+k)/2,F=(v.innerRadius+v.outerRadius)/2,B=[{name:N,value:O,payload:C,dataKey:y,type:p}],U=ut(v.cx,v.cy,F,R);return E=jt(jt(jt({percent:T,cornerRadius:a,name:N,tooltipPayload:B,midAngle:R,middleRadius:F,tooltipPosition:U},C),v),{},{value:bt(C,y),startAngle:D,endAngle:k,payload:C,paddingAngle:_r(m)*l}),E})}return jt(jt({},v),{},{sectors:j,data:i})});var Hb,RN;function Kye(){if(RN)return Hb;RN=1;function e(t){return t&&t.length?t[0]:void 0}return Hb=e,Hb}var Vb,IN;function Gye(){return IN||(IN=1,Vb=Kye()),Vb}var Yye=Gye();const Xye=nt(Yye);var Qye=["key"];function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Jye(e,t){if(e==null)return{};var r=Zye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(this,arguments)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){yi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function tbe(e,t,r){return t&&MN(e.prototype,t),r&&MN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rbe(e,t,r){return t=hh(t),nbe(e,$B()?Reflect.construct(t,r||[],hh(e).constructor):t.apply(e,r))}function nbe(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ibe(e)}function ibe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hh(e)}function abe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kw(e,t)}function yi(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=obe(e,"string");return Ds(t)=="symbol"?t:t+""}function obe(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wo=(function(e){function t(){var r;ebe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=rbe(this,t,[].concat(i)),yi(r,"state",{isAnimationFinished:!1}),yi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pe(o)&&o()}),yi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pe(o)&&o()}),yi(r,"handleMouseEnter",function(o){var s=r.props.onMouseEnter;s&&s(r.props,o)}),yi(r,"handleMouseLeave",function(o){var s=r.props.onMouseLeave;s&&s(r.props,o)}),r}return abe(t,e),tbe(t,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,o=i.dataKey,s=xe(this.props,!1),l=xe(a,!0),c=n.map(function(u,d){var p=br(br(br({key:"dot-".concat(d),r:3},s),l),{},{dataKey:o,cx:u.x,cy:u.y,index:d,payload:u});return t.renderDotItem(a,p)});return I.createElement(Be,{className:"recharts-radar-dots"},c)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,l=i.baseLinePoints,c=i.connectNulls,u;return I.isValidElement(a)?u=I.cloneElement(a,br(br({},this.props),{},{points:n})):Pe(a)?u=a(br(br({},this.props),{},{points:n})):u=I.createElement(PB,fh({},xe(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:s?l:null,connectNulls:c})),I.createElement(Be,{className:"recharts-radar-polygon"},u,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return I.createElement(Xr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"radar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,v=d&&d.length/a.length,m=a.map(function(g,y){var b=d&&d[Math.floor(y*v)];if(b){var x=yt(b.x,g.x),S=yt(b.y,g.y);return br(br({},g),{},{x:x(h),y:S(h)})}var w=yt(g.cx,g.x),j=yt(g.cy,g.y);return br(br({},g),{},{x:w(h),y:j(h)})});return n.renderPolygonStatically(m)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=n.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!Ri(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,o=n.points,s=n.isAnimationActive;if(i||!o||!o.length)return null;var l=this.state.isAnimationFinished,c=Me("recharts-radar",a);return I.createElement(Be,{className:c},this.renderPolygon(),(!s||l)&&dn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(Pe(n))a=n(i);else{var o=i.key,s=Jye(i,Qye);a=I.createElement(_l,fh({},s,{key:o,className:Me("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])})(_.PureComponent);yi(wo,"displayName","Radar");yi(wo,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yi(wo,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,n=e.displayedData,i=e.dataKey,a=e.bandSize,o=r.cx,s=r.cy,l=!1,c=[],u=r.type!=="number"?a??0:0;n.forEach(function(p,h){var v=bt(p,r.dataKey,h),m=bt(p,i),g=r.scale(v)+u,y=Array.isArray(m)?xB(m):m,b=Te(y)?void 0:t.scale(y);Array.isArray(m)&&m.length>=2&&(l=!0),c.push(br(br({},ut(o,s,b,g)),{},{name:v,value:m,cx:o,cy:s,radius:b,angle:g,payload:p}))});var d=[];return l&&c.forEach(function(p){if(Array.isArray(p.value)){var h=Xye(p.value),v=Te(h)?void 0:t.scale(h);d.push(br(br({},p),{},{radius:v},ut(o,s,v,p.angle)))}else d.push(p)}),{points:c,isRange:l,baseLinePoints:d}});var Kb,$N;function sbe(){if($N)return Kb;$N=1;var e=Math.ceil,t=Math.max;function r(n,i,a,o){for(var s=-1,l=t(e((i-n)/(a||1)),0),c=Array(l);l--;)c[o?l:++s]=n,n+=a;return c}return Kb=r,Kb}var Gb,LN;function BB(){if(LN)return Gb;LN=1;var e=n4(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*r}return i===i?i:0}return Gb=n,Gb}var Yb,BN;function lbe(){if(BN)return Yb;BN=1;var e=sbe(),t=Fp(),r=BB();function n(i){return function(a,o,s){return s&&typeof s!="number"&&t(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),e(a,o,s,i)}}return Yb=n,Yb}var Xb,FN;function cbe(){if(FN)return Xb;FN=1;var e=lbe(),t=e();return Xb=t,Xb}var ube=cbe();const ph=nt(ube);function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){FB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FB(e,t,r){return t=dbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dbe(e){var t=fbe(e,"string");return hu(t)=="symbol"?t:t+""}function fbe(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hbe=["Webkit","Moz","O","ms"],pbe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=hbe.reduce(function(a,o){return qN(qN({},a),{},FB({},o+n,r))},{});return i[t]=r,i};function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(this,arguments)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){Br(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qB(n.key),n)}}function gbe(e,t,r){return t&&WN(e.prototype,t),r&&WN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vbe(e,t,r){return t=gh(t),ybe(e,zB()?Reflect.construct(t,r||[],gh(e).constructor):t.apply(e,r))}function ybe(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bbe(e)}function bbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zB=function(){return!!e})()}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(e)}function xbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Aw(e,t)}function Br(e,t,r){return t=qB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=wbe(e,"string");return Ms(t)=="symbol"?t:t+""}function wbe(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _be=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=fc().domain(ph(0,l)).range([a,a+o-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},HN=function(t){return t.changedTouches&&!!t.changedTouches.length},$s=(function(e){function t(r){var n;return mbe(this,t),n=vbe(this,t,[r]),Br(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Br(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Br(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Br(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Br(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Br(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Br(n,"handleSlideDragStart",function(i){var a=HN(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return xbe(t,e),gbe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,a),p=Math.max(i,a),h=t.getIndexInRange(o,d),v=t.getIndexInRange(o,p);return{startIndex:h-h%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=bt(a[n],s,n);return Pe(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,p=l.startIndex,h=l.endIndex,v=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,c+u-d-s,c+u-d-o):m<0&&(m=Math.max(m,c-o,c-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==p||g.endIndex!==h)&&v&&v(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=HN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,d=u.x,p=u.width,h=u.travellerWidth,v=u.onChange,m=u.gap,g=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,d+p-h-c):b<0&&(b=Math.max(b,d-c)),y[o]=c+b;var x=this.getIndex(y),S=x.startIndex,w=x.endIndex,j=function(){var C=g.length-1;return o==="startX"&&(s>l?S%m===0:w%m===0)||s<l&&w===C||o==="endX"&&(s>l?w%m===0:S%m===0)||s>l&&w===C};this.setState(Br(Br({},o,c+b),"brushMoveStartX",n.pageX),function(){v&&j()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var p=d+n;if(!(p===-1||p>=s.length)){var h=s[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Br({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return I.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,d=_.Children.only(c);return d?I.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,p=l.traveller,h=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),b=Qb(Qb({},xe(this.props,!1)),{},{x:y,y:c,width:u,height:d}),x=h||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return I.createElement(Be,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,d=Math.max(Math.abs(i-n)-c,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,p=u.endX,h=5,v={pointerEvents:"none",fill:c};return I.createElement(Be,{className:"recharts-brush-texts"},I.createElement(vo,mh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-h,y:o+s/2},v),this.getTextOfTick(i)),I.createElement(vo,mh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+h,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,p=this.state,h=p.startX,v=p.endX,m=p.isTextActive,g=p.isSlideMoving,y=p.isTravellerMoving,b=p.isTravellerFocused;if(!i||!i.length||!pe(s)||!pe(l)||!pe(c)||!pe(u)||c<=0||u<=0)return null;var x=Me("recharts-brush",a),S=I.Children.count(o)===1,w=pbe("userSelect","none");return I.createElement(Be,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return I.isValidElement(n)?a=I.cloneElement(n,i):Pe(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return Qb({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?_be({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])})(_.PureComponent);Br($s,"displayName","Brush");Br($s,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jb,VN;function Sbe(){if(VN)return Jb;VN=1;var e=X_();function t(r,n){var i;return e(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return Jb=t,Jb}var Zb,KN;function jbe(){if(KN)return Zb;KN=1;var e=I3(),t=fi(),r=Sbe(),n=Mr(),i=Fp();function a(o,s,l){var c=n(o)?e:r;return l&&i(o,s,l)&&(s=void 0),c(o,t(s,3))}return Zb=a,Zb}var Ebe=jbe();const kbe=nt(Ebe);var ei=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},e0,GN;function Abe(){if(GN)return e0;GN=1;var e=J3();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return e0=t,e0}var t0,YN;function Obe(){if(YN)return t0;YN=1;var e=Abe(),t=X3(),r=fi();function n(i,a){var o={};return a=r(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return t0=n,t0}var Cbe=Obe();const Pbe=nt(Cbe);var r0,XN;function Tbe(){if(XN)return r0;XN=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return r0=e,r0}var n0,QN;function Nbe(){if(QN)return n0;QN=1;var e=X_();function t(r,n){var i=!0;return e(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return n0=t,n0}var i0,JN;function Rbe(){if(JN)return i0;JN=1;var e=Tbe(),t=Nbe(),r=fi(),n=Mr(),i=Fp();function a(o,s,l){var c=n(o)?e:t;return l&&i(o,s,l)&&(s=void 0),c(o,r(s,3))}return i0=a,i0}var Ibe=Rbe();const UB=nt(Ibe);var Dbe=["x","y"];function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(this,arguments)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){Mbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mbe(e,t,r){return t=$be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $be(e){var t=Lbe(e,"string");return pu(t)=="symbol"?t:t+""}function Lbe(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bbe(e,t){if(e==null)return{};var r=Fbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zbe(e,t){var r=e.x,n=e.y,i=Bbe(e,Dbe),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),p=parseInt(d,10);return Kl(Kl(Kl(Kl(Kl({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function e2(e){return I.createElement(uh,Ow({shapeType:"rectangle",propTransformer:zbe,activeClassName:"recharts-active-bar"},e))}var qbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=pe(n)||Wae(n);return a?t(n,i):(a||bo(),r)}},Ube=["value","background"],WB;function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function Wbe(e,t){if(e==null)return{};var r=Hbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(this,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){ra(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VB(n.key),n)}}function Kbe(e,t,r){return t&&r2(e.prototype,t),r&&r2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gbe(e,t,r){return t=yh(t),Ybe(e,HB()?Reflect.construct(t,r||[],yh(e).constructor):t.apply(e,r))}function Ybe(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xbe(e)}function Xbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HB=function(){return!!e})()}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yh(e)}function Qbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cw(e,t)}function Cw(e,t){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cw(e,t)}function ra(e,t,r){return t=VB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VB(e){var t=Jbe(e,"string");return Ls(t)=="symbol"?t:t+""}function Jbe(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dt=(function(e){function t(){var r;Vbe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Gbe(this,t,[].concat(i)),ra(r,"state",{isAnimationFinished:!1}),ra(r,"id",ja("recharts-bar-")),ra(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ra(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Qbe(t,e),Kbe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=xe(this.props,!1);return n&&n.map(function(d,p){var h=p===l,v=h?c:o,m=zt(zt(zt({},u),d),{},{isActive:h,option:v,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Be,vh({className:"recharts-bar-rectangle"},ya(i.props,d,p),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(p)}),I.createElement(e2,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,p=this.state.prevData;return I.createElement(Xr,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,m=a.map(function(g,y){var b=p&&p[y];if(b){var x=yt(b.x,g.x),S=yt(b.y,g.y),w=yt(b.width,g.width),j=yt(b.height,g.height);return zt(zt({},g),{},{x:x(v),y:S(v),width:w(v),height:j(v)})}if(o==="horizontal"){var E=yt(0,g.height),C=E(v);return zt(zt({},g),{},{y:g.y+g.height-C,height:C})}var P=yt(0,g.width),O=P(v);return zt(zt({},g),{},{width:O})});return I.createElement(Be,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ri(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=xe(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,p=Wbe(c,Ube);if(!d)return null;var h=zt(zt(zt(zt(zt({},p),{},{fill:"#eee"},d),l),ya(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return I.createElement(e2,vh({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=kr(u,wl);if(!d)return null;var p=c==="vertical"?o[0].height/2:o[0].width/2,h=function(g,y){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:bt(g,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Be,v,d.map(function(m){return I.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,p=n.height,h=n.isAnimationActive,v=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=Me("recharts-bar",o),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,S=b||x,w=Te(m)?this.id:m;return I.createElement(Be,{className:y},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?c:c-d/2,y:x?u:u-p/2,width:b?d:d*2,height:x?p:p*2}))):null,I.createElement(Be,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!h||g)&&dn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(_.PureComponent);WB=Dt;ra(Dt,"displayName","Bar");ra(Dt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ra(Dt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,h=ape(n,r);if(!h)return null;var v=t.layout,m=r.type.defaultProps,g=m!==void 0?zt(zt({},m),r.props):r.props,y=g.dataKey,b=g.children,x=g.minPointSize,S=v==="horizontal"?o:a,w=c?S.scale.domain():null,j=fpe({numericAxis:S}),E=kr(b,vl),C=d.map(function(P,O){var N,T,D,k,R,F;c?N=ope(c[u+O],w):(N=bt(P,y),Array.isArray(N)||(N=[j,N]));var B=qbe(x,WB.defaultProps.minPointSize)(N[1],O);if(v==="horizontal"){var U,L=[o.scale(N[0]),o.scale(N[1])],M=L[0],H=L[1];T=_T({axis:a,ticks:s,bandSize:i,offset:h.offset,entry:P,index:O}),D=(U=H??M)!==null&&U!==void 0?U:void 0,k=h.size;var z=M-H;if(R=Number.isNaN(z)?0:z,F={x:T,y:o.y,width:k,height:o.height},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var $=_r(R||B)*(Math.abs(B)-Math.abs(R));D-=$,R+=$}}else{var Q=[a.scale(N[0]),a.scale(N[1])],Z=Q[0],fe=Q[1];if(T=Z,D=_T({axis:o,ticks:l,bandSize:i,offset:h.offset,entry:P,index:O}),k=fe-Z,R=h.size,F={x:a.x,y:D,width:a.width,height:R},Math.abs(B)>0&&Math.abs(k)<Math.abs(B)){var le=_r(k||B)*(Math.abs(B)-Math.abs(k));k+=le}}return zt(zt(zt({},P),{},{x:T,y:D,width:k,height:R,value:c?N:N[1],payload:P,background:F},E&&E[O]&&E[O].props),{},{tooltipPayload:[pB(r,P)],tooltipPosition:{x:T+k/2,y:D+R/2}})});return zt({data:C,layout:v},p)});function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function Zbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KB(n.key),n)}}function e0e(e,t,r){return t&&n2(e.prototype,t),r&&n2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tm(e,t,r){return t=KB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KB(e){var t=t0e(e,"string");return mu(t)=="symbol"?t:t+""}function t0e(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rm=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!Fr(c,Dt);return u.reduce(function(h,v){var m=r[v],g=m.orientation,y=m.domain,b=m.padding,x=b===void 0?{}:b,S=m.mirror,w=m.reversed,j="".concat(g).concat(S?"Mirror":""),E,C,P,O,N;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var T=y[1]-y[0],D=1/0,k=m.categoricalDomain.sort(Gae);if(k.forEach(function(Q,Z){Z>0&&(D=Math.min((Q||0)-(k[Z-1]||0),D))}),Number.isFinite(D)){var R=D/T,F=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=R*F/2),m.padding==="no-gap"){var B=Sr(t.barCategoryGap,R*F),U=R*F/2;E=U-B-(U-B)/F*B}}}i==="xAxis"?C=[n.left+(x.left||0)+(E||0),n.left+n.width-(x.right||0)-(E||0)]:i==="yAxis"?C=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(E||0),n.top+n.height-(x.bottom||0)-(E||0)]:C=m.range,w&&(C=[C[1],C[0]]);var L=uB(m,a,p),M=L.scale,H=L.realScaleType;M.domain(y).range(C),dB(M);var z=fB(M,En(En({},m),{},{realScaleType:H}));i==="xAxis"?(N=g==="top"&&!S||g==="bottom"&&S,P=n.left,O=d[j]-N*m.height):i==="yAxis"&&(N=g==="left"&&!S||g==="right"&&S,P=d[j]-N*m.width,O=n.top);var $=En(En(En({},m),z),{},{realScaleType:H,x:P,y:O,scale:M,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return $.bandSize=Jf($,z),!m.hide&&i==="xAxis"?d[j]+=(N?-1:1)*$.height:m.hide||(d[j]+=(N?-1:1)*$.width),En(En({},h),{},tm({},v,$))},{})},GB=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},r0e=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return GB({x:r,y:n},{x:i,y:a})},YB=(function(){function e(t){Zbe(this,e),this.scale=t}return e0e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();tm(YB,"EPS",1e-4);var ES=function(t){var r=Object.keys(t).reduce(function(n,i){return En(En({},n),{},tm({},i,YB.create(t[i])))},{});return En(En({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Pbe(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return UB(i,function(a,o){return r[o].isInRange(a)})}})};function n0e(e){return(e%180+180)%180}var i0e=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=n0e(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},a0,a2;function a0e(){if(a2)return a0;a2=1;var e=fi(),t=Bu(),r=Lp();function n(i){return function(a,o,s){var l=Object(a);if(!t(a)){var c=e(o,3);a=r(a),o=function(d){return c(l[d],d,l)}}var u=i(a,o,s);return u>-1?l[c?a[u]:u]:void 0}}return a0=n,a0}var o0,o2;function o0e(){if(o2)return o0;o2=1;var e=BB();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return o0=t,o0}var s0,s2;function s0e(){if(s2)return s0;s2=1;var e=H3(),t=fi(),r=o0e(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),e(a,t(o,3),c)}return s0=i,s0}var l0,l2;function l0e(){if(l2)return l0;l2=1;var e=a0e(),t=s0e(),r=e(t);return l0=r,l0}var c0e=l0e();const u0e=nt(c0e);var d0e=o3();const f0e=nt(d0e);var h0e=f0e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),kS=_.createContext(void 0),AS=_.createContext(void 0),XB=_.createContext(void 0),QB=_.createContext({}),JB=_.createContext(void 0),ZB=_.createContext(0),eF=_.createContext(0),c2=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,u=h0e(a);return I.createElement(kS.Provider,{value:n},I.createElement(AS.Provider,{value:i},I.createElement(QB.Provider,{value:a},I.createElement(XB.Provider,{value:u},I.createElement(JB.Provider,{value:o},I.createElement(ZB.Provider,{value:c},I.createElement(eF.Provider,{value:l},s)))))))},p0e=function(){return _.useContext(JB)},tF=function(t){var r=_.useContext(kS);r==null&&bo();var n=r[t];return n==null&&bo(),n},m0e=function(){var t=_.useContext(kS);return ea(t)},g0e=function(){var t=_.useContext(AS),r=u0e(t,function(n){return UB(n.domain,Number.isFinite)});return r||ea(t)},rF=function(t){var r=_.useContext(AS);r==null&&bo();var n=r[t];return n==null&&bo(),n},v0e=function(){var t=_.useContext(XB);return t},y0e=function(){return _.useContext(QB)},OS=function(){return _.useContext(eF)},CS=function(){return _.useContext(ZB)};function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function b0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iF(n.key),n)}}function w0e(e,t,r){return t&&x0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _0e(e,t,r){return t=bh(t),S0e(e,nF()?Reflect.construct(t,r||[],bh(e).constructor):t.apply(e,r))}function S0e(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j0e(e)}function j0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!e})()}function bh(e){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bh(e)}function E0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pw(e,t)}function Pw(e,t){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pw(e,t)}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){PS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PS(e,t,r){return t=iF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=k0e(e,"string");return Bs(t)=="symbol"?t:t+""}function k0e(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function A0e(e,t){return T0e(e)||P0e(e,t)||C0e(e,t)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(e,t){if(e){if(typeof e=="string")return f2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f2(e,t)}}function f2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function T0e(e){if(Array.isArray(e))return e}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(this,arguments)}var N0e=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Pe(t)?n=t(r):n=I.createElement("line",Tw({},r,{className:"recharts-reference-line-line"})),n},R0e=function(t,r,n,i,a,o,s,l,c){var u=a.x,d=a.y,p=a.width,h=a.height;if(n){var v=c.y,m=t.y.apply(v,{position:o});if(ei(c,"discard")&&!t.y.isInRange(m))return null;var g=[{x:u+p,y:m},{x:u,y:m}];return l==="left"?g.reverse():g}if(r){var y=c.x,b=t.x.apply(y,{position:o});if(ei(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:d+h},{x:b,y:d}];return s==="top"?x.reverse():x}if(i){var S=c.segment,w=S.map(function(j){return t.apply(j,{position:o})});return ei(c,"discard")&&kbe(w,function(j){return!t.isInRange(j)})?null:w}return null};function I0e(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=p0e(),u=tF(i),d=rF(a),p=v0e();if(!c||!p)return null;Rn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ES({x:u.scale,y:d.scale}),v=er(t),m=er(r),g=n&&n.length===2,y=R0e(h,v,m,g,p,e.position,u.orientation,d.orientation,e);if(!y)return null;var b=A0e(y,2),x=b[0],S=x.x,w=x.y,j=b[1],E=j.x,C=j.y,P=ei(e,"hidden")?"url(#".concat(c,")"):void 0,O=d2(d2({clipPath:P},xe(e,!0)),{},{x1:S,y1:w,x2:E,y2:C});return I.createElement(Be,{className:Me("recharts-reference-line",s)},N0e(o,O),or.renderCallByParent(e,r0e({x1:S,y1:w,x2:E,y2:C})))}var TS=(function(e){function t(){return b0e(this,t),_0e(this,t,arguments)}return E0e(t,e),w0e(t,[{key:"render",value:function(){return I.createElement(I0e,this.props)}}])})(I.Component);PS(TS,"displayName","ReferenceLine");PS(TS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(this,arguments)}function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){nm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function $0e(e,t,r){return t&&M0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L0e(e,t,r){return t=xh(t),B0e(e,aF()?Reflect.construct(t,r||[],xh(e).constructor):t.apply(e,r))}function B0e(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F0e(e)}function F0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!e})()}function xh(e){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xh(e)}function z0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rw(e,t)}function nm(e,t,r){return t=oF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=q0e(e,"string");return Fs(t)=="symbol"?t:t+""}function q0e(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U0e=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=ES({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return ei(t,"discard")&&!o.isInRange(s)?null:s},im=(function(e){function t(){return D0e(this,t),L0e(this,t,arguments)}return z0e(t,e),$0e(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=er(i),u=er(a);if(Rn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=U0e(this.props);if(!d)return null;var p=d.x,h=d.y,v=this.props,m=v.shape,g=v.className,y=ei(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=p2(p2({clipPath:y},xe(this.props,!0)),{},{cx:p,cy:h});return I.createElement(Be,{className:Me("recharts-reference-dot",g)},t.renderDot(m,b),or.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])})(I.Component);nm(im,"displayName","ReferenceDot");nm(im,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});nm(im,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Pe(e)?r=e(t):r=I.createElement(_l,Nw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(this,arguments)}function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lF(n.key),n)}}function V0e(e,t,r){return t&&H0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K0e(e,t,r){return t=wh(t),G0e(e,sF()?Reflect.construct(t,r||[],wh(e).constructor):t.apply(e,r))}function G0e(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y0e(e)}function Y0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!e})()}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(e)}function X0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dw(e,t)}function Dw(e,t){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dw(e,t)}function am(e,t,r){return t=lF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=Q0e(e,"string");return zs(t)=="symbol"?t:t+""}function Q0e(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var J0e=function(t,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var p=ES({x:u.scale,y:d.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return ei(a,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:GB(h,v)},om=(function(e){function t(){return W0e(this,t),K0e(this,t,arguments)}return X0e(t,e),V0e(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Rn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=er(i),p=er(a),h=er(o),v=er(s),m=this.props.shape;if(!d&&!p&&!h&&!v&&!m)return null;var g=J0e(d,p,h,v,this.props);if(!g&&!m)return null;var y=ei(this.props,"hidden")?"url(#".concat(u,")"):void 0;return I.createElement(Be,{className:Me("recharts-reference-area",l)},t.renderRect(m,g2(g2({clipPath:y},xe(this.props,!0)),g)),or.renderCallByParent(this.props,g))}}])})(I.Component);am(om,"displayName","ReferenceArea");am(om,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});am(om,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Pe(e)?r=e(t):r=I.createElement(jS,Iw({},t,{className:"recharts-reference-area-rect"})),r});function cF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Z0e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return i0e(n,r)}function exe(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function _h(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function txe(e,t){return cF(e,t+1)}function rxe(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,u=o,d=function(){var v=n?.[l];if(v===void 0)return{v:cF(n,c)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},b=v.coordinate,x=l===0||_h(e,b,y,u,s);x||(l=0,u=o,c+=1),x&&(u=b+e*(y()/2+i),l+=c)},p;c<=a.length;)if(p=d(),p)return p.v;return[]}function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){nxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nxe(e,t,r){return t=ixe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ixe(e){var t=axe(e,"string");return gu(t)=="symbol"?t:t+""}function axe(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oxe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(p){var h=a[p],v,m=function(){return v===void 0&&(v=r(h,p)),v};if(p===o-1){var g=e*(h.coordinate+e*m()/2-l);a[p]=h=pr(pr({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else a[p]=h=pr(pr({},h),{},{tickCoord:h.coordinate});var y=_h(e,h.tickCoord,m,s,l);y&&(l=h.tickCoord-e*(m()/2+i),a[p]=pr(pr({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function sxe(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var u=n[s-1],d=r(u,s-1),p=e*(u.coordinate+e*d/2-c);o[s-1]=u=pr(pr({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var h=_h(e,u.tickCoord,function(){return d},l,c);h&&(c=u.tickCoord-e*(d/2+i),o[s-1]=pr(pr({},u),{},{isShow:!0}))}for(var v=a?s-1:s,m=function(b){var x=o[b],S,w=function(){return S===void 0&&(S=r(x,b)),S};if(b===0){var j=e*(x.coordinate-e*w()/2-l);o[b]=x=pr(pr({},x),{},{tickCoord:j<0?x.coordinate-j*e:x.coordinate})}else o[b]=x=pr(pr({},x),{},{tickCoord:x.coordinate});var E=_h(e,x.tickCoord,w,l,c);E&&(l=x.tickCoord+e*(w()/2+i),o[b]=pr(pr({},x),{},{isShow:!0}))},g=0;g<v;g++)m(g);return o}function NS(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(pe(l)||hi.isSsr)return txe(i,typeof l=="number"&&pe(l)?l:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",v=u&&h==="width"?dc(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,S){var w=Pe(c)?c(x.value,S):x.value;return h==="width"?Z0e(dc(w,{fontSize:t,letterSpacing:r}),v,d):dc(w,{fontSize:t,letterSpacing:r})[h]},g=i.length>=2?_r(i[1].coordinate-i[0].coordinate):1,y=exe(a,g,h);return l==="equidistantPreserveStart"?rxe(g,y,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=sxe(g,y,m,i,o,l==="preserveStartEnd"):p=oxe(g,y,m,i,o),p.filter(function(b){return b.isShow}))}var lxe=["viewBox"],cxe=["viewBox"],uxe=["ticks"];function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){RS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c0(e,t){if(e==null)return{};var r=dxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dF(n.key),n)}}function hxe(e,t,r){return t&&b2(e.prototype,t),r&&b2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pxe(e,t,r){return t=Sh(t),mxe(e,uF()?Reflect.construct(t,r||[],Sh(e).constructor):t.apply(e,r))}function mxe(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gxe(e)}function gxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!e})()}function Sh(e){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sh(e)}function vxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mw(e,t)}function RS(e,t,r){return t=dF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=yxe(e,"string");return qs(t)=="symbol"?t:t+""}function yxe(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sl=(function(e){function t(r){var n;return fxe(this,t),n=pxe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return vxe(t,e),hxe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=c0(n,lxe),s=this.props,l=s.viewBox,c=c0(s,cxe);return!ds(a,l)||!ds(o,c)||!ds(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,p=i.tickMargin,h,v,m,g,y,b,x=d?-1:1,S=n.tickSize||u,w=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=v=n.coordinate,g=o+ +!d*l,m=g-x*S,b=m-x*p,y=w;break;case"left":m=g=n.coordinate,v=a+ +!d*s,h=v-x*S,y=h-x*p,b=w;break;case"right":m=g=n.coordinate,v=a+ +d*s,h=v+x*S,y=h+x*p,b=w;break;default:h=v=n.coordinate,g=o+ +d*l,m=g+x*S,b=m+x*p,y=w;break}return{line:{x1:h,y1:m,x2:v,y2:g},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=Kt(Kt(Kt({},xe(this.props,!1)),xe(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);d=Kt(Kt({},d),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);d=Kt(Kt({},d),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+s})}return I.createElement("line",Zo({},d,{className:Me("recharts-cartesian-axis-line",Yr(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,p=s.unit,h=NS(Kt(Kt({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=xe(this.props,!1),y=xe(u,!1),b=Kt(Kt({},g),{},{fill:"none"},xe(l,!1)),x=h.map(function(S,w){var j=o.getTickLineCoord(S),E=j.line,C=j.tick,P=Kt(Kt(Kt(Kt({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:c},y),C),{},{index:w,payload:S,visibleTicksCount:h.length,tickFormatter:d});return I.createElement(Be,Zo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},ya(o.props,S,w)),l&&I.createElement("line",Zo({},b,E,{className:Me("recharts-cartesian-axis-tick-line",Yr(l,"className"))})),u&&t.renderTickItem(u,P,"".concat(Pe(d)?d(S.value,w):S.value).concat(p||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,p=d.ticks,h=c0(d,uxe),v=p;return Pe(l)&&(v=p&&p.length>0?l(this.props):l(h)),o<=0||s<=0||!v||!v.length?null:I.createElement(Be,{className:Me("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Me(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,Kt(Kt({},i),{},{className:s})):Pe(n)?o=n(Kt(Kt({},i),{},{className:s})):o=I.createElement(vo,Zo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(_.Component);RS(Sl,"displayName","CartesianAxis");RS(Sl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bxe=["x1","y1","x2","y2","key"],xxe=["offset"];function _o(e){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(e)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){wxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wxe(e,t,r){return t=_xe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=Sxe(e,"string");return _o(t)=="symbol"?t:t+""}function Sxe(e,t){if(_o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(this,arguments)}function w2(e,t){if(e==null)return{};var r=jxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Exe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function fF(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Pe(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=w2(t,bxe),c=xe(l,!1);c.offset;var u=w2(c,xxe);r=I.createElement("line",Za({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function kxe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=mr(mr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return fF(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Axe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=mr(mr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return fF(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Oxe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var d=u.map(function(p,h){var v=!u[h+1],m=v?i+o-p:u[h+1]-p;if(m<=0)return null;var g=h%t.length;return I.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Cxe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var d=u.map(function(p,h){var v=!u[h+1],m=v?a+s-p:u[h+1]-p;if(m<=0)return null;var g=h%n.length;return I.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Pxe=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return cB(NS(mr(mr(mr({},Sl.defaultProps),n),{},{ticks:_i(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Txe=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return cB(NS(mr(mr(mr({},Sl.defaultProps),n),{},{ticks:_i(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Uo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tn(e){var t,r,n,i,a,o,s=OS(),l=CS(),c=y0e(),u=mr(mr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Uo.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Uo.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Uo.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Uo.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Uo.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Uo.verticalFill,x:pe(e.x)?e.x:c.left,y:pe(e.y)?e.y:c.top,width:pe(e.width)?e.width:c.width,height:pe(e.height)?e.height:c.height}),d=u.x,p=u.y,h=u.width,v=u.height,m=u.syncWithTicks,g=u.horizontalValues,y=u.verticalValues,b=m0e(),x=g0e();if(!pe(h)||h<=0||!pe(v)||v<=0||!pe(d)||d!==+d||!pe(p)||p!==+p)return null;var S=u.verticalCoordinatesGenerator||Pxe,w=u.horizontalCoordinatesGenerator||Txe,j=u.horizontalPoints,E=u.verticalPoints;if((!j||!j.length)&&Pe(w)){var C=g&&g.length,P=w({yAxis:x?mr(mr({},x),{},{ticks:C?g:x.ticks}):void 0,width:s,height:l,offset:c},C?!0:m);Rn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_o(P),"]")),Array.isArray(P)&&(j=P)}if((!E||!E.length)&&Pe(S)){var O=y&&y.length,N=S({xAxis:b?mr(mr({},b),{},{ticks:O?y:b.ticks}):void 0,width:s,height:l,offset:c},O?!0:m);Rn(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_o(N),"]")),Array.isArray(N)&&(E=N)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Exe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),I.createElement(kxe,Za({},u,{offset:c,horizontalPoints:j,xAxis:b,yAxis:x})),I.createElement(Axe,Za({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:x})),I.createElement(Oxe,Za({},u,{horizontalPoints:j})),I.createElement(Cxe,Za({},u,{verticalPoints:E})))}tn.displayName="CartesianGrid";var Nxe=["type","layout","connectNulls","ref"],Rxe=["key"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function _2(e,t){if(e==null)return{};var r=Ixe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ixe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){kn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wo(e){return Lxe(e)||$xe(e)||Mxe(e)||Dxe()}function Dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mxe(e,t){if(e){if(typeof e=="string")return $w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(e,t)}}function $xe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lxe(e){if(Array.isArray(e))return $w(e)}function $w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pF(n.key),n)}}function Fxe(e,t,r){return t&&j2(e.prototype,t),r&&j2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zxe(e,t,r){return t=jh(t),qxe(e,hF()?Reflect.construct(t,r||[],jh(e).constructor):t.apply(e,r))}function qxe(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uxe(e)}function Uxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!e})()}function jh(e){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(e)}function Wxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lw(e,t)}function Lw(e,t){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lw(e,t)}function kn(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=Hxe(e,"string");return Us(t)=="symbol"?t:t+""}function Hxe(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fn=(function(e){function t(){var r;Bxe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zxe(this,t,[].concat(i)),kn(r,"state",{isAnimationFinished:!0,totalLength:0}),kn(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),kn(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),d=o%c,p=s-o,h=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>d){h=[].concat(Wo(l.slice(0,v)),[d-m]);break}var g=h.length%2===0?[0,p]:[p];return[].concat(Wo(t.repeat(l,u)),Wo(h),g).map(function(y){return"".concat(y,"px")}).join(", ")}),kn(r,"id",ja("recharts-line-")),kn(r,"pathRef",function(o){r.mainCurve=o}),kn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),kn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Wxe(t,e),Fxe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=kr(u,wl);if(!d)return null;var p=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:bt(m.payload,g)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Be,h,d.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=xe(this.props,!1),p=xe(l,!0),h=c.map(function(m,g){var y=Lr(Lr(Lr({key:"dot-".concat(g),r:3},d),p),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Be,vc({className:"recharts-line-dots",key:"dots"},v),h)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=_2(s,Nxe),p=Lr(Lr(Lr({},xe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:u});return I.createElement(pa,vc({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,p=o.animationEasing,h=o.animationId,v=o.animateNewValues,m=o.width,g=o.height,y=this.state,b=y.prevPoints,x=y.totalLength;return I.createElement(Xr,{begin:u,duration:d,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(b){var j=b.length/s.length,E=s.map(function(T,D){var k=Math.floor(D*j);if(b[k]){var R=b[k],F=yt(R.x,T.x),B=yt(R.y,T.y);return Lr(Lr({},T),{},{x:F(w),y:B(w)})}if(v){var U=yt(m*2,T.x),L=yt(g/2,T.y);return Lr(Lr({},T),{},{x:U(w),y:L(w)})}return Lr(Lr({},T),{},{x:T.x,y:T.y})});return a.renderCurveStatically(E,n,i)}var C=yt(0,x),P=C(w),O;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});O=a.getStrokeDasharray(P,x,N)}else O=a.generateSimpleStrokeDasharray(x,P);return a.renderCurveStatically(s,n,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!Ri(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,p=i.left,h=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=s.length===1,x=Me("recharts-line",l),S=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,j=S||w,E=Te(g)?this.id:g,C=(n=xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=C.r,O=P===void 0?3:P,N=C.strokeWidth,T=N===void 0?2:N,D=d3(o)?o:{},k=D.clipDot,R=k===void 0?!0:k,F=O*2+T;return I.createElement(Be,{className:x},S||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(E)},I.createElement("rect",{x:S?p:p-h/2,y:w?d:d-v/2,width:S?h:h*2,height:w?v:v*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(E)},I.createElement("rect",{x:p-F/2,y:d-F/2,width:h+F,height:v+F}))):null,!b&&this.renderCurve(j,E),this.renderErrorBar(j,E),(b||o)&&this.renderDots(j,R,E),(!m||y)&&dn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Wo(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Wo(o),Wo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(Pe(n))a=n(i);else{var o=i.key,s=_2(i,Rxe),l=Me("recharts-line-dot",typeof n!="boolean"?n.className:"");a=I.createElement(_l,vc({key:o},s,{className:l}))}return a}}])})(_.PureComponent);kn(fn,"displayName","Line");kn(fn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});kn(fn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(p,h){var v=bt(p,o);return u==="horizontal"?{x:Ps({axis:r,ticks:i,bandSize:s,entry:p,index:h}),y:Te(v)?null:n.scale(v),value:v,payload:p}:{x:Te(v)?null:r.scale(v),y:Ps({axis:n,ticks:a,bandSize:s,entry:p,index:h}),value:v,payload:p}});return Lr({points:d,layout:u},c)});var Vxe=["layout","type","stroke","connectNulls","isRange","ref"],Kxe=["key"],mF;function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function gF(e,t){if(e==null)return{};var r=Gxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eo.apply(this,arguments)}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){Qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yF(n.key),n)}}function Xxe(e,t,r){return t&&k2(e.prototype,t),r&&k2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qxe(e,t,r){return t=Eh(t),Jxe(e,vF()?Reflect.construct(t,r||[],Eh(e).constructor):t.apply(e,r))}function Jxe(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zxe(e)}function Zxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!e})()}function Eh(e){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(e)}function ewe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bw(e,t)}function Qn(e,t,r){return t=yF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=twe(e,"string");return Ws(t)=="symbol"?t:t+""}function twe(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mn=(function(e){function t(){var r;Yxe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qxe(this,t,[].concat(i)),Qn(r,"state",{isAnimationFinished:!0}),Qn(r,"id",ja("recharts-area-")),Qn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pe(o)&&o()}),Qn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pe(o)&&o()}),r}return ewe(t,e),Xxe(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,p=xe(this.props,!1),h=xe(c,!0),v=u.map(function(g,y){var b=Gi(Gi(Gi({key:"dot-".concat(y),r:3},p),h),{},{index:y,cx:g.x,cy:g.y,dataKey:d,value:g.value,payload:g.payload,points:u});return t.renderDotItem(c,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Be,eo({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=n*Math.abs(l-c),d=ta(o.map(function(p){return p.y||0}));return pe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(ta(a.map(function(p){return p.y||0})),d)),pe(d)?I.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=n*Math.abs(l-c),d=ta(o.map(function(p){return p.x||0}));return pe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(ta(a.map(function(p){return p.x||0})),d)),pe(d)?I.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,d=s.connectNulls,p=s.isRange;s.ref;var h=gF(s,Vxe);return I.createElement(Be,{clipPath:a?"url(#clipPath-".concat(o,")"):null},I.createElement(pa,eo({},xe(h,!0),{points:n,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&I.createElement(pa,eo({},xe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),u!=="none"&&p&&I.createElement(pa,eo({},xe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,p=o.animationEasing,h=o.animationId,v=this.state,m=v.prevPoints,g=v.prevBaseLine;return I.createElement(Xr,{begin:u,duration:d,isActive:c,easing:p,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var x=m.length/s.length,S=s.map(function(C,P){var O=Math.floor(P*x);if(m[O]){var N=m[O],T=yt(N.x,C.x),D=yt(N.y,C.y);return Gi(Gi({},C),{},{x:T(b),y:D(b)})}return C}),w;if(pe(l)&&typeof l=="number"){var j=yt(g,l);w=j(b)}else if(Te(l)||ml(l)){var E=yt(g,0);w=E(b)}else w=l.map(function(C,P){var O=Math.floor(P*x);if(g[O]){var N=g[O],T=yt(N.x,C.x),D=yt(N.y,C.y);return Gi(Gi({},C),{},{x:T(b),y:D(b)})}return C});return a.renderAreaStatically(S,w,n,i)}return I.createElement(Be,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),I.createElement(Be,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,p=c.totalLength;return l&&o&&o.length&&(!u&&p>0||!Ri(u,o)||!Ri(d,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,p=i.yAxis,h=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=s.length===1,x=Me("recharts-area",l),S=d&&d.allowDataOverflow,w=p&&p.allowDataOverflow,j=S||w,E=Te(g)?this.id:g,C=(n=xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=C.r,O=P===void 0?3:P,N=C.strokeWidth,T=N===void 0?2:N,D=d3(o)?o:{},k=D.clipDot,R=k===void 0?!0:k,F=O*2+T;return I.createElement(Be,{className:x},S||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(E)},I.createElement("rect",{x:S?u:u-h/2,y:w?c:c-v/2,width:S?h:h*2,height:w?v:v*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(E)},I.createElement("rect",{x:u-F/2,y:c-F/2,width:h+F,height:v+F}))):null,b?null:this.renderArea(j,E),(o||b)&&this.renderDots(j,R,E),(!m||y)&&dn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(_.PureComponent);mF=mn;Qn(mn,"displayName","Area");Qn(mn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Qn(mn,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(pe(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Qn(mn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,h=t.layout,v=c&&c.length,m=mF.getBaseValue(t,r,n,i),g=h==="horizontal",y=!1,b=d.map(function(S,w){var j;v?j=c[u+w]:(j=bt(S,l),Array.isArray(j)?y=!0:j=[m,j]);var E=j[1]==null||v&&bt(S,l)==null;return g?{x:Ps({axis:n,ticks:a,bandSize:s,entry:S,index:w}),y:E?null:i.scale(j[1]),value:j,payload:S}:{x:E?null:n.scale(j[1]),y:Ps({axis:i,ticks:o,bandSize:s,entry:S,index:w}),value:j,payload:S}}),x;return v||y?x=b.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return g?{x:S.x,y:w!=null&&S.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):x=g?i.scale(m):n.scale(m),Gi({points:b,baseLine:x,layout:h,isRange:y},p)});Qn(mn,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Pe(e))r=e(t);else{var n=Me("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=gF(t,Kxe);r=I.createElement(_l,eo({},a,{key:i,className:n}))}return r});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function rwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wF(n.key),n)}}function iwe(e,t,r){return t&&nwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function awe(e,t,r){return t=kh(t),owe(e,bF()?Reflect.construct(t,r||[],kh(e).constructor):t.apply(e,r))}function owe(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return swe(e)}function swe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bF=function(){return!!e})()}function kh(e){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(e)}function lwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fw(e,t)}function Fw(e,t){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(e,t)}function xF(e,t,r){return t=wF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wF(e){var t=cwe(e,"string");return Hs(t)=="symbol"?t:t+""}function cwe(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sm=(function(e){function t(){return rwe(this,t),awe(this,t,arguments)}return lwe(t,e),iwe(t,[{key:"render",value:function(){return null}}])})(_.Component);xF(sm,"displayName","ZAxis");xF(sm,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var uwe=["option","isActive"];function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}function dwe(e,t){if(e==null)return{};var r=fwe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hwe(e){var t=e.option,r=e.isActive,n=dwe(e,uwe);return typeof t=="string"?_.createElement(uh,yc({option:_.createElement($p,yc({type:t},n)),isActive:r,shapeType:"symbols"},n)):_.createElement(uh,yc({option:t,isActive:r,shapeType:"symbols"},n))}function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SF(n.key),n)}}function mwe(e,t,r){return t&&O2(e.prototype,t),r&&O2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gwe(e,t,r){return t=Ah(t),vwe(e,_F()?Reflect.construct(t,r||[],Ah(e).constructor):t.apply(e,r))}function vwe(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ywe(e)}function ywe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(e)}function bwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zw(e,t)}function zw(e,t){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zw(e,t)}function na(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=xwe(e,"string");return Vs(t)=="symbol"?t:t+""}function xwe(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lm=(function(e){function t(){var r;pwe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gwe(this,t,[].concat(i)),na(r,"state",{isAnimationFinished:!1}),na(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),na(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),na(r,"id",ja("recharts-scatter-")),r}return bwe(t,e),mwe(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.activeShape,l=a.activeIndex,c=xe(this.props,!1);return n.map(function(u,d){var p=l===d,h=p?s:o,v=en(en({},c),u);return I.createElement(Be,bc({className:"recharts-scatter-symbol",key:"symbol-".concat(u?.cx,"-").concat(u?.cy,"-").concat(u?.size,"-").concat(d)},ya(i.props,u,d),{role:"img"}),I.createElement(hwe,bc({option:h,isActive:p,key:"symbol-".concat(d)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return I.createElement(Xr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,v=a.map(function(m,g){var y=d&&d[g];if(y){var b=yt(y.cx,m.cx),x=yt(y.cy,m.cy),S=yt(y.size,m.size);return en(en({},m),{},{cx:b(h),cy:x(h),size:S(h)})}var w=yt(0,m.size);return en(en({},m),{},{size:w(h)})});return I.createElement(Be,null,n.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!Ri(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.children,c=kr(l,wl);return c?c.map(function(u,d){var p=u.props,h=p.direction,v=p.dataKey;return I.cloneElement(u,{key:"".concat(h,"-").concat(v,"-").concat(a[d]),data:a,xAxis:o,yAxis:s,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(g,y){return{x:g.cx,y:g.cy,value:h==="x"?+g.node.x:+g.node.y,errorVal:bt(g,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,o=n.lineType,s=n.lineJointType,l=xe(this.props,!1),c=xe(a,!1),u,d;if(o==="joint")u=i.map(function(x){return{x:x.cx,y:x.cy}});else if(o==="fitting"){var p=Kae(i),h=p.xmin,v=p.xmax,m=p.a,g=p.b,y=function(S){return m*S+g};u=[{x:h,y:y(h)},{x:v,y:y(v)}]}var b=en(en(en({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return I.isValidElement(a)?d=I.cloneElement(a,b):Pe(a)?d=a(b):d=I.createElement(pa,bc({},b,{type:s})),I.createElement(Be,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,o=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,p=n.width,h=n.height,v=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=Me("recharts-scatter",s),b=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,S=b||x,w=Te(v)?this.id:v;return I.createElement(Be,{className:y,clipPath:S?"url(#clipPath-".concat(w,")"):null},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?u:u-p/2,y:x?d:d-h/2,width:b?p:p*2,height:x?h:h*2}))):null,o&&this.renderLine(),this.renderErrorBar(),I.createElement(Be,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&dn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(_.PureComponent);na(lm,"displayName","Scatter");na(lm,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});na(lm,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=i.props.tooltipType,u=kr(i.props.children,vl),d=Te(t.dataKey)?i.props.dataKey:t.dataKey,p=Te(r.dataKey)?i.props.dataKey:r.dataKey,h=n&&n.dataKey,v=n?n.range:sm.defaultProps.range,m=v&&v[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,b=a.map(function(x,S){var w=bt(x,d),j=bt(x,p),E=!Te(h)&&bt(x,h)||"-",C=[{name:Te(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:x,dataKey:d,type:c},{name:Te(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:j,payload:x,dataKey:p,type:c}];E!=="-"&&C.push({name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:x,dataKey:h,type:c});var P=Ps({axis:t,ticks:o,bandSize:g,entry:x,index:S,dataKey:d}),O=Ps({axis:r,ticks:s,bandSize:y,entry:x,index:S,dataKey:p}),N=E!=="-"?n.scale(E):m,T=Math.sqrt(Math.max(N,0)/Math.PI);return en(en({},x),{},{cx:P,cy:O,x:P-T,y:O-T,xAxis:t,yAxis:r,zAxis:n,width:2*T,height:2*T,size:N,node:{x:w,y:j,z:E},tooltipPayload:C,tooltipPosition:{x:P,y:O},payload:x},u&&u[S]&&u[S].props)});return en({points:b},l)});function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function wwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kF(n.key),n)}}function Swe(e,t,r){return t&&_we(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jwe(e,t,r){return t=Oh(t),Ewe(e,jF()?Reflect.construct(t,r||[],Oh(e).constructor):t.apply(e,r))}function Ewe(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kwe(e)}function kwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!e})()}function Oh(e){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oh(e)}function Awe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qw(e,t)}function EF(e,t,r){return t=kF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=Owe(e,"string");return Ks(t)=="symbol"?t:t+""}function Owe(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uw.apply(this,arguments)}function Cwe(e){var t=e.xAxisId,r=OS(),n=CS(),i=tF(t);return i==null?null:_.createElement(Sl,Uw({},i,{className:Me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return _i(o,!0)}}))}var Qt=(function(e){function t(){return wwe(this,t),jwe(this,t,arguments)}return Awe(t,e),Swe(t,[{key:"render",value:function(){return _.createElement(Cwe,this.props)}}])})(_.Component);EF(Qt,"displayName","XAxis");EF(Qt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Pwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Twe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CF(n.key),n)}}function Nwe(e,t,r){return t&&Twe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rwe(e,t,r){return t=Ch(t),Iwe(e,AF()?Reflect.construct(t,r||[],Ch(e).constructor):t.apply(e,r))}function Iwe(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dwe(e)}function Dwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!e})()}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ch(e)}function Mwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ww(e,t)}function Ww(e,t){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ww(e,t)}function OF(e,t,r){return t=CF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=$we(e,"string");return Gs(t)=="symbol"?t:t+""}function $we(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hw.apply(this,arguments)}var Lwe=function(t){var r=t.yAxisId,n=OS(),i=CS(),a=rF(r);return a==null?null:_.createElement(Sl,Hw({},a,{className:Me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return _i(s,!0)}}))},Mt=(function(e){function t(){return Pwe(this,t),Rwe(this,t,arguments)}return Mwe(t,e),Nwe(t,[{key:"render",value:function(){return _.createElement(Lwe,this.props)}}])})(_.Component);OF(Mt,"displayName","YAxis");OF(Mt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function C2(e){return qwe(e)||zwe(e)||Fwe(e)||Bwe()}function Bwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fwe(e,t){if(e){if(typeof e=="string")return Vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(e,t)}}function zwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qwe(e){if(Array.isArray(e))return Vw(e)}function Vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kw=function(t,r,n,i,a){var o=kr(t,TS),s=kr(t,im),l=[].concat(C2(o),C2(s)),c=kr(t,om),u="".concat(i,"Id"),d=i[0],p=r;if(l.length&&(p=l.reduce(function(m,g){if(g.props[u]===n&&ei(g.props,"extendDomain")&&pe(g.props[d])){var y=g.props[d];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},p)),c.length){var h="".concat(d,"1"),v="".concat(d,"2");p=c.reduce(function(m,g){if(g.props[u]===n&&ei(g.props,"extendDomain")&&pe(g.props[h])&&pe(g.props[v])){var y=g.props[h],b=g.props[v];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,g){return pe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},p)),p},u0={exports:{}},P2;function Uwe(){return P2||(P2=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,p),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,h=d.length,v=new Array(h);p<h;p++)v[p]=d[p].fn;return v},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,p,h,v){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,b,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,p),!0;case 5:return g.fn.call(g.context,u,d,p,h),!0;case 6:return g.fn.call(g.context,u,d,p,h,v),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];g.fn.apply(g.context,b)}else{var S=g.length,w;for(x=0;x<S;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),y){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,d);break;case 4:g[x].fn.call(g[x].context,u,d,p);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];g[x].fn.apply(g[x].context,b)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===u&&(!p||v.once)&&(!d||v.context===d)&&o(this,h);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==u||p&&!v[m].once||d&&v[m].context!==d)&&g.push(v[m]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(u0)),u0.exports}var Wwe=Uwe();const Hwe=nt(Wwe);var d0=new Hwe,f0="recharts.syncMouseEvents";function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function Vwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PF(n.key),n)}}function Gwe(e,t,r){return t&&Kwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h0(e,t,r){return t=PF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e){var t=Ywe(e,"string");return vu(t)=="symbol"?t:t+""}function Ywe(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xwe=(function(){function e(){Vwe(this,e),h0(this,"activeIndex",0),h0(this,"coordinateList",[]),h0(this,"layout","horizontal")}return Gwe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+l+c,p=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])})();function Qwe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&pe(n)&&pe(i))return!0}return!1}function Jwe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function TF(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=ut(t,r,n,i),s=ut(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Zwe(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,p=ut(s,l,c,d),h=ut(s,l,u,d);n=p.x,i=p.y,a=h.x,o=h.y}else return TF(t);return[{x:n,y:i},{x:a,y:o}]}function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){e1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e1e(e,t,r){return t=t1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t1e(e){var t=r1e(e,"string");return yu(t)=="symbol"?t:t+""}function r1e(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n1e(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var v,m=pa;if(p==="ScatterChart")v=o,m=Eve;else if(p==="BarChart")v=Jwe(d,o,l,u),m=jS;else if(d==="radial"){var g=TF(o),y=g.cx,b=g.cy,x=g.radius,S=g.startAngle,w=g.endAngle;v={cx:y,cy:b,startAngle:S,endAngle:w,innerRadius:x,outerRadius:x},m=_B}else v={points:Zwe(d,o,l)},m=pa;var j=Td(Td(Td(Td({stroke:"#ccc",pointerEvents:"none"},l),v),xe(h,!1)),{},{payload:s,payloadIndex:c,className:Me("recharts-tooltip-cursor",h.className)});return _.isValidElement(h)?_.cloneElement(h,j):_.createElement(m,j)}var i1e=["item"],a1e=["children","className","width","height","style","compact","title","desc"];function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(this,arguments)}function N2(e,t){return l1e(e)||s1e(e,t)||RF(e,t)||o1e()}function o1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function l1e(e){if(Array.isArray(e))return e}function R2(e,t){if(e==null)return{};var r=c1e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IF(n.key),n)}}function f1e(e,t,r){return t&&d1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h1e(e,t,r){return t=Ph(t),p1e(e,NF()?Reflect.construct(t,r||[],Ph(e).constructor):t.apply(e,r))}function p1e(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m1e(e)}function m1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ph(e)}function g1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gw(e,t)}function Xs(e){return b1e(e)||y1e(e)||RF(e)||v1e()}function v1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RF(e,t){if(e){if(typeof e=="string")return Yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(e,t)}}function y1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b1e(e){if(Array.isArray(e))return Yw(e)}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){Ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ie(e,t,r){return t=IF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=x1e(e,"string");return Ys(t)=="symbol"?t:t+""}function x1e(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w1e={xAxis:["bottom","top"],yAxis:["left","right"]},_1e={width:"100%",height:"100%"},DF={x:0,y:0};function Nd(e){return e}var S1e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},j1e=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return se(se(se({},i),ut(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return se(se(se({},i),ut(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return DF},cm=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Xs(s),Xs(c)):s},[]);return o.length>0?o:t&&t.length&&pe(i)&&pe(a)?t.slice(i,a+1):[]};function MF(e){return e==="number"?[0,"auto"]:void 0}var Xw=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,s=cm(r,t);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=d===void 0?s:d;p=Af(h,o.dataKey,i)}else p=d&&d[n]||s[n];return p?[].concat(Xs(l),[pB(c,p)]):l},[])},D2=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=S1e(a,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=Zhe(o,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,p=Xw(t,r,u,d),h=j1e(n,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:p,activeCoordinate:h}}return null},E1e=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,p=t.stackOffset,h=lB(u,a);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,b=y.type,x=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,j=y.scale,E=y.ticks,C=y.includeHidden,P=y[o];if(v[P])return v;var O=cm(t.data,{graphicalItems:i.filter(function(z){var $,Q=o in z.props?z.props[o]:($=z.type.defaultProps)===null||$===void 0?void 0:$[o];return Q===P}),dataStartIndex:l,dataEndIndex:c}),N=O.length,T,D,k;Qwe(y.domain,S,b)&&(T=ow(y.domain,null,S),h&&(b==="number"||j!=="auto")&&(k=hc(O,x,"category")));var R=MF(b);if(!T||T.length===0){var F,B=(F=y.domain)!==null&&F!==void 0?F:R;if(x){if(T=hc(O,x,b),b==="category"&&h){var U=Vae(T);w&&U?(D=T,T=ph(0,N)):w||(T=ET(B,T,m).reduce(function(z,$){return z.indexOf($)>=0?z:[].concat(Xs(z),[$])},[]))}else if(b==="category")w?T=T.filter(function(z){return z!==""&&!Te(z)}):T=ET(B,T,m).reduce(function(z,$){return z.indexOf($)>=0||$===""||Te($)?z:[].concat(Xs(z),[$])},[]);else if(b==="number"){var L=ipe(O,i.filter(function(z){var $,Q,Z=o in z.props?z.props[o]:($=z.type.defaultProps)===null||$===void 0?void 0:$[o],fe="hide"in z.props?z.props.hide:(Q=z.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return Z===P&&(C||!fe)}),x,a,u);L&&(T=L)}h&&(b==="number"||j!=="auto")&&(k=hc(O,x,"category"))}else h?T=ph(0,N):s&&s[P]&&s[P].hasStack&&b==="number"?T=p==="expand"?[0,1]:hB(s[P].stackGroups,l,c):T=sB(O,i.filter(function(z){var $=o in z.props?z.props[o]:z.type.defaultProps[o],Q="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return $===P&&(C||!Q)}),b,u,!0);if(b==="number")T=Kw(d,T,P,a,E),B&&(T=ow(B,T,S));else if(b==="category"&&B){var M=B,H=T.every(function(z){return M.indexOf(z)>=0});H&&(T=M)}}return se(se({},v),{},Ie({},P,se(se({},y),{},{axisType:a,domain:T,categoricalDomain:k,duplicateDomain:D,originalDomain:(g=y.domain)!==null&&g!==void 0?g:R,isCategorical:h,layout:u})))},{})},k1e=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,p=cm(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,v=lB(u,a),m=-1;return n.reduce(function(g,y){var b=y.type.defaultProps!==void 0?se(se({},y.type.defaultProps),y.props):y.props,x=b[o],S=MF("number");if(!g[x]){m++;var w;return v?w=ph(0,h):s&&s[x]&&s[x].hasStack?(w=hB(s[x].stackGroups,l,c),w=Kw(d,w,x,a)):(w=ow(S,sB(p,n.filter(function(j){var E,C,P=o in j.props?j.props[o]:(E=j.type.defaultProps)===null||E===void 0?void 0:E[o],O="hide"in j.props?j.props.hide:(C=j.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===x&&!O}),"number",u),i.defaultProps.allowDataOverflow),w=Kw(d,w,x,a)),se(se({},g),{},Ie({},x,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Yr(w1e,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:S,isCategorical:v,layout:u})))}return g},{})},A1e=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(i,"Id"),p=kr(u,a),h={};return p&&p.length?h=E1e(t,{axes:p,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(h=k1e(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),h},O1e=function(t){var r=ea(t),n=_i(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Q_(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Jf(r,n)}},M2=function(t){var r=t.children,n=t.defaultShowTooltip,i=Fr(r,$s),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},C1e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ki(r&&r.type);return n&&n.indexOf("Bar")>=0})},$2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},P1e=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,d=n.children,p=n.margin||{},h=Fr(d,$s),v=Fr(d,Vr),m=Object.keys(l).reduce(function(w,j){var E=l[j],C=E.orientation;return!E.mirror&&!E.hide?se(se({},w),{},Ie({},C,w[C]+E.width)):w},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(w,j){var E=o[j],C=E.orientation;return!E.mirror&&!E.hide?se(se({},w),{},Ie({},C,Yr(w,"".concat(C))+E.height)):w},{top:p.top||0,bottom:p.bottom||0}),y=se(se({},g),m),b=y.bottom;h&&(y.bottom+=h.props.height||$s.defaultProps.height),v&&r&&(y=rpe(y,i,n,r));var x=c-y.left-y.right,S=u-y.top-y.bottom;return se(se({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(S,0)})},T1e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},jl=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,p=function(y,b){var x=b.graphicalItems,S=b.stackGroups,w=b.offset,j=b.updateId,E=b.dataStartIndex,C=b.dataEndIndex,P=y.barSize,O=y.layout,N=y.barGap,T=y.barCategoryGap,D=y.maxBarSize,k=$2(O),R=k.numericAxisName,F=k.cateAxisName,B=C1e(x),U=[];return x.forEach(function(L,M){var H=cm(y.data,{graphicalItems:[L],dataStartIndex:E,dataEndIndex:C}),z=L.type.defaultProps!==void 0?se(se({},L.type.defaultProps),L.props):L.props,$=z.dataKey,Q=z.maxBarSize,Z=z["".concat(R,"Id")],fe=z["".concat(F,"Id")],le={},ue=l.reduce(function(re,X){var de=b["".concat(X.axisType,"Map")],ve=z["".concat(X.axisType,"Id")];de&&de[ve]||X.axisType==="zAxis"||bo();var he=de[ve];return se(se({},re),{},Ie(Ie({},X.axisType,he),"".concat(X.axisType,"Ticks"),_i(he)))},le),ee=ue[F],te=ue["".concat(F,"Ticks")],ce=S&&S[Z]&&S[Z].hasStack&&hpe(L,S[Z].stackGroups),J=ki(L.type).indexOf("Bar")>=0,ne=Jf(ee,te),A=[],K=B&&epe({barSize:P,stackGroups:S,totalSize:T1e(ue,F)});if(J){var V,W,q=Te(Q)?D:Q,G=(V=(W=Jf(ee,te,!0))!==null&&W!==void 0?W:q)!==null&&V!==void 0?V:0;A=tpe({barGap:N,barCategoryGap:T,bandSize:G!==ne?G:ne,sizeList:K[fe],maxBarSize:q}),G!==ne&&(A=A.map(function(re){return se(se({},re),{},{position:se(se({},re.position),{},{offset:re.position.offset-G/2})})}))}var ie=L&&L.type&&L.type.getComposedData;ie&&U.push({props:se(se({},ie(se(se({},ue),{},{displayedData:H,props:y,dataKey:$,item:L,bandSize:ne,barPosition:A,offset:w,stackedData:ce,layout:O,dataStartIndex:E,dataEndIndex:C}))),{},Ie(Ie(Ie({key:L.key||"item-".concat(M)},R,ue[R]),F,ue[F]),"animationId",j)),childIndex:aoe(L,y.children),item:L})}),U},h=function(y,b){var x=y.props,S=y.dataStartIndex,w=y.dataEndIndex,j=y.updateId;if(!FA({props:x}))return null;var E=x.children,C=x.layout,P=x.stackOffset,O=x.data,N=x.reverseStackOrder,T=$2(C),D=T.numericAxisName,k=T.cateAxisName,R=kr(E,n),F=dpe(O,R,"".concat(D,"Id"),"".concat(k,"Id"),P,N),B=l.reduce(function(z,$){var Q="".concat($.axisType,"Map");return se(se({},z),{},Ie({},Q,A1e(x,se(se({},$),{},{graphicalItems:R,stackGroups:$.axisType===D&&F,dataStartIndex:S,dataEndIndex:w}))))},{}),U=P1e(se(se({},B),{},{props:x,graphicalItems:R}),b?.legendBBox);Object.keys(B).forEach(function(z){B[z]=u(x,B[z],U,z.replace("Map",""),r)});var L=B["".concat(k,"Map")],M=O1e(L),H=p(x,se(se({},B),{},{dataStartIndex:S,dataEndIndex:w,updateId:j,graphicalItems:R,stackGroups:F,offset:U}));return se(se({formattedGraphicalItems:H,graphicalItems:R,offset:U,stackGroups:F},M),B)},v=(function(g){function y(b){var x,S,w;return u1e(this,y),w=h1e(this,y,[b]),Ie(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ie(w,"accessibilityManager",new Xwe),Ie(w,"handleLegendBBoxUpdate",function(j){if(j){var E=w.state,C=E.dataStartIndex,P=E.dataEndIndex,O=E.updateId;w.setState(se({legendBBox:j},h({props:w.props,dataStartIndex:C,dataEndIndex:P,updateId:O},se(se({},w.state),{},{legendBBox:j}))))}}),Ie(w,"handleReceiveSyncEvent",function(j,E,C){if(w.props.syncId===j){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Ie(w,"handleBrushChange",function(j){var E=j.startIndex,C=j.endIndex;if(E!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return se({dataStartIndex:E,dataEndIndex:C},h({props:w.props,dataStartIndex:E,dataEndIndex:C,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:C})}}),Ie(w,"handleMouseEnter",function(j){var E=w.getMouseInfo(j);if(E){var C=se(se({},E),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var P=w.props.onMouseEnter;Pe(P)&&P(C,j)}}),Ie(w,"triggeredAfterMouseMove",function(j){var E=w.getMouseInfo(j),C=E?se(se({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var P=w.props.onMouseMove;Pe(P)&&P(C,j)}),Ie(w,"handleItemMouseEnter",function(j){w.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ie(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ie(w,"handleMouseMove",function(j){j.persist(),w.throttleTriggeredAfterMouseMove(j)}),Ie(w,"handleMouseLeave",function(j){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var C=w.props.onMouseLeave;Pe(C)&&C(E,j)}),Ie(w,"handleOuterEvent",function(j){var E=ioe(j),C=Yr(w.props,"".concat(E));if(E&&Pe(C)){var P,O;/.*touch.*/i.test(E)?O=w.getMouseInfo(j.changedTouches[0]):O=w.getMouseInfo(j),C((P=O)!==null&&P!==void 0?P:{},j)}}),Ie(w,"handleClick",function(j){var E=w.getMouseInfo(j);if(E){var C=se(se({},E),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var P=w.props.onClick;Pe(P)&&P(C,j)}}),Ie(w,"handleMouseDown",function(j){var E=w.props.onMouseDown;if(Pe(E)){var C=w.getMouseInfo(j);E(C,j)}}),Ie(w,"handleMouseUp",function(j){var E=w.props.onMouseUp;if(Pe(E)){var C=w.getMouseInfo(j);E(C,j)}}),Ie(w,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ie(w,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseDown(j.changedTouches[0])}),Ie(w,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseUp(j.changedTouches[0])}),Ie(w,"handleDoubleClick",function(j){var E=w.props.onDoubleClick;if(Pe(E)){var C=w.getMouseInfo(j);E(C,j)}}),Ie(w,"handleContextMenu",function(j){var E=w.props.onContextMenu;if(Pe(E)){var C=w.getMouseInfo(j);E(C,j)}}),Ie(w,"triggerSyncEvent",function(j){w.props.syncId!==void 0&&d0.emit(f0,w.props.syncId,j,w.eventEmitterSymbol)}),Ie(w,"applySyncEvent",function(j){var E=w.props,C=E.layout,P=E.syncMethod,O=w.state.updateId,N=j.dataStartIndex,T=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)w.setState(se({dataStartIndex:N,dataEndIndex:T},h({props:w.props,dataStartIndex:N,dataEndIndex:T,updateId:O},w.state)));else if(j.activeTooltipIndex!==void 0){var D=j.chartX,k=j.chartY,R=j.activeTooltipIndex,F=w.state,B=F.offset,U=F.tooltipTicks;if(!B)return;if(typeof P=="function")R=P(U,j);else if(P==="value"){R=-1;for(var L=0;L<U.length;L++)if(U[L].value===j.activeLabel){R=L;break}}var M=se(se({},B),{},{x:B.left,y:B.top}),H=Math.min(D,M.x+M.width),z=Math.min(k,M.y+M.height),$=U[R]&&U[R].value,Q=Xw(w.state,w.props.data,R),Z=U[R]?{x:C==="horizontal"?U[R].coordinate:H,y:C==="horizontal"?z:U[R].coordinate}:DF;w.setState(se(se({},j),{},{activeLabel:$,activeCoordinate:Z,activePayload:Q,activeTooltipIndex:R}))}else w.setState(j)}),Ie(w,"renderCursor",function(j){var E,C=w.state,P=C.isTooltipActive,O=C.activeCoordinate,N=C.activePayload,T=C.offset,D=C.activeTooltipIndex,k=C.tooltipAxisBandSize,R=w.getTooltipEventType(),F=(E=j.props.active)!==null&&E!==void 0?E:P,B=w.props.layout,U=j.key||"_recharts-cursor";return I.createElement(n1e,{key:U,activeCoordinate:O,activePayload:N,activeTooltipIndex:D,chartName:r,element:j,isActive:F,layout:B,offset:T,tooltipAxisBandSize:k,tooltipEventType:R})}),Ie(w,"renderPolarAxis",function(j,E,C){var P=Yr(j,"type.axisType"),O=Yr(w.state,"".concat(P,"Map")),N=j.type.defaultProps,T=N!==void 0?se(se({},N),j.props):j.props,D=O&&O[T["".concat(P,"Id")]];return _.cloneElement(j,se(se({},D),{},{className:Me(P,D.className),key:j.key||"".concat(E,"-").concat(C),ticks:_i(D,!0)}))}),Ie(w,"renderPolarGrid",function(j){var E=j.props,C=E.radialLines,P=E.polarAngles,O=E.polarRadius,N=w.state,T=N.radiusAxisMap,D=N.angleAxisMap,k=ea(T),R=ea(D),F=R.cx,B=R.cy,U=R.innerRadius,L=R.outerRadius;return _.cloneElement(j,{polarAngles:Array.isArray(P)?P:_i(R,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(O)?O:_i(k,!0).map(function(M){return M.coordinate}),cx:F,cy:B,innerRadius:U,outerRadius:L,key:j.key||"polar-grid",radialLines:C})}),Ie(w,"renderLegend",function(){var j=w.state.formattedGraphicalItems,E=w.props,C=E.children,P=E.width,O=E.height,N=w.props.margin||{},T=P-(N.left||0)-(N.right||0),D=aB({children:C,formattedGraphicalItems:j,legendWidth:T,legendContent:c});if(!D)return null;var k=D.item,R=R2(D,i1e);return _.cloneElement(k,se(se({},R),{},{chartWidth:P,chartHeight:O,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ie(w,"renderTooltip",function(){var j,E=w.props,C=E.children,P=E.accessibilityLayer,O=Fr(C,kt);if(!O)return null;var N=w.state,T=N.isTooltipActive,D=N.activeCoordinate,k=N.activePayload,R=N.activeLabel,F=N.offset,B=(j=O.props.active)!==null&&j!==void 0?j:T;return _.cloneElement(O,{viewBox:se(se({},F),{},{x:F.left,y:F.top}),active:B,label:R,payload:B?k:[],coordinate:D,accessibilityLayer:P})}),Ie(w,"renderBrush",function(j){var E=w.props,C=E.margin,P=E.data,O=w.state,N=O.offset,T=O.dataStartIndex,D=O.dataEndIndex,k=O.updateId;return _.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Ad(w.handleBrushChange,j.props.onChange),data:P,x:pe(j.props.x)?j.props.x:N.left,y:pe(j.props.y)?j.props.y:N.top+N.height+N.brushBottom-(C.bottom||0),width:pe(j.props.width)?j.props.width:N.width,startIndex:T,endIndex:D,updateId:"brush-".concat(k)})}),Ie(w,"renderReferenceElement",function(j,E,C){if(!j)return null;var P=w,O=P.clipPathId,N=w.state,T=N.xAxisMap,D=N.yAxisMap,k=N.offset,R=j.type.defaultProps||{},F=j.props,B=F.xAxisId,U=B===void 0?R.xAxisId:B,L=F.yAxisId,M=L===void 0?R.yAxisId:L;return _.cloneElement(j,{key:j.key||"".concat(E,"-").concat(C),xAxis:T[U],yAxis:D[M],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:O})}),Ie(w,"renderActivePoints",function(j){var E=j.item,C=j.activePoint,P=j.basePoint,O=j.childIndex,N=j.isRange,T=[],D=E.props.key,k=E.item.type.defaultProps!==void 0?se(se({},E.item.type.defaultProps),E.item.props):E.item.props,R=k.activeDot,F=k.dataKey,B=se(se({index:O,dataKey:F,cx:C.x,cy:C.y,r:4,fill:SS(E.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},xe(R,!1)),Of(R));return T.push(y.renderActiveDot(R,B,"".concat(D,"-activePoint-").concat(O))),P?T.push(y.renderActiveDot(R,se(se({},B),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(O))):N&&T.push(null),T}),Ie(w,"renderGraphicChild",function(j,E,C){var P=w.filterFormatItem(j,E,C);if(!P)return null;var O=w.getTooltipEventType(),N=w.state,T=N.isTooltipActive,D=N.tooltipAxis,k=N.activeTooltipIndex,R=N.activeLabel,F=w.props.children,B=Fr(F,kt),U=P.props,L=U.points,M=U.isRange,H=U.baseLine,z=P.item.type.defaultProps!==void 0?se(se({},P.item.type.defaultProps),P.item.props):P.item.props,$=z.activeDot,Q=z.hide,Z=z.activeBar,fe=z.activeShape,le=!!(!Q&&T&&B&&($||Z||fe)),ue={};O!=="axis"&&B&&B.props.trigger==="click"?ue={onClick:Ad(w.handleItemMouseEnter,j.props.onClick)}:O!=="axis"&&(ue={onMouseLeave:Ad(w.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Ad(w.handleItemMouseEnter,j.props.onMouseEnter)});var ee=_.cloneElement(j,se(se({},P.props),ue));function te(X){return typeof D.dataKey=="function"?D.dataKey(X.payload):null}if(le)if(k>=0){var ce,J;if(D.dataKey&&!D.allowDuplicatedCategory){var ne=typeof D.dataKey=="function"?te:"payload.".concat(D.dataKey.toString());ce=Af(L,ne,R),J=M&&H&&Af(H,ne,R)}else ce=L?.[k],J=M&&H&&H[k];if(fe||Z){var A=j.props.activeIndex!==void 0?j.props.activeIndex:k;return[_.cloneElement(j,se(se(se({},P.props),ue),{},{activeIndex:A})),null,null]}if(!Te(ce))return[ee].concat(Xs(w.renderActivePoints({item:P,activePoint:ce,basePoint:J,childIndex:k,isRange:M})))}else{var K,V=(K=w.getItemByXY(w.state.activeCoordinate))!==null&&K!==void 0?K:{graphicalItem:ee},W=V.graphicalItem,q=W.item,G=q===void 0?j:q,ie=W.childIndex,re=se(se(se({},P.props),ue),{},{activeIndex:ie});return[_.cloneElement(G,re),null,null]}return M?[ee,null,null]:[ee,null]}),Ie(w,"renderCustomized",function(j,E,C){return _.cloneElement(j,se(se({key:"recharts-customized-".concat(C)},w.props),w.state))}),Ie(w,"renderMap",{CartesianGrid:{handler:Nd,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Nd},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Nd},YAxis:{handler:Nd},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:ja("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=i4(w.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return g1e(y,g),f1e(y,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,w=x.data,j=x.height,E=x.layout,C=Fr(S,kt);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,N=Xw(this.state,w,P,O),T=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+j)/2,k=E==="horizontal",R=k?{x:T,y:D}:{y:T,x:D},F=this.state.formattedGraphicalItems.find(function(U){var L=U.item;return L.type.name==="Scatter"});F&&(R=se(se({},R),F.props.points[P].tooltipPosition),N=F.props.points[P].tooltipPayload);var B={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:N,activeCoordinate:R};this.setState(B),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(x){Ox([Fr(x.children,kt)],[Fr(this.props.children,kt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Fr(this.props.children,kt);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),j=Hce(w),E={chartX:Math.round(x.pageX-j.left),chartY:Math.round(x.pageY-j.top)},C=w.width/S.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,C);if(!P)return null;var O=this.state,N=O.xAxisMap,T=O.yAxisMap,D=this.getTooltipEventType(),k=D2(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&N&&T){var R=ea(N).scale,F=ea(T).scale,B=R&&R.invert?R.invert(E.chartX):null,U=F&&F.invert?F.invert(E.chartY):null;return se(se({},E),{},{xValue:B,yValue:U},k)}return k?se(se({},E),k):null}},{key:"inRange",value:function(x,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,E=x/w,C=S/w;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,O=E>=P.left&&E<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return O?{x:E,y:C}:null}var N=this.state,T=N.angleAxisMap,D=N.radiusAxisMap;if(T&&D){var k=ea(T);return OT({x:E,y:C},k)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),w=Fr(x,kt),j={};w&&S==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Of(this.props,this.handleOuterEvent);return se(se({},E),j)}},{key:"addListener",value:function(){d0.on(f0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){d0.removeListener(f0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,w){for(var j=this.state.formattedGraphicalItems,E=0,C=j.length;E<C;E++){var P=j[E];if(P.item===x||P.props.key===x.key||S===ki(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,w=S.left,j=S.top,E=S.height,C=S.width;return I.createElement("defs",null,I.createElement("clipPath",{id:x},I.createElement("rect",{x:w,y:j,height:E,width:C})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,w){var j=N2(w,2),E=j[0],C=j[1];return se(se({},S),{},Ie({},E,C.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,w){var j=N2(w,2),E=j[0],C=j[1];return se(se({},S),{},Ie({},E,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,w=S.formattedGraphicalItems,j=S.activeItem;if(w&&w.length)for(var E=0,C=w.length;E<C;E++){var P=w[E],O=P.props,N=P.item,T=N.type.defaultProps!==void 0?se(se({},N.type.defaultProps),N.props):N.props,D=ki(N.type);if(D==="Bar"){var k=(O.data||[]).find(function(U){return ove(x,U)});if(k)return{graphicalItem:P,payload:k}}else if(D==="RadialBar"){var R=(O.data||[]).find(function(U){return OT(x,U)});if(R)return{graphicalItem:P,payload:R}}else if(Zp(P,j)||em(P,j)||fu(P,j)){var F=Bye({graphicalItem:P,activeTooltipItem:j,itemData:T.data}),B=T.activeIndex===void 0?F:T.activeIndex;return{graphicalItem:se(se({},P),{},{childIndex:B}),payload:fu(P,j)?T.data[F]:P.props.data[F]}}}return null}},{key:"render",value:function(){var x=this;if(!FA(this))return null;var S=this.props,w=S.children,j=S.className,E=S.width,C=S.height,P=S.style,O=S.compact,N=S.title,T=S.desc,D=R2(S,a1e),k=xe(D,!1);if(O)return I.createElement(c2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Px,es({},k,{width:E,height:C,title:N,desc:T}),this.renderClipPath(),qA(w,this.renderMap)));if(this.props.accessibilityLayer){var R,F;k.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,k.role=(F=this.props.role)!==null&&F!==void 0?F:"application",k.onKeyDown=function(U){x.accessibilityManager.keyboardEvent(U)},k.onFocus=function(){x.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return I.createElement(c2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",es({className:Me("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:E,height:C},P)},B,{ref:function(L){x.container=L}}),I.createElement(Px,es({},k,{width:E,height:C,title:N,desc:T,style:_1e}),this.renderClipPath(),qA(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(_.Component);Ie(v,"displayName",r),Ie(v,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ie(v,"getDerivedStateFromProps",function(g,y){var b=g.dataKey,x=g.data,S=g.children,w=g.width,j=g.height,E=g.layout,C=g.stackOffset,P=g.margin,O=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var T=M2(g);return se(se(se({},T),{},{updateId:0},h(se(se({props:g},T),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:j,prevLayout:E,prevStackOffset:C,prevMargin:P,prevChildren:S})}if(b!==y.prevDataKey||x!==y.prevData||w!==y.prevWidth||j!==y.prevHeight||E!==y.prevLayout||C!==y.prevStackOffset||!ds(P,y.prevMargin)){var D=M2(g),k={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},R=se(se({},D2(y,x,E)),{},{updateId:y.updateId+1}),F=se(se(se({},D),k),R);return se(se(se({},F),h(se({props:g},F),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:j,prevLayout:E,prevStackOffset:C,prevMargin:P,prevChildren:S})}if(!Ox(S,y.prevChildren)){var B,U,L,M,H=Fr(S,$s),z=H&&(B=(U=H.props)===null||U===void 0?void 0:U.startIndex)!==null&&B!==void 0?B:O,$=H&&(L=(M=H.props)===null||M===void 0?void 0:M.endIndex)!==null&&L!==void 0?L:N,Q=z!==O||$!==N,Z=!Te(x),fe=Z&&!Q?y.updateId:y.updateId+1;return se(se({updateId:fe},h(se(se({props:g},y),{},{updateId:fe,dataStartIndex:z,dataEndIndex:$}),y)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:$})}return null}),Ie(v,"renderActiveDot",function(g,y,b){var x;return _.isValidElement(g)?x=_.cloneElement(g,y):Pe(g)?x=g(y):x=I.createElement(_l,y),I.createElement(Be,{className:"recharts-active-dot",key:b},x)});var m=_.forwardRef(function(y,b){return I.createElement(v,es({},y,{ref:b}))});return m.displayName=v.displayName,m},N1e=jl({chartName:"LineChart",GraphicalChild:fn,axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Mt}],formatAxisMap:rm}),ec=jl({chartName:"BarChart",GraphicalChild:Dt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Mt}],formatAxisMap:rm}),R1e=jl({chartName:"PieChart",GraphicalChild:qi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ba},{axisType:"radiusAxis",AxisComp:xo}],formatAxisMap:vB,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Qw=jl({chartName:"RadarChart",GraphicalChild:wo,axisComponents:[{axisType:"angleAxis",AxisComp:ba},{axisType:"radiusAxis",AxisComp:xo}],formatAxisMap:vB,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),$F=jl({chartName:"AreaChart",GraphicalChild:mn,axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Mt}],formatAxisMap:rm}),bu=jl({chartName:"ComposedChart",GraphicalChild:[fn,mn,Dt,lm],axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Mt},{axisType:"zAxis",AxisComp:sm}],formatAxisMap:rm});function I1e({data:e}){return f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs($F,{data:e,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),f.jsx(Qt,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10,interval:"preserveStartEnd"}),f.jsx(Mt,{hide:!0,domain:[0,100]}),f.jsx(kt,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"1px solid hsl(var(--border))",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),f.jsx(mn,{type:"monotone",dataKey:"overall",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorOverall)"})]})})}function D1e({stats:e}){const t=e.map(r=>({subject:r.title,A:r.completionRate,fullMark:100}));return e.length<3?f.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px] flex items-center justify-center text-center",children:f.jsxs("p",{className:"text-muted-foreground text-sm",children:["Add at least 3 habits ",f.jsx("br",{})," to unlock Radar view."]})}):f.jsx("div",{className:"w-full h-full min-h-0",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(Qw,{cx:"50%",cy:"50%",outerRadius:"70%",data:t,children:[f.jsx(ah,{stroke:"hsl(var(--border))"}),f.jsx(ba,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:10}}),f.jsx(wo,{name:"Completion",dataKey:"A",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--primary))",fillOpacity:.4})]})})})}function M1e({data:e}){const t=Math.max(...e.map(n=>n.rate)),r=({active:n,payload:i,label:a})=>n&&i&&i.length?f.jsxs("div",{className:"bg-background/95 backdrop-blur text-xs p-2 rounded-lg border border-border shadow-xl",children:[f.jsx("p",{className:"font-semibold mb-1",children:a}),f.jsxs("p",{className:"text-primary space-x-2",children:[f.jsx("span",{children:"Success Rate:"}),f.jsxs("span",{className:"font-mono font-bold",children:[i[0].value,"%"]})]})]}):null;return f.jsx("div",{className:"w-full h-full min-h-[200px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(ec,{data:e,margin:{top:10,right:0,left:0,bottom:0},children:[f.jsx(Qt,{dataKey:"dayName",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickFormatter:n=>n.slice(0,3).toUpperCase(),dy:10}),f.jsx(Mt,{hide:!0,domain:[0,100]}),f.jsx(kt,{content:f.jsx(r,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),f.jsx(Dt,{dataKey:"rate",radius:[4,4,0,0],maxBarSize:40,children:e.map((n,i)=>f.jsx(vl,{fill:n.rate===t&&n.rate>0?"hsl(var(--primary))":"hsl(var(--primary)/0.3)",className:"transition-all duration-300 hover:opacity-80"},`cell-${i}`))})]})})})}function $1e({comparisons:e,goals:t}){const[r,n]=_.useState("month");return f.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx(Er,{className:"w-5 h-5 text-primary"}),"Confronto Temporale"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizza come stai andando rispetto al passato."})]}),f.jsx(us,{value:r,onValueChange:i=>n(i),className:"w-full sm:w-auto",children:f.jsxs(no,{className:"grid w-full grid-cols-3 sm:w-[300px]",children:[f.jsx(vt,{value:"week",children:"Settimana"}),f.jsx(vt,{value:"month",children:"Mese"}),f.jsx(vt,{value:"year",children:"Anno"})]})})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(i=>{const a=e.find(c=>c.habitId===i.id);if(!a)return null;const o=a[r],s=o.trend==="neutral"||o.change===0,l=o.trend==="up";return f.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-xl p-4 flex items-center justify-between group hover:bg-card/80 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center opacity-80",style:{backgroundColor:`${i.color}20`,color:i.color},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-foreground",children:i.title}),f.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:f.jsxs("span",{children:["Precedente: ",o.previous,"%"]})})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-xl font-display font-bold text-foreground",children:[o.current,"%"]}),f.jsxs("div",{className:ae("flex items-center justify-end gap-1 text-xs font-medium",s?"text-muted-foreground":l?"text-emerald-500":"text-rose-500"),children:[s?f.jsx($d,{className:"w-3 h-3"}):l?f.jsx(Z8,{className:"w-3 h-3"}):f.jsx(Q8,{className:"w-3 h-3"}),f.jsxs("span",{children:[o.change>0?"+":"",o.change,"%"]})]})]})]},i.id)})})]})}function L1e({criticalHabits:e}){const t=e.filter(r=>r.completionRate<85&&r.completionRate>0).sort((r,n)=>r.completionRate-n.completionRate).slice(0,3);return t.length===0?null:f.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in space-y-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx(Gn,{className:"w-5 h-5 text-primary"}),"Aree di Miglioramento"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Abitudini che richiedono pi attenzione e i loro giorni critici."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(r=>f.jsxs("div",{className:"bg-card/50 border border-destructive/10 rounded-xl p-4 flex flex-col gap-3 group hover:border-destructive/30 transition-all",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),f.jsx("span",{className:"font-semibold text-foreground",children:r.title})]}),f.jsxs("span",{className:ae("text-xs font-bold px-2 py-0.5 rounded-full",r.completionRate<50?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:[r.completionRate,"% succ."]})]}),f.jsxs("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[f.jsx(ts,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Giorno Nero"}),f.jsx("p",{className:"font-display font-semibold text-lg text-foreground",children:r.worstDay}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Solo il ",f.jsxs("span",{className:"text-destructive font-bold",children:[r.worstDayRate,"%"]})," di completamento"]})]})]})]},r.habitId))})]})}const B1e=()=>ni({queryKey:["habit-completion-history"],queryFn:async()=>{const e=Ye(Ut(new Date,30),"yyyy-MM-dd"),{data:t,error:r}=await be.from("goal_logs").select("date, status").gte("date",e);if(r)throw r;const n=t,i={};return n?.forEach(a=>{const o=a.date;i[o]||(i[o]={total:0,done:0}),i[o].total+=1,a.status==="done"&&(i[o].done+=1)}),i}}),F1e=()=>{const{data:e}=gie(),{data:t}=B1e(),{theme:r}=f1();if(!e||!t)return f.jsx(Fe,{className:"col-span-1 lg:col-span-2 h-[400px] flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const n=e.slice(0,14).reverse().map(a=>{const o=t[a.date]||{total:0,done:0},s=o.total>0?Math.round(o.done/o.total*100):0;return{date:Ye(l7(a.date),"dd/MM"),fullDate:a.date,mood:a.mood_score,energy:a.energy_score,productivity:s}}),i=r==="dark";return f.jsxs(Fe,{className:"col-span-1 lg:col-span-2 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsx(Qe,{children:f.jsx(Je,{children:"Mood & Energy vs Productivity"})}),f.jsx(qe,{className:"h-[350px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(bu,{data:n,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorProductivity",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),f.jsx(tn,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),f.jsx(Qt,{dataKey:"date",tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),f.jsx(Mt,{yAxisId:"left",domain:[0,10],tickCount:6,tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:i?"#A0A0A0":"#666"}}}),f.jsx(Mt,{yAxisId:"right",orientation:"right",domain:[0,100],tick:{fontSize:12,fill:"#8884d8"},axisLine:!1,tickLine:!1,unit:"%"}),f.jsx(kt,{contentStyle:{backgroundColor:i?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),f.jsx(Vr,{wrapperStyle:{paddingTop:"10px"}}),f.jsx(mn,{yAxisId:"right",type:"monotone",dataKey:"productivity",fill:"url(#colorProductivity)",stroke:"#8884d8",strokeWidth:3,name:"Habit Completion %"}),f.jsx(fn,{yAxisId:"left",type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6},name:"Mood"}),f.jsx(fn,{yAxisId:"left",type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:4,strokeWidth:2},name:"Energy"})]})})})]})},z1e=({correlation:e})=>{const{theme:t}=f1(),r=t==="dark",n=[{category:"Completato",mood:Math.round(e.avgMoodWhenCompleted*10)/10,energy:Math.round(e.avgEnergyWhenCompleted*10)/10},{category:"Mancato",mood:Math.round(e.avgMoodWhenMissed*10)/10,energy:Math.round(e.avgEnergyWhenMissed*10)/10}],i=[{range:"Basso",rangeFull:"Basso (1-4)",mood:Math.round(e.completionRateByMood.low),energy:Math.round(e.completionRateByEnergy.low)},{range:"Medio",rangeFull:"Medio (5-7)",mood:Math.round(e.completionRateByMood.medium),energy:Math.round(e.completionRateByEnergy.medium)},{range:"Alto",rangeFull:"Alto (8-10)",mood:Math.round(e.completionRateByMood.high),energy:Math.round(e.completionRateByEnergy.high)}],a=()=>e.moodCorrelation>.3?f.jsx(Er,{className:"w-4 h-4 text-green-500"}):e.moodCorrelation<-.3?f.jsx(ji,{className:"w-4 h-4 text-red-500"}):f.jsx($d,{className:"w-4 h-4 text-gray-500"}),o=()=>e.energyCorrelation>.3?f.jsx(Er,{className:"w-4 h-4 text-green-500"}):e.energyCorrelation<-.3?f.jsx(ji,{className:"w-4 h-4 text-red-500"}):f.jsx($d,{className:"w-4 h-4 text-gray-500"}),s=l=>{const c=Math.abs(l);return c>=.7?"Forte":c>=.4?"Moderata":c>=.2?"Debole":"Nessuna"};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[f.jsx(Fe,{className:"glass-panel",children:f.jsxs(qe,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Mood"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a(),f.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.moodCorrelation*100).toFixed(0),"%"]})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.moodCorrelation)})]})}),f.jsx(Fe,{className:"glass-panel",children:f.jsxs(qe,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Energia"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o(),f.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.energyCorrelation*100).toFixed(0),"%"]})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.energyCorrelation)})]})}),f.jsx(Fe,{className:"glass-panel",children:f.jsxs(qe,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Mood Medio ()"}),f.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgMoodWhenCompleted.toFixed(1)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})}),f.jsx(Fe,{className:"glass-panel",children:f.jsxs(qe,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Energia Media ()"}),f.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgEnergyWhenCompleted.toFixed(1)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.isMoodSensitive&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-orange-500/30",children:[f.jsx(Si,{className:"w-3 h-3 text-orange-500"}),f.jsx("span",{className:"text-xs font-medium text-orange-500",children:"Sensibile al Mood"})]}),e.isEnergySensitive&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-yellow-500/30",children:[f.jsx(Si,{className:"w-3 h-3 text-yellow-500"}),f.jsx("span",{className:"text-xs font-medium text-yellow-500",children:"Sensibile all'Energia"})]}),e.isResilient&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-green-500/30",children:[f.jsx(Er,{className:"w-3 h-3 text-green-500"}),f.jsx("span",{className:"text-xs font-medium text-green-500",children:"Resiliente"})]}),!e.isMoodSensitive&&!e.isEnergySensitive&&!e.isResilient&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-gray-500/30",children:[f.jsx($d,{className:"w-3 h-3 text-gray-500"}),f.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Neutrale"})]})]}),f.jsxs(Fe,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsx(Qe,{children:f.jsx(Je,{className:"text-base sm:text-lg",children:"Completato vs Mancato"})}),f.jsx(qe,{className:"h-[300px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(bu,{data:n,children:[f.jsx(tn,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),f.jsx(Qt,{dataKey:"category",tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),f.jsx(Mt,{domain:[0,10],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:r?"#A0A0A0":"#666"}}}),f.jsx(kt,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),f.jsx(Vr,{wrapperStyle:{paddingTop:"10px"}}),f.jsx(Dt,{dataKey:"mood",fill:"#10b981",name:"Mood",radius:[8,8,0,0]}),f.jsx(Dt,{dataKey:"energy",fill:"#f59e0b",name:"Energia",radius:[8,8,0,0]})]})})})]}),f.jsxs(Fe,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Qe,{children:[f.jsx(Je,{className:"text-base sm:text-lg",children:"Performance per Livello"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Basso (1-4)  Medio (5-7)  Alto (8-10)"})]}),f.jsx(qe,{className:"h-[320px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(bu,{data:i,margin:{top:10,right:20,bottom:20,left:0},children:[f.jsx(tn,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),f.jsx(Qt,{dataKey:"range",tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),f.jsx(Mt,{domain:[0,100],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,unit:"%"}),f.jsx(kt,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},formatter:(l,c,u)=>[`${l}%`,c==="mood"?"Con Mood":"Con Energia"],labelFormatter:l=>{const c=i.find(u=>u.range===l);return c?c.rangeFull:l}}),f.jsx(Vr,{wrapperStyle:{paddingTop:"10px"}}),f.jsx(fn,{type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Mood"}),f.jsx(fn,{type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Energia"})]})})})]}),f.jsx(Fe,{className:"glass-panel",children:f.jsx(qe,{className:"p-4",children:f.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Analisi basata su ",f.jsx("strong",{children:e.totalDaysWithMoodData})," giorni con dati mood/energia (",e.daysCompleted," completati, ",e.daysMissed," mancati)"]})})})]})},q1e=({correlations:e})=>{const t=e.filter(i=>i.totalDaysWithMoodData>=5);if(t.length===0)return f.jsx(Fe,{className:"glass-panel",children:f.jsx(qe,{className:"p-8 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per mostrare la matrice. Registra mood ed energie per almeno 5 giorni."})})});const r=i=>i>=80?"bg-green-500/90":i>=70?"bg-lime-500/90":i>=50?"bg-yellow-500/90":i>=30?"bg-orange-500/90":i>0?"bg-red-500/90":"bg-gray-700/90",n=i=>i>=50?"text-white font-bold":"text-foreground font-bold";return f.jsxs(Fe,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Qe,{children:[f.jsx(Je,{className:"text-base sm:text-lg",children:"Performance per Livello"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Completamento (%) per mood ed energia"})]}),f.jsxs(qe,{className:"overflow-x-auto",children:[f.jsxs("div",{className:"hidden md:block min-w-[700px]",children:[f.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 mb-4 pb-3 border-b border-white/10",children:[f.jsx("div",{}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm font-bold text-green-500 mb-2",children:"MOOD"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Basso"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Medio"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alto"})]})]}),f.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm font-bold text-amber-500 mb-2",children:"ENERGIA"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Bassa"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Media"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alta"})]})]})]}),f.jsx("div",{className:"space-y-3",children:t.map(i=>f.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 pr-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),f.jsx("span",{className:"text-sm font-semibold truncate",title:i.habitTitle,children:i.habitTitle})]}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]);return f.jsx("div",{className:ae("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con mood ${a==="low"?"basso":a==="medium"?"medio":"alto"}`,children:f.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`mood-${a}`)})}),f.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/10 to-transparent h-full"}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]);return f.jsx("div",{className:ae("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con energia ${a==="low"?"bassa":a==="medium"?"media":"alta"}`,children:f.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`energy-${a}`)})})]},i.habitId))})]}),f.jsx("div",{className:"md:hidden space-y-4",children:t.map(i=>f.jsxs("div",{className:"glass-panel rounded-2xl p-4 border border-white/10",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-5 h-5 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),f.jsx("h4",{className:"text-base font-bold",children:i.habitTitle})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-xs font-bold text-green-500 mb-2",children:"MOOD"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]),s=a==="low"?"Basso":a==="medium"?"Medio":"Alto";return f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:ae("rounded-lg p-3 mb-1",r(o),n(o)),children:f.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`mood-${a}`)})})]}),f.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent mb-4"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-amber-500 mb-2",children:"ENERGIA"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]),s=a==="low"?"Bassa":a==="medium"?"Media":"Alta";return f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:ae("rounded-lg p-3 mb-1",r(o),n(o)),children:f.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`energy-${a}`)})})]})]},i.habitId))}),f.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-green-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Ottimo (80%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-lime-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Buono (70-79%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-yellow-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Medio (50-69%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-orange-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Basso (30-49%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-red-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Critico (<30%)"})]})]}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"I colori indicano la performance  Passa il mouse per i dettagli"})]})]})]})},U1e=({insights:e})=>e.moodSensitiveHabits.length>0||e.energySensitiveHabits.length>0||e.resilientHabits.length>0?f.jsxs("div",{className:"space-y-4",children:[e.moodSensitiveHabits.length>0&&f.jsxs(Fe,{className:"glass-panel border border-orange-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Qe,{children:[f.jsxs(Je,{className:"text-base sm:text-lg flex items-center gap-2",children:[f.jsx(Si,{className:"w-5 h-5 text-orange-500"}),"Mood"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini hanno bisogno di un buon mood per essere completate"})]}),f.jsx(qe,{className:"space-y-3",children:e.moodSensitiveHabits.map((r,n)=>f.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[f.jsx(QS,{className:"w-3 h-3"}),f.jsxs("span",{children:[Math.round(r.completionRateByMood.low),"% con mood basso"]}),f.jsx(PR,{className:"w-3 h-3 ml-2"}),f.jsxs("span",{children:[Math.round(r.completionRateByMood.high),"% con mood alto"]})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),f.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[Math.round(r.completionRateByMood.high-r.completionRateByMood.low),"%"]})]})]},r.habitId))})]}),e.energySensitiveHabits.length>0&&f.jsxs(Fe,{className:"glass-panel border border-yellow-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Qe,{children:[f.jsxs(Je,{className:"text-base sm:text-lg flex items-center gap-2",children:[f.jsx(Su,{className:"w-5 h-5 text-yellow-500"}),"Energia"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini richiedono alta energia per essere completate"})]}),f.jsx(qe,{className:"space-y-3",children:e.energySensitiveHabits.map((r,n)=>f.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[f.jsx(KS,{className:"w-3 h-3"}),f.jsxs("span",{children:[Math.round(r.completionRateByEnergy.low),"% con energia bassa"]}),f.jsx(e6,{className:"w-3 h-3 ml-2"}),f.jsxs("span",{children:[Math.round(r.completionRateByEnergy.high),"% con energia alta"]})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),f.jsxs("p",{className:"text-lg font-bold text-yellow-500",children:[Math.round(r.completionRateByEnergy.high-r.completionRateByEnergy.low),"%"]})]})]},r.habitId))})]}),e.resilientHabits.length>0&&f.jsxs(Fe,{className:"glass-panel border border-green-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Qe,{children:[f.jsxs(Je,{className:"text-base sm:text-lg flex items-center gap-2",children:[f.jsx(A6,{className:"w-5 h-5 text-green-500"}),"Resilienti"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini vengono mantenute anche quando mood ed energia sono bassi"})]}),f.jsx(qe,{className:"space-y-3",children:e.resilientHabits.map((r,n)=>f.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),f.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(QS,{className:"w-3 h-3"}),f.jsxs("span",{children:["Mood: ",Math.round(r.completionRateByMood.low),"%"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(KS,{className:"w-3 h-3"}),f.jsxs("span",{children:["Energia: ",Math.round(r.completionRateByEnergy.low),"%"]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[f.jsx(Er,{className:"w-5 h-5"}),f.jsx("span",{className:"text-xs font-bold",children:"Stabile"})]})]},r.habitId))})]}),f.jsxs(Fe,{className:"glass-panel border border-primary/30",children:[f.jsx(Qe,{children:f.jsx(Je,{className:"text-base sm:text-lg",children:" Suggerimenti"})}),f.jsx(qe,{children:f.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.moodSensitiveHabits.length>0&&f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-orange-500 shrink-0",children:""}),f.jsx("span",{children:"Pianifica le abitudini sensibili al mood nei momenti della giornata in cui ti senti meglio"})]}),e.energySensitiveHabits.length>0&&f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-yellow-500 shrink-0",children:""}),f.jsx("span",{children:"Esegui le abitudini che richiedono energia al mattino o dopo una pausa rigenerante"})]}),e.resilientHabits.length>0&&f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-500 shrink-0",children:""}),f.jsx("span",{children:"Le abitudini resilienti sono ottime da mantenere anche nei giorni difficili"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary shrink-0",children:""}),f.jsx("span",{children:"Monitora il tuo mood ed energia quotidianamente per ottenere insights pi accurati"})]})]})})]})]}):f.jsx(Fe,{className:"glass-panel",children:f.jsx(qe,{className:"p-8 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per generare insights. Continua a tracciare le tue abitudini e il tuo mood!"})})});function W1e({habitStats:e}){const t=_.useMemo(()=>{if(e.length===0)return null;const r=[...e].filter(d=>d.worstStreak>0).sort((d,p)=>p.worstStreak-d.worstStreak).slice(0,3);if(r.length===0)return null;const n=r.map(d=>{const p=Math.round(30*(100-d.completionRate)/100);return{habitId:d.id,title:d.title,color:d.color,worstStreak:d.worstStreak,failureFrequency:p,completionRate:d.completionRate}}),i=e.filter(d=>d.worstStreak>0&&d.longestStreak>0).map(d=>{const p=d.worstStreak>0?Math.round(d.worstStreak*(100-d.completionRate)/100):0;return{habitId:d.id,title:d.title,color:d.color,recoveryTime:Math.max(p,1),worstStreak:d.worstStreak}}).sort((d,p)=>d.recoveryTime-p.recoveryTime),a=i.length>0?Math.round(i.reduce((d,p)=>d+p.recoveryTime,0)/i.length):0,o=i.slice(0,3),s=e.filter(d=>d.worstStreak>0).map(d=>{const p=d.worstStreak>0?Math.round(d.longestStreak/d.worstStreak*100):999;let h;return p>=300?h="excellent":p>=150?h="good":h="attention",{habitId:d.id,title:d.title,color:d.color,best:d.longestStreak,worst:d.worstStreak,gap:p,status:h}}).sort((d,p)=>d.gap-p.gap).slice(0,3),l=[],c=r[0];c&&c.worstStreak>=7&&l.push({icon:"",title:`Focus su "${c.title}"`,description:`Hai passato ${c.worstStreak} giorni consecutivi senza completare questa abitudine`,action:"Considera di ridurre la difficolt o impostare promemoria extra"});const u=n.find(d=>d.completionRate<50);if(u&&l.push({icon:"",title:"Tasso di Completamento Basso",description:`"${u.title}" ha solo ${u.completionRate}% di successo`,action:"Prova a semplificare l'abitudine o renderla pi piccola"}),o.length>0&&o[0].recoveryTime<=3&&l.push({icon:"",title:"Ottima Capacit di Recupero",description:`Recuperi velocemente dopo i fallimenti (media ${a} giorni)`,action:"Continua cos - usa la stessa strategia per altre abitudini!"}),n.length>=2){const d=n.reduce((p,h)=>p+h.failureFrequency,0);l.push({icon:"",title:"Pattern Generale",description:`In media fallisci ~${Math.round(d/n.length)} volte al mese`,action:"Identifica i trigger comuni e crea strategie preventive"})}return{top3Worst:r,failureAnalysis:n,avgRecoveryTime:a,fastestRecoverers:o,comparisons:s,suggestions:l}},[e]);return t?f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[f.jsx("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/10 flex items-center justify-center shrink-0",children:f.jsx(ji,{className:"w-5 h-5 text-destructive"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-display font-semibold text-foreground",children:"Analisi Worst Streaks"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Analisi dettagliata delle serie negative per identificare pattern e migliorare."})]})]})}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(Gn,{className:"w-5 h-5 text-destructive"}),f.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Abitudini Critiche"}),f.jsx(Ua,{children:f.jsxs(Ho,{children:[f.jsx(Vo,{asChild:!0,children:f.jsx("button",{className:"ml-1",children:f.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),f.jsx(Wa,{className:"max-w-xs",children:f.jsx("p",{className:"text-sm",children:"Le 3 abitudini con le serie di non completamento pi lunghe. Queste richiedono pi attenzione per evitare l'abbandono."})})]})}),f.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"Top 3 Worst Streaks"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.top3Worst.map((r,n)=>f.jsxs("div",{className:"bg-card/50 border border-destructive/20 rounded-xl p-4 relative overflow-hidden group hover:border-destructive/40 transition-all",children:[f.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-destructive/20 flex items-center justify-center",children:f.jsx("span",{className:"text-xs font-bold text-destructive",children:n+1})}),f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),f.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:r.title})]}),f.jsxs("div",{className:"bg-background/50 rounded-lg p-3 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Worst Streak"}),f.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:r.worstStreak}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"giorni consecutivi"})]})]},r.id))})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(r6,{className:"w-5 h-5 text-orange-500"}),f.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Analisi Fallimenti"}),f.jsx(Ua,{children:f.jsxs(Ho,{children:[f.jsx(Vo,{asChild:!0,children:f.jsx("button",{className:"ml-1",children:f.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),f.jsx(Wa,{className:"max-w-xs",children:f.jsx("p",{className:"text-sm",children:"Mostra pattern e frequenza dei tuoi fallimenti per capire quando e quanto spesso abbandoni le abitudini."})})]})})]}),f.jsx("div",{className:"space-y-3",children:t.failureAnalysis.map(r=>f.jsxs("div",{className:"bg-background/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),f.jsx("span",{className:"text-sm font-medium truncate",children:r.title})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground mb-1",children:"Worst Streak"}),f.jsxs("p",{className:"font-bold text-destructive",children:[r.worstStreak," giorni"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground mb-1",children:"Freq. Fallimenti"}),f.jsxs("p",{className:"font-bold text-orange-500",children:["~",r.failureFrequency,"/mese"]})]})]})]},r.habitId))})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(lo,{className:"w-5 h-5 text-primary"}),f.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Pattern di Recupero"}),f.jsx(Ua,{children:f.jsxs(Ho,{children:[f.jsx(Vo,{asChild:!0,children:f.jsx("button",{className:"ml-1",children:f.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),f.jsx(Wa,{className:"max-w-xs",children:f.jsx("p",{className:"text-sm",children:"Mostra quanto velocemente riesci a recuperare dopo un periodo di fallimenti e quali abitudini ripristini pi facilmente."})})]})})]}),f.jsxs("div",{className:"bg-card/50 rounded-xl p-4 mb-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Tempo Medio Recupero"}),f.jsxs("span",{className:"text-sm font-bold text-foreground",children:[t.avgRecoveryTime," giorni"]})]}),f.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-green-500 transition-all duration-500",style:{width:`${Math.min(t.avgRecoveryTime/14*100,100)}%`}})}),f.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t.avgRecoveryTime<=5?" Eccellente!":t.avgRecoveryTime<=10?" Buono":" Da migliorare"})]}),t.fastestRecoverers.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:" Recuperatori Veloci"}),t.fastestRecoverers.map(r=>f.jsxs("div",{className:"bg-background/50 rounded-lg p-2 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:r.color}}),f.jsx("span",{className:"text-sm truncate",children:r.title})]}),f.jsxs("span",{className:"text-xs font-bold text-green-500 shrink-0 ml-2",children:[r.recoveryTime," gg"]})]},r.habitId))]})]})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(Er,{className:"w-5 h-5 text-primary"}),f.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Confronto Performance"}),f.jsx(Ua,{children:f.jsxs(Ho,{children:[f.jsx(Vo,{asChild:!0,children:f.jsx("button",{className:"ml-1",children:f.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),f.jsx(Wa,{className:"max-w-xs",children:f.jsx("p",{className:"text-sm",children:"Mostra le 3 abitudini con il peggior rapporto Best/Worst. Queste sono le abitudini che hanno pi margine di miglioramento e richiedono maggior attenzione."})})]})})]}),f.jsx("div",{className:"space-y-4",children:t.comparisons.map(r=>f.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),f.jsx("span",{className:"text-sm font-medium",children:r.title}),f.jsx("span",{className:ae("text-xs font-bold px-2 py-0.5 rounded-full ml-auto",r.status==="excellent"&&"bg-green-500/10 text-green-500",r.status==="good"&&"bg-yellow-500/10 text-yellow-500",r.status==="attention"&&"bg-orange-500/10 text-orange-500"),children:r.status==="excellent"?"Eccellente":r.status==="good"?"Buono":"Attenzione"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("span",{className:"text-xs text-muted-foreground",children:"Best"}),f.jsxs("span",{className:"text-xs font-bold text-green-500",children:[r.best," gg"]})]}),f.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${Math.min(r.best/Math.max(r.best,r.worst)*100,100)}%`}})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("span",{className:"text-xs text-muted-foreground",children:"Worst"}),f.jsxs("span",{className:"text-xs font-bold text-destructive",children:[r.worst," gg"]})]}),f.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-destructive transition-all duration-500",style:{width:`${Math.min(r.worst/Math.max(r.best,r.worst)*100,100)}%`}})})]})]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Gap: ",f.jsxs("span",{className:"font-bold text-foreground",children:[r.gap,"%"]})]})]},r.habitId))})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(p6,{className:"w-5 h-5 text-yellow-500"}),f.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Suggerimenti Pratici"}),f.jsx(Ua,{children:f.jsxs(Ho,{children:[f.jsx(Vo,{asChild:!0,children:f.jsx("button",{className:"ml-1",children:f.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),f.jsx(Wa,{className:"max-w-xs",children:f.jsx("p",{className:"text-sm",children:"Suggerimenti personalizzati basati sui tuoi dati con azioni concrete che puoi implementare subito per migliorare."})})]})})]}),f.jsx("div",{className:"space-y-3",children:t.suggestions.map((r,n)=>f.jsx("div",{className:"bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-xl p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-2xl shrink-0",children:r.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-semibold text-sm text-foreground mb-1",children:r.title}),f.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:r.description}),f.jsxs("div",{className:"flex items-start gap-2 text-xs text-primary",children:[f.jsx("span",{className:"shrink-0",children:""}),f.jsx("span",{className:"font-medium",children:r.action})]})]})]})},n))})]})]}):f.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[f.jsx(Er,{className:"w-12 h-12 mx-auto mb-3 text-green-500 opacity-50"}),f.jsx("p",{className:"text-muted-foreground",children:"Ottimo lavoro! Non sono stati rilevati worst streak significativi."})]})}const H1e=({keystoneHabits:e})=>e.length===0?null:f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center",children:f.jsx(YS,{className:"w-5 h-5 text-yellow-500"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Abitudini Chiave"}),f.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Abitudini che influenzano positivamente molte altre"})]})]}),f.jsx("div",{className:ae("grid gap-3 sm:gap-4",e.length===1?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),children:e.map(t=>{const r=t.impact==="high"?"text-green-500":t.impact==="medium"?"text-yellow-500":"text-blue-500",n=t.impact==="high"?"bg-green-500/10 border-green-500/20":t.impact==="medium"?"bg-yellow-500/10 border-yellow-500/20":"bg-blue-500/10 border-blue-500/20",i=t.impact==="high"?"Alto Impatto":t.impact==="medium"?"Medio Impatto":"Impatto Basso";return f.jsxs("div",{className:ae("glass-card rounded-2xl p-4 border-2 transition-all duration-300 hover:scale-[1.02]",n),children:[f.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${t.color}20`},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:t.color}})}),f.jsx("h4",{className:"font-semibold text-foreground truncate text-sm sm:text-base",children:t.title})]}),f.jsx(YS,{className:ae("w-5 h-5 shrink-0",r)})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("div",{className:ae("px-2 py-1 rounded-full text-xs font-semibold",r,n),children:i}),f.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.connectedHabits," ",t.connectedHabits===1?"connessione":"connessioni"]})]}),f.jsxs("div",{className:"space-y-1.5",children:[t.connections.slice(0,4).map(a=>{const o=a.correlation>=0?"+":"",s=a.correlation>=.6?"text-green-500":a.correlation>=.3?"text-yellow-500":"text-muted-foreground";return f.jsxs("div",{className:"flex items-center justify-between text-xs bg-white/5 rounded-lg px-2 py-1.5",children:[f.jsx("span",{className:"text-muted-foreground truncate flex-1",children:a.title}),f.jsxs("span",{className:ae("font-mono font-semibold ml-2",s),children:[o,a.correlation.toFixed(2)]})]},a.habitId)}),t.connections.length>4&&f.jsxs("div",{className:"text-xs text-center text-muted-foreground pt-1",children:["+",t.connections.length-4," altre connessioni"]})]}),f.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between text-xs",children:[f.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[f.jsx(Er,{className:"w-3 h-3"}),f.jsx("span",{children:"Media"})]}),f.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[t.avgCorrelation>=0?"+":"",t.avgCorrelation.toFixed(2)]})]})]},t.habitId)})}),f.jsx("div",{className:"mt-4 p-3 bg-primary/5 rounded-xl border border-primary/10",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(Su,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.jsx("span",{className:"font-semibold text-foreground",children:"Suggerimento:"}),` Le abitudini chiave hanno un effetto "domino" su altre. Concentrati a mantenerle costanti per migliorare l'intero sistema delle tue abitudini.`]})]})})]}),V1e=({insights:e})=>{const{totalPairs:t,avgCorrelation:r,strongestPositive:n,strongestNegative:i,isolatedHabits:a}=e;return t===0?f.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[f.jsx(JS,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),f.jsx("h3",{className:"text-base font-semibold mb-2",children:"Nessuna Correlazione Rilevata"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Traccia almeno 2 abitudini per 10+ giorni per vedere le correlazioni."})]}):f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:f.jsx(JS,{className:"w-5 h-5 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Analisi Correlazioni"}),f.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pattern tra le tue abitudini"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[f.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Coppie Analizzate"}),f.jsx("p",{className:"text-2xl font-bold text-foreground font-mono",children:t})]}),f.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Media"}),f.jsxs("p",{className:"text-2xl font-bold text-primary font-mono",children:[r>=0?"+":"",r.toFixed(2)]})]}),f.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[f.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[f.jsx(Er,{className:"w-3 h-3 text-green-500"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Positive"})]}),f.jsx("p",{className:"text-2xl font-bold text-green-500 font-mono",children:n.length})]}),f.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[f.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[f.jsx(ji,{className:"w-3 h-3 text-red-500"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Negative"})]}),f.jsx("p",{className:"text-2xl font-bold text-red-500 font-mono",children:i.length})]})]}),a.length>0&&f.jsx("div",{className:"bg-yellow-500/5 border border-yellow-500/20 rounded-xl p-3",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(f6,{className:"w-4 h-4 text-yellow-500 shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-semibold text-yellow-500 mb-1",children:"Abitudini Isolate"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," ",a.length===1?"abitudine non ha":"abitudini non hanno"," ","correlazioni significative con le altre. Potrebbero essere indipendenti o necessitare pi dati."]})]})]})})]})},L2=({correlation:e})=>{const{habitA:t,habitB:r,correlationCoefficient:n,coOccurrenceRate:i,totalDaysTracked:a,strength:o,type:s,suggestion:l}=e,c=s==="positive",u=c?Er:ji,d=c?o==="strong"?"border-green-500/40":"border-green-500/20":o==="strong"?"border-red-500/40":"border-red-500/20",p=c?"from-green-500/5 to-transparent":"from-red-500/5 to-transparent",h=c?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30",v=o==="strong"?"Forte":o==="moderate"?"Moderata":"Debole",m=c?"Positiva":"Negativa";return f.jsxs("div",{className:ae("glass-card rounded-2xl p-4 border-2 transition-all duration-300 hover:scale-[1.01]","bg-gradient-to-br",d,p),children:[f.jsx("div",{className:"flex items-center justify-between mb-3",children:f.jsxs("div",{className:ae("flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-semibold",h),children:[f.jsx(u,{className:"w-3 h-3"}),f.jsxs("span",{children:["Correlazione ",m," - ",v]})]})}),f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{backgroundColor:`${t.color}20`},children:f.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:t.color}})}),f.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:t.title})]}),f.jsx(AR,{className:ae("w-5 h-5 shrink-0",c?"text-green-500":"text-red-500")}),f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{backgroundColor:`${r.color}20`},children:f.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:r.color}})}),f.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:r.title})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[f.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Coefficiente"}),f.jsxs("p",{className:ae("text-base font-mono font-bold",c?"text-green-500":"text-red-500"),children:[n>=0?"+":"",n.toFixed(2)]})]}),f.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Co-occorrenza"}),f.jsxs("p",{className:"text-base font-mono font-bold text-foreground",children:[Math.round(i),"%"]})]}),f.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Giorni"}),f.jsx("p",{className:"text-base font-mono font-bold text-foreground",children:a})]})]}),l&&f.jsx("div",{className:"bg-primary/5 border border-primary/10 rounded-xl p-3",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(Bh,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),f.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l})]})})]})},K1e=({habitId:e,habitTitle:t,habitColor:r,allCorrelations:n})=>{const i=n.filter(l=>l.habitA.id===e||l.habitB.id===e);if(i.length===0)return f.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[f.jsx(AR,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),f.jsx("h3",{className:"text-base font-semibold mb-2",children:"Nessuna Correlazione"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Questa abitudine non ha correlazioni significative con le altre. Traccia pi abitudini insieme per vedere i pattern."})]});const a=i.filter(l=>l.type==="positive").sort((l,c)=>Math.abs(c.correlationCoefficient)-Math.abs(l.correlationCoefficient)).slice(0,3),o=i.filter(l=>l.type==="negative").sort((l,c)=>Math.abs(c.correlationCoefficient)-Math.abs(l.correlationCoefficient)).slice(0,2),s=l=>l.habitA.id===e?l.habitB:l.habitA;return f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-1",children:['Correlazioni con "',t,'"']}),f.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Come questa abitudine si relaziona con le altre"})]}),a.length>0&&f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Er,{className:"w-4 h-4 text-green-500"}),f.jsx("h4",{className:"text-sm font-semibold text-green-500",children:"Correlazioni Positive"})]}),f.jsx("div",{className:"space-y-2",children:a.map((l,c)=>{const u=s(l),d=l.strength==="strong"?"Forte":"Moderata";return f.jsxs("div",{className:"bg-gradient-to-br from-green-500/5 to-transparent border-2 border-green-500/20 rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${u.color}20`},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:u.color}})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-semibold text-sm truncate",children:u.title}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[f.jsxs("span",{className:"text-green-500 font-semibold",children:[d," (",l.correlationCoefficient>=0?"+":"",l.correlationCoefficient.toFixed(2),")"]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[Math.round(l.coOccurrenceRate),"% insieme"]})]})]})]}),f.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l.suggestion})]},c)})})]}),o.length>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(ji,{className:"w-4 h-4 text-red-500"}),f.jsx("h4",{className:"text-sm font-semibold text-red-500",children:"Correlazioni Negative"})]}),f.jsx("div",{className:"space-y-2",children:o.map((l,c)=>{const u=s(l),d=l.strength==="strong"?"Forte":"Moderata";return f.jsxs("div",{className:"bg-gradient-to-br from-red-500/5 to-transparent border-2 border-red-500/20 rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${u.color}20`},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:u.color}})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-semibold text-sm truncate",children:u.title}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[f.jsxs("span",{className:"text-red-500 font-semibold",children:[d," (",l.correlationCoefficient.toFixed(2),")"]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[l.totalDaysTracked," giorni"]})]})]})]}),f.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l.suggestion})]},c)})})]}),(a.length>0||o.length>0)&&f.jsx("div",{className:"mt-4 p-3 bg-blue-500/5 rounded-xl border border-blue-500/10",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(ts,{className:"w-4 h-4 text-blue-500 shrink-0 mt-0.5"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Le correlazioni positive suggeriscono abitudini che funzionano bene insieme. Le negative indicano possibili conflitti di tempo o energia."})]})})]})};var p0=0;function G1e(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??B2()),document.body.insertAdjacentElement("beforeend",e[1]??B2()),p0++,()=>{p0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),p0--}},[])}function B2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Y1e=[" ","Enter","ArrowUp","ArrowDown"],X1e=[" ","Enter"],So="Select",[um,dm,Q1e]=Rh(So),[El]=Ar(So,[Q1e,Hh]),fm=Hh(),[J1e,Oa]=El(So),[Z1e,e_e]=El(So),LF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:h,form:v}=e,m=fm(t),[g,y]=_.useState(null),[b,x]=_.useState(null),[S,w]=_.useState(!1),j=cl(c),[E,C]=ti({prop:n,defaultProp:i??!1,onChange:a,caller:So}),[P,O]=ti({prop:o,defaultProp:s,onChange:l,caller:So}),N=_.useRef(null),T=g?v||!!g.closest("form"):!0,[D,k]=_.useState(new Set),R=Array.from(D).map(F=>F.props.value).join(";");return f.jsx(iI,{...m,children:f.jsxs(J1e,{required:h,scope:t,trigger:g,onTriggerChange:y,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:w,contentId:Ei(),value:P,onValueChange:O,open:E,onOpenChange:C,dir:j,triggerPointerDownPosRef:N,disabled:p,children:[f.jsx(um.Provider,{scope:t,children:f.jsx(Z1e,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(F=>{k(B=>new Set(B).add(F))},[]),onNativeOptionRemove:_.useCallback(F=>{k(B=>{const U=new Set(B);return U.delete(F),U})},[]),children:r})}),T?f.jsxs(lz,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:F=>O(F.target.value),disabled:p,form:v,children:[P===void 0?f.jsx("option",{value:""}):null,Array.from(D)]},R):null]})})};LF.displayName=So;var BF="SelectTrigger",FF=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=fm(r),o=Oa(BF,r),s=o.disabled||n,l=$e(t,o.onTriggerChange),c=dm(r),u=_.useRef("touch"),[d,p,h]=uz(m=>{const g=c().filter(x=>!x.disabled),y=g.find(x=>x.value===o.value),b=dz(g,m,y);b!==void 0&&o.onValueChange(b.value)}),v=m=>{s||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return f.jsx(aI,{asChild:!0,...a,children:f.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":cz(o.value)?"":void 0,...i,ref:l,onClick:Ee(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&v(m)}),onPointerDown:Ee(i.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:Ee(i.onKeyDown,m=>{const g=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&Y1e.includes(m.key)&&(v(),m.preventDefault())})})})});FF.displayName=BF;var zF="SelectValue",qF=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=e,l=Oa(zF,r),{onValueNodeHasChildrenChange:c}=l,u=a!==void 0,d=$e(t,l.onValueNodeChange);return Ht(()=>{c(u)},[c,u]),f.jsx(ke.span,{...s,ref:d,style:{pointerEvents:"none"},children:cz(l.value)?f.jsx(f.Fragment,{children:o}):a})});qF.displayName=zF;var t_e="SelectIcon",UF=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return f.jsx(ke.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});UF.displayName=t_e;var r_e="SelectPortal",WF=e=>f.jsx(Dh,{asChild:!0,...e});WF.displayName=r_e;var jo="SelectContent",HF=_.forwardRef((e,t)=>{const r=Oa(jo,e.__scopeSelect),[n,i]=_.useState();if(Ht(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Kn.createPortal(f.jsx(VF,{scope:e.__scopeSelect,children:f.jsx(um.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),a):null}return f.jsx(KF,{...e,ref:t})});HF.displayName=jo;var wn=10,[VF,Ca]=El(jo),n_e="SelectContentImpl",i_e=xc("SelectContent.RemoveScroll"),KF=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:g,...y}=e,b=Oa(jo,r),[x,S]=_.useState(null),[w,j]=_.useState(null),E=$e(t,le=>S(le)),[C,P]=_.useState(null),[O,N]=_.useState(null),T=dm(r),[D,k]=_.useState(!1),R=_.useRef(!1);_.useEffect(()=>{if(x)return dM(x)},[x]),G1e();const F=_.useCallback(le=>{const[ue,...ee]=T().map(J=>J.ref.current),[te]=ee.slice(-1),ce=document.activeElement;for(const J of le)if(J===ce||(J?.scrollIntoView({block:"nearest"}),J===ue&&w&&(w.scrollTop=0),J===te&&w&&(w.scrollTop=w.scrollHeight),J?.focus(),document.activeElement!==ce))return},[T,w]),B=_.useCallback(()=>F([C,x]),[F,C,x]);_.useEffect(()=>{D&&B()},[D,B]);const{onOpenChange:U,triggerPointerDownPosRef:L}=b;_.useEffect(()=>{if(x){let le={x:0,y:0};const ue=te=>{le={x:Math.abs(Math.round(te.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(te.pageY)-(L.current?.y??0))}},ee=te=>{le.x<=10&&le.y<=10?te.preventDefault():x.contains(te.target)||U(!1),document.removeEventListener("pointermove",ue),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ee,{capture:!0})}}},[x,U,L]),_.useEffect(()=>{const le=()=>U(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[U]);const[M,H]=uz(le=>{const ue=T().filter(ce=>!ce.disabled),ee=ue.find(ce=>ce.ref.current===document.activeElement),te=dz(ue,le,ee);te&&setTimeout(()=>te.ref.current.focus())}),z=_.useCallback((le,ue,ee)=>{const te=!R.current&&!ee;(b.value!==void 0&&b.value===ue||te)&&(P(le),te&&(R.current=!0))},[b.value]),$=_.useCallback(()=>x?.focus(),[x]),Q=_.useCallback((le,ue,ee)=>{const te=!R.current&&!ee;(b.value!==void 0&&b.value===ue||te)&&N(le)},[b.value]),Z=n==="popper"?Jw:GF,fe=Z===Jw?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return f.jsx(VF,{scope:r,content:x,viewport:w,onViewportChange:j,itemRefCallback:z,selectedItem:C,onItemLeave:$,itemTextRefCallback:Q,focusSelectedItem:B,selectedItemText:O,position:n,isPositioned:D,searchRef:M,children:f.jsx(U1,{as:i_e,allowPinchZoom:!0,children:f.jsx(q1,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ee(i,le=>{b.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:f.jsx(Ih,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:f.jsx(Z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...y,...fe,onPlaced:()=>k(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ee(y.onKeyDown,le=>{const ue=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ue&&le.key.length===1&&H(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let te=T().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(le.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ce=le.target,J=te.indexOf(ce);te=te.slice(J+1)}setTimeout(()=>F(te)),le.preventDefault()}})})})})})})});KF.displayName=n_e;var a_e="SelectItemAlignedPosition",GF=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Oa(jo,r),o=Ca(jo,r),[s,l]=_.useState(null),[c,u]=_.useState(null),d=$e(t,E=>u(E)),p=dm(r),h=_.useRef(!1),v=_.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=o,x=_.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&y){const E=a.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(a.dir!=="rtl"){const ce=O.left-C.left,J=P.left-ce,ne=E.left-J,A=E.width+ne,K=Math.max(A,C.width),V=window.innerWidth-wn,W=Rc(J,[wn,Math.max(wn,V-K)]);s.style.minWidth=A+"px",s.style.left=W+"px"}else{const ce=C.right-O.right,J=window.innerWidth-P.right-ce,ne=window.innerWidth-E.right-J,A=E.width+ne,K=Math.max(A,C.width),V=window.innerWidth-wn,W=Rc(J,[wn,Math.max(wn,V-K)]);s.style.minWidth=A+"px",s.style.right=W+"px"}const N=p(),T=window.innerHeight-wn*2,D=m.scrollHeight,k=window.getComputedStyle(c),R=parseInt(k.borderTopWidth,10),F=parseInt(k.paddingTop,10),B=parseInt(k.borderBottomWidth,10),U=parseInt(k.paddingBottom,10),L=R+F+D+U+B,M=Math.min(g.offsetHeight*5,L),H=window.getComputedStyle(m),z=parseInt(H.paddingTop,10),$=parseInt(H.paddingBottom,10),Q=E.top+E.height/2-wn,Z=T-Q,fe=g.offsetHeight/2,le=g.offsetTop+fe,ue=R+F+le,ee=L-ue;if(ue<=Q){const ce=N.length>0&&g===N[N.length-1].ref.current;s.style.bottom="0px";const J=c.clientHeight-m.offsetTop-m.offsetHeight,ne=Math.max(Z,fe+(ce?$:0)+J+B),A=ue+ne;s.style.height=A+"px"}else{const ce=N.length>0&&g===N[0].ref.current;s.style.top="0px";const ne=Math.max(Q,R+m.offsetTop+(ce?z:0)+fe)+ee;s.style.height=ne+"px",m.scrollTop=ue-Q+m.offsetTop}s.style.margin=`${wn}px 0`,s.style.minHeight=M+"px",s.style.maxHeight=T+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[p,a.trigger,a.valueNode,s,c,m,g,y,a.dir,n]);Ht(()=>x(),[x]);const[S,w]=_.useState();Ht(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const j=_.useCallback(E=>{E&&v.current===!0&&(x(),b?.(),v.current=!1)},[x,b]);return f.jsx(s_e,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:j,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:f.jsx(ke.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});GF.displayName=a_e;var o_e="SelectPopperPosition",Jw=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=wn,...a}=e,o=fm(r);return f.jsx(oI,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jw.displayName=o_e;var[s_e,IS]=El(jo,{}),Zw="SelectViewport",YF=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=Ca(Zw,r),o=IS(Zw,r),s=$e(t,a.onViewportChange),l=_.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(um.Slot,{scope:r,children:f.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p?.current&&d){const h=Math.abs(l.current-u.scrollTop);if(h>0){const v=window.innerHeight-wn*2,m=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),y=Math.max(m,g);if(y<v){const b=y+h,x=Math.min(v,b),S=b-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});YF.displayName=Zw;var XF="SelectGroup",[l_e,c_e]=El(XF),u_e=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ei();return f.jsx(l_e,{scope:r,id:i,children:f.jsx(ke.div,{role:"group","aria-labelledby":i,...n,ref:t})})});u_e.displayName=XF;var QF="SelectLabel",JF=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=c_e(QF,r);return f.jsx(ke.div,{id:i.id,...n,ref:t})});JF.displayName=QF;var Th="SelectItem",[d_e,ZF]=El(Th),ez=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,s=Oa(Th,r),l=Ca(Th,r),c=s.value===n,[u,d]=_.useState(a??""),[p,h]=_.useState(!1),v=$e(t,b=>l.itemRefCallback?.(b,n,i)),m=Ei(),g=_.useRef("touch"),y=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(d_e,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:_.useCallback(b=>{d(x=>x||(b?.textContent??"").trim())},[]),children:f.jsx(um.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:f.jsx(ke.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Ee(o.onFocus,()=>h(!0)),onBlur:Ee(o.onBlur,()=>h(!1)),onClick:Ee(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Ee(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Ee(o.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:Ee(o.onPointerMove,b=>{g.current=b.pointerType,i?l.onItemLeave?.():g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Ee(o.onKeyDown,b=>{l.searchRef?.current!==""&&b.key===" "||(X1e.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});ez.displayName=Th;var tc="SelectItemText",tz=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=Oa(tc,r),s=Ca(tc,r),l=ZF(tc,r),c=e_e(tc,r),[u,d]=_.useState(null),p=$e(t,y=>d(y),l.onItemTextChange,y=>s.itemTextRefCallback?.(y,l.value,l.disabled)),h=u?.textContent,v=_.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return Ht(()=>(m(v),()=>g(v)),[m,g,v]),f.jsxs(f.Fragment,{children:[f.jsx(ke.span,{id:l.textId,...a,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Kn.createPortal(a.children,o.valueNode):null]})});tz.displayName=tc;var rz="SelectItemIndicator",nz=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return ZF(rz,r).isSelected?f.jsx(ke.span,{"aria-hidden":!0,...n,ref:t}):null});nz.displayName=rz;var e1="SelectScrollUpButton",iz=_.forwardRef((e,t)=>{const r=Ca(e1,e.__scopeSelect),n=IS(e1,e.__scopeSelect),[i,a]=_.useState(!1),o=$e(t,n.onScrollButtonChange);return Ht(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?f.jsx(oz,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});iz.displayName=e1;var t1="SelectScrollDownButton",az=_.forwardRef((e,t)=>{const r=Ca(t1,e.__scopeSelect),n=IS(t1,e.__scopeSelect),[i,a]=_.useState(!1),o=$e(t,n.onScrollButtonChange);return Ht(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?f.jsx(oz,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});az.displayName=t1;var oz=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=Ca("SelectScrollButton",r),o=_.useRef(null),s=dm(r),l=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),Ht(()=>{s().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),f.jsx(ke.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{l()})})}),f_e="SelectSeparator",sz=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(ke.div,{"aria-hidden":!0,...n,ref:t})});sz.displayName=f_e;var r1="SelectArrow",h_e=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=fm(r),a=Oa(r1,r),o=Ca(r1,r);return a.open&&o.position==="popper"?f.jsx(sI,{...i,...n,ref:t}):null});h_e.displayName=r1;var p_e="SelectBubbleInput",lz=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=_.useRef(null),a=$e(n,i),o=Ep(t);return _.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(s,t),s.dispatchEvent(d)}},[o,t]),f.jsx(ke.select,{...r,style:{...eR,...r.style},ref:a,defaultValue:t})});lz.displayName=p_e;function cz(e){return e===""||e===void 0}function uz(e){const t=Lt(e),r=_.useRef(""),n=_.useRef(0),i=_.useCallback(o=>{const s=r.current+o;t(s),(function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function dz(e,t,r){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=m_e(e,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function m_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var g_e=LF,fz=FF,v_e=qF,y_e=UF,b_e=WF,hz=HF,x_e=YF,pz=JF,mz=ez,w_e=tz,__e=nz,gz=iz,vz=az,yz=sz;const Wn=g_e,ia=v_e,An=_.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(fz,{ref:n,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,f.jsx(y_e,{asChild:!0,children:f.jsx(SR,{className:"h-4 w-4 opacity-50"})})]}));An.displayName=fz.displayName;const bz=_.forwardRef(({className:e,...t},r)=>f.jsx(gz,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(n6,{className:"h-4 w-4"})}));bz.displayName=gz.displayName;const xz=_.forwardRef(({className:e,...t},r)=>f.jsx(vz,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(SR,{className:"h-4 w-4"})}));xz.displayName=vz.displayName;const On=_.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>f.jsx(b_e,{children:f.jsxs(hz,{ref:i,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(bz,{}),f.jsx(x_e,{className:ae("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(xz,{})]})}));On.displayName=hz.displayName;const S_e=_.forwardRef(({className:e,...t},r)=>f.jsx(pz,{ref:r,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));S_e.displayName=pz.displayName;const $t=_.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(mz,{ref:n,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(__e,{children:f.jsx(Lh,{className:"h-4 w-4"})})}),f.jsx(w_e,{children:t})]}));$t.displayName=mz.displayName;const j_e=_.forwardRef(({className:e,...t},r)=>f.jsx(yz,{ref:r,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));j_e.displayName=yz.displayName;const E_e=()=>{const{goals:e,allGoals:t,logs:r}=B1(),[n,i]=_.useState("weekly"),[a,o]=_.useState(null),[s,l]=_.useState("rate"),c=n3(e,r,n),{isPrivacyMode:u}=tp(),{isAIEnabled:d}=Yh(),{correlations:p,insights:h}=Xie(e,r),{correlations:v,insights:m}=tae(e,r),g=_.useMemo(()=>t.find(w=>w.id===a)||null,[t,a]),y=_.useMemo(()=>{const w=[...c.habitStats];switch(s){case"rate":return w.sort((j,E)=>E.completionRate-j.completionRate);case"best":return w.sort((j,E)=>E.longestStreak-j.longestStreak);case"worst":return w.sort((j,E)=>E.worstStreak-j.worstStreak);case"current":return w.sort((j,E)=>E.currentStreak-j.currentStreak);case"name":return w.sort((j,E)=>j.title.localeCompare(E.title));default:return w}},[c.habitStats,s]),b=_.useMemo(()=>{if(!g)return null;const w=[],j=new Date,E=new Date(g.start_date),C=g.end_date?new Date(g.end_date):j,P=C>j?j:C;Cn({start:E,end:P}).forEach(ne=>{const A=Ye(ne,"yyyy-MM-dd"),K=r[A]?.[g.id]||null;w.push({date:A,status:K})});const N=w.length,T=w.filter(ne=>ne.status==="done").length,D=w.filter(ne=>ne.status==="missed").length,k=N>0?Math.round(T/N*100):0;let R=0,F=0,B=0;const U=[];let L=0,M=0,H="",z="";for(let ne=0;ne<w.length;ne++){const A=w[ne];A.status==="done"?(B++,B>F&&(F=B),L>M&&(M=L,H=z),L=0):(B>2&&U.push({date:A.date,streakLength:B}),B=0,(A.status==="missed"||A.status===null)&&(L===0&&(z=A.date),L++))}L>M&&(M=L,H=z);for(let ne=w.length-1;ne>=0&&w[ne].status==="done";ne--)R++;const $=[0,0,0,0,0,0,0],Q=[0,0,0,0,0,0,0];w.forEach(ne=>{const A=new Date(ne.date).getDay(),K=A===0?6:A-1;Q[K]++,ne.status==="done"&&$[K]++});const Z=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map((ne,A)=>({day:ne,rate:Q[A]>0?Math.round($[A]/Q[A]*100):0,total:Q[A],done:$[A]})),fe=Z.reduce((ne,A)=>A.total>2&&A.rate<ne.rate?A:ne,{day:"N/A",rate:100,total:0,done:0}),le=L1(j),ue=iV(j),te=Cn({start:le,end:ue}).map(ne=>{const A=Ye(ne,"yyyy-MM-dd"),K=r[A]?.[g.id];return{date:A,count:K==="done"?1:K==="missed"?-1:0,intensity:K==="done"?1:K==="missed"?.5:0}}),J=Cn({start:new Date(j.getTime()-720*60*60*1e3),end:j}).map(ne=>{const A=Ye(ne,"yyyy-MM-dd"),K=r[A]?.[g.id];return{date:Ye(ne,"dd/MM"),value:K==="done"?100:0,status:K||null}});return{totalDays:N,doneDays:T,missedDays:D,completionRate:k,currentStreak:R,bestStreak:F,brokenStreaks:U.slice(-5).reverse(),worstNegativeStreak:M,worstNegativeStreakStart:H,weekdayPerformance:Z,worstDay:fe,heatmapData:te,trendData:J}},[g,r]),x=c.habitStats.length>0?c.habitStats.reduce((w,j)=>w.completionRate>j.completionRate?w:j,c.habitStats[0]):null,S=w=>{o(w==="all"?null:w)};return f.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-5xl animate-fade-in pb-32 space-y-6",children:[f.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsxs("div",{className:ae("space-y-3",u&&"blur-sm"),children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground",children:"Le tue Statistiche"}),f.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi dettagliata delle tue performance."})]}),f.jsxs(Wn,{value:a||"all",onValueChange:S,children:[f.jsx(An,{className:"w-full sm:w-[300px] glass-panel border-white/10",children:f.jsx(ia,{placeholder:"Seleziona goal"})}),f.jsxs(On,{children:[f.jsx($t,{value:"all",children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Gn,{className:"w-4 h-4"}),"Tutti i Goals"]})}),t.map(w=>f.jsx($t,{value:w.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:w.color}}),w.title,w.end_date&&f.jsx("span",{className:"text-xs text-muted-foreground",children:"(archiviato)"})]})},w.id))]})]})]}),a===null?f.jsxs(us,{defaultValue:"panoramica",className:"w-full",children:[f.jsxs(no,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[f.jsx(vt,{value:"panoramica",className:"text-xs sm:text-sm",children:"Info"}),f.jsx(vt,{value:"trend",className:"text-xs sm:text-sm",children:"Trend"}),f.jsx(vt,{value:"analisi",className:"text-xs sm:text-sm",children:"Alert"}),f.jsx(vt,{value:"abitudini",className:"text-xs sm:text-sm",children:"Abitudini"}),f.jsx(vt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:f.jsx("span",{children:"Mood"})})]}),f.jsxs(Pr,{value:"panoramica",className:"mt-0 space-y-6",children:[f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx(rae,{globalStats:{totalActiveDays:c.totalActiveDays,globalSuccessRate:c.globalSuccessRate,bestStreak:c.bestStreak,worstDay:c.worstDay},bestHabit:x||void 0})}),d&&f.jsx("div",{className:"hidden lg:block",children:f.jsx("div",{onClick:()=>window.location.hash="/ai-coach",className:"glass-panel rounded-3xl p-6 cursor-pointer hover:scale-[1.02] transition-all duration-300 border-2 border-primary/20 hover:border-primary/40 group",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-purple-500/20 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform",children:f.jsx(Si,{className:"w-7 h-7 text-primary animate-pulse"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("h3",{className:"text-lg sm:text-xl font-display font-semibold mb-2 flex items-center gap-2",children:["AI Coach",f.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full font-normal",children:"Nuovo"})]}),f.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Genera un report settimanale personalizzato con analisi AI dei tuoi progressi e suggerimenti concreti per migliorare."}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary",children:[f.jsx("span",{className:"font-semibold",children:"Clicca per iniziare"}),f.jsx("span",{children:""})]})]})]})})}),m.totalPairs>0&&f.jsxs(f.Fragment,{children:[m.keystoneHabits.length>0&&f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx(H1e,{keystoneHabits:m.keystoneHabits})}),f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx(V1e,{insights:m})}),m.strongestPositive.length>0&&f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx("span",{className:"text-green-500",children:""}),"Correlazioni Positive"]}),m.strongestPositive.map((w,j)=>f.jsx(L2,{correlation:w},j))]})}),m.strongestNegative.length>0&&f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx("span",{className:"text-red-500",children:""}),"Correlazioni Negative"]}),f.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Queste abitudini tendono a non essere completate insieme."}),m.strongestNegative.map((w,j)=>f.jsx(L2,{correlation:w},j))]})})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Attivit Recente"]}),f.jsx(nae,{data:c.heatmapData})]})]}),f.jsxs(Pr,{value:"trend",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[350px] sm:h-[400px] flex flex-col",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Trend"}),f.jsx(us,{value:n,onValueChange:w=>i(w),className:"w-full sm:w-auto",children:f.jsxs(no,{className:"grid w-full grid-cols-4 sm:w-[300px]",children:[f.jsx(vt,{value:"weekly",className:"text-xs",children:"Sett"}),f.jsx(vt,{value:"monthly",className:"text-xs",children:"Mese"}),f.jsx(vt,{value:"annual",className:"text-xs",children:"Anno"}),f.jsx(vt,{value:"all",className:"text-xs",children:"Tutto"})]})})]}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(I1e,{data:c.trendData})})]}),f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx($1e,{comparisons:c.comparisons,goals:e})})]}),f.jsxs(Pr,{value:"analisi",className:"mt-0 space-y-6",children:[f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx(L1e,{criticalHabits:c.criticalHabits})}),f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx(W1e,{habitStats:c.habitStats})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{className:ae("glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col transition-all duration-300",u&&"blur-sm"),children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-3",children:"Focus Abitudini"}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(D1e,{stats:c.habitStats})})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col",children:[f.jsxs("div",{className:"mb-3",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Costanza Settimanale"]}),f.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Scopri in quali giorni sei pi produttivo."})]}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(M1e,{data:c.weekdayStats})})]})]})]}),f.jsx(Pr,{value:"abitudini",className:"mt-0",children:f.jsxs("div",{className:ae("glass-panel rounded-3xl p-4 sm:p-6 transition-all duration-300",u&&"blur-sm"),children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-4 sm:mb-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Dettagli Abitudini"}),f.jsxs(Wn,{value:s,onValueChange:w=>l(w),children:[f.jsx(An,{className:"w-full sm:w-[200px] glass-card border-white/10",children:f.jsx(ia,{})}),f.jsxs(On,{children:[f.jsx($t,{value:"rate",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Er,{className:"w-4 h-4 text-primary"}),f.jsx("span",{children:"Rate"})]})}),f.jsx($t,{value:"best",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(to,{className:"w-4 h-4 text-yellow-500"}),f.jsx("span",{children:"Best Streak"})]})}),f.jsx($t,{value:"worst",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ji,{className:"w-4 h-4 text-destructive"}),f.jsx("span",{children:"Worst Streak"})]})}),f.jsx($t,{value:"current",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(x0,{className:"w-4 h-4 text-orange-500"}),f.jsx("span",{children:"Serie Attuale"})]})}),f.jsx($t,{value:"name",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(X8,{className:"w-4 h-4"}),f.jsx("span",{children:"Nome"})]})})]})]})]}),f.jsx("div",{className:"space-y-3",children:c.habitStats.length===0?f.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nessuna abitudine tracciata ancora."}):y.map(w=>f.jsxs("div",{className:"glass-card rounded-xl p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 group cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>o(w.id),children:[f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[f.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{borderColor:`${w.color}40`,boxShadow:`0 0 20px ${w.color}10`},children:f.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:w.color}})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"font-semibold text-foreground text-base sm:text-lg truncate block",children:w.title}),f.jsx("div",{className:"h-1 w-16 sm:w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:f.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${w.completionRate}%`,backgroundColor:w.color}})})]})]}),f.jsxs("div",{className:"grid grid-cols-4 gap-3 sm:flex sm:gap-6 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[f.jsx(to,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-500"})," Best"]}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[w.longestStreak,f.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[f.jsx(ji,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-destructive"})," Worst"]}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-destructive",children:[w.worstStreak,f.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[w.currentStreak,f.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[w.completionRate,f.jsx("span",{className:"text-[10px] sm:text-sm",children:"%"})]})]})]})]},w.id))})]})}),f.jsxs(Pr,{value:"mood-energia",className:"mt-0 space-y-6",children:[f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx(F1e,{})}),f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx(U1e,{insights:h})}),f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx(q1e,{correlations:p})})]})]}):g&&b&&f.jsxs(us,{defaultValue:"overview",className:"w-full",children:[f.jsxs(no,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[f.jsxs(vt,{value:"overview",className:"text-xs sm:text-sm",children:[f.jsx("span",{className:"hidden sm:inline",children:"Overview"}),f.jsx("span",{className:"sm:hidden",children:"Info"})]}),f.jsxs(vt,{value:"calendario",className:"text-xs sm:text-sm",children:[f.jsx("span",{className:"hidden sm:inline",children:"Calendario"}),f.jsx("span",{className:"sm:hidden",children:"Cal"})]}),f.jsxs(vt,{value:"performance",className:"text-xs sm:text-sm",children:[f.jsx("span",{className:"hidden sm:inline",children:"Performance"}),f.jsx("span",{className:"sm:hidden",children:"Perf"})]}),f.jsxs(vt,{value:"miglioramento",className:"text-xs sm:text-sm",children:[f.jsx("span",{className:"hidden sm:inline",children:"Miglioramento"}),f.jsx("span",{className:"sm:hidden",children:"Tips"})]}),f.jsxs(vt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:[f.jsx(Si,{className:"w-3 h-3"}),f.jsx("span",{children:"Mood"})]})]}),f.jsxs(Pr,{value:"overview",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Serie Attuale"}),f.jsx("p",{className:"text-3xl font-bold font-mono",style:{color:g.color},children:b.currentStreak}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Record"}),f.jsx("p",{className:"text-3xl font-bold font-mono text-yellow-500",children:b.bestStreak}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Completamento"}),f.jsxs("p",{className:"text-3xl font-bold font-mono text-primary",children:[b.completionRate,"%"]}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.doneDays,"/",b.totalDays," gg"]})]}),f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Mancati"}),f.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:b.missedDays}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Trend Ultimi 30 Giorni"}),f.jsx("div",{className:"grid grid-cols-10 gap-1 sm:gap-2",children:b.trendData.slice(-30).map((w,j)=>f.jsx("div",{className:"aspect-square rounded-md sm:rounded-lg transition-all duration-300 hover:scale-110",style:{backgroundColor:w.status==="done"?"#11FF00":w.status==="missed"?"#FF0000":"rgba(255,255,255,0.1)",opacity:w.status?1:.4},title:w.date},j))}),f.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),f.jsx("span",{children:"Completato"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/10"}),f.jsx("span",{children:"Non completato"})]})]})]}),f.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:f.jsx(K1e,{habitId:g.id,habitTitle:g.title,habitColor:g.color,allCorrelations:v})})]}),f.jsx(Pr,{value:"calendario",className:"mt-0 space-y-6",children:f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[f.jsx(lo,{className:"w-5 h-5"}),"Calendario Annuale"]}),f.jsx("div",{className:"flex gap-1 flex-wrap",children:b.heatmapData.map((w,j)=>f.jsx("div",{className:"w-3 h-3 rounded-sm transition-all",style:{backgroundColor:w.count===1?"#11FF00":w.count===-1?"#FF0000":"rgba(255,255,255,0.05)"},title:`${w.date}: ${w.count===1?"Completato":w.count===-1?"Mancato":"Non tracciato"}`},j))}),f.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),f.jsx("span",{children:"Completato"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-destructive"}),f.jsx("span",{children:"Mancato"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/5"}),f.jsx("span",{children:"Non tracciato"})]})]})]})}),f.jsxs(Pr,{value:"performance",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Performance per Giorno"}),f.jsx("div",{className:"grid grid-cols-7 gap-2",children:b.weekdayPerformance.map((w,j)=>f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:w.day}),f.jsx("div",{className:"h-24 bg-white/5 rounded-lg relative overflow-hidden",children:f.jsx("div",{className:"absolute bottom-0 left-0 right-0 transition-all duration-500 rounded-t",style:{height:`${w.rate}%`,backgroundColor:w.rate>=70?"#11FF00":w.rate>=40?"#f59e0b":"#FF0000"}})}),f.jsxs("p",{className:"text-sm font-bold mt-2",children:[w.rate,"%"]})]},j))})]}),b.worstDay.day!=="N/A"&&f.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-destructive/30",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Qd,{className:"w-5 h-5 text-destructive"}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold",children:["Giorno pi debole: ",b.worstDay.day]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solo ",b.worstDay.rate,"% di completamento (",b.worstDay.done,"/",b.worstDay.total,")"]})]})]})})]}),f.jsxs(Pr,{value:"miglioramento",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[f.jsx(ji,{className:"w-5 h-5 text-destructive"}),"Serie Negativa Peggiore"]}),b.worstNegativeStreak>0?f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"text-4xl font-bold font-mono text-destructive",children:b.worstNegativeStreak}),f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground",children:"giorni consecutivi mancati"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Iniziata il ",Ye(new Date(b.worstNegativeStreakStart),"d MMMM yyyy",{locale:Wr})]})]})]}):f.jsx("p",{className:"text-muted-foreground",children:"Nessuna serie negativa significativa. Ottimo lavoro! "})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Streak Interrotti"}),b.brokenStreaks.length>0?f.jsx("div",{className:"space-y-3",children:b.brokenStreaks.map((w,j)=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/20 flex items-center justify-center",children:f.jsx("span",{className:"text-destructive font-bold",children:w.streakLength})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold",children:["Streak di ",w.streakLength," giorni interrotto"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:Ye(new Date(w.date),"d MMMM yyyy",{locale:Wr})})]})]})},j))}):f.jsx("p",{className:"text-muted-foreground",children:"Nessuno streak significativo interrotto."})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 border border-primary/30",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:" Suggerimenti"}),f.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[b.worstDay.day!=="N/A"&&b.worstDay.rate<50&&f.jsxs("li",{children:[" Concentrati sul ",f.jsx("strong",{className:"text-foreground",children:b.worstDay.day})," -  il tuo giorno pi debole"]}),b.worstNegativeStreak>=3&&f.jsxs("li",{children:[" Evita pause prolungate - la tua serie negativa pi lunga  stata di ",b.worstNegativeStreak," giorni"]}),b.completionRate<70&&f.jsx("li",{children:" Obiettivo: raggiungi almeno il 70% di completamento per consolidare l'abitudine"}),b.completionRate>=80&&f.jsx("li",{children:"  Ottimo lavoro! Mantieni questa costanza"})]})]})]}),f.jsx(Pr,{value:"mood-energia",className:"mt-0 space-y-6",children:(()=>{const w=p.find(j=>j.habitId===a);return w?f.jsx(z1e,{correlation:w}):f.jsxs("div",{className:"glass-panel rounded-3xl p-8 text-center",children:[f.jsx(Si,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),f.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per analizzare la correlazione mood/energia."}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Registra il tuo mood ed energia quotidianamente per vedere le correlazioni."})]})})()})]},a)]})},qr={red:"Rosso",orange:"Arancione",yellow:"Giallo",blue:"Blu",purple:"Viola",pink:"Rosa",cyan:"Ciano"},rc={red:"hsl(0 65% 55%)",orange:"hsl(25 60% 45%)",yellow:"hsl(45 90% 45%)",blue:"hsl(220 70% 50%)",purple:"hsl(270 70% 50%)",pink:"hsl(330 70% 50%)",cyan:"hsl(170 70% 40%)"};function DS(){const e=xa(),{data:t,isLoading:r}=ni({queryKey:["goalCategorySettings"],queryFn:async()=>{const{data:{user:l}}=await be.auth.getUser();if(!l)return null;const{data:c,error:u}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();return u&&u.code!=="PGRST116"&&console.error("Error fetching category settings:",u),c}}),n=an({mutationFn:async l=>{const{data:{user:c}}=await be.auth.getUser();if(!c)throw new Error("Not authenticated");const{data:u}=await be.from("goal_category_settings").select("id").eq("user_id",c.id).single();if(u){const{error:d}=await be.from("goal_category_settings").update({mappings:l}).eq("id",u.id);if(d)throw d}else{const{error:d}=await be.from("goal_category_settings").insert({user_id:c.id,mappings:l});if(d)throw d}},onSuccess:()=>{e.invalidateQueries({queryKey:["longTermGoals"]}),e.invalidateQueries({queryKey:["goalCategorySettings"]}),Ue.success("Categorie aggiornate con successo")},onError:()=>{Ue.error("Errore durante l'aggiornamento delle categorie")}}),i=_.useMemo(()=>{const l={};return t?.mappings&&Object.entries(t.mappings).forEach(([c,u])=>{typeof u=="string"?l[c]=u:l[c]=u.label}),{...qr,...l}},[t]),a=_.useMemo(()=>{const l={};return Object.entries(qr).forEach(([c,u])=>{l[c]=u}),t?.mappings&&Object.entries(t.mappings).forEach(([c,u])=>{typeof u!="string"&&u.archived?delete l[c]:typeof u=="string"?l[c]=u:l[c]=u.label}),l},[t]),o=l=>{if(!l)return"Generale";const c=t?.mappings?.[l];return typeof c=="string"?c:c?.label?c.label:qr[l]||l},s=l=>{if(!l)return null;const c=t?.mappings?.[l];return c&&typeof c!="string"&&c.color?c.color:rc[l]||null};return{settings:t,isLoading:r,updateSettings:n.mutate,getLabel:o,getColor:s,categoryLabels:i,activeCategoryLabels:a}}function k_e({year:e}){const{getLabel:t}=DS(),{data:r,isLoading:n}=ni({queryKey:["longTermGoals","stats",e],queryFn:async()=>{let O=[],N=0;const T=1e3;let D=!0;for(;D;){let k=be.from("long_term_goals").select("*");e!=="all"&&(k=k.eq("year",typeof e=="string"?parseInt(e):e));const{data:R,error:F}=await k.range(N,N+T-1);if(F)throw F;R&&R.length>0?(O=[...O,...R],R.length<T?D=!1:N+=T):D=!1}return O}});if(_.useEffect(()=>{(async()=>{const{error:N}=await be.rpc("check_and_fail_expired_goals");N&&console.error("Error checking expired goals:",N)})()},[]),n)return f.jsx("div",{className:"flex justify-center p-8",children:f.jsx(Tn,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!r||r.length===0)return f.jsxs("div",{className:"text-center p-12 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:["Nessun dato disponibile per ",e==="all"?"il periodo selezionato":`il ${e}`,". Aggiungi qualche obiettivo!"]});const i=r.length,a=r.filter(O=>O.status==="completed").length,o=Math.round(a/i*100)||0,s=r.filter(O=>O.type==="lifetime"),l=r.filter(O=>O.type!=="lifetime"),c=l.map(O=>O.year).filter(O=>O!==null),u=c.length>0?Math.min(...c):new Date().getFullYear(),d={annual:r.filter(O=>O.type==="annual").length,quarterly:r.filter(O=>O.type==="quarterly").length,monthly:r.filter(O=>O.type==="monthly").length,weekly:r.filter(O=>O.type==="weekly").length,lifetime:s.length},p=[{type:"Lifetime",total:d.lifetime,completed:s.filter(O=>O.status==="completed").length},{type:"Annuale",total:d.annual,completed:r.filter(O=>O.type==="annual"&&O.status==="completed").length},{type:"Trimestrale",total:d.quarterly,completed:r.filter(O=>O.type==="quarterly"&&O.status==="completed").length},{type:"Mensile",total:d.monthly,completed:r.filter(O=>O.type==="monthly"&&O.status==="completed").length},{type:"Settimanale",total:d.weekly,completed:r.filter(O=>O.type==="weekly"&&O.status==="completed").length}].map(O=>({...O,rate:O.total>0?Math.round(O.completed/O.total*100):0})).sort((O,N)=>N.rate-O.rate||N.completed-O.completed),h=p[0],v={};r.forEach(O=>{const N=O.color||"null",T=t(N==="null"?null:N),D=N==="null"?"Generale":qr[N]||N;(N==="null"||!(N!=="null"&&T===D))&&(v[N]||(v[N]={total:0,completed:0}),v[N].total++,O.status==="completed"&&v[N].completed++)});const m=Object.entries(v).map(([O,N])=>({subject:t(O==="null"?null:O),A:Math.round(N.completed/N.total*100),fullMark:100,total:N.total})).sort((O,N)=>N.A-O.A),g=m.length>0?m[0]:null,y={red:"#f43f5e",orange:"#f97316",yellow:"#fbbf24",green:"#10b981",blue:"#2563eb",purple:"#7c3aed",pink:"#d946ef",cyan:"#06b6d4",null:"#525252"},b=Object.entries(v).map(([O,N])=>({name:t(O==="null"?null:O),value:N.total,fill:y[O]||"#888888"})).sort((O,N)=>N.value-O.value);if(e==="all"){const O={};l.forEach(U=>{U.year!==null&&(O[U.year]||(O[U.year]={total:0,completed:0,failed:0,active:0,rate:0}),O[U.year].total++,U.status==="completed"?O[U.year].completed++:U.status==="failed"?O[U.year].failed++:O[U.year].active++)});const N=Object.entries(O).map(([U,L])=>({year:U,total:L.total,completed:L.completed,failed:L.failed,active:L.active,rate:Math.round(L.completed/L.total*100)||0})).sort((U,L)=>parseInt(U.year)-parseInt(L.year)),T=[...N].sort((U,L)=>L.rate-U.rate||L.completed-U.completed)[0],D=[...N].sort((U,L)=>L.completed-U.completed)[0],k=[1,2,3,4].map(U=>({name:`Q${U}`,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(U=>{const L=U.quarter;if(L&&L>=1&&L<=4){const M=L-1;k[M].total++,U.status==="completed"?k[M].completed++:U.status==="failed"?k[M].failed++:k[M].active++}}),k.forEach(U=>{U.rate=U.total>0?Math.round(U.completed/U.total*100):0});const R=Array.from({length:12},(U,L)=>({name:new Date(2024,L).toLocaleString("it-IT",{month:"short"}),monthIndex:L+1,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(U=>{if(U.month&&U.month>=1&&U.month<=12){const L=U.month-1;R[L].total++,U.status==="completed"?R[L].completed++:U.status==="failed"?R[L].failed++:R[L].active++}}),R.forEach(U=>{U.rate=U.total>0?Math.round(U.completed/U.total*100):0});const F=[];return Array.from(new Set(l.map(U=>U.year).filter(U=>U!==null))).sort((U,L)=>U-L).forEach(U=>{const L=l.filter(H=>H.year===U),M={year:U.toString(),total:L.length};Object.keys(y).forEach(H=>{const z=t(H==="null"?null:H),$=H==="null"?"Generale":qr[H]||H;(H==="null"||!(H!=="null"&&z===$))&&(M[H]=0)}),L.forEach(H=>{const z=H.color||"null",$=t(z==="null"?null:z),Q=z==="null"?"Generale":qr[z]||z;(z==="null"||!(z!=="null"&&$===Q))&&M[z]!==void 0&&M[z]++}),F.push(M)}),f.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[f.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[f.jsxs(Fe,{className:"bg-gradient-to-br from-indigo-500/10 to-blue-600/10 border-indigo-500/20 shadow-lg shadow-indigo-500/5",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-indigo-400",children:"Totale Storico"}),f.jsx(Gn,{className:"h-4 w-4 text-indigo-500"})]}),f.jsxs(qe,{children:[f.jsx("div",{className:"text-3xl font-bold text-white",children:i}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Obiettivi tracciati dal ",u]})]})]}),f.jsxs(Fe,{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-emerald-400",children:"Successo Globale"}),f.jsx(to,{className:"h-4 w-4 text-emerald-500"})]}),f.jsxs(qe,{children:[f.jsxs("div",{className:"text-3xl font-bold text-white",children:[o,"%"]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a," obiettivi completati"]})]})]}),f.jsxs(Fe,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20 shadow-lg shadow-amber-500/5",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-amber-400",children:"Anno Migliore"}),f.jsx(lo,{className:"h-4 w-4 text-amber-500"})]}),f.jsxs(qe,{children:[f.jsx("div",{className:"text-3xl font-bold text-white",children:T?.year||"N/A"}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[T?.rate,"% completamento"]})]})]}),f.jsxs(Fe,{className:"bg-gradient-to-br from-cyan-500/10 to-sky-500/10 border-cyan-500/20 shadow-lg shadow-cyan-500/5",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-cyan-400",children:"Anno Pi Produttivo"}),f.jsx(VS,{className:"h-4 w-4 text-cyan-500"})]}),f.jsxs(qe,{children:[f.jsx("div",{className:"text-3xl font-bold text-white",children:D?.year||"N/A"}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[D?.total," obiettivi totali"]})]})]})]}),f.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[f.jsxs(Fe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm p-2",children:[f.jsxs(Qe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Er,{className:"w-5 h-5 text-blue-500"}),f.jsx(Je,{children:"Progressione Annuale"})]}),f.jsx(jn,{children:"Confronto anno per anno del volume di obiettivi e completamenti"})]}),f.jsx(qe,{className:"h-[300px] sm:h-[400px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(bu,{data:N,margin:{top:20,right:20,bottom:20,left:20},children:[f.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Qt,{dataKey:"year",stroke:"#888888",fontSize:14,tickLine:!1,axisLine:!1}),f.jsx(Mt,{yAxisId:"left",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Mt,{yAxisId:"right",orientation:"right",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),f.jsx(kt,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},cursor:{fill:"#ffffff05"}}),f.jsx(Vr,{wrapperStyle:{paddingTop:"20px"}}),f.jsx(Dt,{yAxisId:"left",dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:40,fillOpacity:.8}),f.jsx(Dt,{yAxisId:"left",dataKey:"failed",stackId:"a",name:"Falliti",fill:"#ef4444",radius:[0,0,0,0],barSize:40,fillOpacity:.8}),f.jsx(Dt,{yAxisId:"left",dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),f.jsx(fn,{yAxisId:"right",type:"monotone",dataKey:"rate",name:"Tasso Successo %",stroke:"#f59e0b",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6}})]})})})]}),f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Qe,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Gn,{className:"w-5 h-5 text-cyan-500"}),f.jsx(Je,{children:"Performance per Categoria (Storico)"})]})}),f.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(Qw,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[f.jsx(ah,{stroke:"#ffffff20"}),f.jsx(ba,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),f.jsx(xo,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),f.jsx(wo,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:U=>[`${U}%`,"Successo"]})]})})})]}),f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Qe,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(GS,{className:"w-5 h-5 text-purple-500"}),f.jsx(Je,{children:"Distribuzione Tipologie"})]})}),f.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(ec,{data:p,layout:"vertical",margin:{left:20},children:[f.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",horizontal:!0,vertical:!1}),f.jsx(Qt,{type:"number",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Mt,{dataKey:"type",type:"category",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,width:80}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),f.jsx(Dt,{dataKey:"rate",name:"Successo %",fill:"#8b5cf6",radius:[0,4,4,0],barSize:30})]})})})]}),f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(lo,{className:"w-5 h-5 text-amber-500"}),f.jsx(Je,{children:"Stagionalit (Performance Trimestrale)"})]}),f.jsx(jn,{children:"Aggregato di tutti gli anni: in quale trimestre rendi meglio?"})]}),f.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(ec,{data:k,children:[f.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),f.jsx(Vr,{wrapperStyle:{paddingTop:"20px"}}),f.jsx(Dt,{dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:30,fillOpacity:.6}),f.jsx(Dt,{dataKey:"failed",stackId:"a",name:"Falliti",fill:"#f59e0b",radius:[0,0,0,0],barSize:30,fillOpacity:.8}),f.jsx(Dt,{dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(VS,{className:"w-5 h-5 text-pink-500"}),f.jsx(Je,{children:"Performance Mensile (Storico)"})]}),f.jsx(jn,{children:"Successo medio per mese: scopri il tuo ritmo ideale"})]}),f.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(N1e,{data:R,children:[f.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{stroke:"#ffffff20"}}),f.jsx(fn,{type:"monotone",dataKey:"rate",name:"Tasso di Successo",stroke:"#ec4899",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#1f1f1f"},activeDot:{r:6,fill:"#ec4899"}})]})})})]}),f.jsxs(Fe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Er,{className:"w-5 h-5 text-indigo-500"}),f.jsx(Je,{children:"Evoluzione Interessi (Categorie)"})]}),f.jsx(jn,{children:"Come sono cambiati i tuoi focus nel corso degli anni"})]}),f.jsx(qe,{className:"h-[300px] sm:h-[400px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(ec,{data:F,children:[f.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Qt,{dataKey:"year",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),f.jsx(Vr,{}),Object.entries(y).map(([U,L])=>{const M=t(U==="null"?null:U),H=U==="null"?"Generale":qr[U]||U;return U==="null"||!(U!=="null"&&M===H)?f.jsx(Dt,{dataKey:U,name:M,stackId:"a",fill:L},U):null})]})})})]})]})]})}const S=typeof e=="string"?parseInt(e):e,w=Array.from({length:12},(O,N)=>({name:new Date(S,N).toLocaleString("it-IT",{month:"short"}),monthIndex:N+1,total:0,completed:0,failed:0,active:0,rate:0,cumulativeTotal:0,cumulativeCompleted:0}));let j=0,E=0;l.forEach(O=>{let N=0;O.month&&(N=O.month-1),N<0&&(N=0),N>11&&(N=11),w[N].total++,O.status==="completed"?w[N].completed++:O.status==="failed"?w[N].failed++:w[N].active++}),w.forEach(O=>{O.rate=O.total>0?Math.round(O.completed/O.total*100):0,j+=O.total,E+=O.completed,O.cumulativeTotal=j,O.cumulativeCompleted=E});const C=[1,2,3,4].map(O=>({name:`Q${O}`,quarterIndex:O,total:0,completed:0,rate:0}));r.filter(O=>O.quarter).forEach(O=>{if(O.quarter&&O.quarter>=1&&O.quarter<=4){const N=O.quarter-1;C[N].total++,O.status==="completed"&&C[N].completed++}}),C.forEach(O=>{O.rate=O.total>0?Math.round(O.completed/O.total*100):0});const P=[...w].filter(O=>O.total>0).sort((O,N)=>N.rate-O.rate||N.completed-O.completed)[0];return f.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[f.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[f.jsxs(Fe,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-purple-400",children:"Punto di Forza"}),f.jsx(Su,{className:"h-4 w-4 text-purple-500"})]}),f.jsxs(qe,{children:[f.jsx("div",{className:"text-2xl font-bold text-white",children:g?.subject||"N/A"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:g?`${g.A}% di completamento`:"Nessun dato"})]})]}),f.jsxs(Fe,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-amber-400",children:"Mese Migliore"}),f.jsx(to,{className:"h-4 w-4 text-amber-500"})]}),f.jsxs(qe,{children:[f.jsx("div",{className:"text-2xl font-bold text-white",children:P?.name||"N/A"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:P?`${P.rate}% di successo (${P.completed}/${P.total})`:"Nessuna attivit"})]})]}),f.jsxs(Fe,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/20",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-emerald-400",children:"Tipologia Efficace"}),f.jsx(GS,{className:"h-4 w-4 text-emerald-500"})]}),f.jsxs(qe,{children:[f.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:h.total>0?h.type:"N/A"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:h.total>0?`${h.rate}% di successo`:"Dati insufficienti"})]})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Totale"}),f.jsx(Gn,{className:"h-4 w-4 text-primary"})]}),f.jsx(qe,{children:f.jsx("div",{className:"text-2xl font-bold text-white",children:i})})]}),f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Completati"}),f.jsx(Md,{className:"h-4 w-4 text-green-500"})]}),f.jsx(qe,{children:f.jsx("div",{className:"text-2xl font-bold text-white",children:a})})]}),f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Successo"}),f.jsx(to,{className:"h-4 w-4 text-yellow-500"})]}),f.jsx(qe,{children:f.jsxs("div",{className:"text-2xl font-bold text-white",children:[o,"%"]})})]}),f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Trend"}),f.jsx(Er,{className:"h-4 w-4 text-blue-500"})]}),f.jsx(qe,{children:f.jsx("div",{className:"text-2xl font-bold text-white",children:E>0?"In Crescita":"Stabile"})})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[f.jsxs(Fe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(S6,{className:"w-5 h-5 text-orange-500"}),f.jsx(Je,{children:"Velocit di Esecuzione (Cumulativa)"})]}),f.jsx(jn,{children:"Confronto tra obiettivi pianificati e completati nel tempo"})]}),f.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs($F,{data:w,children:[f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),f.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),f.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10"}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),f.jsx(mn,{type:"monotone",dataKey:"cumulativeTotal",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorTotal)",name:"Obiettivi Totali"}),f.jsx(mn,{type:"monotone",dataKey:"cumulativeCompleted",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorCompleted)",name:"Obiettivi Completati"})]})})})]}),f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Gn,{className:"w-5 h-5 text-cyan-500"}),f.jsx(Je,{children:"Performance Categorie"})]}),f.jsx(jn,{children:"Tasso di successo per categoria"})]}),f.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(Qw,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[f.jsx(ah,{stroke:"#ffffff20"}),f.jsx(ba,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),f.jsx(xo,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),f.jsx(wo,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:O=>[`${O}%`,"Successo"]})]})})})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Qe,{children:[f.jsx(Je,{children:"Attivit Trimestrale"}),f.jsx(jn,{children:"Progressione Q1 - Q4"})]}),f.jsx(qe,{className:"h-[300px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(ec,{data:C,children:[f.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},cursor:{fill:"#ffffff05"}}),f.jsx(tn,{stroke:"#ffffff10",vertical:!1}),f.jsx(Dt,{dataKey:"total",name:"Pianificati",fill:"#f59e0b",radius:[4,4,0,0],barSize:30,fillOpacity:.7}),f.jsx(Dt,{dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),f.jsxs(Fe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Qe,{children:f.jsx(Je,{children:"Attivit Mensile"})}),f.jsx(qe,{className:"h-[300px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(bu,{data:w,children:[f.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),f.jsx(tn,{stroke:"#ffffff10"}),f.jsx(Dt,{dataKey:"total",barSize:20,fill:"#413ea0",radius:[4,4,0,0],name:"Creati"}),f.jsx(fn,{type:"monotone",dataKey:"completed",stroke:"#ff7300",strokeWidth:2,name:"Completati"})]})})})]}),f.jsxs(Fe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Qe,{children:f.jsx(Je,{children:"Distribuzione Categorie"})}),f.jsx(qe,{className:"h-[300px]",children:f.jsx(dr,{width:"100%",height:"100%",children:f.jsxs(R1e,{children:[f.jsx(qi,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:b.map((O,N)=>f.jsx(vl,{fill:O.fill},`cell-${N}`))}),f.jsx(kt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),f.jsx(Vr,{formatter:(O,N)=>f.jsx("span",{style:{color:"#ccc"},children:O})})]})})})]})]})]})}function A_e(){const{settings:e,updateSettings:t}=DS(),[r,n]=_.useState({}),[i,a]=_.useState(!1);_.useEffect(()=>{i&&e?.mappings?n(e.mappings):i&&n({})},[i,e]);const o=()=>{t(r),a(!1)},s=(u,d)=>{n(p=>{const h=p[u],v=typeof h=="object"?h.color:rc[u]||"";return{...p,[u]:{label:d,color:v}}})},l=(u,d)=>{n(p=>{const h=p[u],v=typeof h=="object"?h.label:typeof h=="string"?h:qr[u]||"";return{...p,[u]:{label:v,color:d}}})},c=u=>{const d=r[u];return d?typeof d=="string"?{label:d,color:rc[u]||""}:d:{label:qr[u]||"",color:rc[u]||""}};return f.jsxs(cp,{open:i,onOpenChange:a,children:[f.jsx(K1,{asChild:!0,children:f.jsx(Ge,{variant:"outline",size:"icon",title:"Impostazioni Categorie",className:"h-10 w-10 sm:h-9 sm:w-9",children:f.jsx(E6,{className:"w-4 h-4"})})}),f.jsxs(Au,{className:"sm:max-w-[425px] flex flex-col max-h-[85vh] p-0 gap-0 bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground",children:[f.jsxs(up,{className:"p-6 pb-2 shrink-0",children:[f.jsx(Ou,{children:"Personalizza Categorie"}),f.jsx(Cu,{children:"Personalizza i colori e le etichette per i tuoi obiettivi."})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-4",children:[f.jsx("div",{className:"space-y-2",children:Array.from(new Set([...Object.keys(qr),...Object.keys(r)])).filter(u=>{const d=r[u];return!(d&&typeof d!="string"&&d.archived)}).map(u=>{const{label:d,color:p}=c(u),h=u in qr;return f.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/5 group",children:[f.jsx(X1,{value:p||"hsl(0 0% 50%)",onChange:v=>l(u,v),showValueLabel:!1,className:"w-10"}),f.jsx(va,{id:u,value:d,placeholder:qr[u]||"Nuova Categoria",onChange:v=>s(u,v.target.value),className:"h-9 bg-black/20 border-white/10"}),!h&&f.jsxs(ro,{children:[f.jsx(ys,{asChild:!0,children:f.jsx(Ge,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),f.jsxs(sa,{children:[f.jsxs(la,{children:[f.jsx(ua,{children:"Sei sicuro?"}),f.jsx(da,{children:"Questa azione archivier la categoria. Verr rimossa dalle opzioni future, ma lo storico rimarr accessibile."})]}),f.jsxs(ca,{children:[f.jsx(po,{children:"Annulla"}),f.jsx(fa,{onClick:()=>{n(v=>{const m=v[u],g=typeof m=="object"?m.label:typeof m=="string"?m:qr[u]||"",y=typeof m=="object"?m.color:rc[u]||"";return{...v,[u]:{label:g,color:y||"hsl(0 0% 50%)",archived:!0}}})},children:"Elimina"})]})]})]})]},u)})}),f.jsx(Ge,{variant:"outline",className:"w-full border-dashed border-white/20 hover:border-white/40 hover:bg-white/5",onClick:()=>{const u=`custom_${Date.now()}`;n(d=>({...d,[u]:{label:"Nuova Categoria",color:"hsl(0 0% 50%)"}}))},children:"+ Aggiungi Categoria"})]}),f.jsx(PM,{className:"p-6 pt-2 shrink-0",children:f.jsx(Ge,{type:"submit",onClick:o,className:"w-full",children:"Salva Modifiche"})})]})]})}function O_e(){const e=xa(),[t,r]=_.useState(!1),[n,i]=_.useState(!1);return{exportBackup:async(s={scope:"all"})=>{r(!0);try{const{data:{user:l}}=await be.auth.getUser();if(!l)throw new Error("Not authenticated");let c=be.from("long_term_goals").select("*").eq("user_id",l.id);s.scope==="year"&&s.year&&(c=c.eq("year",s.year));const{data:u,error:d}=await c;if(d)throw d;const{data:p,error:h}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();if(h&&h.code!=="PGRST116")throw h;const v={version:1,timestamp:new Date().toISOString(),goals:u||[],settings:p||null},m=s.scope==="all"?`habit_tracker_FULL_backup_${new Date().toISOString().split("T")[0]}.json`:`habit_tracker_${s.year}_backup.json`,g=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),y=URL.createObjectURL(g),b=document.createElement("a");b.href=y,b.download=m,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(y),Ue.success("Backup scaricato con successo")}catch(l){console.error("Export failed:",l),Ue.error(`Errore durante l'export: ${l.message}`)}finally{r(!1)}},importBackup:async s=>(i(!0),new Promise(l=>{const c=new FileReader;c.onload=async u=>{try{const d=u.target?.result;if(!d){l(null);return}const p=JSON.parse(d);if(!p.version||!Array.isArray(p.goals))throw new Error("Formato file non valido (manca versione o goals)");const{data:{user:h}}=await be.auth.getUser();if(!h)throw new Error("Not authenticated");const{data:v,error:m}=await be.from("long_term_goals").select("*").eq("user_id",h.id);if(m)throw m;const g=new Map(v?.map(E=>[E.id,E])),y=new Set,b=[],x=[];let S=0;const w=[];for(const E of p.goals){let C={...E};!C.status&&C.is_completed!==void 0?(C.status=C.is_completed?"completed":"active",delete C.is_completed):C.status||(C.status="active");let P={...C,user_id:h.id},O=g.get(P.id);if(!O){const N=v?.find(T=>!y.has(T.id)&&T.title===P.title&&T.type===P.type&&T.year===P.year);N&&(O=N,P.id=N.id)}O?(y.add(O.id),O.title!==P.title||O.status!==P.status||O.type!==P.type||O.year!==P.year||O.month!==P.month||O.week_number!==P.week_number||O.color!==P.color?(x.push(P),w.push(P)):S++):(b.push(P),w.push(P))}if(w.length>0){const{error:E}=await be.from("long_term_goals").upsert(w);if(E)throw E}let j=!1;if(p.settings){const{data:E}=await be.from("goal_category_settings").select("*").eq("user_id",h.id).single(),C=E,P={user_id:h.id,mappings:p.settings.mappings};(!C||JSON.stringify(C.mappings)!==JSON.stringify(P.mappings))&&(C?await be.from("goal_category_settings").update({mappings:P.mappings}).eq("id",C.id):await be.from("goal_category_settings").insert(P),j=!0)}await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),l({totalProcessed:p.goals.length,restored:b,updated:x,unchanged:S,settingsUpdated:j})}catch(d){console.error("Import failed:",d),Ue.error(`Errore durante l'importazione: ${d.message}`),l(null)}finally{i(!1)}},c.readAsText(s)})),isExporting:t,isImporting:n}}var MS="Radio",[C_e,wz]=Ar(MS),[P_e,T_e]=C_e(MS),_z=_.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:l,form:c,...u}=e,[d,p]=_.useState(null),h=$e(t,g=>p(g)),v=_.useRef(!1),m=d?c||!!d.closest("form"):!0;return f.jsxs(P_e,{scope:r,checked:i,disabled:o,children:[f.jsx(ke.button,{type:"button",role:"radio","aria-checked":i,"data-state":kz(i),"data-disabled":o?"":void 0,disabled:o,value:s,...u,ref:h,onClick:Ee(e.onClick,g=>{i||l?.(),m&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),m&&f.jsx(Ez,{control:d,bubbles:!v.current,name:n,value:s,checked:i,required:a,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});_z.displayName=MS;var Sz="RadioIndicator",jz=_.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=T_e(Sz,r);return f.jsx(Di,{present:n||a.checked,children:f.jsx(ke.span,{"data-state":kz(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});jz.displayName=Sz;var N_e="RadioBubbleInput",Ez=_.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=_.useRef(null),s=$e(o,a),l=Ep(r),c=Wh(t);return _.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&h){const v=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(v)}},[l,r,n]),f.jsx(ke.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ez.displayName=N_e;function kz(e){return e?"checked":"unchecked"}var R_e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hm="RadioGroup",[I_e]=Ar(hm,[Sp,wz]),Az=Sp(),Oz=wz(),[D_e,M_e]=I_e(hm),Cz=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...p}=e,h=Az(r),v=cl(c),[m,g]=ti({prop:a,defaultProp:i??null,onChange:d,caller:hm});return f.jsx(D_e,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:g,children:f.jsx(nL,{asChild:!0,...h,orientation:l,dir:v,loop:u,children:f.jsx(ke.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:v,...p,ref:t})})})});Cz.displayName=hm;var Pz="RadioGroupItem",Tz=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=M_e(Pz,r),o=a.disabled||n,s=Az(r),l=Oz(r),c=_.useRef(null),u=$e(t,c),d=a.value===i.value,p=_.useRef(!1);return _.useEffect(()=>{const h=m=>{R_e.includes(m.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",v)}},[]),f.jsx(iL,{asChild:!0,...s,focusable:!o,active:d,children:f.jsx(_z,{disabled:o,required:a.required,checked:d,...l,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:Ee(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Ee(i.onFocus,()=>{p.current&&c.current?.click()})})})});Tz.displayName=Pz;var $_e="RadioGroupIndicator",Nz=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=Oz(r);return f.jsx(jz,{...i,...n,ref:t})});Nz.displayName=$_e;var Rz=Cz,Iz=Tz,L_e=Nz;const Dz=_.forwardRef(({className:e,...t},r)=>f.jsx(Rz,{className:ae("grid gap-2",e),...t,ref:r}));Dz.displayName=Rz.displayName;const n1=_.forwardRef(({className:e,...t},r)=>f.jsx(Iz,{ref:r,className:ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:f.jsx(L_e,{className:"flex items-center justify-center",children:f.jsx(o6,{className:"h-2.5 w-2.5 fill-current text-current"})})}));n1.displayName=Iz.displayName;function B_e(){const[e,t]=_.useState(new Date().getFullYear().toString()),[r,n]=_.useState(tV(new Date)),[i,a]=_.useState(new Date().getMonth()+1),[o,s]=_.useState(a7(new Date,{weekStartsOn:1})),[l,c]=_.useState("weekly"),[u,d]=_.useState("all"),[p,h]=_.useState(null),[v,m]=_.useState(""),[g,y]=_.useState(null),b=xa(),[x,S]=_.useState({}),w=_.useRef({});_.useEffect(()=>()=>{Object.values(w.current).forEach(clearTimeout)},[]);const{getLabel:j,getColor:E,activeCategoryLabels:C}=DS(),{isPrivacyMode:P}=tp(),O=A=>{const K=E(A);return K?K.startsWith("hsl")?{backgroundColor:K.replace(")"," / 0.15)"),borderColor:K.replace(")"," / 0.3)")}:{borderColor:K}:{}},N=A=>E(A)||"transparent",T=A=>"bg-card/20 border-white/5 hover:bg-card/40 relative overflow-hidden",D=[{value:1,label:"1 Trimestre (Q1)"},{value:2,label:"2 Trimestre (Q2)"},{value:3,label:"3 Trimestre (Q3)"},{value:4,label:"4 Trimestre (Q4)"}],k=Object.keys(C).sort((A,K)=>{const V=["red","orange","yellow","green","blue","purple","pink","cyan"],W=V.indexOf(A),q=V.indexOf(K);return W!==-1&&q!==-1?W-q:W!==-1?-1:q!==-1?1:A.localeCompare(K)}),{data:R,isLoading:F}=ni({queryKey:["longTermGoals",l,e,r,i,o],queryFn:async()=>{let A=be.from("long_term_goals").select("*").eq("type",l).order("status",{ascending:!0}).order("color",{ascending:!0}).order("created_at",{ascending:!0});e!=="all"&&l!=="lifetime"&&(A=A.eq("year",parseInt(e))),l==="quarterly"?A=A.eq("quarter",r):l==="monthly"?A=A.eq("month",i):l==="weekly"&&(A=A.eq("month",i).eq("week_number",o));const{data:K,error:V}=await A;if(V)throw V;return K},enabled:l!=="stats"}),B=an({mutationFn:async({title:A,color:K})=>{const{data:{user:V}}=await be.auth.getUser();if(!V)throw new Error("Not authenticated");const W={user_id:V.id,title:A,type:l,year:l==="lifetime"?null:e==="all"?new Date().getFullYear():parseInt(e),quarter:l==="quarterly"?r:null,month:l==="monthly"||l==="weekly"?i:null,week_number:l==="weekly"?o:null,status:"active",color:K},{data:q,error:G}=await be.from("long_term_goals").insert(W).select().single();if(G)throw G;return q},onSuccess:()=>{m(""),y(null),b.invalidateQueries({queryKey:["longTermGoals"]}),Ue.success("Obiettivo creato!")},onError:A=>{Ue.error(`Errore durante la creazione: ${A.message}`)}}),U=an({mutationFn:async({id:A,status:K})=>{const{error:V}=await be.from("long_term_goals").update({status:K}).eq("id",A);if(V)throw V},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})}}),L=an({mutationFn:async({id:A,color:K})=>{const{error:V}=await be.from("long_term_goals").update({color:K}).eq("id",A);if(V)throw V},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})},onError:()=>{Ue.error("Errore aggiornamento colore")}}),M=an({mutationFn:async A=>{const{error:K}=await be.from("long_term_goals").delete().eq("id",A);if(K)throw K},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]}),Ue.success("Obiettivo eliminato")}}),H=A=>{A.preventDefault(),v.trim()&&B.mutate({title:v,color:g})},z=_.useRef(null),{exportBackup:$,importBackup:Q,isExporting:Z,isImporting:fe}=O_e(),le=()=>{z.current?.click()},ue=async A=>{const K=A.target.files?.[0];if(!K)return;const V=await Q(K);V&&h(V),z.current&&(z.current.value="")},ee=[{value:1,label:"Gennaio"},{value:2,label:"Febbraio"},{value:3,label:"Marzo"},{value:4,label:"Aprile"},{value:5,label:"Maggio"},{value:6,label:"Giugno"},{value:7,label:"Luglio"},{value:8,label:"Agosto"},{value:9,label:"Settembre"},{value:10,label:"Ottobre"},{value:11,label:"Novembre"},{value:12,label:"Dicembre"}],{data:te}=ni({queryKey:["longTermGoals","minYear"],queryFn:async()=>{const{data:A,error:K}=await be.from("long_term_goals").select("year").order("year",{ascending:!0}).limit(1).single();return K&&K.code!=="PGRST116"&&console.error("Error fetching min year:",K),A?.year||2022}}),ce=te||2022,J=new Date().getFullYear(),ne=Array.from({length:J+5-ce+1},(A,K)=>ce+K);return f.jsxs("div",{className:"space-y-6 animate-fade-in p-2 md:p-0",children:[f.jsx(ro,{open:!!p,onOpenChange:A=>!A&&h(null),children:f.jsxs(sa,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[f.jsxs(la,{children:[f.jsx(ua,{children:"Rapporto Importazione"}),f.jsx(da,{children:"Ecco il dettaglio delle modifiche apportate ai tuoi dati."})]}),f.jsxs("div",{className:"space-y-6 py-4",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[f.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:p?.restored.length||0}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Nuovi"})]}),f.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[f.jsx("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:p?.updated.length||0}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Modificati"})]}),f.jsxs("div",{className:"p-4 bg-slate-500/10 border border-slate-500/20 rounded-xl flex flex-col items-center justify-center text-center opacity-70",children:[f.jsx("span",{className:"text-3xl font-bold text-slate-600 dark:text-slate-400",children:p?.unchanged||0}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Invariati"})]})]}),p?.settingsUpdated&&f.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[f.jsx("span",{className:"flex h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),f.jsx("span",{children:"Le impostazioni delle categorie sono state aggiornate con successo."})]}),f.jsxs("div",{className:"space-y-6",children:[p?.restored&&p.restored.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600 dark:text-green-400",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiunti / Ripristinati"]}),f.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-100 dark:border-green-900/30",children:Object.entries(p.restored.reduce((A,K)=>{const V=j(K.color||"default");return A[V]||(A[V]=[]),A[V].push(K),A},{})).map(([A,K])=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:A}),f.jsx("div",{className:"grid gap-2",children:K.map(V=>f.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[f.jsx("span",{className:"font-medium",children:V.title}),f.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[V.year,"  ",V.type]})]},V.id))})]},A))})]}),p?.updated&&p.updated.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiornati"]}),f.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-amber-100 dark:border-amber-900/30",children:Object.entries(p.updated.reduce((A,K)=>{const V=j(K.color||"default");return A[V]||(A[V]=[]),A[V].push(K),A},{})).map(([A,K])=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:A}),f.jsx("div",{className:"grid gap-2",children:K.map(V=>f.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[f.jsx("span",{className:"font-medium",children:V.title}),f.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[V.year,"  ",V.type]})]},V.id))})]},A))})]})]})]}),f.jsx(ca,{children:f.jsx(fa,{onClick:()=>h(null),children:"Chiudi Report"})})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex justify-center w-full",children:f.jsx(us,{value:l,onValueChange:A=>c(A),className:"w-full max-w-2xl",children:f.jsxs(no,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 w-full h-auto p-1 bg-secondary/30 backdrop-blur-sm border border-white/5 gap-1",children:[f.jsx(vt,{value:"lifetime",className:"w-full col-span-2 sm:col-span-1",children:"Lifetime"}),f.jsx(vt,{value:"annual",className:"w-full",children:"Annuale"}),f.jsx(vt,{value:"quarterly",className:"w-full",children:"Trimestrale"}),f.jsx(vt,{value:"monthly",className:"w-full",children:"Mensile"}),f.jsx(vt,{value:"weekly",className:"w-full",children:"Settimanale"}),f.jsxs(vt,{value:"stats",className:"w-full gap-2 col-span-2 sm:col-span-1",children:[f.jsx(l1,{className:"w-4 h-4"})," Stats"]})]})})}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 p-4 rounded-2xl bg-card/40 border border-white/5 backdrop-blur-xl transition-all duration-300",children:[f.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-2 w-full md:w-auto",children:[f.jsxs(Wn,{value:e,onValueChange:A=>t(A),children:[f.jsx(An,{className:"w-[120px] bg-background/40 border-white/5",children:f.jsx(ia,{placeholder:"Anno"})}),f.jsxs(On,{children:[f.jsxs($t,{value:"all",className:"font-bold text-primary",children:["Dal ",ce]}),ne.map(A=>f.jsx($t,{value:A.toString(),className:ae(A<J&&"text-muted-foreground italic"),children:A},A))]})]}),l==="quarterly"&&f.jsxs(Wn,{value:r.toString(),onValueChange:A=>n(parseInt(A)),children:[f.jsx(An,{className:"w-[160px] bg-background/40 border-white/5",children:f.jsx(ia,{placeholder:"Trimestre"})}),f.jsx(On,{children:D.map(A=>f.jsx($t,{value:A.value.toString(),children:A.label},A.value))})]}),(l==="monthly"||l==="weekly")&&f.jsxs(Wn,{value:i.toString(),onValueChange:A=>{a(parseInt(A)),s(1)},children:[f.jsx(An,{className:"w-[140px] bg-background/40 border-white/5",children:f.jsx(ia,{placeholder:"Mese"})}),f.jsx(On,{children:ee.map(A=>f.jsx($t,{value:A.value.toString(),className:ae(e!=="all"&&parseInt(e)<J||e===J.toString()&&A.value<new Date().getMonth()+1&&"text-muted-foreground italic"),children:A.label},A.value))})]}),l==="weekly"&&f.jsxs(Wn,{value:o.toString(),onValueChange:A=>s(parseInt(A)),children:[f.jsx(An,{className:"w-[140px] bg-background/40 border-white/5",children:f.jsx(ia,{placeholder:"Settimana"})}),f.jsx(On,{children:Array.from({length:s7(new Date(e==="all"?J:parseInt(e),i-1,1),{weekStartsOn:1})},(A,K)=>K+1).map(A=>f.jsxs($t,{value:A.toString(),className:ae(e!=="all"&&parseInt(e)<J||e===J.toString()&&i<new Date().getMonth()+1&&"text-muted-foreground italic"),children:["Settimana ",A]},A))})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(ro,{children:[f.jsx(ys,{asChild:!0,children:f.jsx(Ge,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Esporta Backup (JSON)",children:f.jsx(Fh,{className:"w-4 h-4 text-muted-foreground"})})}),f.jsxs(sa,{className:"sm:max-w-md",children:[f.jsxs(la,{children:[f.jsx(ua,{children:"Backup Obiettivi"}),f.jsx(da,{children:"Crea un backup dei tuoi obiettivi e impostazioni. I file sono in formato JSON."})]}),f.jsx("div",{className:"py-4",children:f.jsxs(Dz,{value:u,onValueChange:A=>d(A),children:[f.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("all"),children:[f.jsx(n1,{value:"all",id:"r1"}),f.jsxs(Mn,{htmlFor:"r1",className:"cursor-pointer flex-1",children:[f.jsx("div",{className:"font-medium",children:"Esporta Tutto"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Tutti gli anni, mesi e impostazioni"})]})]}),f.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("year"),children:[f.jsx(n1,{value:"year",id:"r2"}),f.jsxs(Mn,{htmlFor:"r2",className:"cursor-pointer flex-1",children:[f.jsxs("div",{className:"font-medium",children:["Solo ",e==="all"?J:e]}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Solo obiettivi di questo anno e impostazioni"})]})]})]})}),f.jsxs(ca,{children:[f.jsx(po,{children:"Annulla"}),f.jsxs(fa,{onClick:()=>$({scope:u,year:e==="all"?J:parseInt(e)}),disabled:Z,children:[Z?f.jsx(Tn,{className:"w-4 h-4 animate-spin mr-2"}):null,"Scarica Backup"]})]})]})]}),f.jsx(Ge,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Ripristina da Backup (JSON)",onClick:le,disabled:fe,children:fe?f.jsx(Tn,{className:"w-4 h-4 animate-spin"}):f.jsx(TR,{className:"w-4 h-4 text-muted-foreground"})}),f.jsx("input",{type:"file",ref:z,onChange:ue,accept:".json",className:"hidden"}),f.jsx("div",{className:"ml-1",children:f.jsx(A_e,{})})]})]}),l!=="stats"&&f.jsxs("div",{className:ae("text-2xl font-bold tracking-tight text-white flex items-center gap-3 transition-all duration-300 pl-2",P&&"blur-sm"),children:[l==="lifetime"&&f.jsx("span",{className:"text-emerald-400",children:"Lifetime"}),l==="annual"&&f.jsx("span",{className:"text-primary",children:e==="all"?"Tutti gli anni":e}),l==="quarterly"&&f.jsxs("span",{className:"text-amber-500",children:["Q",r," ",e!=="all"&&e]}),l==="monthly"&&f.jsx("span",{className:"text-blue-400",children:ee.find(A=>A.value===i)?.label}),l==="weekly"&&f.jsxs("span",{className:"text-purple-400",children:["Settimana ",o]}),f.jsx("span",{className:"text-muted-foreground text-lg font-normal",children:l==="lifetime"?"Obiettivi a Lungo Termine":l==="annual"?"Obiettivi Annuali":l==="quarterly"?"Obiettivi Trimestrali":l==="monthly"?"Obiettivi Mensili":"Obiettivi Settimanali"})]})]}),l==="stats"?f.jsx(k_e,{year:e}):f.jsxs("div",{className:ae("transition-all duration-300",P&&"blur-sm"),children:[f.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[f.jsx(va,{className:"flex-1 bg-background/50",placeholder:`Aggiungi obiettivo ${l==="lifetime"?"lifetime":l==="annual"?"annuale":l==="quarterly"?"trimestrale":l==="monthly"?"mensile":"settimanale"}...`,value:v,onChange:A=>m(A.target.value)}),f.jsxs(Wn,{value:g||"null",onValueChange:A=>y(A==="null"?null:A),children:[f.jsx(An,{className:"w-[50px] px-2 bg-background/50 border-input",children:f.jsx("div",{className:"flex items-center justify-center w-full",children:f.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:g?N(g):"transparent"}})})}),f.jsxs(On,{align:"end",children:[f.jsx($t,{value:"null",children:"Nessun Colore"}),k.map(A=>f.jsx($t,{value:A,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:N(A)}}),j(A)]})},A))]})]}),f.jsx(Ge,{type:"submit",disabled:B.isPending,children:B.isPending?f.jsx(Tn,{className:"w-4 h-4 animate-spin"}):f.jsx(w0,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"space-y-2 mt-2",children:F?f.jsx("div",{className:"flex justify-center p-8 text-muted-foreground",children:f.jsx(Tn,{className:"w-6 h-6 animate-spin"})}):R?.length===0?f.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:"Nessun obiettivo impostato per questo periodo."}):R?.map((A,K)=>{const V=x[A.id]||A.status,W=R[K-1],q=A.status==="completed"&&(!W||W.status!=="completed"),G=A.status==="failed"&&(!W||W.status!=="failed"),ie=()=>{w.current[A.id]&&clearTimeout(w.current[A.id]);const re=x[A.id]||A.status,X=re==="active"?"completed":re==="completed"?"failed":"active";S(de=>({...de,[A.id]:X})),w.current[A.id]=setTimeout(()=>{U.mutate({id:A.id,status:X},{onSuccess:()=>{S(de=>{const ve={...de};return delete ve[A.id],ve}),delete w.current[A.id]}})},2e3)};return f.jsxs("div",{children:[q&&f.jsxs("div",{className:"flex items-center gap-4 py-6",children:[f.jsx("div",{className:"h-px bg-white/10 flex-1"}),f.jsx("span",{className:"text-xs font-medium text-emerald-500/70 uppercase tracking-widest",children:"Completati"}),f.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),G&&f.jsxs("div",{className:"flex items-center gap-4 py-6",children:[f.jsx("div",{className:"h-px bg-white/10 flex-1"}),f.jsx("span",{className:"text-xs font-medium text-destructive/70 uppercase tracking-widest",children:"Falliti"}),f.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),f.jsxs("div",{className:ae("group flex items-center gap-3 p-4 rounded-xl border transition-all duration-300",V==="completed"?"opacity-60 bg-emerald-500/5 border-emerald-500/10":V==="failed"?"opacity-60 bg-destructive/5 border-destructive/10":T(A.color)),style:V==="active"?O(A.color):{},children:[f.jsxs("div",{onClick:ie,className:ae("w-5 h-5 rounded flex items-center justify-center border cursor-pointer transition-all duration-300 hover:scale-110",V==="active"&&"border-white/20 hover:border-white/40",V==="completed"&&"bg-emerald-500 border-emerald-500 text-white",V==="failed"&&"bg-destructive border-destructive text-white"),children:[V==="active"&&f.jsx("div",{className:"w-full h-full"}),V==="completed"&&f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}),V==="failed"&&f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),f.jsx("span",{className:ae("flex-1 font-medium transition-all cursor-pointer duration-300 min-w-0 break-words",V==="completed"&&"text-emerald-500/80 line-through",V==="failed"&&"text-destructive/80 line-through",V==="active"&&"text-foreground"),onClick:ie,children:A.title}),f.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsxs(Wn,{value:A.color||"null",onValueChange:re=>L.mutate({id:A.id,color:re==="null"?null:re}),children:[f.jsx(An,{className:"w-[30px] h-[30px] p-0 border-0 bg-transparent focus:ring-0",children:f.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:A.color?N(A.color):"rgba(255,255,255,0.2)"}})}),f.jsxs(On,{align:"end",children:[f.jsx($t,{value:"null",children:"Nessun Colore"}),k.map(re=>f.jsx($t,{value:re,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:N(re)}}),j(re)]})},re))]})]}),f.jsxs(ro,{children:[f.jsx(ys,{asChild:!0,children:f.jsx(Ge,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 hover:text-destructive h-8 w-8",children:f.jsx(d1,{className:"w-4 h-4"})})}),f.jsxs(sa,{children:[f.jsxs(la,{children:[f.jsx(ua,{children:"Eliminare questo obiettivo?"}),f.jsx(da,{children:"Questa azione non pu essere annullata. L'obiettivo verr rimosso permanentemente."})]}),f.jsxs(ca,{children:[f.jsx(po,{children:"Annulla"}),f.jsx(fa,{onClick:()=>M.mutate(A.id),children:"Elimina"})]})]})]})]})]})]},A.id)})})]})]})}const F_e=()=>f.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[1200px] mx-auto",children:[f.jsx("div",{className:"fixed top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsx("div",{className:"mb-8 flex items-center justify-between",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Macro Obiettivi"}),f.jsx("p",{className:"text-muted-foreground",children:"Pianificazione a lungo termine."})]})}),f.jsx("div",{className:"glass-panel p-6 rounded-2xl min-h-[600px]",children:f.jsx(B_e,{})})]}),z_e=xu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),oo=_.forwardRef(({className:e,variant:t,...r},n)=>f.jsx("div",{ref:n,role:"alert",className:ae(z_e({variant:t}),e),...r}));oo.displayName="Alert";const Gd=_.forwardRef(({className:e,...t},r)=>f.jsx("h5",{ref:r,className:ae("mb-1 font-medium leading-none tracking-tight",e),...t}));Gd.displayName="AlertTitle";const so=_.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ae("text-sm [&_p]:leading-relaxed",e),...t}));so.displayName="AlertDescription";const $S="http://localhost:11434";async function q_e(){try{return(await fetch(`${$S}/api/tags`,{method:"GET"})).ok}catch{return!1}}async function U_e(){try{const e=await fetch(`${$S}/api/tags`);if(!e.ok)throw new Error("Failed to fetch models");return(await e.json()).models||[]}catch(e){return console.error("Failed to list models:",e),[]}}async function W_e(e,t,r="weekly",n,i){try{let a="";switch(r){case"weekly":a=`Analizza l'ultima settimana e fornisci:
1. **Risultati Chiave**: I 2-3 principali successi della settimana
2. **Pattern Identificati**: Tendenze e comportamenti ricorrenti (es: "fatica il luned", "ottimo nei weekend")
3. **Suggerimento Principale**: Un'azione concreta e specifica da implementare la prossima settimana`;break;case"monthly":a=`Analizza l'ultimo mese e fornisci:
1. **Panoramica Mensile**: Progressi generali e trend del mese
2. **Abitudini Consolidate**: Quali abitudini sono diventate pi solide
3. **Aree di Miglioramento**: Quali abitudini necessitano pi attenzione
4. **Piano per il Prossimo Mese**: 2-3 obiettivi concreti`;break;case"focus":a=`Fornisci un'analisi rapida e mirata:
1. **Stato Attuale**: Snapshot della situazione odierna
2. **Area Critica**: L'abitudine che necessita attenzione immediata
3. **Quick Win**: Un'azione veloce per oggi che pu fare la differenza`;break}const o=`Sei un coach personale esperto in abitudini e produttivit. ${a}

Usa un tono motivante ma realistico. Sii specifico e basati solo sui dati forniti. Rispondi in italiano.

DATI ABITUDINI:
${e}

REPORT:`,s=await fetch(`${$S}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t,prompt:o,stream:!!n}),signal:i});if(!s.ok)throw new Error(`Ollama API error: ${s.statusText}`);if(n&&s.body){const l=s.body.getReader(),c=new TextDecoder;let u="";for(;;){const{done:d,value:p}=await l.read();if(d)break;const v=c.decode(p).split(`
`).filter(m=>m.trim());for(const m of v)try{const g=JSON.parse(m);g.response&&(u+=g.response,n(g.response))}catch{}}return u}else return(await s.json()).response||""}catch(a){throw a.name==="AbortError"?new Error("Generazione interrotta dall'utente"):(console.error("Failed to generate coach report:",a),a)}}function H_e(e,t,r){const n=Object.keys(t).slice(-7);let i=`### Abitudini Tracciate (${e.length})
`;return e.forEach(a=>{i+=`- ${a.title}
`}),i+=`
### Performance Ultimi 7 Giorni
`,n.forEach(a=>{const o=t[a],s=Object.values(o).filter(c=>c==="done").length,l=Object.keys(o).length;i+=`- ${a}: ${s}/${l} completate
`}),i+=`
### Statistiche Globali
`,i+=`- Tasso di successo: ${r.globalSuccessRate}%
`,i+=`- Migliore streak: ${r.bestStreak} giorni
`,i+=`- Giorni attivi totali: ${r.totalActiveDays}
`,i}const V_e=()=>{const{goals:e,logs:t}=B1(),r=n3(e,t,"weekly"),{isPrivacyMode:n}=tp(),{isAIEnabled:i}=Yh(),a=_.useRef(null),[o,s]=_.useState([]),[l,c]=_.useState(""),[u,d]=_.useState("weekly"),[p,h]=_.useState(!0),[v,m]=_.useState(!1),[g,y]=_.useState(!1),[b,x]=_.useState(""),[S,w]=_.useState(""),[j,E]=_.useState(0);_.useEffect(()=>{C()},[]),_.useEffect(()=>{if(o.length>0){const F=localStorage.getItem("ollama_preferred_model");F&&o.find(B=>B.name===F)?c(F):c(o[0].name)}const R=localStorage.getItem("ollama_report_type");R&&["weekly","monthly","focus"].includes(R)&&d(R)},[o]),_.useEffect(()=>{if(S){const R=S.trim().split(/\s+/).length;E(R)}},[S]);const C=async()=>{h(!0);try{const R=await q_e();if(m(R),R){const F=await U_e();s(F),F.length===0&&Ue.error("Nessun modello installato. Esegui: ollama pull llama3.2")}}catch(R){console.error("Failed to check Ollama:",R)}finally{h(!1)}},P=async()=>{if(!l){Ue.error("Seleziona un modello prima di generare il report");return}y(!0),x(""),w(""),E(0),a.current=new AbortController;try{const R=H_e(e,t,r),F=await W_e(R,l,u,B=>{w(U=>U+B)},a.current.signal);x(F),Ue.success("Report generato con successo!")}catch(R){console.error("Failed to generate report:",R),R.message?.includes("interrotta")?Ue.info("Generazione interrotta"):Ue.error("Errore durante la generazione del report")}finally{y(!1),a.current=null}},O=()=>{a.current&&(a.current.abort(),y(!1),Ue.info("Generazione arrestata"))},N=R=>{c(R),localStorage.setItem("ollama_preferred_model",R)},T=R=>{d(R),localStorage.setItem("ollama_report_type",R)},D=()=>{if(!b)return;const R=new Blob([b],{type:"text/markdown"}),F=window.URL.createObjectURL(R),B=document.createElement("a");B.href=F,B.download=`ai-coach-report-${u}-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(B),B.click(),window.URL.revokeObjectURL(F),document.body.removeChild(B),Ue.success("Report esportato!")},k=R=>(R/1073741824).toFixed(1)+" GB";return i?f.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl animate-fade-in pb-32 space-y-6",children:[f.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[f.jsx(Si,{className:"w-8 h-8 text-primary"}),"AI Coach"]}),f.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi intelligente delle tue abitudini con Ollama"})]}),p?f.jsxs(oo,{children:[f.jsx(Tn,{className:"h-4 w-4 animate-spin"}),f.jsx(so,{children:"Controllo Ollama..."})]}):v?o.length===0?f.jsxs(oo,{variant:"destructive",children:[f.jsx(Qd,{className:"h-4 w-4"}),f.jsxs(so,{children:["Nessun modello installato. Esegui: ",f.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama pull llama3.2"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs(Fe,{className:"glass-panel",children:[f.jsxs(Qe,{children:[f.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[f.jsx(l6,{className:"w-5 h-5"}),"Configura Analisi"]}),f.jsx(jn,{children:"Seleziona modello e tipo di report"})]}),f.jsxs(qe,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Tipo di Report"}),f.jsxs(Wn,{value:u,onValueChange:T,children:[f.jsx(An,{className:"glass-panel border-white/10",children:f.jsx(ia,{})}),f.jsxs(On,{children:[f.jsx($t,{value:"weekly",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(u1,{className:"w-4 h-4"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Settimanale"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi ultimi 7 giorni"})]})]})}),f.jsx($t,{value:"monthly",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(lo,{className:"w-4 h-4"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Mensile"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Panoramica del mese"})]})]})}),f.jsx($t,{value:"focus",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Su,{className:"w-4 h-4"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Focus Rapido"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi mirata immediata"})]})]})})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Modello AI"}),f.jsxs(Wn,{value:l,onValueChange:N,children:[f.jsx(An,{className:"glass-panel border-white/10",children:f.jsx(ia,{placeholder:"Seleziona modello"})}),f.jsx(On,{children:o.map(R=>f.jsx($t,{value:R.name,children:f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsx("span",{className:"font-medium",children:R.name}),f.jsx("span",{className:"text-xs text-muted-foreground",children:k(R.size)})]})},R.name))})]})]}),f.jsx("div",{className:"flex gap-2",children:g?f.jsxs(Ge,{onClick:O,variant:"destructive",className:"flex-1",size:"lg",children:[f.jsx(i6,{className:"w-4 h-4 mr-2"}),"Ferma Generazione"]}):f.jsxs(Ge,{onClick:P,disabled:!l||n,className:"flex-1",size:"lg",children:[f.jsx(Si,{className:"w-4 h-4 mr-2"}),"Genera Report"]})}),n&&f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Disattiva la modalit privacy per usare l'AI Coach"})]})]}),(S||b)&&f.jsxs(Fe,{className:"glass-panel",children:[f.jsxs(Qe,{className:"flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(Je,{className:"text-lg",children:"Report AI"}),g&&f.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[f.jsx(Tn,{className:"w-3 h-3 animate-spin"}),f.jsxs("span",{className:"font-mono",children:[j," parole generate"]})]})]}),b&&!g&&f.jsxs(Ge,{variant:"outline",size:"sm",onClick:D,children:[f.jsx(Fh,{className:"w-4 h-4 mr-2"}),"Esporta"]})]}),f.jsx(qe,{children:f.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:f.jsx(A5,{remarkPlugins:[Q5],children:g?S:b})})})]})]}):f.jsxs(oo,{variant:"destructive",children:[f.jsx(Qd,{className:"h-4 w-4"}),f.jsxs(so,{children:["Ollama non  attivo. Avvia Ollama con ",f.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama serve"})," e"," ",f.jsx("button",{onClick:C,className:"underline font-semibold",children:"riprova"})]})]})]}):f.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl animate-fade-in pb-32",children:f.jsxs("div",{className:"glass-panel rounded-3xl p-12 text-center space-y-4",children:[f.jsx(wR,{className:"w-16 h-16 mx-auto text-muted-foreground opacity-50"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display font-semibold text-foreground mb-2",children:"AI Coach Disabilitato"}),f.jsx("p",{className:"text-muted-foreground",children:'Attiva lo switch "AI" nel Protocollo per utilizzare questa funzionalit.'})]})]})})};function Rd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var m0={exports:{}};var F2;function K_e(){return F2||(F2=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,i,a){function o(c,u){if(!i[c]){if(!n[c]){var d=typeof Rd=="function"&&Rd;if(!u&&d)return d(c,!0);if(s)return s(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var h=i[c]={exports:{}};n[c][0].call(h.exports,function(v){var m=n[c][1][v];return o(m||v)},h,h.exports,r,n,i,a)}return i[c].exports}for(var s=typeof Rd=="function"&&Rd,l=0;l<a.length;l++)o(a[l]);return o})({1:[function(r,n,i){var a=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,p,h,v,m,g=[],y=0,b=l.length,x=b,S=a.getTypeOf(l)!=="string";y<l.length;)x=b-y,d=S?(c=l[y++],u=y<b?l[y++]:0,y<b?l[y++]:0):(c=l.charCodeAt(y++),u=y<b?l.charCodeAt(y++):0,y<b?l.charCodeAt(y++):0),p=c>>2,h=(3&c)<<4|u>>4,v=1<x?(15&u)<<2|d>>6:64,m=2<x?63&d:64,g.push(s.charAt(p)+s.charAt(h)+s.charAt(v)+s.charAt(m));return g.join("")},i.decode=function(l){var c,u,d,p,h,v,m=0,g=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var b,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&x--,l.charAt(l.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=o.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)c=s.indexOf(l.charAt(m++))<<2|(p=s.indexOf(l.charAt(m++)))>>4,u=(15&p)<<4|(h=s.indexOf(l.charAt(m++)))>>2,d=(3&h)<<6|(v=s.indexOf(l.charAt(m++))),b[g++]=c,h!==64&&(b[g++]=u),v!==64&&(b[g++]=d);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,d,p,h,v){this.compressedSize=u,this.uncompressedSize=d,this.crc32=p,this.compression=h,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,p){return u.pipe(new s).pipe(new l("uncompressedSize")).pipe(d.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),o=(function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l})();n.exports=function(s,l){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?(function(c,u,d,p){var h=o,v=p+d;c^=-1;for(var m=p;m<v;m++)c=c>>>8^h[255&(c^u[m])];return-1^c})(0|l,s,s.length,0):(function(c,u,d,p){var h=o,v=p+d;c^=-1;for(var m=p;m<v;m++)c=c>>>8^h[255&(c^u.charCodeAt(m))];return-1^c})(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),s=r("./utils"),l=r("./stream/GenericWorker"),c=a?"uint8array":"array";function u(d,p){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=p,this.meta={}}i.magic="\b\0",s.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(p){d.push({data:p,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(h,v){var m,g="";for(m=0;m<v;m++)g+=String.fromCharCode(255&h),h>>>=8;return g}function o(h,v,m,g,y,b){var x,S,w=h.file,j=h.compression,E=b!==c.utf8encode,C=s.transformTo("string",b(w.name)),P=s.transformTo("string",c.utf8encode(w.name)),O=w.comment,N=s.transformTo("string",b(O)),T=s.transformTo("string",c.utf8encode(O)),D=P.length!==w.name.length,k=T.length!==O.length,R="",F="",B="",U=w.dir,L=w.date,M={crc32:0,compressedSize:0,uncompressedSize:0};v&&!m||(M.crc32=h.crc32,M.compressedSize=h.compressedSize,M.uncompressedSize=h.uncompressedSize);var H=0;v&&(H|=8),E||!D&&!k||(H|=2048);var z=0,$=0;U&&(z|=16),y==="UNIX"?($=798,z|=(function(Z,fe){var le=Z;return Z||(le=fe?16893:33204),(65535&le)<<16})(w.unixPermissions,U)):($=20,z|=(function(Z){return 63&(Z||0)})(w.dosPermissions)),x=L.getUTCHours(),x<<=6,x|=L.getUTCMinutes(),x<<=5,x|=L.getUTCSeconds()/2,S=L.getUTCFullYear()-1980,S<<=4,S|=L.getUTCMonth()+1,S<<=5,S|=L.getUTCDate(),D&&(F=a(1,1)+a(u(C),4)+P,R+="up"+a(F.length,2)+F),k&&(B=a(1,1)+a(u(N),4)+T,R+="uc"+a(B.length,2)+B);var Q="";return Q+=`
\0`,Q+=a(H,2),Q+=j.magic,Q+=a(x,2),Q+=a(S,2),Q+=a(M.crc32,4),Q+=a(M.compressedSize,4),Q+=a(M.uncompressedSize,4),Q+=a(C.length,2),Q+=a(R.length,2),{fileRecord:d.LOCAL_FILE_HEADER+Q+C+R,dirRecord:d.CENTRAL_FILE_HEADER+a($,2)+Q+a(N.length,2)+"\0\0\0\0"+a(z,4)+a(g,4)+C+R+N}}var s=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),d=r("../signature");function p(h,v,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,l),p.prototype.push=function(h){var v=h.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(v+100*(m-g-1))/m:100}}))},p.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var m=o(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,m=o(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),v)this.push({data:(function(g){return d.DATA_DESCRIPTOR+a(g.crc32,4)+a(g.compressedSize,4)+a(g.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var m=this.bytesWritten-h,g=(function(y,b,x,S,w){var j=s.transformTo("string",w(S));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(y,2)+a(y,2)+a(b,4)+a(x,4)+a(j.length,2)+j})(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(m){v.processChunk(m)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(m){v.error(m)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(h){var v=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<v.length;m++)try{v[m].error(h)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(s,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{s.forEach(function(p,h){d++;var v=(function(b,x){var S=b||x,w=a[S];if(!w)throw new Error(S+" is not a valid compression method !");return w})(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,y=h.date;h._compressWorker(v,m).withStreamInfo("file",{name:p,dir:g,date:y,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),o=r("./external"),s=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function d(p){return new o.Promise(function(h,v){var m=p.decompressed.getContentWorker().pipe(new c);m.on("error",function(g){v(g)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(p,h){var v=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,h.optimizedBinaryString,h.base64).then(function(m){var g=new l(h);return g.load(m),g}).then(function(m){var g=[o.Promise.resolve(m)],y=m.files;if(h.checkCRC32)for(var b=0;b<y.length;b++)g.push(d(y[b]));return o.Promise.all(g)}).then(function(m){for(var g=m.shift(),y=g.files,b=0;b<y.length;b++){var x=y[b],S=x.fileNameStr,w=a.resolve(x.fileNameStr);v.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(v.file(w).unsafeOriginalName=S)}return g.zipComment.length&&(v.comment=g.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function s(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(s,o),s.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function o(s,l,c){a.call(this,l),this._helper=s;var u=this;s.on("data",function(d,p){u.push(d)||u._helper.pause(),c&&c(p)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(w,j,E){var C,P=s.getTypeOf(j),O=s.extend(E||{},u);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(w=y(w)),O.createFolders&&(C=g(w))&&b.call(this,C,!0);var N=P==="string"&&O.binary===!1&&O.base64===!1;E&&E.binary!==void 0||(O.binary=!N),(j instanceof d&&j.uncompressedSize===0||O.dir||!j||j.length===0)&&(O.base64=!1,O.binary=!0,j="",O.compression="STORE",P="string");var T=null;T=j instanceof d||j instanceof l?j:v.isNode&&v.isStream(j)?new m(w,j):s.prepareContent(w,j,O.binary,O.optimizedBinaryString,O.base64);var D=new p(w,T,O);this.files[w]=D}var o=r("./utf8"),s=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),d=r("./compressedObject"),p=r("./zipObject"),h=r("./generate"),v=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),g=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var j=w.lastIndexOf("/");return 0<j?w.substring(0,j):""},y=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},b=function(w,j){return j=j!==void 0?j:u.createFolders,w=y(w),this.files[w]||a.call(this,w,null,{dir:!0,createFolders:j}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var j,E,C;for(j in this.files)C=this.files[j],(E=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&w(E,C)},filter:function(w){var j=[];return this.forEach(function(E,C){w(E,C)&&j.push(C)}),j},file:function(w,j,E){if(arguments.length!==1)return w=this.root+w,a.call(this,w,j,E),this;if(x(w)){var C=w;return this.filter(function(O,N){return!N.dir&&C.test(O)})}var P=this.files[this.root+w];return P&&!P.dir?P:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(P,O){return O.dir&&w.test(P)});var j=this.root+w,E=b.call(this,j),C=this.clone();return C.root=E.name,C},remove:function(w){w=this.root+w;var j=this.files[w];if(j||(w.slice(-1)!=="/"&&(w+="/"),j=this.files[w]),j&&!j.dir)delete this.files[w];else for(var E=this.filter(function(P,O){return O.name.slice(0,w.length)===w}),C=0;C<E.length;C++)delete this.files[E[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var j,E={};try{if((E=s.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");s.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var C=E.comment||this.comment||"";j=h.generateWorker(this,E,C)}catch(P){(j=new l("error")).error(P)}return new c(j,E.type||"string",E.mimeType)},generateAsync:function(w,j){return this.generateInternalStream(w).accumulate(j)},generateNodeStream:function(w,j){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(j)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),d=s.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===d)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),d=s.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&d===p[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,c=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=s,c},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),o=r("../support"),s=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(d){var p=a.getTypeOf(d);return a.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new c(d):o.uint8array?new u(a.transformTo("uint8array",d)):new s(a.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function s(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,a),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,a),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(s,o),s.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=a.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),o=r("./ConvertWorker"),s=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),d=null;if(c.nodestream)try{d=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(v,m){return new u.Promise(function(g,y){var b=[],x=v._internalType,S=v._outputType,w=v._mimeType;v.on("data",function(j,E){b.push(j),m&&m(E)}).on("error",function(j){b=[],y(j)}).on("end",function(){try{var j=(function(E,C,P){switch(E){case"blob":return a.newBlob(a.transformTo("arraybuffer",C),P);case"base64":return l.encode(C);default:return a.transformTo(E,C)}})(S,(function(E,C){var P,O=0,N=null,T=0;for(P=0;P<C.length;P++)T+=C[P].length;switch(E){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(N=new Uint8Array(T),P=0;P<C.length;P++)N.set(C[P],O),O+=C[P].length;return N;case"nodebuffer":return Buffer.concat(C);default:throw new Error("concat : unsupported type '"+E+"'")}})(x,b),w);g(j)}catch(E){y(E)}b=[]}).resume()})}function h(v,m,g){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=g,a.checkSupport(y),this._worker=v.pipe(new o(y)),v.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}h.prototype={accumulate:function(v){return p(this,v)},on:function(v,m){var g=this;return v==="data"?this._worker.on(v,function(y){m.call(g,y.data,y.meta)}):this._worker.on(v,function(){a.delay(m,arguments,g)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?s.newBufferFrom(h,"utf-8"):(function(v){var m,g,y,b,x,S=v.length,w=0;for(b=0;b<S;b++)(64512&(g=v.charCodeAt(b)))==55296&&b+1<S&&(64512&(y=v.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),b++),w+=g<128?1:g<2048?2:g<65536?3:4;for(m=o.uint8array?new Uint8Array(w):new Array(w),b=x=0;x<w;b++)(64512&(g=v.charCodeAt(b)))==55296&&b+1<S&&(64512&(y=v.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),b++),g<128?m[x++]=g:(g<2048?m[x++]=192|g>>>6:(g<65536?m[x++]=224|g>>>12:(m[x++]=240|g>>>18,m[x++]=128|g>>>12&63),m[x++]=128|g>>>6&63),m[x++]=128|63&g);return m})(h)},i.utf8decode=function(h){return o.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):(function(v){var m,g,y,b,x=v.length,S=new Array(2*x);for(m=g=0;m<x;)if((y=v[m++])<128)S[g++]=y;else if(4<(b=c[y]))S[g++]=65533,m+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&m<x;)y=y<<6|63&v[m++],b--;1<b?S[g++]=65533:y<65536?S[g++]=y:(y-=65536,S[g++]=55296|y>>10&1023,S[g++]=56320|1023&y)}return S.length!==g&&(S.subarray?S=S.subarray(0,g):S.length=g),a.applyFromCharCode(S)})(h=a.transformTo(o.uint8array?"uint8array":"array",h))},a.inherits(d,l),d.prototype.processChunk=function(h){var v=a.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=v;(v=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),v.set(m,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var g=(function(b,x){var S;for((x=x||b.length)>b.length&&(x=b.length),S=x-1;0<=S&&(192&b[S])==128;)S--;return S<0||S===0?x:S+c[b[S]]>x?S:x})(v),y=v;g!==v.length&&(o.uint8array?(y=v.subarray(0,g),this.leftOver=v.subarray(g,v.length)):(y=v.slice(0,g),this.leftOver=v.slice(g,v.length))),this.push({data:i.utf8decode(y),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,a.inherits(p,l),p.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),l=r("./external");function c(m){return m}function u(m,g){for(var y=0;y<m.length;++y)g[y]=255&m.charCodeAt(y);return g}r("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,g,y){var b=[],x=0,S=m.length;if(S<=y)return String.fromCharCode.apply(null,m);for(;x<S;)g==="array"||g==="nodebuffer"?b.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+y,S)))):b.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+y,S)))),x+=y;return b.join("")},stringifyByChar:function(m){for(var g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);return g},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}})()}};function p(m){var g=65536,y=i.getTypeOf(m),b=!0;if(y==="uint8array"?b=d.applyCanBeUsed.uint8array:y==="nodebuffer"&&(b=d.applyCanBeUsed.nodebuffer),b)for(;1<g;)try{return d.stringifyByChunk(m,y,g)}catch{g=Math.floor(g/2)}return d.stringifyByChar(m)}function h(m,g){for(var y=0;y<m.length;y++)g[y]=m[y];return g}i.applyFromCharCode=p;var v={};v.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return v.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,s.allocBuffer(m.length))}},v.array={string:p,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},v.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},v.uint8array={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return s.newBufferFrom(m)}},v.nodebuffer={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return v.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var y=i.getTypeOf(g);return v[y][m](g)},i.resolve=function(m){for(var g=m.split("/"),y=[],b=0;b<g.length;b++){var x=g[b];x==="."||x===""&&b!==0&&b!==g.length-1||(x===".."?y.pop():y.push(x))}return y.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(m)?"nodebuffer":a.uint8array&&m instanceof Uint8Array?"uint8array":a.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!a[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,y,b="";for(y=0;y<(m||"").length;y++)b+="\\x"+((g=m.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return b},i.delay=function(m,g,y){setImmediate(function(){m.apply(y||null,g||[])})},i.inherits=function(m,g){function y(){}y.prototype=g.prototype,m.prototype=new y},i.extend=function(){var m,g,y={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&y[g]===void 0&&(y[g]=arguments[m][g]);return y},i.prepareContent=function(m,g,y,b,x){return l.Promise.resolve(g).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,j){var E=new FileReader;E.onload=function(C){w(C.target.result)},E.onerror=function(C){j(C.target.error)},E.readAsArrayBuffer(S)}):S}).then(function(S){var w=i.getTypeOf(S);return w?(w==="arraybuffer"?S=i.transformTo("uint8array",S):w==="string"&&(x?S=o.decode(S):y&&b!==!0&&(S=(function(j){return u(j,a.uint8array?new Uint8Array(j.length):new Array(j.length))})(S))),S):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(d)+")")}},isSignature:function(d,p){var h=this.reader.index;this.reader.setIndex(d);var v=this.reader.readString(4)===p;return this.reader.setIndex(h),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",h=o.transformTo(p,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,p,h,v=this.zip64EndOfCentralSize-44;0<v;)d=this.reader.readInt(2),p=this.reader.readInt(4),h=this.reader.readData(p),this.zip64ExtensibleData[d]={id:d,length:p,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,p;for(d=0;d<this.files.length;d++)p=this.files[d],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var p=d;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var v=p-h;if(0<v)this.isSignature(p,s.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(d){this.reader=a(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),d=r("./support");function p(h,v){this.options=h,this.loadOptions=v}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var v,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(g){for(var y in u)if(Object.prototype.hasOwnProperty.call(u,y)&&u[y].magic===g)return u[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,v,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var v=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(v),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var v,m,g,y=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<y;)v=h.readInt(2),m=h.readInt(2),g=h.readData(m),this.extraFields[v]={id:v,length:m,value:g};h.setIndex(y)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var m=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var v=a(h.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var v=a(h.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(h.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(v,m,g){this.name=v,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");a.prototype={internalStream:function(v){var m=null,g="string";try{if(!v)throw new Error("No output type specified.");var y=(g=v.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var b=!this._dataBinary;b&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!b&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new u("error")).error(x)}return new o(m,g,"")},async:function(v,m){return this.internalStream(v).accumulate(m)},nodeStream:function(v,m){return this.internalStream(v||"nodebuffer").toNodejsStream(m)},_compressWorker:function(v,m){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(g,v,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new s(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)a.prototype[d[h]]=p;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var o,s,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var c=0,u=new l(v),d=a.document.createTextNode("");u.observe(d,{characterData:!0}),o=function(){d.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var m=a.document.createElement("script");m.onreadystatechange=function(){v(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:function(){setTimeout(v,0)};else{var p=new a.MessageChannel;p.port1.onmessage=v,o=function(){p.port2.postMessage(0)}}var h=[];function v(){var m,g;s=!0;for(var y=h.length;y;){for(g=h,h=[],m=-1;++m<y;)g[m]();y=h.length}s=!1}n.exports=function(m){h.push(m)!==1||s||o()}}).call(this,typeof cn<"u"?cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function o(){}var s={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,y!==o&&m(this,y)}function p(y,b,x){this.promise=y,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(y,b,x){a(function(){var S;try{S=b(x)}catch(w){return s.reject(y,w)}S===y?s.reject(y,new TypeError("Cannot resolve promise with itself")):s.resolve(y,S)})}function v(y){var b=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof b=="function")return function(){b.apply(y,arguments)}}function m(y,b){var x=!1;function S(E){x||(x=!0,s.reject(y,E))}function w(E){x||(x=!0,s.resolve(y,E))}var j=g(function(){b(w,S)});j.status==="error"&&S(j.value)}function g(y,b){var x={};try{x.value=y(b),x.status="success"}catch(S){x.status="error",x.value=S}return x}(n.exports=d).prototype.finally=function(y){if(typeof y!="function")return this;var b=this.constructor;return this.then(function(x){return b.resolve(y()).then(function(){return x})},function(x){return b.resolve(y()).then(function(){throw x})})},d.prototype.catch=function(y){return this.then(null,y)},d.prototype.then=function(y,b){if(typeof y!="function"&&this.state===c||typeof b!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==u?h(x,this.state===c?y:b,this.outcome):this.queue.push(new p(x,y,b)),x},p.prototype.callFulfilled=function(y){s.resolve(this.promise,y)},p.prototype.otherCallFulfilled=function(y){h(this.promise,this.onFulfilled,y)},p.prototype.callRejected=function(y){s.reject(this.promise,y)},p.prototype.otherCallRejected=function(y){h(this.promise,this.onRejected,y)},s.resolve=function(y,b){var x=g(v,b);if(x.status==="error")return s.reject(y,x.value);var S=x.value;if(S)m(y,S);else{y.state=c,y.outcome=b;for(var w=-1,j=y.queue.length;++w<j;)y.queue[w].callFulfilled(b)}return y},s.reject=function(y,b){y.state=l,y.outcome=b;for(var x=-1,S=y.queue.length;++x<S;)y.queue[x].callRejected(b);return y},d.resolve=function(y){return y instanceof this?y:s.resolve(new this(o),y)},d.reject=function(y){var b=new this(o);return s.reject(b,y)},d.all=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,S=!1;if(!x)return this.resolve([]);for(var w=new Array(x),j=0,E=-1,C=new this(o);++E<x;)P(y[E],E);return C;function P(O,N){b.resolve(O).then(function(T){w[N]=T,++j!==x||S||(S=!0,s.resolve(C,w))},function(T){S||(S=!0,s.reject(C,T))})}},d.race=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,S=!1;if(!x)return this.resolve([]);for(var w=-1,j=new this(o);++w<x;)E=y[w],b.resolve(E).then(function(C){S||(S=!0,s.resolve(j,C))},function(C){S||(S=!0,s.reject(j,C))});var E;return j}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,d=0,p=-1,h=0,v=8;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},y||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(x!==d)throw new Error(l[x]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var S;if(S=typeof b.dictionary=="string"?s.string2buf(b.dictionary):u.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(x=a.deflateSetDictionary(this.strm,S))!==d)throw new Error(l[x]);this._dict_set=!0}}function g(y,b){var x=new m(b);if(x.push(y,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(y,b){var x,S,w=this.strm,j=this.options.chunkSize;if(this.ended)return!1;S=b===~~b?b:b===!0?4:0,typeof y=="string"?w.input=s.string2buf(y):u.call(y)==="[object ArrayBuffer]"?w.input=new Uint8Array(y):w.input=y,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(j),w.next_out=0,w.avail_out=j),(x=a.deflate(w,S))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(w.output,w.next_out))):this.onData(o.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return S===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):S!==2||(this.onEnd(d),!(w.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(y,b){return(b=b||{}).raw=!0,g(y,b)},i.gzip=function(y,b){return(b=b||{}).gzip=!0,g(y,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),d=r("./zlib/gzheader"),p=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=a.inflateInit2(this.strm,g.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new d,a.inflateGetHeader(this.strm,this.header)}function v(m,g){var y=new h(g);if(y.push(m,!0),y.err)throw y.msg||c[y.err];return y.result}h.prototype.push=function(m,g){var y,b,x,S,w,j,E=this.strm,C=this.options.chunkSize,P=this.options.dictionary,O=!1;if(this.ended)return!1;b=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?E.input=s.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(C),E.next_out=0,E.avail_out=C),(y=a.inflate(E,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(j=typeof P=="string"?s.string2buf(P):p.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,y=a.inflateSetDictionary(this.strm,j)),y===l.Z_BUF_ERROR&&O===!0&&(y=l.Z_OK,O=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&y!==l.Z_STREAM_END&&(E.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(E.output,E.next_out),S=E.next_out-x,w=s.buf2string(E.output,x),E.next_out=S,E.avail_out=C-S,S&&o.arraySet(E.output,E.output,x,S,0),this.onData(w)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(O=!0)}while((0<E.avail_in||E.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(y=a.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(E.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=v,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,v(m,g)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,d,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),p);else for(var h=0;h<d;h++)l[p+h]=c[u+h]},flattenChunks:function(l){var c,u,d,p,h,v;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(v=new Uint8Array(d),c=p=0,u=l.length;c<u;c++)h=l[c],v.set(h,p),p+=h.length;return v}},s={arraySet:function(l,c,u,d,p){for(var h=0;h<d;h++)l[p+h]=c[u+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,p){if(p<65537&&(d.subarray&&s||!d.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(d,p));for(var h="",v=0;v<p;v++)h+=String.fromCharCode(d[v]);return h}l[254]=l[254]=1,i.string2buf=function(d){var p,h,v,m,g,y=d.length,b=0;for(m=0;m<y;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<y&&(64512&(v=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),m++),b+=h<128?1:h<2048?2:h<65536?3:4;for(p=new a.Buf8(b),m=g=0;g<b;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<y&&(64512&(v=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),m++),h<128?p[g++]=h:(h<2048?p[g++]=192|h>>>6:(h<65536?p[g++]=224|h>>>12:(p[g++]=240|h>>>18,p[g++]=128|h>>>12&63),p[g++]=128|h>>>6&63),p[g++]=128|63&h);return p},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var p=new a.Buf8(d.length),h=0,v=p.length;h<v;h++)p[h]=d.charCodeAt(h);return p},i.buf2string=function(d,p){var h,v,m,g,y=p||d.length,b=new Array(2*y);for(h=v=0;h<y;)if((m=d[h++])<128)b[v++]=m;else if(4<(g=l[m]))b[v++]=65533,h+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&h<y;)m=m<<6|63&d[h++],g--;1<g?b[v++]=65533:m<65536?b[v++]=m:(m-=65536,b[v++]=55296|m>>10&1023,b[v++]=56320|1023&m)}return u(b,v)},i.utf8border=function(d,p){var h;for((p=p||d.length)>d.length&&(p=d.length),h=p-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?p:h+l[d[h]]>p?h:p}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,o,s,l){for(var c=65535&a|0,u=a>>>16&65535|0,d=0;s!==0;){for(s-=d=2e3<s?2e3:s;u=u+(c=c+o[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=(function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s})();n.exports=function(o,s,l,c){var u=a,d=c+l;o^=-1;for(var p=c;p<d;p++)o=o>>>8^u[255&(o^s[p])];return-1^o}},{}],46:[function(r,n,i){var a,o=r("../utils/common"),s=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),d=0,p=4,h=0,v=-2,m=-1,g=4,y=2,b=8,x=9,S=286,w=30,j=19,E=2*S+1,C=15,P=3,O=258,N=O+P+1,T=42,D=113,k=1,R=2,F=3,B=4;function U(A,K){return A.msg=u[K],K}function L(A){return(A<<1)-(4<A?9:0)}function M(A){for(var K=A.length;0<=--K;)A[K]=0}function H(A){var K=A.state,V=K.pending;V>A.avail_out&&(V=A.avail_out),V!==0&&(o.arraySet(A.output,K.pending_buf,K.pending_out,V,A.next_out),A.next_out+=V,K.pending_out+=V,A.total_out+=V,A.avail_out-=V,K.pending-=V,K.pending===0&&(K.pending_out=0))}function z(A,K){s._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,K),A.block_start=A.strstart,H(A.strm)}function $(A,K){A.pending_buf[A.pending++]=K}function Q(A,K){A.pending_buf[A.pending++]=K>>>8&255,A.pending_buf[A.pending++]=255&K}function Z(A,K){var V,W,q=A.max_chain_length,G=A.strstart,ie=A.prev_length,re=A.nice_match,X=A.strstart>A.w_size-N?A.strstart-(A.w_size-N):0,de=A.window,ve=A.w_mask,he=A.prev,Y=A.strstart+O,oe=de[G+ie-1],ge=de[G+ie];A.prev_length>=A.good_match&&(q>>=2),re>A.lookahead&&(re=A.lookahead);do if(de[(V=K)+ie]===ge&&de[V+ie-1]===oe&&de[V]===de[G]&&de[++V]===de[G+1]){G+=2,V++;do;while(de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&G<Y);if(W=O-(Y-G),G=Y-O,ie<W){if(A.match_start=K,re<=(ie=W))break;oe=de[G+ie-1],ge=de[G+ie]}}while((K=he[K&ve])>X&&--q!=0);return ie<=A.lookahead?ie:A.lookahead}function fe(A){var K,V,W,q,G,ie,re,X,de,ve,he=A.w_size;do{if(q=A.window_size-A.lookahead-A.strstart,A.strstart>=he+(he-N)){for(o.arraySet(A.window,A.window,he,he,0),A.match_start-=he,A.strstart-=he,A.block_start-=he,K=V=A.hash_size;W=A.head[--K],A.head[K]=he<=W?W-he:0,--V;);for(K=V=he;W=A.prev[--K],A.prev[K]=he<=W?W-he:0,--V;);q+=he}if(A.strm.avail_in===0)break;if(ie=A.strm,re=A.window,X=A.strstart+A.lookahead,de=q,ve=void 0,ve=ie.avail_in,de<ve&&(ve=de),V=ve===0?0:(ie.avail_in-=ve,o.arraySet(re,ie.input,ie.next_in,ve,X),ie.state.wrap===1?ie.adler=l(ie.adler,re,ve,X):ie.state.wrap===2&&(ie.adler=c(ie.adler,re,ve,X)),ie.next_in+=ve,ie.total_in+=ve,ve),A.lookahead+=V,A.lookahead+A.insert>=P)for(G=A.strstart-A.insert,A.ins_h=A.window[G],A.ins_h=(A.ins_h<<A.hash_shift^A.window[G+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[G+P-1])&A.hash_mask,A.prev[G&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=G,G++,A.insert--,!(A.lookahead+A.insert<P)););}while(A.lookahead<N&&A.strm.avail_in!==0)}function le(A,K){for(var V,W;;){if(A.lookahead<N){if(fe(A),A.lookahead<N&&K===d)return k;if(A.lookahead===0)break}if(V=0,A.lookahead>=P&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+P-1])&A.hash_mask,V=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),V!==0&&A.strstart-V<=A.w_size-N&&(A.match_length=Z(A,V)),A.match_length>=P)if(W=s._tr_tally(A,A.strstart-A.match_start,A.match_length-P),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=P){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+P-1])&A.hash_mask,V=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else W=s._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(W&&(z(A,!1),A.strm.avail_out===0))return k}return A.insert=A.strstart<P-1?A.strstart:P-1,K===p?(z(A,!0),A.strm.avail_out===0?F:B):A.last_lit&&(z(A,!1),A.strm.avail_out===0)?k:R}function ue(A,K){for(var V,W,q;;){if(A.lookahead<N){if(fe(A),A.lookahead<N&&K===d)return k;if(A.lookahead===0)break}if(V=0,A.lookahead>=P&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+P-1])&A.hash_mask,V=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=P-1,V!==0&&A.prev_length<A.max_lazy_match&&A.strstart-V<=A.w_size-N&&(A.match_length=Z(A,V),A.match_length<=5&&(A.strategy===1||A.match_length===P&&4096<A.strstart-A.match_start)&&(A.match_length=P-1)),A.prev_length>=P&&A.match_length<=A.prev_length){for(q=A.strstart+A.lookahead-P,W=s._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-P),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=q&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+P-1])&A.hash_mask,V=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=P-1,A.strstart++,W&&(z(A,!1),A.strm.avail_out===0))return k}else if(A.match_available){if((W=s._tr_tally(A,0,A.window[A.strstart-1]))&&z(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return k}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(W=s._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<P-1?A.strstart:P-1,K===p?(z(A,!0),A.strm.avail_out===0?F:B):A.last_lit&&(z(A,!1),A.strm.avail_out===0)?k:R}function ee(A,K,V,W,q){this.good_length=A,this.max_lazy=K,this.nice_length=V,this.max_chain=W,this.func=q}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*w+1)),this.bl_tree=new o.Buf16(2*(2*j+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(C+1),this.heap=new o.Buf16(2*S+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(A){var K;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=y,(K=A.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?T:D,A.adler=K.wrap===2?0:1,K.last_flush=d,s._tr_init(K),h):U(A,v)}function J(A){var K=ce(A);return K===h&&(function(V){V.window_size=2*V.w_size,M(V.head),V.max_lazy_match=a[V.level].max_lazy,V.good_match=a[V.level].good_length,V.nice_match=a[V.level].nice_length,V.max_chain_length=a[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=P-1,V.match_available=0,V.ins_h=0})(A.state),K}function ne(A,K,V,W,q,G){if(!A)return v;var ie=1;if(K===m&&(K=6),W<0?(ie=0,W=-W):15<W&&(ie=2,W-=16),q<1||x<q||V!==b||W<8||15<W||K<0||9<K||G<0||g<G)return U(A,v);W===8&&(W=9);var re=new te;return(A.state=re).strm=A,re.wrap=ie,re.gzhead=null,re.w_bits=W,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=q+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+P-1)/P),re.window=new o.Buf8(2*re.w_size),re.head=new o.Buf16(re.hash_size),re.prev=new o.Buf16(re.w_size),re.lit_bufsize=1<<q+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new o.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=K,re.strategy=G,re.method=V,J(A)}a=[new ee(0,0,0,0,function(A,K){var V=65535;for(V>A.pending_buf_size-5&&(V=A.pending_buf_size-5);;){if(A.lookahead<=1){if(fe(A),A.lookahead===0&&K===d)return k;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var W=A.block_start+V;if((A.strstart===0||A.strstart>=W)&&(A.lookahead=A.strstart-W,A.strstart=W,z(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-N&&(z(A,!1),A.strm.avail_out===0))return k}return A.insert=0,K===p?(z(A,!0),A.strm.avail_out===0?F:B):(A.strstart>A.block_start&&(z(A,!1),A.strm.avail_out),k)}),new ee(4,4,8,4,le),new ee(4,5,16,8,le),new ee(4,6,32,32,le),new ee(4,4,16,16,ue),new ee(8,16,32,32,ue),new ee(8,16,128,128,ue),new ee(8,32,128,256,ue),new ee(32,128,258,1024,ue),new ee(32,258,258,4096,ue)],i.deflateInit=function(A,K){return ne(A,K,b,15,8,0)},i.deflateInit2=ne,i.deflateReset=J,i.deflateResetKeep=ce,i.deflateSetHeader=function(A,K){return A&&A.state?A.state.wrap!==2?v:(A.state.gzhead=K,h):v},i.deflate=function(A,K){var V,W,q,G;if(!A||!A.state||5<K||K<0)return A?U(A,v):v;if(W=A.state,!A.output||!A.input&&A.avail_in!==0||W.status===666&&K!==p)return U(A,A.avail_out===0?-5:v);if(W.strm=A,V=W.last_flush,W.last_flush=K,W.status===T)if(W.wrap===2)A.adler=0,$(W,31),$(W,139),$(W,8),W.gzhead?($(W,(W.gzhead.text?1:0)+(W.gzhead.hcrc?2:0)+(W.gzhead.extra?4:0)+(W.gzhead.name?8:0)+(W.gzhead.comment?16:0)),$(W,255&W.gzhead.time),$(W,W.gzhead.time>>8&255),$(W,W.gzhead.time>>16&255),$(W,W.gzhead.time>>24&255),$(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),$(W,255&W.gzhead.os),W.gzhead.extra&&W.gzhead.extra.length&&($(W,255&W.gzhead.extra.length),$(W,W.gzhead.extra.length>>8&255)),W.gzhead.hcrc&&(A.adler=c(A.adler,W.pending_buf,W.pending,0)),W.gzindex=0,W.status=69):($(W,0),$(W,0),$(W,0),$(W,0),$(W,0),$(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),$(W,3),W.status=D);else{var ie=b+(W.w_bits-8<<4)<<8;ie|=(2<=W.strategy||W.level<2?0:W.level<6?1:W.level===6?2:3)<<6,W.strstart!==0&&(ie|=32),ie+=31-ie%31,W.status=D,Q(W,ie),W.strstart!==0&&(Q(W,A.adler>>>16),Q(W,65535&A.adler)),A.adler=1}if(W.status===69)if(W.gzhead.extra){for(q=W.pending;W.gzindex<(65535&W.gzhead.extra.length)&&(W.pending!==W.pending_buf_size||(W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),H(A),q=W.pending,W.pending!==W.pending_buf_size));)$(W,255&W.gzhead.extra[W.gzindex]),W.gzindex++;W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),W.gzindex===W.gzhead.extra.length&&(W.gzindex=0,W.status=73)}else W.status=73;if(W.status===73)if(W.gzhead.name){q=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),H(A),q=W.pending,W.pending===W.pending_buf_size)){G=1;break}G=W.gzindex<W.gzhead.name.length?255&W.gzhead.name.charCodeAt(W.gzindex++):0,$(W,G)}while(G!==0);W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),G===0&&(W.gzindex=0,W.status=91)}else W.status=91;if(W.status===91)if(W.gzhead.comment){q=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),H(A),q=W.pending,W.pending===W.pending_buf_size)){G=1;break}G=W.gzindex<W.gzhead.comment.length?255&W.gzhead.comment.charCodeAt(W.gzindex++):0,$(W,G)}while(G!==0);W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),G===0&&(W.status=103)}else W.status=103;if(W.status===103&&(W.gzhead.hcrc?(W.pending+2>W.pending_buf_size&&H(A),W.pending+2<=W.pending_buf_size&&($(W,255&A.adler),$(W,A.adler>>8&255),A.adler=0,W.status=D)):W.status=D),W.pending!==0){if(H(A),A.avail_out===0)return W.last_flush=-1,h}else if(A.avail_in===0&&L(K)<=L(V)&&K!==p)return U(A,-5);if(W.status===666&&A.avail_in!==0)return U(A,-5);if(A.avail_in!==0||W.lookahead!==0||K!==d&&W.status!==666){var re=W.strategy===2?(function(X,de){for(var ve;;){if(X.lookahead===0&&(fe(X),X.lookahead===0)){if(de===d)return k;break}if(X.match_length=0,ve=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,ve&&(z(X,!1),X.strm.avail_out===0))return k}return X.insert=0,de===p?(z(X,!0),X.strm.avail_out===0?F:B):X.last_lit&&(z(X,!1),X.strm.avail_out===0)?k:R})(W,K):W.strategy===3?(function(X,de){for(var ve,he,Y,oe,ge=X.window;;){if(X.lookahead<=O){if(fe(X),X.lookahead<=O&&de===d)return k;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=P&&0<X.strstart&&(he=ge[Y=X.strstart-1])===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]){oe=X.strstart+O;do;while(he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&Y<oe);X.match_length=O-(oe-Y),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=P?(ve=s._tr_tally(X,1,X.match_length-P),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(ve=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),ve&&(z(X,!1),X.strm.avail_out===0))return k}return X.insert=0,de===p?(z(X,!0),X.strm.avail_out===0?F:B):X.last_lit&&(z(X,!1),X.strm.avail_out===0)?k:R})(W,K):a[W.level].func(W,K);if(re!==F&&re!==B||(W.status=666),re===k||re===F)return A.avail_out===0&&(W.last_flush=-1),h;if(re===R&&(K===1?s._tr_align(W):K!==5&&(s._tr_stored_block(W,0,0,!1),K===3&&(M(W.head),W.lookahead===0&&(W.strstart=0,W.block_start=0,W.insert=0))),H(A),A.avail_out===0))return W.last_flush=-1,h}return K!==p?h:W.wrap<=0?1:(W.wrap===2?($(W,255&A.adler),$(W,A.adler>>8&255),$(W,A.adler>>16&255),$(W,A.adler>>24&255),$(W,255&A.total_in),$(W,A.total_in>>8&255),$(W,A.total_in>>16&255),$(W,A.total_in>>24&255)):(Q(W,A.adler>>>16),Q(W,65535&A.adler)),H(A),0<W.wrap&&(W.wrap=-W.wrap),W.pending!==0?h:1)},i.deflateEnd=function(A){var K;return A&&A.state?(K=A.state.status)!==T&&K!==69&&K!==73&&K!==91&&K!==103&&K!==D&&K!==666?U(A,v):(A.state=null,K===D?U(A,-3):h):v},i.deflateSetDictionary=function(A,K){var V,W,q,G,ie,re,X,de,ve=K.length;if(!A||!A.state||(G=(V=A.state).wrap)===2||G===1&&V.status!==T||V.lookahead)return v;for(G===1&&(A.adler=l(A.adler,K,ve,0)),V.wrap=0,ve>=V.w_size&&(G===0&&(M(V.head),V.strstart=0,V.block_start=0,V.insert=0),de=new o.Buf8(V.w_size),o.arraySet(de,K,ve-V.w_size,V.w_size,0),K=de,ve=V.w_size),ie=A.avail_in,re=A.next_in,X=A.input,A.avail_in=ve,A.next_in=0,A.input=K,fe(V);V.lookahead>=P;){for(W=V.strstart,q=V.lookahead-(P-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[W+P-1])&V.hash_mask,V.prev[W&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=W,W++,--q;);V.strstart=W,V.lookahead=P-1,fe(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=P-1,V.match_available=0,A.next_in=re,A.input=X,A.avail_in=ie,V.wrap=G,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,o){var s,l,c,u,d,p,h,v,m,g,y,b,x,S,w,j,E,C,P,O,N,T,D,k,R;s=a.state,l=a.next_in,k=a.input,c=l+(a.avail_in-5),u=a.next_out,R=a.output,d=u-(o-a.avail_out),p=u+(a.avail_out-257),h=s.dmax,v=s.wsize,m=s.whave,g=s.wnext,y=s.window,b=s.hold,x=s.bits,S=s.lencode,w=s.distcode,j=(1<<s.lenbits)-1,E=(1<<s.distbits)-1;e:do{x<15&&(b+=k[l++]<<x,x+=8,b+=k[l++]<<x,x+=8),C=S[b&j];t:for(;;){if(b>>>=P=C>>>24,x-=P,(P=C>>>16&255)===0)R[u++]=65535&C;else{if(!(16&P)){if((64&P)==0){C=S[(65535&C)+(b&(1<<P)-1)];continue t}if(32&P){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}O=65535&C,(P&=15)&&(x<P&&(b+=k[l++]<<x,x+=8),O+=b&(1<<P)-1,b>>>=P,x-=P),x<15&&(b+=k[l++]<<x,x+=8,b+=k[l++]<<x,x+=8),C=w[b&E];r:for(;;){if(b>>>=P=C>>>24,x-=P,!(16&(P=C>>>16&255))){if((64&P)==0){C=w[(65535&C)+(b&(1<<P)-1)];continue r}a.msg="invalid distance code",s.mode=30;break e}if(N=65535&C,x<(P&=15)&&(b+=k[l++]<<x,(x+=8)<P&&(b+=k[l++]<<x,x+=8)),h<(N+=b&(1<<P)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=P,x-=P,(P=u-d)<N){if(m<(P=N-P)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(D=y,(T=0)===g){if(T+=v-P,P<O){for(O-=P;R[u++]=y[T++],--P;);T=u-N,D=R}}else if(g<P){if(T+=v+g-P,(P-=g)<O){for(O-=P;R[u++]=y[T++],--P;);if(T=0,g<O){for(O-=P=g;R[u++]=y[T++],--P;);T=u-N,D=R}}}else if(T+=g-P,P<O){for(O-=P;R[u++]=y[T++],--P;);T=u-N,D=R}for(;2<O;)R[u++]=D[T++],R[u++]=D[T++],R[u++]=D[T++],O-=3;O&&(R[u++]=D[T++],1<O&&(R[u++]=D[T++]))}else{for(T=u-N;R[u++]=R[T++],R[u++]=R[T++],R[u++]=R[T++],2<(O-=3););O&&(R[u++]=R[T++],1<O&&(R[u++]=R[T++]))}break}}break}}while(l<c&&u<p);l-=O=x>>3,b&=(1<<(x-=O<<3))-1,a.next_in=l,a.next_out=u,a.avail_in=l<c?c-l+5:5-(l-c),a.avail_out=u<p?p-u+257:257-(u-p),s.hold=b,s.bits=x}},{}],49:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,d=2,p=0,h=-2,v=1,m=852,g=592;function y(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(T){var D;return T&&T.state?(D=T.state,T.total_in=T.total_out=D.total=0,T.msg="",D.wrap&&(T.adler=1&D.wrap),D.mode=v,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new a.Buf32(m),D.distcode=D.distdyn=new a.Buf32(g),D.sane=1,D.back=-1,p):h}function S(T){var D;return T&&T.state?((D=T.state).wsize=0,D.whave=0,D.wnext=0,x(T)):h}function w(T,D){var k,R;return T&&T.state?(R=T.state,D<0?(k=0,D=-D):(k=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?h:(R.window!==null&&R.wbits!==D&&(R.window=null),R.wrap=k,R.wbits=D,S(T))):h}function j(T,D){var k,R;return T?(R=new b,(T.state=R).window=null,(k=w(T,D))!==p&&(T.state=null),k):h}var E,C,P=!0;function O(T){if(P){var D;for(E=new a.Buf32(512),C=new a.Buf32(32),D=0;D<144;)T.lens[D++]=8;for(;D<256;)T.lens[D++]=9;for(;D<280;)T.lens[D++]=7;for(;D<288;)T.lens[D++]=8;for(c(u,T.lens,0,288,E,0,T.work,{bits:9}),D=0;D<32;)T.lens[D++]=5;c(d,T.lens,0,32,C,0,T.work,{bits:5}),P=!1}T.lencode=E,T.lenbits=9,T.distcode=C,T.distbits=5}function N(T,D,k,R){var F,B=T.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new a.Buf8(B.wsize)),R>=B.wsize?(a.arraySet(B.window,D,k-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(R<(F=B.wsize-B.wnext)&&(F=R),a.arraySet(B.window,D,k-R,F,B.wnext),(R-=F)?(a.arraySet(B.window,D,k-R,R,0),B.wnext=R,B.whave=B.wsize):(B.wnext+=F,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=F))),0}i.inflateReset=S,i.inflateReset2=w,i.inflateResetKeep=x,i.inflateInit=function(T){return j(T,15)},i.inflateInit2=j,i.inflate=function(T,D){var k,R,F,B,U,L,M,H,z,$,Q,Z,fe,le,ue,ee,te,ce,J,ne,A,K,V,W,q=0,G=new a.Buf8(4),ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return h;(k=T.state).mode===12&&(k.mode=13),U=T.next_out,F=T.output,M=T.avail_out,B=T.next_in,R=T.input,L=T.avail_in,H=k.hold,z=k.bits,$=L,Q=M,K=p;e:for(;;)switch(k.mode){case v:if(k.wrap===0){k.mode=13;break}for(;z<16;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if(2&k.wrap&&H===35615){G[k.check=0]=255&H,G[1]=H>>>8&255,k.check=s(k.check,G,2,0),z=H=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&H)<<8)+(H>>8))%31){T.msg="incorrect header check",k.mode=30;break}if((15&H)!=8){T.msg="unknown compression method",k.mode=30;break}if(z-=4,A=8+(15&(H>>>=4)),k.wbits===0)k.wbits=A;else if(A>k.wbits){T.msg="invalid window size",k.mode=30;break}k.dmax=1<<A,T.adler=k.check=1,k.mode=512&H?10:12,z=H=0;break;case 2:for(;z<16;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if(k.flags=H,(255&k.flags)!=8){T.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){T.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=H>>8&1),512&k.flags&&(G[0]=255&H,G[1]=H>>>8&255,k.check=s(k.check,G,2,0)),z=H=0,k.mode=3;case 3:for(;z<32;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}k.head&&(k.head.time=H),512&k.flags&&(G[0]=255&H,G[1]=H>>>8&255,G[2]=H>>>16&255,G[3]=H>>>24&255,k.check=s(k.check,G,4,0)),z=H=0,k.mode=4;case 4:for(;z<16;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}k.head&&(k.head.xflags=255&H,k.head.os=H>>8),512&k.flags&&(G[0]=255&H,G[1]=H>>>8&255,k.check=s(k.check,G,2,0)),z=H=0,k.mode=5;case 5:if(1024&k.flags){for(;z<16;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}k.length=H,k.head&&(k.head.extra_len=H),512&k.flags&&(G[0]=255&H,G[1]=H>>>8&255,k.check=s(k.check,G,2,0)),z=H=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(L<(Z=k.length)&&(Z=L),Z&&(k.head&&(A=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,R,B,Z,A)),512&k.flags&&(k.check=s(k.check,R,Z,B)),L-=Z,B+=Z,k.length-=Z),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(L===0)break e;for(Z=0;A=R[B+Z++],k.head&&A&&k.length<65536&&(k.head.name+=String.fromCharCode(A)),A&&Z<L;);if(512&k.flags&&(k.check=s(k.check,R,Z,B)),L-=Z,B+=Z,A)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(L===0)break e;for(Z=0;A=R[B+Z++],k.head&&A&&k.length<65536&&(k.head.comment+=String.fromCharCode(A)),A&&Z<L;);if(512&k.flags&&(k.check=s(k.check,R,Z,B)),L-=Z,B+=Z,A)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;z<16;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if(H!==(65535&k.check)){T.msg="header crc mismatch",k.mode=30;break}z=H=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),T.adler=k.check=0,k.mode=12;break;case 10:for(;z<32;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}T.adler=k.check=y(H),z=H=0,k.mode=11;case 11:if(k.havedict===0)return T.next_out=U,T.avail_out=M,T.next_in=B,T.avail_in=L,k.hold=H,k.bits=z,2;T.adler=k.check=1,k.mode=12;case 12:if(D===5||D===6)break e;case 13:if(k.last){H>>>=7&z,z-=7&z,k.mode=27;break}for(;z<3;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}switch(k.last=1&H,z-=1,3&(H>>>=1)){case 0:k.mode=14;break;case 1:if(O(k),k.mode=20,D!==6)break;H>>>=2,z-=2;break e;case 2:k.mode=17;break;case 3:T.msg="invalid block type",k.mode=30}H>>>=2,z-=2;break;case 14:for(H>>>=7&z,z-=7&z;z<32;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if((65535&H)!=(H>>>16^65535)){T.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&H,z=H=0,k.mode=15,D===6)break e;case 15:k.mode=16;case 16:if(Z=k.length){if(L<Z&&(Z=L),M<Z&&(Z=M),Z===0)break e;a.arraySet(F,R,B,Z,U),L-=Z,B+=Z,M-=Z,U+=Z,k.length-=Z;break}k.mode=12;break;case 17:for(;z<14;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if(k.nlen=257+(31&H),H>>>=5,z-=5,k.ndist=1+(31&H),H>>>=5,z-=5,k.ncode=4+(15&H),H>>>=4,z-=4,286<k.nlen||30<k.ndist){T.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;z<3;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}k.lens[ie[k.have++]]=7&H,H>>>=3,z-=3}for(;k.have<19;)k.lens[ie[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,V={bits:k.lenbits},K=c(0,k.lens,0,19,k.lencode,0,k.work,V),k.lenbits=V.bits,K){T.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;ee=(q=k.lencode[H&(1<<k.lenbits)-1])>>>16&255,te=65535&q,!((ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if(te<16)H>>>=ue,z-=ue,k.lens[k.have++]=te;else{if(te===16){for(W=ue+2;z<W;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if(H>>>=ue,z-=ue,k.have===0){T.msg="invalid bit length repeat",k.mode=30;break}A=k.lens[k.have-1],Z=3+(3&H),H>>>=2,z-=2}else if(te===17){for(W=ue+3;z<W;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}z-=ue,A=0,Z=3+(7&(H>>>=ue)),H>>>=3,z-=3}else{for(W=ue+7;z<W;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}z-=ue,A=0,Z=11+(127&(H>>>=ue)),H>>>=7,z-=7}if(k.have+Z>k.nlen+k.ndist){T.msg="invalid bit length repeat",k.mode=30;break}for(;Z--;)k.lens[k.have++]=A}}if(k.mode===30)break;if(k.lens[256]===0){T.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,V={bits:k.lenbits},K=c(u,k.lens,0,k.nlen,k.lencode,0,k.work,V),k.lenbits=V.bits,K){T.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,V={bits:k.distbits},K=c(d,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,V),k.distbits=V.bits,K){T.msg="invalid distances set",k.mode=30;break}if(k.mode=20,D===6)break e;case 20:k.mode=21;case 21:if(6<=L&&258<=M){T.next_out=U,T.avail_out=M,T.next_in=B,T.avail_in=L,k.hold=H,k.bits=z,l(T,Q),U=T.next_out,F=T.output,M=T.avail_out,B=T.next_in,R=T.input,L=T.avail_in,H=k.hold,z=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;ee=(q=k.lencode[H&(1<<k.lenbits)-1])>>>16&255,te=65535&q,!((ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if(ee&&(240&ee)==0){for(ce=ue,J=ee,ne=te;ee=(q=k.lencode[ne+((H&(1<<ce+J)-1)>>ce)])>>>16&255,te=65535&q,!(ce+(ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}H>>>=ce,z-=ce,k.back+=ce}if(H>>>=ue,z-=ue,k.back+=ue,k.length=te,ee===0){k.mode=26;break}if(32&ee){k.back=-1,k.mode=12;break}if(64&ee){T.msg="invalid literal/length code",k.mode=30;break}k.extra=15&ee,k.mode=22;case 22:if(k.extra){for(W=k.extra;z<W;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}k.length+=H&(1<<k.extra)-1,H>>>=k.extra,z-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;ee=(q=k.distcode[H&(1<<k.distbits)-1])>>>16&255,te=65535&q,!((ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if((240&ee)==0){for(ce=ue,J=ee,ne=te;ee=(q=k.distcode[ne+((H&(1<<ce+J)-1)>>ce)])>>>16&255,te=65535&q,!(ce+(ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}H>>>=ce,z-=ce,k.back+=ce}if(H>>>=ue,z-=ue,k.back+=ue,64&ee){T.msg="invalid distance code",k.mode=30;break}k.offset=te,k.extra=15&ee,k.mode=24;case 24:if(k.extra){for(W=k.extra;z<W;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}k.offset+=H&(1<<k.extra)-1,H>>>=k.extra,z-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){T.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(M===0)break e;if(Z=Q-M,k.offset>Z){if((Z=k.offset-Z)>k.whave&&k.sane){T.msg="invalid distance too far back",k.mode=30;break}fe=Z>k.wnext?(Z-=k.wnext,k.wsize-Z):k.wnext-Z,Z>k.length&&(Z=k.length),le=k.window}else le=F,fe=U-k.offset,Z=k.length;for(M<Z&&(Z=M),M-=Z,k.length-=Z;F[U++]=le[fe++],--Z;);k.length===0&&(k.mode=21);break;case 26:if(M===0)break e;F[U++]=k.length,M--,k.mode=21;break;case 27:if(k.wrap){for(;z<32;){if(L===0)break e;L--,H|=R[B++]<<z,z+=8}if(Q-=M,T.total_out+=Q,k.total+=Q,Q&&(T.adler=k.check=k.flags?s(k.check,F,Q,U-Q):o(k.check,F,Q,U-Q)),Q=M,(k.flags?H:y(H))!==k.check){T.msg="incorrect data check",k.mode=30;break}z=H=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;z<32;){if(L===0)break e;L--,H+=R[B++]<<z,z+=8}if(H!==(4294967295&k.total)){T.msg="incorrect length check",k.mode=30;break}z=H=0}k.mode=29;case 29:K=1;break e;case 30:K=-3;break e;case 31:return-4;default:return h}return T.next_out=U,T.avail_out=M,T.next_in=B,T.avail_in=L,k.hold=H,k.bits=z,(k.wsize||Q!==T.avail_out&&k.mode<30&&(k.mode<27||D!==4))&&N(T,T.output,T.next_out,Q-T.avail_out)?(k.mode=31,-4):($-=T.avail_in,Q-=T.avail_out,T.total_in+=$,T.total_out+=Q,k.total+=Q,k.wrap&&Q&&(T.adler=k.check=k.flags?s(k.check,F,Q,T.next_out-Q):o(k.check,F,Q,T.next_out-Q)),T.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),($==0&&Q===0||D===4)&&K===p&&(K=-5),K)},i.inflateEnd=function(T){if(!T||!T.state)return h;var D=T.state;return D.window&&(D.window=null),T.state=null,p},i.inflateGetHeader=function(T,D){var k;return T&&T.state?(2&(k=T.state).wrap)==0?h:((k.head=D).done=!1,p):h},i.inflateSetDictionary=function(T,D){var k,R=D.length;return T&&T.state?(k=T.state).wrap!==0&&k.mode!==11?h:k.mode===11&&o(1,D,R,0)!==k.check?-3:N(T,D,R,R)?(k.mode=31,-4):(k.havedict=1,p):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,d,p,h,v,m,g,y){var b,x,S,w,j,E,C,P,O,N=y.bits,T=0,D=0,k=0,R=0,F=0,B=0,U=0,L=0,M=0,H=0,z=null,$=0,Q=new a.Buf16(16),Z=new a.Buf16(16),fe=null,le=0;for(T=0;T<=15;T++)Q[T]=0;for(D=0;D<h;D++)Q[d[p+D]]++;for(F=N,R=15;1<=R&&Q[R]===0;R--);if(R<F&&(F=R),R===0)return v[m++]=20971520,v[m++]=20971520,y.bits=1,0;for(k=1;k<R&&Q[k]===0;k++);for(F<k&&(F=k),T=L=1;T<=15;T++)if(L<<=1,(L-=Q[T])<0)return-1;if(0<L&&(u===0||R!==1))return-1;for(Z[1]=0,T=1;T<15;T++)Z[T+1]=Z[T]+Q[T];for(D=0;D<h;D++)d[p+D]!==0&&(g[Z[d[p+D]]++]=D);if(E=u===0?(z=fe=g,19):u===1?(z=o,$-=257,fe=s,le-=257,256):(z=l,fe=c,-1),T=k,j=m,U=D=H=0,S=-1,w=(M=1<<(B=F))-1,u===1&&852<M||u===2&&592<M)return 1;for(;;){for(C=T-U,O=g[D]<E?(P=0,g[D]):g[D]>E?(P=fe[le+g[D]],z[$+g[D]]):(P=96,0),b=1<<T-U,k=x=1<<B;v[j+(H>>U)+(x-=b)]=C<<24|P<<16|O|0,x!==0;);for(b=1<<T-1;H&b;)b>>=1;if(b!==0?(H&=b-1,H+=b):H=0,D++,--Q[T]==0){if(T===R)break;T=d[p+g[D]]}if(F<T&&(H&w)!==S){for(U===0&&(U=F),j+=k,L=1<<(B=T-U);B+U<R&&!((L-=Q[B+U])<=0);)B++,L<<=1;if(M+=1<<B,u===1&&852<M||u===2&&592<M)return 1;v[S=H&w]=F<<24|B<<16|j-m|0}}return H!==0&&(v[j+H]=T-U<<24|64<<16|0),y.bits=F,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),o=0,s=1;function l(q){for(var G=q.length;0<=--G;)q[G]=0}var c=0,u=29,d=256,p=d+1+u,h=30,v=19,m=2*p+1,g=15,y=16,b=7,x=256,S=16,w=17,j=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(p+2));l(N);var T=new Array(2*h);l(T);var D=new Array(512);l(D);var k=new Array(256);l(k);var R=new Array(u);l(R);var F,B,U,L=new Array(h);function M(q,G,ie,re,X){this.static_tree=q,this.extra_bits=G,this.extra_base=ie,this.elems=re,this.max_length=X,this.has_stree=q&&q.length}function H(q,G){this.dyn_tree=q,this.max_code=0,this.stat_desc=G}function z(q){return q<256?D[q]:D[256+(q>>>7)]}function $(q,G){q.pending_buf[q.pending++]=255&G,q.pending_buf[q.pending++]=G>>>8&255}function Q(q,G,ie){q.bi_valid>y-ie?(q.bi_buf|=G<<q.bi_valid&65535,$(q,q.bi_buf),q.bi_buf=G>>y-q.bi_valid,q.bi_valid+=ie-y):(q.bi_buf|=G<<q.bi_valid&65535,q.bi_valid+=ie)}function Z(q,G,ie){Q(q,ie[2*G],ie[2*G+1])}function fe(q,G){for(var ie=0;ie|=1&q,q>>>=1,ie<<=1,0<--G;);return ie>>>1}function le(q,G,ie){var re,X,de=new Array(g+1),ve=0;for(re=1;re<=g;re++)de[re]=ve=ve+ie[re-1]<<1;for(X=0;X<=G;X++){var he=q[2*X+1];he!==0&&(q[2*X]=fe(de[he]++,he))}}function ue(q){var G;for(G=0;G<p;G++)q.dyn_ltree[2*G]=0;for(G=0;G<h;G++)q.dyn_dtree[2*G]=0;for(G=0;G<v;G++)q.bl_tree[2*G]=0;q.dyn_ltree[2*x]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function ee(q){8<q.bi_valid?$(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function te(q,G,ie,re){var X=2*G,de=2*ie;return q[X]<q[de]||q[X]===q[de]&&re[G]<=re[ie]}function ce(q,G,ie){for(var re=q.heap[ie],X=ie<<1;X<=q.heap_len&&(X<q.heap_len&&te(G,q.heap[X+1],q.heap[X],q.depth)&&X++,!te(G,re,q.heap[X],q.depth));)q.heap[ie]=q.heap[X],ie=X,X<<=1;q.heap[ie]=re}function J(q,G,ie){var re,X,de,ve,he=0;if(q.last_lit!==0)for(;re=q.pending_buf[q.d_buf+2*he]<<8|q.pending_buf[q.d_buf+2*he+1],X=q.pending_buf[q.l_buf+he],he++,re===0?Z(q,X,G):(Z(q,(de=k[X])+d+1,G),(ve=E[de])!==0&&Q(q,X-=R[de],ve),Z(q,de=z(--re),ie),(ve=C[de])!==0&&Q(q,re-=L[de],ve)),he<q.last_lit;);Z(q,x,G)}function ne(q,G){var ie,re,X,de=G.dyn_tree,ve=G.stat_desc.static_tree,he=G.stat_desc.has_stree,Y=G.stat_desc.elems,oe=-1;for(q.heap_len=0,q.heap_max=m,ie=0;ie<Y;ie++)de[2*ie]!==0?(q.heap[++q.heap_len]=oe=ie,q.depth[ie]=0):de[2*ie+1]=0;for(;q.heap_len<2;)de[2*(X=q.heap[++q.heap_len]=oe<2?++oe:0)]=1,q.depth[X]=0,q.opt_len--,he&&(q.static_len-=ve[2*X+1]);for(G.max_code=oe,ie=q.heap_len>>1;1<=ie;ie--)ce(q,de,ie);for(X=Y;ie=q.heap[1],q.heap[1]=q.heap[q.heap_len--],ce(q,de,1),re=q.heap[1],q.heap[--q.heap_max]=ie,q.heap[--q.heap_max]=re,de[2*X]=de[2*ie]+de[2*re],q.depth[X]=(q.depth[ie]>=q.depth[re]?q.depth[ie]:q.depth[re])+1,de[2*ie+1]=de[2*re+1]=X,q.heap[1]=X++,ce(q,de,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],(function(ge,Oe){var ze,Ve,Tt,Ke,It,rr,Ze=Oe.dyn_tree,yr=Oe.max_code,je=Oe.stat_desc.static_tree,et=Oe.stat_desc.has_stree,it=Oe.stat_desc.extra_bits,ot=Oe.stat_desc.extra_base,Ce=Oe.stat_desc.max_length,He=0;for(Ke=0;Ke<=g;Ke++)ge.bl_count[Ke]=0;for(Ze[2*ge.heap[ge.heap_max]+1]=0,ze=ge.heap_max+1;ze<m;ze++)Ce<(Ke=Ze[2*Ze[2*(Ve=ge.heap[ze])+1]+1]+1)&&(Ke=Ce,He++),Ze[2*Ve+1]=Ke,yr<Ve||(ge.bl_count[Ke]++,It=0,ot<=Ve&&(It=it[Ve-ot]),rr=Ze[2*Ve],ge.opt_len+=rr*(Ke+It),et&&(ge.static_len+=rr*(je[2*Ve+1]+It)));if(He!==0){do{for(Ke=Ce-1;ge.bl_count[Ke]===0;)Ke--;ge.bl_count[Ke]--,ge.bl_count[Ke+1]+=2,ge.bl_count[Ce]--,He-=2}while(0<He);for(Ke=Ce;Ke!==0;Ke--)for(Ve=ge.bl_count[Ke];Ve!==0;)yr<(Tt=ge.heap[--ze])||(Ze[2*Tt+1]!==Ke&&(ge.opt_len+=(Ke-Ze[2*Tt+1])*Ze[2*Tt],Ze[2*Tt+1]=Ke),Ve--)}})(q,G),le(de,oe,q.bl_count)}function A(q,G,ie){var re,X,de=-1,ve=G[1],he=0,Y=7,oe=4;for(ve===0&&(Y=138,oe=3),G[2*(ie+1)+1]=65535,re=0;re<=ie;re++)X=ve,ve=G[2*(re+1)+1],++he<Y&&X===ve||(he<oe?q.bl_tree[2*X]+=he:X!==0?(X!==de&&q.bl_tree[2*X]++,q.bl_tree[2*S]++):he<=10?q.bl_tree[2*w]++:q.bl_tree[2*j]++,de=X,oe=(he=0)===ve?(Y=138,3):X===ve?(Y=6,3):(Y=7,4))}function K(q,G,ie){var re,X,de=-1,ve=G[1],he=0,Y=7,oe=4;for(ve===0&&(Y=138,oe=3),re=0;re<=ie;re++)if(X=ve,ve=G[2*(re+1)+1],!(++he<Y&&X===ve)){if(he<oe)for(;Z(q,X,q.bl_tree),--he!=0;);else X!==0?(X!==de&&(Z(q,X,q.bl_tree),he--),Z(q,S,q.bl_tree),Q(q,he-3,2)):he<=10?(Z(q,w,q.bl_tree),Q(q,he-3,3)):(Z(q,j,q.bl_tree),Q(q,he-11,7));de=X,oe=(he=0)===ve?(Y=138,3):X===ve?(Y=6,3):(Y=7,4)}}l(L);var V=!1;function W(q,G,ie,re){Q(q,(c<<1)+(re?1:0),3),(function(X,de,ve,he){ee(X),$(X,ve),$(X,~ve),a.arraySet(X.pending_buf,X.window,de,ve,X.pending),X.pending+=ve})(q,G,ie)}i._tr_init=function(q){V||((function(){var G,ie,re,X,de,ve=new Array(g+1);for(X=re=0;X<u-1;X++)for(R[X]=re,G=0;G<1<<E[X];G++)k[re++]=X;for(k[re-1]=X,X=de=0;X<16;X++)for(L[X]=de,G=0;G<1<<C[X];G++)D[de++]=X;for(de>>=7;X<h;X++)for(L[X]=de<<7,G=0;G<1<<C[X]-7;G++)D[256+de++]=X;for(ie=0;ie<=g;ie++)ve[ie]=0;for(G=0;G<=143;)N[2*G+1]=8,G++,ve[8]++;for(;G<=255;)N[2*G+1]=9,G++,ve[9]++;for(;G<=279;)N[2*G+1]=7,G++,ve[7]++;for(;G<=287;)N[2*G+1]=8,G++,ve[8]++;for(le(N,p+1,ve),G=0;G<h;G++)T[2*G+1]=5,T[2*G]=fe(G,5);F=new M(N,E,d+1,p,g),B=new M(T,C,0,h,g),U=new M(new Array(0),P,0,v,b)})(),V=!0),q.l_desc=new H(q.dyn_ltree,F),q.d_desc=new H(q.dyn_dtree,B),q.bl_desc=new H(q.bl_tree,U),q.bi_buf=0,q.bi_valid=0,ue(q)},i._tr_stored_block=W,i._tr_flush_block=function(q,G,ie,re){var X,de,ve=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=(function(he){var Y,oe=4093624447;for(Y=0;Y<=31;Y++,oe>>>=1)if(1&oe&&he.dyn_ltree[2*Y]!==0)return o;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return s;for(Y=32;Y<d;Y++)if(he.dyn_ltree[2*Y]!==0)return s;return o})(q)),ne(q,q.l_desc),ne(q,q.d_desc),ve=(function(he){var Y;for(A(he,he.dyn_ltree,he.l_desc.max_code),A(he,he.dyn_dtree,he.d_desc.max_code),ne(he,he.bl_desc),Y=v-1;3<=Y&&he.bl_tree[2*O[Y]+1]===0;Y--);return he.opt_len+=3*(Y+1)+5+5+4,Y})(q),X=q.opt_len+3+7>>>3,(de=q.static_len+3+7>>>3)<=X&&(X=de)):X=de=ie+5,ie+4<=X&&G!==-1?W(q,G,ie,re):q.strategy===4||de===X?(Q(q,2+(re?1:0),3),J(q,N,T)):(Q(q,4+(re?1:0),3),(function(he,Y,oe,ge){var Oe;for(Q(he,Y-257,5),Q(he,oe-1,5),Q(he,ge-4,4),Oe=0;Oe<ge;Oe++)Q(he,he.bl_tree[2*O[Oe]+1],3);K(he,he.dyn_ltree,Y-1),K(he,he.dyn_dtree,oe-1)})(q,q.l_desc.max_code+1,q.d_desc.max_code+1,ve+1),J(q,q.dyn_ltree,q.dyn_dtree)),ue(q),re&&ee(q)},i._tr_tally=function(q,G,ie){return q.pending_buf[q.d_buf+2*q.last_lit]=G>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&G,q.pending_buf[q.l_buf+q.last_lit]=255&ie,q.last_lit++,G===0?q.dyn_ltree[2*ie]++:(q.matches++,G--,q.dyn_ltree[2*(k[ie]+d+1)]++,q.dyn_dtree[2*z(G)]++),q.last_lit===q.lit_bufsize-1},i._tr_align=function(q){Q(q,2,3),Z(q,x,N),(function(G){G.bi_valid===16?($(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)})(q)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(o,s){if(!o.setImmediate){var l,c,u,d,p=1,h={},v=!1,m=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){b(S)})}:(function(){if(o.postMessage&&!o.importScripts){var S=!0,w=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=w,S}})()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(S){o.postMessage(d+S,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(S){b(S.data)},function(S){u.port2.postMessage(S)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(S){var w=m.createElement("script");w.onreadystatechange=function(){b(S),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(S){setTimeout(b,0,S)},g.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var w=new Array(arguments.length-1),j=0;j<w.length;j++)w[j]=arguments[j+1];var E={callback:S,args:w};return h[p]=E,l(p),p++},g.clearImmediate=y}function y(S){delete h[S]}function b(S){if(v)setTimeout(b,0,S);else{var w=h[S];if(w){v=!0;try{(function(j){var E=j.callback,C=j.args;switch(C.length){case 0:E();break;case 1:E(C[0]);break;case 2:E(C[0],C[1]);break;case 3:E(C[0],C[1],C[2]);break;default:E.apply(s,C)}})(w)}finally{y(S),v=!1}}}}function x(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(d)===0&&b(+S.data.slice(d.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof cn<"u"?cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(m0)),m0.exports}var G_e=K_e();const Mz=nt(G_e);var Yd={exports:{}},Y_e=Yd.exports,z2;function X_e(){return z2||(z2=1,(function(e,t){(function(r,n){n()})(Y_e,function(){function r(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,u,d){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,u,d)},p.onerror=function(){console.error("could not download file")},p.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof cn=="object"&&cn.global===cn?cn:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(c,u,d){var p=o.URL||o.webkitURL,h=document.createElement("a");u=u||c.name||"download",h.download=u,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?a(h):i(h.href)?n(c,u,d):a(h,h.target="_blank")):(h.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,d){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,d),u);else if(i(c))n(c,u,d);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){a(p)})}}:function(c,u,d,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return n(c,u,d);var h=c.type==="application/octet-stream",v=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||h&&v||s)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=m?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=x:location=x,p=null},g.readAsDataURL(c)}else{var y=o.URL||o.webkitURL,b=y.createObjectURL(c);p?p.location=b:location.href=b,p=null,setTimeout(function(){y.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(Yd)),Yd.exports}var Q_e=X_e();async function J_e(e,t){const r=new Mz,n=`habit-tracker-backup-${t.split("T")[0]}`,i=r.folder(n);if(!i)throw new Error("Failed to create root folder");i.file("backup.json",JSON.stringify(e,null,2)),i.file("README.txt",Z_e(e));const a=i.folder("data");if(!a)throw new Error("Failed to create data folder");const o=a.folder("habits");o&&(o.file("goals.json",JSON.stringify(e.goals||[],null,2)),o.file("logs.json",JSON.stringify(e.goal_logs||[],null,2)));const s=a.folder("macro-goals");s&&s.file("long_term_goals.json",JSON.stringify(e.long_term_goals||[],null,2));const l=a.folder("categories");l&&l.file("settings.json",JSON.stringify(e.goal_category_settings||null,null,2));const c=a.folder("tracking");c&&(c.file("reading.json",JSON.stringify(e.reading_logs||[],null,2)),c.file("moods.json",JSON.stringify(e.daily_moods||[],null,2)));const u=a.folder("settings");u&&(u.file("user_settings.json",JSON.stringify(e.user_settings||[],null,2)),u.file("app_settings.json",JSON.stringify(e.app_settings||{},null,2)));const d=a.folder("notes");d&&e.user_memos&&d.file("memo.md",e.user_memos.content||`# Note

Nessuna nota salvata.`);const p=i.folder("database-schema");p&&(e.database_schema?.sql&&p.file("schema.sql",e.database_schema.sql),e.database_schema?.metadata&&p.file("database_info.json",JSON.stringify(e.database_schema.metadata,null,2)),e.database_schema?.tables_summary&&p.file("tables_summary.json",JSON.stringify(e.database_schema.tables_summary,null,2))),i.file("RESTORE_INSTRUCTIONS_IT.md",rSe(e)),i.file("RESTORE_INSTRUCTIONS_EN.md",nSe(e));const h=await r.generateAsync({type:"blob"});Q_e.saveAs(h,`${n}.zip`)}function Z_e(e){const t=LS(e);return`HABIT TRACKER - BACKUP COMPLETO
================================

Data Backup: ${e.timestamp}
Versione: ${e.version}

CONTENUTO DEL BACKUP
--------------------
Questo backup contiene TUTTI i tuoi dati dell'applicazione:

 ${t.goals} Abitudini giornaliere (daily habits)
 ${t.goalLogs} Log di completamento abitudini
 ${t.longTermGoals} Obiettivi macro (annuali, mensili, settimanali, etc.)
 Impostazioni colori e categorie personalizzate
 ${t.readingLogs} Log di lettura
 ${t.moods} Registrazioni mood & energy
 ${t.userSettings} Impostazioni utente
 Note personali (memo)

TOTALE RECORD: ${t.total}

COME RIPRISTINARE
-----------------
1. Apri l'applicazione Habit Tracker
2. Vai alla pagina Backup Completo (/complete-backup)
3. Trascina questo file ZIP nell'area di importazione
4. Conferma il ripristino
5. Attendi il completamento dell'operazione

NOTA: Il ripristino sovrascriver i dati esistenti.
Si consiglia di fare un backup prima di importare.

STRUTTURA FILE
--------------
- backup.json: File completo con tutti i dati
- README.txt: Questo file
- database-schema/: Schema del database Supabase
  - schema.sql: Script SQL completo per ricreare il database
  - database_info.json: Metadata e informazioni del database  - tables_summary.json: Riepilogo struttura tabelle
- data/: Cartella con dati organizzati per tipologia
  - habits/: Abitudini giornaliere e log
  - macro-goals/: Obiettivi a lungo termine
  - categories/: Impostazioni categorie
  - tracking/: Dati di tracking (lettura, mood)
  - settings/: Impostazioni utente e app
  - notes/: Note personali

Per assistenza o segnalazioni: https://github.com/simo-hue/habit-tracker/issues
`}function LS(e){return{goals:Array.isArray(e.goals)?e.goals.length:0,goalLogs:Array.isArray(e.goal_logs)?e.goal_logs.length:0,longTermGoals:Array.isArray(e.long_term_goals)?e.long_term_goals.length:0,readingLogs:Array.isArray(e.reading_logs)?e.reading_logs.length:0,moods:Array.isArray(e.daily_moods)?e.daily_moods.length:0,userSettings:Array.isArray(e.user_settings)?e.user_settings.length:0,total:(Array.isArray(e.goals)?e.goals.length:0)+(Array.isArray(e.goal_logs)?e.goal_logs.length:0)+(Array.isArray(e.long_term_goals)?e.long_term_goals.length:0)+(Array.isArray(e.reading_logs)?e.reading_logs.length:0)+(Array.isArray(e.daily_moods)?e.daily_moods.length:0)+(Array.isArray(e.user_settings)?e.user_settings.length:0)+(e.goal_category_settings?1:0)+(e.user_memos?1:0)}}function eSe(e){const t=[];return e.version||t.push("Missing backup version"),e.timestamp||t.push("Missing backup timestamp"),Array.isArray(e.goals)&&e.goals.length>0||Array.isArray(e.long_term_goals)&&e.long_term_goals.length>0||Array.isArray(e.goal_logs)&&e.goal_logs.length>0||Array.isArray(e.reading_logs)&&e.reading_logs.length>0||Array.isArray(e.daily_moods)&&e.daily_moods.length>0||e.user_memos||t.push("Backup appears to be empty - no data found"),{valid:t.length===0,errors:t}}async function tSe(e){if(e.name.endsWith(".zip")){const t=await Mz.loadAsync(e);let r=t.file("backup.json");if(!r){const a=Object.keys(t.files).find(o=>o.endsWith("backup.json"));a&&(r=t.file(a))}if(!r)throw new Error("File backup.json non trovato nel ZIP");const n=await r.async("text");return JSON.parse(n)}else{if(e.name.endsWith(".json"))return new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result;t(JSON.parse(a))}catch{r(new Error("File JSON non valido"))}},n.onerror=()=>r(new Error("Errore lettura file")),n.readAsText(e)});throw new Error("Formato file non supportato. Usa .zip o .json")}}function rSe(e){const t=LS(e);return e.metadata?.exportDate,`# ISTRUZIONI DI RIPRISTINO COMPLETO
# Habit Tracker - Full Disaster Recovery

**Data Backup:** ${e.timestamp}  
**Record Totali:** ${t.total}

---

##  SCENARIO 1: Ripristino Dati su App Esistente

### Prerequisiti
- Applicazione Habit Tracker gi installata e funzionante
- Account Supabase configurato
- File di backup ( habit-tracker-backup-*.zip)

### Passaggi

**1. Accedi all'Applicazione**
- Apri il browser e vai all'app Habit Tracker
- Effettua il login con le tue credenziali

**2. Naviga alla Pagina Backup**
- Menu  Backup Completo
- Oppure vai direttamente a: \`/#/complete-backup\`

**3. Importa il Backup**
- Trascina il file ZIP nell'area di drop
- Oppure clicca "Seleziona file" e scegli il ZIP
- Attendi il completamento (potrebbero volerci alcuni secondi per ${t.total} record)

**4. Verifica il Ripristino**
- Controlla che le abitudini siano visibili nella home
- Verifica i macro obiettivi in "Macro Goals"
- Controlla le statistiche in "Stats"

 **Fatto!** I tuoi dati sono stati ripristinati.

---

##  SCENARIO 2: Ripristino Completo da Zero (Disaster Recovery)

### Prerequisiti
- Niente! Partirai da zero
- File di backup (habit-tracker-backup-*.zip)
- Account GitHub (opzionale, per deploy)

### FASE 1: Crea Nuovo Progetto Supabase

**1.1 Crea Account / Progetto**
- Vai su https://supabase.com
- Clicca "Start your project"
- Crea una nuova organization (se necessario)
- Crea un nuovo progetto:
  - Nome: \`habit-tracker-restore\` (o quello che preferisci)
  - Database Password: **SALVALA!** Ti servir
  - Region: Scegli la pi vicina a te

**1.2 Attendi Provisioning**
- Supabase creer il database (1-2 minuti)
- Vedrai "Project is ready" quando completato

**1.3 Configura il Database**
- Vai su: SQL Editor (icona </> nella sidebar)
- Apri il file \`database-schema/schema.sql\` dal backup ZIP
- Copia **TUTTO** il contenuto
- Incollalo nel SQL Editor di Supabase
- Clicca "RUN" (o premi Ctrl+Enter)
- Vedrai "Success. No rows returned"   Schema creato!

**1.4 Salva le Credenziali Supabase**
- Vai su: Settings  API ( Settings in basso)
- Copia e salva:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### FASE 2: Clona e Configura l'Applicazione

**2.1 Clona Repository**
\`\`\`bash
git clone https://github.com/simo-hue/habit-tracker.git
cd habit-tracker
\`\`\`

**2.2 Installa Dipendenze**
\`\`\`bash
npm install
\`\`\`

**2.3 Configura Variabili d'Ambiente**
Crea file \`.env.local\` con:
\`\`\`
VITE_SUPABASE_URL=https://tuo-progetto.supabase.co
VITE_SUPABASE_ANON_KEY=tua-anon-key
\`\`\`

Sostituisci con i valori salvati al punto 1.4

**2.4 Testa in Locale**
\`\`\`bash
npm run dev
\`\`\`
Apri http://localhost:8080/habit-tracker/

### FASE 3: Ripristina i Dati

**3.1 Crea Account**
- Nell'app locale, clicca "Registrati"
- Usa una email valida
- Conferma l'email (controlla inbox)

**3.2 Importa il Backup**
- Login nell'app
- Vai a: Menu  Backup Completo
- Trascina il file ZIP
- Attendi completamento

**3.3 Verifica Dati**
-  ${t.goals} abitudini
-  ${t.longTermGoals} macro obiettivi
-  ${t.moods} registrazioni mood
-  Note personali

### FASE 4: Deploy (Opzionale)

**4.1 Deploy su GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configura GitHub Pages**
- Vai su GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Salva

La tua app sar online su:  
\`https://tuo-username.github.io/habit-tracker/\`

---

##  RISOLUZIONE PROBLEMI

### Errore: "Non autenticato"
- Verifica di aver fatto login
- Controlla che le credenziali Supabase siano corrette nel file .env.local

### Errore: "Backup non valido"
- Verifica che il file sia .zip o .json
- Controlla che il file non sia corrotto
- Prova a estrarre manualmente il ZIP e usa backup.json

### Schema SQL Error
- Assicurati di aver copiato TUTTO il contenuto di schema.sql
- Verifica che non ci siano caratteri strani
- Esegui lo script una riga alla volta se necessario

### Import Parziale
- Controlla la console del browser (F12) per errori
- Prova a importare il backup.json manualmente
- Verifica le policy RLS su Supabase

---

##  SUPPORTO

- GitHub Issues: https://github.com/simo-hue/habit-tracker/issues
- Documentazione: https://github.com/simo-hue/habit-tracker

---

**Nota Importante sullo Schema:**  
Lo schema SQL incluso potrebbe non essere aggiornato all'ultima versione.
Per ottenere lo schema pi recente:
1. Vai su Supabase Dashboard
2. SQL Editor  Schema tab
3. Copia lo schema completo
4. Sostituisci il contenuto di \`database-schema/schema.sql\`
`}function nSe(e){const t=LS(e);return`# COMPLETE RESTORE INSTRUCTIONS
# Habit Tracker - Full Disaster Recovery

**Backup Date:** ${e.timestamp}  
**Total Records:** ${t.total}

---

##  SCENARIO 1: Restore Data on Existing App

### Prerequisites
- Habit Tracker app already installed and running
- Supabase account configured
- Backup file (habit-tracker-backup-*.zip)

### Steps

**1. Access the Application**
- Open browser and go to Habit Tracker app
- Login with your credentials

**2. Navigate to Backup Page**
- Menu  Complete Backup
- Or go directly to: \`/#/complete-backup\`

**3. Import Backup**
- Drag and drop the ZIP file into the drop area
- Or click "Browse file" and select the ZIP
- Wait for completion (may take a few seconds for ${t.total} records)

**4. Verify Restore**
- Check that habits are visible on home page
- Verify macro goals in "Macro Goals"
- Check statistics in "Stats"

 **Done!** Your data has been restored.

---

##  SCENARIO 2: Complete Restore from Scratch (Disaster Recovery)

### Prerequisites
- Nothing! You'll start from zero
- Backup file (habit-tracker-backup-*.zip)
- GitHub account (optional, for deployment)

### PHASE 1: Create New Supabase Project

**1.1 Create Account / Project**
- Go to https://supabase.com
- Click "Start your project"
- Create a new organization (if needed)
- Create a new project:
  - Name: \`habit-tracker-restore\` (or whatever you prefer)
  - Database Password: **SAVE IT!** You'll need it
  - Region: Choose closest to you

**1.2 Wait for Provisioning**
- Supabase will create the database (1-2 minutes)
- You'll see "Project is ready" when completed

**1.3 Configure Database**
- Go to: SQL Editor (</> icon in sidebar)
- Open the \`database-schema/schema.sql\` file from backup ZIP
- Copy **ALL** the content
- Paste it into Supabase SQL Editor
- Click "RUN" (or press Ctrl+Enter)
- You'll see "Success. No rows returned"   Schema created!

**1.4 Save Supabase Credentials**
- Go to: Settings  API ( Settings at bottom)
- Copy and save:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### PHASE 2: Clone and Configure Application

**2.1 Clone Repository**
\`\`\`bash
git clone https://github.com/simo-hue/habit-tracker.git
cd habit-tracker
\`\`\`

**2.2 Install Dependencies**
\`\`\`bash
npm install
\`\`\`

**2.3 Configure Environment Variables**
Create \`.env.local\` file with:
\`\`\`
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
\`\`\`

Replace with values saved in step 1.4

**2.4 Test Locally**
\`\`\`bash
npm run dev
\`\`\`
Open http://localhost:8080/habit-tracker/

### PHASE 3: Restore Data

**3.1 Create Account**
- In the local app, click "Sign Up"
- Use a valid email
- Confirm email (check inbox)

**3.2 Import Backup**
- Login to the app
- Go to: Menu  Complete Backup
- Drag and drop the ZIP file
- Wait for completion

**3.3 Verify Data**
-  ${t.goals} habits
-  ${t.longTermGoals} macro goals
-  ${t.moods} mood records
-  Personal notes

### PHASE 4: Deploy (Optional)

**4.1 Deploy to GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configure GitHub Pages**
- Go to GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Save

Your app will be live at:  
\`https://your-username.github.io/habit-tracker/\`

---

##  TROUBLESHOOTING

### Error: "Not authenticated"
- Verify you're logged in
- Check that Supabase credentials are correct in .env.local file

### Error: "Invalid backup"
- Verify file is .zip or .json
- Check that file is not corrupted
- Try manually extracting ZIP and using backup.json

### Schema SQL Error
- Make sure you copied ALL content from schema.sql
- Verify there are no strange characters
- Run script one line at a time if necessary

### Partial Import
- Check browser console (F12) for errors
- Try importing backup.json manually
- Verify RLS policies on Supabase

---

##  SUPPORT

- GitHub Issues: https://github.com/simo-hue/habit-tracker/issues
- Documentation: https://github.com/simo-hue/habit-tracker

---

**Important Note about Schema:**  
The included SQL schema may not be updated to the latest version.
To get the most recent schema:
1. Go to Supabase Dashboard
2. SQL Editor  Schema tab
3. Copy the complete schema
4. Replace content of \`database-schema/schema.sql\`
`}function iSe(){const e=xa(),[t,r]=_.useState(!1),[n,i]=_.useState(!1);return{exportCompleteBackup:async()=>{r(!0);try{const{data:{user:s}}=await be.auth.getUser();if(!s)throw new Error("Non autenticato");const l=new Date().toISOString(),c=async(E,C=!0)=>{let P=[],O=0;const N=1e3;let T=!0,D=0;for(;T;){let k=be.from(E).select("*").range(O,O+N-1);C&&(k=k.eq("user_id",s.id));const{data:R,error:F}=await k;if(F)throw F;R&&R.length>0?(D++,P=[...P,...R],R.length===N&&console.log(` Fetching ${E}: batch ${D} (${P.length} records so far...)`),R.length<N?(T=!1,console.log(` ${E}: ${P.length} records fetched in ${D} batch(es)`)):O+=N):(T=!1,P.length>0&&console.log(` ${E}: ${P.length} records fetched in ${D} batch(es)`))}return P},[u,d,p,h,v,m,g,y]=await Promise.all([c("goals",!0),c("goal_logs",!0),c("long_term_goals",!0),be.from("goal_category_settings").select("*").eq("user_id",s.id).single(),c("reading_logs",!1),c("user_settings",!1),be.from("user_memos").select("*").eq("user_id",s.id).single(),c("daily_moods",!0)]);if(h.error&&h.error.code!=="PGRST116")throw h.error;if(g.error&&g.error.code!=="PGRST116")throw g.error;const b={ollama_preferred_model:localStorage.getItem("ollama_preferred_model")||void 0,ollama_report_type:localStorage.getItem("ollama_report_type")||void 0};let x="";try{const E=await fetch("/schema.sql");E.ok?x=await E.text():console.warn("schema.sql not found in public folder")}catch(E){console.warn("Could not load schema.sql:",E)}x?x=`-- HABIT TRACKER DATABASE SCHEMA
-- Exported: ${new Date().toISOString()}
-- Source: /public/schema.sql
-- 
-- This schema includes all 8 tables with RLS policies and triggers.
-- For the most up-to-date schema, export from Supabase Dashboard.
--
${x}`:x=`-- Database Schema not available
-- 
-- To get the current database schema:
-- 1. Go to Supabase Dashboard > SQL Editor
-- 2. Copy the complete schema
-- 3. Or manually export via Supabase CLI: supabase db dump -f schema.sql
`;const S={sql:x,metadata:{supabase_version:"2.87.1",postgrest_version:"13.0.5",exported_at:l,tables_count:8,total_records:0},tables_summary:{goals:{description:"Daily habits tracking",key_columns:["id","user_id","title","color","frequency_days"],has_rls:!0},goal_logs:{description:"Habit completion logs",key_columns:["id","user_id","goal_id","date","status"],has_rls:!0},long_term_goals:{description:"Macro goals (annual, monthly, weekly, quarterly, lifetime)",key_columns:["id","user_id","title","type","year","month"],has_rls:!0},goal_category_settings:{description:"Category colors and labels settings",key_columns:["id","user_id","mappings"],has_rls:!0,note:"Single record per user"},reading_logs:{description:"Daily reading tracking",key_columns:["id","date","status"],has_rls:!0},user_settings:{description:"Generic user settings (key-value)",key_columns:["id","key","value"],has_rls:!0},user_memos:{description:"User personal notes in markdown",key_columns:["id","user_id","content"],has_rls:!0,note:"Single record per user"},daily_moods:{description:"Daily mood and energy tracking",key_columns:["id","user_id","date","mood_score","energy_score"],has_rls:!0}}},w=(u?.length||0)+(d?.length||0)+(p?.length||0)+(h.data?1:0)+(v?.length||0)+(m?.length||0)+(g.data?1:0)+(y?.length||0);S.metadata.total_records=w;const j={version:1,timestamp:l,metadata:{appVersion:"1.0.0",exportDate:new Date().toLocaleDateString("it-IT"),totalRecords:w},goals:u||[],goal_logs:d||[],long_term_goals:p||[],goal_category_settings:h.data||null,reading_logs:v||[],user_settings:m||[],user_memos:g.data||null,daily_moods:y||[],app_settings:b,database_schema:S};Ue.info(`Preparazione backup: ${w} record trovati...`),await J_e(j,l),Ue.success(`Backup completo creato con successo! (${w} record)`)}catch(s){console.error("Export failed:",s),Ue.error(`Errore durante l'export: ${s.message}`)}finally{r(!1)}},importCompleteBackup:async s=>{i(!0);try{const l=await tSe(s),c=eSe(l);if(!c.valid)throw new Error(`Backup non valido: ${c.errors.join(", ")}`);const{data:{user:u}}=await be.auth.getUser();if(!u)throw new Error("Non autenticato");const d={totalProcessed:0,byTable:{},settingsRestored:[],timestamp:new Date().toISOString()},p=async(h,v,m="id")=>{if(!Array.isArray(v)||v.length===0){d.byTable[h]={inserted:0,updated:0,unchanged:0,errors:[]};return}try{const{data:g,error:y}=await be.from(h).select("*").eq("user_id",u.id);if(y)throw y;const b=new Map((g||[]).map(E=>[E[m],E])),x=[];let S=0,w=0,j=0;for(const E of v){const C={...E,user_id:u.id},P=b.get(E[m]);P?JSON.stringify(P)!==JSON.stringify(C)?(w++,x.push(C)):j++:(S++,x.push(C))}if(x.length>0){const{error:E}=await be.from(h).upsert(x);if(E)throw E}d.byTable[h]={inserted:S,updated:w,unchanged:j,errors:[]},d.totalProcessed+=v.length}catch(g){d.byTable[h]={inserted:0,updated:0,unchanged:0,errors:[g.message]}}};if(await p("goals",l.goals),await p("goal_logs",l.goal_logs),await p("long_term_goals",l.long_term_goals),await p("reading_logs",l.reading_logs),await p("user_settings",l.user_settings,"key"),await p("daily_moods",l.daily_moods),l.goal_category_settings)try{const{data:h}=await be.from("goal_category_settings").select("*").eq("user_id",u.id).single(),v={user_id:u.id,mappings:l.goal_category_settings.mappings};h?(await be.from("goal_category_settings").update({mappings:v.mappings}).eq("id",h.id),d.byTable.goal_category_settings={inserted:0,updated:1,unchanged:0,errors:[]}):(await be.from("goal_category_settings").insert(v),d.byTable.goal_category_settings={inserted:1,updated:0,unchanged:0,errors:[]}),d.totalProcessed++}catch(h){d.byTable.goal_category_settings={inserted:0,updated:0,unchanged:0,errors:[h.message]}}if(l.user_memos)try{const{error:h}=await be.from("user_memos").upsert({user_id:u.id,content:l.user_memos.content||"",updated_at:new Date().toISOString()},{onConflict:"user_id"});if(h)throw h;d.byTable.user_memos={inserted:0,updated:1,unchanged:0,errors:[]},d.totalProcessed++}catch(h){d.byTable.user_memos={inserted:0,updated:0,unchanged:0,errors:[h.message]}}return l.app_settings&&(l.app_settings.ollama_preferred_model&&(localStorage.setItem("ollama_preferred_model",l.app_settings.ollama_preferred_model),d.settingsRestored.push("ollama_preferred_model")),l.app_settings.ollama_report_type&&(localStorage.setItem("ollama_report_type",l.app_settings.ollama_report_type),d.settingsRestored.push("ollama_report_type"))),await e.invalidateQueries({queryKey:["goals"]}),await e.invalidateQueries({queryKey:["goal_logs"]}),await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),await e.invalidateQueries({queryKey:["moods"]}),Ue.success(`Backup importato con successo! (${d.totalProcessed} record ripristinati)`),d}catch(l){return console.error("Import failed:",l),Ue.error(`Errore durante l'importazione: ${l.message}`),null}finally{i(!1)}},isExporting:t,isImporting:n}}var BS="Progress",FS=100,[aSe]=Ar(BS),[oSe,sSe]=aSe(BS),$z=_.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=lSe,...o}=e;(i||i===0)&&!q2(i)&&console.error(cSe(`${i}`,"Progress"));const s=q2(i)?i:FS;n!==null&&!U2(n,s)&&console.error(uSe(`${n}`,"Progress"));const l=U2(n,s)?n:null,c=Nh(l)?a(l,s):void 0;return f.jsx(oSe,{scope:r,value:l,max:s,children:f.jsx(ke.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Nh(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Fz(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});$z.displayName=BS;var Lz="ProgressIndicator",Bz=_.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=sSe(Lz,r);return f.jsx(ke.div,{"data-state":Fz(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});Bz.displayName=Lz;function lSe(e,t){return`${Math.round(e/t*100)}%`}function Fz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Nh(e){return typeof e=="number"}function q2(e){return Nh(e)&&!isNaN(e)&&e>0}function U2(e,t){return Nh(e)&&!isNaN(e)&&e<=t&&e>=0}function cSe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${FS}\`.`}function uSe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${FS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var zz=$z,dSe=Bz;const qz=_.forwardRef(({className:e,value:t,...r},n)=>f.jsx(zz,{ref:n,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:f.jsx(dSe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));qz.displayName=zz.displayName;var fSe="Separator",W2="horizontal",hSe=["horizontal","vertical"],Uz=_.forwardRef((e,t)=>{const{decorative:r,orientation:n=W2,...i}=e,a=pSe(n)?n:W2,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return f.jsx(ke.div,{"data-orientation":a,...s,...i,ref:t})});Uz.displayName=fSe;function pSe(e){return hSe.includes(e)}var Wz=Uz;const Xd=_.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>f.jsx(Wz,{ref:i,decorative:r,orientation:t,className:ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Xd.displayName=Wz.displayName;function mSe(){const{exportCompleteBackup:e,importCompleteBackup:t,isExporting:r,isImporting:n}=iSe(),[i,a]=_.useState(null),[o,s]=_.useState(!1),l=async()=>{await e()},c=async m=>{const g=await t(m);a(g)},u=_.useCallback(m=>{m.preventDefault(),s(!1);const g=Array.from(m.dataTransfer.files);g.length>0&&c(g[0])},[]),d=_.useCallback(m=>{m.preventDefault(),s(!0)},[]),p=_.useCallback(m=>{m.preventDefault(),s(!1)},[]),h=_.useCallback(m=>{const g=m.target.files;g&&g.length>0&&c(g[0])},[]),v=[{icon:Gn,label:"Abitudini giornaliere",key:"goals",color:"text-blue-500"},{icon:Md,label:"Log completamento abitudini",key:"goal_logs",color:"text-green-500"},{icon:lo,label:"Obiettivi macro (annuali, mensili, etc.)",key:"long_term_goals",color:"text-purple-500"},{icon:x6,label:"Categorie e colori personalizzati",key:"goal_category_settings",color:"text-pink-500"},{icon:t6,label:"Log di lettura",key:"reading_logs",color:"text-amber-500"},{icon:PR,label:"Registrazioni Mood & Energy",key:"daily_moods",color:"text-cyan-500"},{icon:CR,label:"Impostazioni utente",key:"user_settings",color:"text-slate-500"},{icon:u1,label:"Note personali (memo)",key:"user_memos",color:"text-orange-500"}];return f.jsx("div",{className:"container mx-auto p-4 sm:p-6 max-w-4xl",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[f.jsx(jR,{className:"h-8 w-8 text-primary"}),"Backup Completo"]}),f.jsx("p",{className:"text-muted-foreground",children:"Esporta o importa tutti i dati dell'applicazione in un unico archivio organizzato"})]}),f.jsxs(oo,{children:[f.jsx(ts,{className:"h-4 w-4"}),f.jsx(Gd,{children:"Cosa viene salvato nel backup?"}),f.jsxs(so,{children:["Il backup include ",f.jsx("strong",{children:"tutti i tuoi dati"}),": abitudini, obiettivi, log, impostazioni, categorie personalizzate, note e registrazioni mood. Il file sar scaricato come archivio ZIP ben organizzato."]})]}),f.jsxs(Fe,{children:[f.jsxs(Qe,{children:[f.jsxs(Je,{className:"flex items-center gap-2",children:[f.jsx(Fh,{className:"h-5 w-5"}),"Esporta Backup"]}),f.jsx(jn,{children:"Scarica un backup completo di tutti i tuoi dati in formato ZIP"})]}),f.jsxs(qe,{className:"space-y-4",children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:v.map(m=>f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[f.jsx(m.icon,{className:`h-5 w-5 ${m.color}`}),f.jsx("span",{className:"text-sm font-medium",children:m.label})]},m.key))}),f.jsx(Xd,{}),f.jsx(Ge,{onClick:l,disabled:r,className:"w-full sm:w-auto",size:"lg",children:r?f.jsxs(f.Fragment,{children:[f.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creazione backup..."]}):f.jsxs(f.Fragment,{children:[f.jsx(XS,{className:"mr-2 h-4 w-4"}),"Esporta Backup Completo"]})})]})]}),f.jsxs(Fe,{children:[f.jsxs(Qe,{children:[f.jsxs(Je,{className:"flex items-center gap-2",children:[f.jsx(TR,{className:"h-5 w-5"}),"Importa Backup"]}),f.jsx(jn,{children:"Ripristina i tuoi dati da un file di backup precedente (ZIP o JSON)"})]}),f.jsxs(qe,{className:"space-y-4",children:[f.jsxs("div",{onDrop:u,onDragOver:d,onDragLeave:p,className:`
                                border-2 border-dashed rounded-lg p-8 text-center transition-all
                                ${o?"border-primary bg-primary/5 scale-105":"border-muted-foreground/25 hover:border-muted-foreground/50"}
                            `,children:[f.jsx(XS,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),f.jsx("p",{className:"text-sm font-medium mb-2",children:"Trascina qui il file di backup"}),f.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Supporta file .zip e .json"}),f.jsx("label",{htmlFor:"backup-file-input",children:f.jsx(Ge,{variant:"outline",size:"sm",asChild:!0,disabled:n,children:f.jsx("span",{className:"cursor-pointer",children:n?f.jsxs(f.Fragment,{children:[f.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Importazione..."]}):"Oppure clicca per selezionare"})})}),f.jsx("input",{id:"backup-file-input",type:"file",accept:".zip,.json",onChange:h,className:"hidden",disabled:n})]}),n&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"flex items-center justify-between text-sm",children:f.jsx("span",{className:"text-muted-foreground",children:"Ripristino in corso..."})}),f.jsx(qz,{value:void 0,className:"h-2"})]}),i&&f.jsxs(oo,{className:"border-green-500/50 bg-green-500/10",children:[f.jsx(Md,{className:"h-4 w-4 text-green-500"}),f.jsx(Gd,{className:"text-green-500",children:"Backup importato con successo!"}),f.jsx(so,{className:"mt-2",children:f.jsx(u_,{className:"h-48 w-full rounded-md border p-4 bg-background/50",children:f.jsxs("div",{className:"space-y-3 text-sm",children:[f.jsxs("div",{className:"font-semibold",children:["Record totali processati: ",i.totalProcessed]}),f.jsx(Xd,{}),f.jsx("div",{className:"space-y-2",children:Object.entries(i.byTable).map(([m,g])=>f.jsxs("div",{className:"space-y-1",children:[f.jsx("div",{className:"font-medium capitalize",children:m.replace(/_/g," ")}),f.jsxs("div",{className:"pl-4 text-xs space-y-0.5 text-muted-foreground",children:[g.inserted>0&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Md,{className:"h-3 w-3 text-green-500"}),f.jsxs("span",{children:[g.inserted," nuovi record"]})]}),g.updated>0&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ts,{className:"h-3 w-3 text-blue-500"}),f.jsxs("span",{children:[g.updated," aggiornati"]})]}),g.unchanged>0&&f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("span",{className:"text-muted-foreground",children:[g.unchanged," invariati"]})}),g.errors.length>0&&f.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[f.jsx(a6,{className:"h-3 w-3"}),f.jsx("span",{children:g.errors.join(", ")})]})]})]},m))}),i.settingsRestored.length>0&&f.jsxs(f.Fragment,{children:[f.jsx(Xd,{}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Impostazioni ripristinate:"}),f.jsx("div",{className:"pl-4 text-xs text-muted-foreground",children:i.settingsRestored.join(", ")})]})]})]})})})]})]})]}),f.jsxs(oo,{variant:"destructive",children:[f.jsx(ts,{className:"h-4 w-4"}),f.jsx(Gd,{children:"Attenzione"}),f.jsxs(so,{children:["L'importazione di un backup ",f.jsx("strong",{children:"sovrascriver i dati esistenti"}),". Assicurati di aver effettuato un backup prima di procedere se hai dati da conservare."]})]})]})})}const gSe=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(""),[i,a]=_.useState(""),[o,s]=_.useState(!1),l=Y2();_.useEffect(()=>{be.auth.getSession().then(({data:{session:u}})=>{u&&l("/")})},[l]);const c=async u=>{u.preventDefault(),t(!0);try{if(o){Ue.error("Non sei autorizzato, prova scrivi su linkedin a mattioli simone");return}else{const{error:d}=await be.auth.signInWithPassword({email:r,password:i});if(d)throw d;Ue.success("Accesso effettuato"),l("/")}}catch(d){Ue.error(d.message)}finally{t(!1)}};return f.jsxs("div",{className:"min-h-dvh flex items-center justify-center p-4 relative overflow-hidden bg-background",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 blur-[100px] rounded-full opacity-50 animate-pulse"}),f.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-secondary/10 blur-[80px] rounded-full"})]}),f.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-3xl relative z-10 border-white/10 shadow-2xl animate-scale-in",children:[f.jsxs("div",{className:"text-center mb-8 space-y-2",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 border border-primary/20 mb-4 shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:f.jsx(k6,{className:"w-6 h-6 text-primary"})}),f.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),f.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"Sistema di tracciamento abitudini personale"})]}),f.jsxs("form",{onSubmit:c,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"relative group",children:[f.jsx(v6,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),f.jsx(va,{type:"email",placeholder:"Email",value:r,onChange:u=>n(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]}),f.jsxs("div",{className:"relative group",children:[f.jsx(g6,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),f.jsx(va,{type:"password",placeholder:"Password",value:i,onChange:u=>a(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]})]}),f.jsx(Ge,{type:"submit",className:"w-full h-11 text-base font-medium mt-6 bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] transition-all duration-300",disabled:e,children:e?f.jsx(Tn,{className:"w-5 h-5 animate-spin"}):f.jsxs("span",{className:"flex items-center gap-2",children:[o?"Registrati":"Accedi al Sistema",f.jsx(J8,{className:"w-4 h-4"})]})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>s(!o),className:"text-xs text-muted-foreground hover:text-primary transition-colors hover:underline underline-offset-4",children:o?"Hai gi un account? Accedi":"Prima volta? Inizializza Protocollo (Registrati)"})})]})]})},vSe=()=>{const e=Xz();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},ySe=new dW,bSe=({children:e})=>{const[t,r]=_.useState(null);return _.useEffect(()=>{be.auth.getSession().then(({data:{session:i}})=>{r(!!i)});const{data:{subscription:n}}=be.auth.onAuthStateChange((i,a)=>{r(!!a)});return()=>n.unsubscribe()},[]),t===null?null:t?f.jsx(f.Fragment,{children:e}):f.jsx(Zz,{to:"/auth",replace:!0})},xSe=()=>f.jsx(gW,{client:ySe,children:f.jsx(A7,{children:f.jsx(OW,{children:f.jsxs(Ua,{children:[f.jsx(R6,{}),f.jsx(uq,{}),f.jsx(Qz,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs(Jz,{children:[f.jsx(Wi,{path:"/auth",element:f.jsx(gSe,{})}),f.jsxs(Wi,{element:f.jsx(bSe,{children:f.jsx(RW,{})}),children:[f.jsx(Wi,{path:"/",element:f.jsx(Gie,{})}),f.jsx(Wi,{path:"/stats",element:f.jsx(E_e,{})}),f.jsx(Wi,{path:"/macro-goals",element:f.jsx(F_e,{})}),f.jsx(Wi,{path:"/ai-coach",element:f.jsx(V_e,{})}),f.jsx(Wi,{path:"/complete-backup",element:f.jsx(mSe,{})})]}),f.jsx(Wi,{path:"*",element:f.jsx(vSe,{})})]})})]})})})});try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");r8.createRoot(e).render(f.jsx(xSe,{}))}catch(e){console.error("Error in main.tsx:",e)}
