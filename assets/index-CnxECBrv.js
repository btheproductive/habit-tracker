import{j as f,u as De,c as Gl,t as YF,a as Ie,b as Wc,d as bN,S as XF}from"./ui-3JHv0VQv.js";import{b as QF,a as k,R as I,c as Hc,d as xN,e as wN,N as _N,L as JF,O as ZF,g as Vc,f as Je,u as SN,h as Jr,i as eB,H as tB,j as rB,k as Ri,l as nB}from"./vendor-DLNrorn0.js";function iB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var du={},T_;function aB(){if(T_)return du;T_=1;var e=QF();return du.createRoot=e.createRoot,du.hydrateRoot=e.hydrateRoot,du}var oB=aB();const sB=1,lB=1e6;let Sp=0;function cB(){return Sp=(Sp+1)%Number.MAX_SAFE_INTEGER,Sp.toString()}const kp=new Map,C_=e=>{if(kp.has(e))return;const t=setTimeout(()=>{kp.delete(e),Rl({type:"REMOVE_TOAST",toastId:e})},lB);kp.set(e,t)},uB=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sB)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?C_(r):e.toasts.forEach(n=>{C_(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Zu=[];let ed={toasts:[]};function Rl(e){ed=uB(ed,e),Zu.forEach(t=>{t(ed)})}function dB({...e}){const t=cB(),r=i=>Rl({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Rl({type:"DISMISS_TOAST",toastId:t});return Rl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function fB(){const[e,t]=k.useState(ed);return k.useEffect(()=>(Zu.push(t),()=>{const r=Zu.indexOf(t);r>-1&&Zu.splice(r,1)}),[e]),{...e,toast:dB,dismiss:r=>Rl({type:"DISMISS_TOAST",toastId:r})}}function Se(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function hB(e,t){const r=k.createContext(t),n=a=>{const{children:o,...s}=a,l=k.useMemo(()=>s,Object.values(s));return f.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function i(a){const o=k.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function yr(e,t=[]){let r=[];function n(a,o){const s=k.createContext(o),l=r.length;r=[...r,o];const c=d=>{const{scope:p,children:h,...y}=d,m=p?.[e]?.[l]||s,g=k.useMemo(()=>y,Object.values(y));return f.jsx(m.Provider,{value:g,children:h})};c.displayName=a+"Provider";function u(d,p){const h=p?.[e]?.[l]||s,y=k.useContext(h);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[c,u]}const i=()=>{const a=r.map(o=>k.createContext(o));return function(s){const l=s?.[e]||a;return k.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[n,pB(i,...t)]}function pB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const d=l(a)[`__scope${c}`];return{...s,...d}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Kf(e){const t=e+"CollectionProvider",[r,n]=yr(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:v}=m,b=I.useRef(null),x=I.useRef(new Map).current;return f.jsx(i,{scope:g,itemMap:x,collectionRef:b,children:v})};o.displayName=t;const s=e+"CollectionSlot",l=Gl(s),c=I.forwardRef((m,g)=>{const{scope:v,children:b}=m,x=a(s,v),_=De(g,x.collectionRef);return f.jsx(l,{ref:_,children:b})});c.displayName=s;const u=e+"CollectionItemSlot",d="data-radix-collection-item",p=Gl(u),h=I.forwardRef((m,g)=>{const{scope:v,children:b,...x}=m,_=I.useRef(null),w=De(g,_),S=a(u,v);return I.useEffect(()=>(S.itemMap.set(_,{ref:_,...x}),()=>{S.itemMap.delete(_)})),f.jsx(p,{[d]:"",ref:w,children:b})});h.displayName=u;function y(m){const g=a(e+"CollectionConsumer",m);return I.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,E)=>x.indexOf(S.ref.current)-x.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},y,n]}var mB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=mB.reduce((e,t)=>{const r=Gl(`Primitive.${t}`),n=k.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function rw(e,t){e&&Hc.flushSync(()=>e.dispatchEvent(t))}function Tt(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...r)=>t.current?.(...r),[])}function kN(e,t=globalThis?.document){const r=Tt(e);k.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var gB="DismissableLayer",bb="dismissableLayer.update",yB="dismissableLayer.pointerDownOutside",vB="dismissableLayer.focusOutside",N_,EN=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gf=k.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=k.useContext(EN),[u,d]=k.useState(null),p=u?.ownerDocument??globalThis?.document,[,h]=k.useState({}),y=De(t,E=>d(E)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),b=u?m.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=v,w=xB(E=>{const P=E.target,T=[...c.branches].some(A=>A.contains(P));!_||T||(i?.(E),o?.(E),E.defaultPrevented||s?.())},p),S=wB(E=>{const P=E.target;[...c.branches].some(A=>A.contains(P))||(a?.(E),o?.(E),E.defaultPrevented||s?.())},p);return kN(E=>{b===c.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},p),k.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(N_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),R_(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=N_)}},[u,p,r,c]),k.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),R_())},[u,c]),k.useEffect(()=>{const E=()=>h({});return document.addEventListener(bb,E),()=>document.removeEventListener(bb,E)},[]),f.jsx(ke.div,{...l,ref:y,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:Se(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Se(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Se(e.onPointerDownCapture,w.onPointerDownCapture)})});Gf.displayName=gB;var bB="DismissableLayerBranch",ON=k.forwardRef((e,t)=>{const r=k.useContext(EN),n=k.useRef(null),i=De(t,n);return k.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(ke.div,{...e,ref:i})});ON.displayName=bB;function xB(e,t=globalThis?.document){const r=Tt(e),n=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){AN(yB,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wB(e,t=globalThis?.document){const r=Tt(e),n=k.useRef(!1);return k.useEffect(()=>{const i=a=>{a.target&&!n.current&&AN(vB,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function R_(){const e=new CustomEvent(bb);document.dispatchEvent(e)}function AN(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?rw(i,a):i.dispatchEvent(a)}var _B=Gf,SB=ON,Lt=globalThis?.document?k.useLayoutEffect:()=>{},kB="Portal",Yf=k.forwardRef((e,t)=>{const{container:r,...n}=e,[i,a]=k.useState(!1);Lt(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?xN.createPortal(f.jsx(ke.div,{...n,ref:t}),o):null});Yf.displayName=kB;function EB(e,t){return k.useReducer((r,n)=>t[r][n]??r,e)}var ki=e=>{const{present:t,children:r}=e,n=OB(t),i=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),a=De(n.ref,AB(i));return typeof r=="function"||n.isPresent?k.cloneElement(i,{ref:a}):null};ki.displayName="Presence";function OB(e){const[t,r]=k.useState(),n=k.useRef(null),i=k.useRef(e),a=k.useRef("none"),o=e?"mounted":"unmounted",[s,l]=EB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const c=fu(n.current);a.current=s==="mounted"?c:"none"},[s]),Lt(()=>{const c=n.current,u=i.current;if(u!==e){const p=a.current,h=fu(c);e?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Lt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=h=>{const m=fu(n.current).includes(h.animationName);if(h.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},p=h=>{h.target===t&&(a.current=fu(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:k.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function fu(e){return e?.animationName||"none"}function AB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jB=wN[" useInsertionEffect ".trim().toString()]||Lt;function Wn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=PB({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:i;{const u=k.useRef(e!==void 0);k.useEffect(()=>{const d=u.current;d!==s&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,n])}const c=k.useCallback(u=>{if(s){const d=TB(u)?u(e):u;d!==e&&o.current?.(d)}else a(u)},[s,e,a,o]);return[l,c]}function PB({defaultProp:e,onChange:t}){const[r,n]=k.useState(e),i=k.useRef(r),a=k.useRef(t);return jB(()=>{a.current=t},[t]),k.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function TB(e){return typeof e=="function"}var jN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CB="VisuallyHidden",Xf=k.forwardRef((e,t)=>f.jsx(ke.span,{...e,ref:t,style:{...jN,...e.style}}));Xf.displayName=CB;var NB=Xf,nw="ToastProvider",[iw,RB,IB]=Kf("Toast"),[PN]=yr("Toast",[IB]),[DB,Qf]=PN(nw),TN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,l]=k.useState(null),[c,u]=k.useState(0),d=k.useRef(!1),p=k.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${nw}\`. Expected non-empty \`string\`.`),f.jsx(iw.Provider,{scope:t,children:f.jsx(DB,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:k.useCallback(()=>u(h=>h+1),[]),onToastRemove:k.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};TN.displayName=nw;var CN="ToastViewport",MB=["F8"],xb="toast.viewportPause",wb="toast.viewportResume",NN=k.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=MB,label:i="Notifications ({hotkey})",...a}=e,o=Qf(CN,r),s=RB(r),l=k.useRef(null),c=k.useRef(null),u=k.useRef(null),d=k.useRef(null),p=De(t,d,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;k.useEffect(()=>{const g=v=>{n.length!==0&&n.every(x=>v[x]||v.code===x)&&d.current?.focus()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),k.useEffect(()=>{const g=l.current,v=d.current;if(y&&g&&v){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(xb);v.dispatchEvent(S),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(wb);v.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!g.contains(S.relatedTarget)&&x()},w=()=>{g.contains(document.activeElement)||x()};return g.addEventListener("focusin",b),g.addEventListener("focusout",_),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",w),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",w),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[y,o.isClosePausedRef]);const m=k.useCallback(({tabbingDirection:g})=>{const b=s().map(x=>{const _=x.ref.current,w=[_,...YB(_)];return g==="forwards"?w:w.reverse()});return(g==="forwards"?b.reverse():b).flat()},[s]);return k.useEffect(()=>{const g=d.current;if(g){const v=b=>{const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const w=document.activeElement,S=b.shiftKey;if(b.target===g&&S){c.current?.focus();return}const T=m({tabbingDirection:S?"backwards":"forwards"}),A=T.findIndex(N=>N===w);Ep(T.slice(A+1))?b.preventDefault():S?c.current?.focus():u.current?.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[s,m]),f.jsxs(SB,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&f.jsx(_b,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Ep(g)}}),f.jsx(iw.Slot,{scope:r,children:f.jsx(ke.ol,{tabIndex:-1,...a,ref:p})}),y&&f.jsx(_b,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Ep(g)}})]})});NN.displayName=CN;var RN="ToastFocusProxy",_b=k.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Qf(RN,r);return f.jsx(Xf,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const s=o.relatedTarget;!a.viewport?.contains(s)&&n()}})});_b.displayName=RN;var Kc="Toast",$B="toast.swipeStart",LB="toast.swipeMove",FB="toast.swipeCancel",BB="toast.swipeEnd",IN=k.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[s,l]=Wn({prop:n,defaultProp:i??!0,onChange:a,caller:Kc});return f.jsx(ki,{present:r||s,children:f.jsx(UB,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:Tt(e.onPause),onResume:Tt(e.onResume),onSwipeStart:Se(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Se(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});IN.displayName=Kc;var[zB,qB]=PN(Kc,{onClose(){}}),UB=k.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:h,...y}=e,m=Qf(Kc,r),[g,v]=k.useState(null),b=De(t,O=>v(O)),x=k.useRef(null),_=k.useRef(null),w=i||m.duration,S=k.useRef(0),E=k.useRef(w),P=k.useRef(0),{onToastAdd:T,onToastRemove:A}=m,N=Tt(()=>{g?.contains(document.activeElement)&&m.viewport?.focus(),o()}),C=k.useCallback(O=>{!O||O===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(N,O))},[N]);k.useEffect(()=>{const O=m.viewport;if(O){const R=()=>{C(E.current),c?.()},F=()=>{const z=new Date().getTime()-S.current;E.current=E.current-z,window.clearTimeout(P.current),l?.()};return O.addEventListener(xb,F),O.addEventListener(wb,R),()=>{O.removeEventListener(xb,F),O.removeEventListener(wb,R)}}},[m.viewport,w,l,c,C]),k.useEffect(()=>{a&&!m.isClosePausedRef.current&&C(w)},[a,w,m.isClosePausedRef,C]),k.useEffect(()=>(T(),()=>A()),[T,A]);const D=k.useMemo(()=>g?zN(g):null,[g]);return m.viewport?f.jsxs(f.Fragment,{children:[D&&f.jsx(WB,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),f.jsx(zB,{scope:r,onClose:N,children:Hc.createPortal(f.jsx(iw.ItemSlot,{scope:r,children:f.jsx(_B,{asChild:!0,onEscapeKeyDown:Se(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Se(e.onKeyDown,O=>{O.key==="Escape"&&(s?.(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Se(e.onPointerDown,O=>{O.button===0&&(x.current={x:O.clientX,y:O.clientY})}),onPointerMove:Se(e.onPointerMove,O=>{if(!x.current)return;const R=O.clientX-x.current.x,F=O.clientY-x.current.y,z=!!_.current,W=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,M=W?L(0,R):0,H=W?0:L(0,F),B=O.pointerType==="touch"?10:2,$={x:M,y:H},Q={originalEvent:O,delta:$};z?(_.current=$,hu(LB,d,Q,{discrete:!1})):I_($,m.swipeDirection,B)?(_.current=$,hu($B,u,Q,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(R)>B||Math.abs(F)>B)&&(x.current=null)}),onPointerUp:Se(e.onPointerUp,O=>{const R=_.current,F=O.target;if(F.hasPointerCapture(O.pointerId)&&F.releasePointerCapture(O.pointerId),_.current=null,x.current=null,R){const z=O.currentTarget,W={originalEvent:O,delta:R};I_(R,m.swipeDirection,m.swipeThreshold)?hu(BB,h,W,{discrete:!0}):hu(FB,p,W,{discrete:!0}),z.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),WB=e=>{const{__scopeToast:t,children:r,...n}=e,i=Qf(Kc,t),[a,o]=k.useState(!1),[s,l]=k.useState(!1);return KB(()=>o(!0)),k.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:f.jsx(Yf,{asChild:!0,children:f.jsx(Xf,{...n,children:a&&f.jsxs(f.Fragment,{children:[i.label," ",r]})})})},HB="ToastTitle",DN=k.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(ke.div,{...n,ref:t})});DN.displayName=HB;var VB="ToastDescription",MN=k.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(ke.div,{...n,ref:t})});MN.displayName=VB;var $N="ToastAction",LN=k.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?f.jsx(BN,{altText:r,asChild:!0,children:f.jsx(aw,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$N}\`. Expected non-empty \`string\`.`),null)});LN.displayName=$N;var FN="ToastClose",aw=k.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=qB(FN,r);return f.jsx(BN,{asChild:!0,children:f.jsx(ke.button,{type:"button",...n,ref:t,onClick:Se(e.onClick,i.onClose)})})});aw.displayName=FN;var BN=k.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return f.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function zN(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),GB(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...zN(n))}}),t}function hu(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?rw(i,a):i.dispatchEvent(a)}var I_=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function KB(e=()=>{}){const t=Tt(e);Lt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function GB(e){return e.nodeType===e.ELEMENT_NODE}function YB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ep(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var XB=TN,qN=NN,UN=IN,WN=DN,HN=MN,VN=LN,KN=aw;const QB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GN=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var JB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZB=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>k.createElement("svg",{ref:l,...JB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:GN("lucide",i),...s},[...o.map(([c,u])=>k.createElement(c,u)),...Array.isArray(a)?a:[a]]));const _e=(e,t)=>{const r=k.forwardRef(({className:n,...i},a)=>k.createElement(ZB,{ref:a,iconNode:t,className:GN(`lucide-${QB(e)}`,n),...i}));return r.displayName=`${e}`,r};const D_=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const ez=_e("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const tz=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const rz=_e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const M_=_e("BatteryLow",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]]);const nz=_e("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const iz=_e("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const $_=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const Xo=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const YN=_e("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const ow=_e("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const Jf=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const XN=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const sw=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const lw=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const az=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Il=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const td=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const oz=_e("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);const sz=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const lz=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const cz=_e("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);const uz=_e("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const QN=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Zf=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const dz=_e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const JN=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const L_=_e("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);const cw=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const F_=_e("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const B_=_e("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const ZN=_e("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const fz=_e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const hz=_e("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const pz=_e("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const wn=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const mz=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const gz=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const yz=_e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const vz=_e("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const rd=_e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const bz=_e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const xz=_e("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const wz=_e("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Sb=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const _z=_e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const e2=_e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Sz=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const kz=_e("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const t2=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ez=_e("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Oz=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const r2=_e("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const hi=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const li=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const uw=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const kb=_e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Vi=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const md=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Lo=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const n2=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Az=_e("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const jz=_e("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const Is=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const eh=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ce(...e){return YF(Ie(e))}const Pz=XB,i2=k.forwardRef(({className:e,...t},r)=>f.jsx(qN,{ref:r,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));i2.displayName=qN.displayName;const Tz=Wc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),a2=k.forwardRef(({className:e,variant:t,...r},n)=>f.jsx(UN,{ref:n,className:ce(Tz({variant:t}),e),...r}));a2.displayName=UN.displayName;const Cz=k.forwardRef(({className:e,...t},r)=>f.jsx(VN,{ref:r,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Cz.displayName=VN.displayName;const o2=k.forwardRef(({className:e,...t},r)=>f.jsx(KN,{ref:r,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(Is,{className:"h-4 w-4"})}));o2.displayName=KN.displayName;const s2=k.forwardRef(({className:e,...t},r)=>f.jsx(WN,{ref:r,className:ce("text-sm font-semibold",e),...t}));s2.displayName=WN.displayName;const l2=k.forwardRef(({className:e,...t},r)=>f.jsx(HN,{ref:r,className:ce("text-sm opacity-90",e),...t}));l2.displayName=HN.displayName;function Nz(){const{toasts:e}=fB();return f.jsxs(Pz,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return f.jsxs(a2,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(s2,{children:r}),n&&f.jsx(l2,{children:n})]}),i,f.jsx(o2,{})]},t)}),f.jsx(i2,{})]})}var z_=["light","dark"],Rz="(prefers-color-scheme: dark)",Iz=k.createContext(void 0),Dz={setTheme:e=>{},themes:[]},dw=()=>{var e;return(e=k.useContext(Iz))!=null?e:Dz};k.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:l})=>{let c=a==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?z_.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,m=!1,g=!0)=>{let v=o?o[y]:y,b=m?y+"|| ''":`'${v}'`,x="";return i&&g&&!m&&z_.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),r==="class"?m||v?x+=`c.add(${b})`:x+="null":v&&(x+=`d[s](n,${b})`),x},h=e?`!function(){${u}${p(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${Rz}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${d}}catch(t){}}();`;return k.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var Mz=e=>{switch(e){case"success":return Fz;case"info":return zz;case"warning":return Bz;case"error":return qz;default:return null}},$z=Array(12).fill(0),Lz=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},$z.map((r,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Fz=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Bz=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zz=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qz=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Uz=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Wz=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Eb=1,Hz=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Eb++,a=this.toasts.find(s=>s.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...e,id:i,title:r}),{...s,...e,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,o=n.then(async l=>{if(a=["resolve",l],I.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(Kz(l)&&!l.ok){i=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:u})}else if(t.success!==void 0){i=!1;let c=typeof t.success=="function"?await t.success(l):t.success,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(a=["reject",l],t.error!==void 0){i=!1;let c=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),s=()=>new Promise((l,c)=>o.then(()=>a[0]==="reject"?c(a[1]):l(a[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(e,t)=>{let r=t?.id||Eb++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},_r=new Hz,Vz=(e,t)=>{let r=t?.id||Eb++;return _r.addToast({title:e,...t,id:r}),r},Kz=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Gz=Vz,Yz=()=>_r.toasts,Xz=()=>_r.getActiveToasts(),qe=Object.assign(Gz,{success:_r.success,info:_r.info,warning:_r.warning,error:_r.error,custom:_r.custom,message:_r.message,promise:_r.promise,dismiss:_r.dismiss,loading:_r.loading},{getHistory:Yz,getToasts:Xz});function Qz(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Qz(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pu(e){return e.label!==void 0}var Jz=3,Zz="32px",e8="16px",q_=4e3,t8=356,r8=14,n8=20,i8=200;function cn(...e){return e.filter(Boolean).join(" ")}function a8(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var o8=e=>{var t,r,n,i,a,o,s,l,c,u,d;let{invert:p,toast:h,unstyled:y,interacting:m,setHeights:g,visibleToasts:v,heights:b,index:x,toasts:_,expanded:w,removeToast:S,defaultRichColors:E,closeButton:P,style:T,cancelButtonStyle:A,actionButtonStyle:N,className:C="",descriptionClassName:D="",duration:O,position:R,gap:F,loadingIcon:z,expandByDefault:W,classNames:L,icons:M,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:B}=e,[$,Q]=I.useState(null),[ee,pe]=I.useState(null),[te,re]=I.useState(!1),[J,le]=I.useState(!1),[se,Z]=I.useState(!1),[de,j]=I.useState(!1),[G,V]=I.useState(!1),[U,q]=I.useState(0),[K,ae]=I.useState(0),ne=I.useRef(h.duration||O||q_),X=I.useRef(null),ue=I.useRef(null),ye=x===0,he=x+1<=v,Y=h.type,oe=h.dismissible!==!1,ge=h.className||"",Te=h.descriptionClassName||"",Be=I.useMemo(()=>b.findIndex(Ae=>Ae.toastId===h.id)||0,[b,h.id]),nt=I.useMemo(()=>{var Ae;return(Ae=h.closeButton)!=null?Ae:P},[h.closeButton,P]),Ft=I.useMemo(()=>h.duration||O||q_,[h.duration,O]),He=I.useRef(0),Bt=I.useRef(0),vr=I.useRef(0),Ze=I.useRef(null),[Ar,Ee]=R.split("-"),Qe=I.useMemo(()=>b.reduce((Ae,ze,et)=>et>=Be?Ae:Ae+ze.height,0),[b,Be]),it=Wz(),lt=h.invert||p,Ue=Y==="loading";Bt.current=I.useMemo(()=>Be*F+Qe,[Be,Qe]),I.useEffect(()=>{ne.current=Ft},[Ft]),I.useEffect(()=>{re(!0)},[]),I.useEffect(()=>{let Ae=ue.current;if(Ae){let ze=Ae.getBoundingClientRect().height;return ae(ze),g(et=>[{toastId:h.id,height:ze,position:h.position},...et]),()=>g(et=>et.filter(Ct=>Ct.toastId!==h.id))}},[g,h.id]),I.useLayoutEffect(()=>{if(!te)return;let Ae=ue.current,ze=Ae.style.height;Ae.style.height="auto";let et=Ae.getBoundingClientRect().height;Ae.style.height=ze,ae(et),g(Ct=>Ct.find(Ot=>Ot.toastId===h.id)?Ct.map(Ot=>Ot.toastId===h.id?{...Ot,height:et}:Ot):[{toastId:h.id,height:et,position:h.position},...Ct])},[te,h.title,h.description,g,h.id]);let gt=I.useCallback(()=>{le(!0),q(Bt.current),g(Ae=>Ae.filter(ze=>ze.toastId!==h.id)),setTimeout(()=>{S(h)},i8)},[h,S,g,Bt]);I.useEffect(()=>{if(h.promise&&Y==="loading"||h.duration===1/0||h.type==="loading")return;let Ae;return w||m||B&&it?(()=>{if(vr.current<He.current){let ze=new Date().getTime()-He.current;ne.current=ne.current-ze}vr.current=new Date().getTime()})():ne.current!==1/0&&(He.current=new Date().getTime(),Ae=setTimeout(()=>{var ze;(ze=h.onAutoClose)==null||ze.call(h,h),gt()},ne.current)),()=>clearTimeout(Ae)},[w,m,h,Y,B,it,gt]),I.useEffect(()=>{h.delete&&gt()},[gt,h.delete]);function Jt(){var Ae,ze,et;return M!=null&&M.loading?I.createElement("div",{className:cn(L?.loader,(Ae=h?.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":Y==="loading"},M.loading):z?I.createElement("div",{className:cn(L?.loader,(ze=h?.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":Y==="loading"},z):I.createElement(Lz,{className:cn(L?.loader,(et=h?.classNames)==null?void 0:et.loader),visible:Y==="loading"})}return I.createElement("li",{tabIndex:0,ref:ue,className:cn(C,ge,L?.toast,(t=h?.classNames)==null?void 0:t.toast,L?.default,L?.[Y],(r=h?.classNames)==null?void 0:r[Y]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":te,"data-promise":!!h.promise,"data-swiped":G,"data-removed":J,"data-visible":he,"data-y-position":Ar,"data-x-position":Ee,"data-index":x,"data-front":ye,"data-swiping":se,"data-dismissible":oe,"data-type":Y,"data-invert":lt,"data-swipe-out":de,"data-swipe-direction":ee,"data-expanded":!!(w||W&&te),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${J?U:Bt.current}px`,"--initial-height":W?"auto":`${K}px`,...T,...h.style},onDragEnd:()=>{Z(!1),Q(null),Ze.current=null},onPointerDown:Ae=>{Ue||!oe||(X.current=new Date,q(Bt.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(Z(!0),Ze.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,ze,et,Ct;if(de||!oe)return;Ze.current=null;let Ot=Number(((Ae=ue.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jr=Number(((ze=ue.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jn=new Date().getTime()-((et=X.current)==null?void 0:et.getTime()),ln=$==="x"?Ot:jr,Ni=Math.abs(ln)/jn;if(Math.abs(ln)>=n8||Ni>.11){q(Bt.current),(Ct=h.onDismiss)==null||Ct.call(h,h),pe($==="x"?Ot>0?"right":"left":jr>0?"down":"up"),gt(),j(!0),V(!1);return}Z(!1),Q(null)},onPointerMove:Ae=>{var ze,et,Ct,Ot;if(!Ze.current||!oe||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let jr=Ae.clientY-Ze.current.y,jn=Ae.clientX-Ze.current.x,ln=(et=e.swipeDirections)!=null?et:a8(R);!$&&(Math.abs(jn)>1||Math.abs(jr)>1)&&Q(Math.abs(jn)>Math.abs(jr)?"x":"y");let Ni={x:0,y:0};$==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&jr<0||ln.includes("bottom")&&jr>0)&&(Ni.y=jr):$==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&jn<0||ln.includes("right")&&jn>0)&&(Ni.x=jn),(Math.abs(Ni.x)>0||Math.abs(Ni.y)>0)&&V(!0),(Ct=ue.current)==null||Ct.style.setProperty("--swipe-amount-x",`${Ni.x}px`),(Ot=ue.current)==null||Ot.style.setProperty("--swipe-amount-y",`${Ni.y}px`)}},nt&&!h.jsx?I.createElement("button",{"aria-label":H,"data-disabled":Ue,"data-close-button":!0,onClick:Ue||!oe?()=>{}:()=>{var Ae;gt(),(Ae=h.onDismiss)==null||Ae.call(h,h)},className:cn(L?.closeButton,(i=h?.classNames)==null?void 0:i.closeButton)},(a=M?.close)!=null?a:Uz):null,h.jsx||k.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:I.createElement(I.Fragment,null,Y||h.icon||h.promise?I.createElement("div",{"data-icon":"",className:cn(L?.icon,(o=h?.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Jt():null,h.type!=="loading"?h.icon||M?.[Y]||Mz(Y):null):null,I.createElement("div",{"data-content":"",className:cn(L?.content,(s=h?.classNames)==null?void 0:s.content)},I.createElement("div",{"data-title":"",className:cn(L?.title,(l=h?.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?I.createElement("div",{"data-description":"",className:cn(D,Te,L?.description,(c=h?.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),k.isValidElement(h.cancel)?h.cancel:h.cancel&&pu(h.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:Ae=>{var ze,et;pu(h.cancel)&&oe&&((et=(ze=h.cancel).onClick)==null||et.call(ze,Ae),gt())},className:cn(L?.cancelButton,(u=h?.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,k.isValidElement(h.action)?h.action:h.action&&pu(h.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||N,onClick:Ae=>{var ze,et;pu(h.action)&&((et=(ze=h.action).onClick)==null||et.call(ze,Ae),!Ae.defaultPrevented&&gt())},className:cn(L?.actionButton,(d=h?.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function U_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function s8(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?e8:Zz;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}var l8=k.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:p,style:h,visibleToasts:y=Jz,toastOptions:m,dir:g=U_(),gap:v=r8,loadingIcon:b,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:w}=e,[S,E]=I.useState([]),P=I.useMemo(()=>Array.from(new Set([n].concat(S.filter(B=>B.position).map(B=>B.position)))),[S,n]),[T,A]=I.useState([]),[N,C]=I.useState(!1),[D,O]=I.useState(!1),[R,F]=I.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=I.useRef(null),W=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=I.useRef(null),M=I.useRef(!1),H=I.useCallback(B=>{E($=>{var Q;return(Q=$.find(ee=>ee.id===B.id))!=null&&Q.delete||_r.dismiss(B.id),$.filter(({id:ee})=>ee!==B.id)})},[]);return I.useEffect(()=>_r.subscribe(B=>{if(B.dismiss){E($=>$.map(Q=>Q.id===B.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{xN.flushSync(()=>{E($=>{let Q=$.findIndex(ee=>ee.id===B.id);return Q!==-1?[...$.slice(0,Q),{...$[Q],...B},...$.slice(Q+1)]:[B,...$]})})})}),[]),I.useEffect(()=>{if(u!=="system"){F(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:$})=>{F($?"dark":"light")})}catch{B.addListener(({matches:Q})=>{try{F(Q?"dark":"light")}catch(ee){console.error(ee)}})}},[u]),I.useEffect(()=>{S.length<=1&&C(!1)},[S]),I.useEffect(()=>{let B=$=>{var Q,ee;i.every(pe=>$[pe]||$.code===pe)&&(C(!0),(Q=z.current)==null||Q.focus()),$.code==="Escape"&&(document.activeElement===z.current||(ee=z.current)!=null&&ee.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[i]),I.useEffect(()=>{if(z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,M.current=!1)}},[z.current]),I.createElement("section",{ref:t,"aria-label":`${_} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((B,$)=>{var Q;let[ee,pe]=B.split("-");return S.length?I.createElement("ol",{key:B,dir:g==="auto"?U_():g,tabIndex:-1,ref:z,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":ee,"data-lifted":N&&S.length>1&&!a,"data-x-position":pe,style:{"--front-toast-height":`${((Q=T[0])==null?void 0:Q.height)||0}px`,"--width":`${t8}px`,"--gap":`${v}px`,...h,...s8(l,c)},onBlur:te=>{M.current&&!te.currentTarget.contains(te.relatedTarget)&&(M.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||M.current||(M.current=!0,L.current=te.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{D||C(!1)},onDragEnd:()=>C(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},S.filter(te=>!te.position&&$===0||te.position===B).map((te,re)=>{var J,le;return I.createElement(o8,{key:te.id,icons:x,index:re,toast:te,defaultRichColors:d,duration:(J=m?.duration)!=null?J:p,className:m?.className,descriptionClassName:m?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(le=m?.closeButton)!=null?le:o,interacting:D,position:B,style:m?.style,unstyled:m?.unstyled,classNames:m?.classNames,cancelButtonStyle:m?.cancelButtonStyle,actionButtonStyle:m?.actionButtonStyle,removeToast:H,toasts:S.filter(se=>se.position==te.position),heights:T.filter(se=>se.position==te.position),setHeights:A,expandByDefault:a,gap:v,loadingIcon:b,expanded:N,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const c8=({...e})=>{const{theme:t="system"}=dw();return f.jsx(l8,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var u8=wN[" useId ".trim().toString()]||(()=>{}),d8=0;function pi(e){const[t,r]=k.useState(u8());return Lt(()=>{r(n=>n??String(d8++))},[e]),t?`radix-${t}`:""}const f8=["top","right","bottom","left"],na=Math.min,Rr=Math.max,gd=Math.round,mu=Math.floor,zn=e=>({x:e,y:e}),h8={left:"right",right:"left",bottom:"top",top:"bottom"},p8={start:"end",end:"start"};function Ob(e,t,r){return Rr(e,na(t,r))}function yi(e,t){return typeof e=="function"?e(t):e}function vi(e){return e.split("-")[0]}function Ds(e){return e.split("-")[1]}function fw(e){return e==="x"?"y":"x"}function hw(e){return e==="y"?"height":"width"}const m8=new Set(["top","bottom"]);function $n(e){return m8.has(vi(e))?"y":"x"}function pw(e){return fw($n(e))}function g8(e,t,r){r===void 0&&(r=!1);const n=Ds(e),i=pw(e),a=hw(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=yd(o)),[o,yd(o)]}function y8(e){const t=yd(e);return[Ab(e),t,Ab(t)]}function Ab(e){return e.replace(/start|end/g,t=>p8[t])}const W_=["left","right"],H_=["right","left"],v8=["top","bottom"],b8=["bottom","top"];function x8(e,t,r){switch(e){case"top":case"bottom":return r?t?H_:W_:t?W_:H_;case"left":case"right":return t?v8:b8;default:return[]}}function w8(e,t,r,n){const i=Ds(e);let a=x8(vi(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Ab)))),a}function yd(e){return e.replace(/left|right|bottom|top/g,t=>h8[t])}function _8(e){return{top:0,right:0,bottom:0,left:0,...e}}function c2(e){return typeof e!="number"?_8(e):{top:e,right:e,bottom:e,left:e}}function vd(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function V_(e,t,r){let{reference:n,floating:i}=e;const a=$n(t),o=pw(t),s=hw(o),l=vi(t),c=a==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:n.y-i.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:d};break;case"left":h={x:n.x-i.width,y:d};break;default:h={x:n.x,y:n.y}}switch(Ds(t)){case"start":h[o]-=p*(r&&c?-1:1);break;case"end":h[o]+=p*(r&&c?-1:1);break}return h}const S8=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=V_(c,n,l),p=n,h={},y=0;for(let m=0;m<s.length;m++){const{name:g,fn:v}=s[m],{x:b,y:x,data:_,reset:w}=await v({x:u,y:d,initialPlacement:n,placement:p,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});u=b??u,d=x??d,h={...h,[g]:{...h[g],..._}},w&&y<=50&&(y++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:u,y:d}=V_(c,p,l)),m=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:h}};async function Yl(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=yi(t,e),y=c2(h),g=s[p?d==="floating"?"reference":"floating":d],v=vd(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),_=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},w=vd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:x,strategy:l}):b);return{top:(v.top-w.top+y.top)/_.y,bottom:(w.bottom-v.bottom+y.bottom)/_.y,left:(v.left-w.left+y.left)/_.x,right:(w.right-v.right+y.right)/_.x}}const k8=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=yi(e,t)||{};if(c==null)return{};const d=c2(u),p={x:r,y:n},h=pw(i),y=hw(h),m=await o.getDimensions(c),g=h==="y",v=g?"top":"left",b=g?"bottom":"right",x=g?"clientHeight":"clientWidth",_=a.reference[y]+a.reference[h]-p[h]-a.floating[y],w=p[h]-a.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=S?S[x]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=s.floating[x]||a.floating[y]);const P=_/2-w/2,T=E/2-m[y]/2-1,A=na(d[v],T),N=na(d[b],T),C=A,D=E-m[y]-N,O=E/2-m[y]/2+P,R=Ob(C,O,D),F=!l.arrow&&Ds(i)!=null&&O!==R&&a.reference[y]/2-(O<C?A:N)-m[y]/2<0,z=F?O<C?O-C:O-D:0;return{[h]:p[h]+z,data:{[h]:R,centerOffset:O-R-z,...F&&{alignmentOffset:z}},reset:F}}}),E8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=yi(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=vi(i),b=$n(s),x=vi(s)===s,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=p||(x||!m?[yd(s)]:y8(s)),S=y!=="none";!p&&S&&w.push(...w8(s,m,y,_));const E=[s,...w],P=await Yl(t,g),T=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&T.push(P[v]),d){const O=g8(i,o,_);T.push(P[O[0]],P[O[1]])}if(A=[...A,{placement:i,overflows:T}],!T.every(O=>O<=0)){var N,C;const O=(((N=a.flip)==null?void 0:N.index)||0)+1,R=E[O];if(R&&(!(d==="alignment"?b!==$n(R):!1)||A.every(W=>W.overflows[0]>0&&$n(W.placement)===b)))return{data:{index:O,overflows:A},reset:{placement:R}};let F=(C=A.filter(z=>z.overflows[0]<=0).sort((z,W)=>z.overflows[1]-W.overflows[1])[0])==null?void 0:C.placement;if(!F)switch(h){case"bestFit":{var D;const z=(D=A.filter(W=>{if(S){const L=$n(W.placement);return L===b||L==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(L=>L>0).reduce((L,M)=>L+M,0)]).sort((W,L)=>W[1]-L[1])[0])==null?void 0:D[0];z&&(F=z);break}case"initialPlacement":F=s;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function K_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function G_(e){return f8.some(t=>e[t]>=0)}const O8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=yi(e,t);switch(n){case"referenceHidden":{const a=await Yl(t,{...i,elementContext:"reference"}),o=K_(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:G_(o)}}}case"escaped":{const a=await Yl(t,{...i,altBoundary:!0}),o=K_(a,r.floating);return{data:{escapedOffsets:o,escaped:G_(o)}}}default:return{}}}}},u2=new Set(["left","top"]);async function A8(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=vi(r),s=Ds(r),l=$n(r)==="y",c=u2.has(o)?-1:1,u=a&&l?-1:1,d=yi(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof y=="number"&&(h=s==="end"?y*-1:y),l?{x:h*u,y:p*c}:{x:p*c,y:h*u}}const j8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await A8(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},P8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:v,y:b}=g;return{x:v,y:b}}},...l}=yi(e,t),c={x:r,y:n},u=await Yl(t,l),d=$n(vi(i)),p=fw(d);let h=c[p],y=c[d];if(a){const g=p==="y"?"top":"left",v=p==="y"?"bottom":"right",b=h+u[g],x=h-u[v];h=Ob(b,h,x)}if(o){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=y+u[g],x=y-u[v];y=Ob(b,y,x)}const m=s.fn({...t,[p]:h,[d]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:a,[d]:o}}}}}},T8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=yi(e,t),u={x:r,y:n},d=$n(i),p=fw(d);let h=u[p],y=u[d];const m=yi(s,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=p==="y"?"height":"width",_=a.reference[p]-a.floating[x]+g.mainAxis,w=a.reference[p]+a.reference[x]-g.mainAxis;h<_?h=_:h>w&&(h=w)}if(c){var v,b;const x=p==="y"?"width":"height",_=u2.has(vi(i)),w=a.reference[d]-a.floating[x]+(_&&((v=o.offset)==null?void 0:v[d])||0)+(_?0:g.crossAxis),S=a.reference[d]+a.reference[x]+(_?0:((b=o.offset)==null?void 0:b[d])||0)-(_?g.crossAxis:0);y<w?y=w:y>S&&(y=S)}return{[p]:h,[d]:y}}}},C8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=yi(e,t),u=await Yl(t,c),d=vi(i),p=Ds(i),h=$n(i)==="y",{width:y,height:m}=a.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=p===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(v=d,g=p==="end"?"top":"bottom");const b=m-u.top-u.bottom,x=y-u.left-u.right,_=na(m-u[g],b),w=na(y-u[v],x),S=!t.middlewareData.shift;let E=_,P=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=b),S&&!p){const A=Rr(u.left,0),N=Rr(u.right,0),C=Rr(u.top,0),D=Rr(u.bottom,0);h?P=y-2*(A!==0||N!==0?A+N:Rr(u.left,u.right)):E=m-2*(C!==0||D!==0?C+D:Rr(u.top,u.bottom))}await l({...t,availableWidth:P,availableHeight:E});const T=await o.getDimensions(s.floating);return y!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function th(){return typeof window<"u"}function Ms(e){return d2(e)?(e.nodeName||"").toLowerCase():"#document"}function Fr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yn(e){var t;return(t=(d2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function d2(e){return th()?e instanceof Node||e instanceof Fr(e).Node:!1}function kn(e){return th()?e instanceof Element||e instanceof Fr(e).Element:!1}function Hn(e){return th()?e instanceof HTMLElement||e instanceof Fr(e).HTMLElement:!1}function Y_(e){return!th()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fr(e).ShadowRoot}const N8=new Set(["inline","contents"]);function Gc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=En(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!N8.has(i)}const R8=new Set(["table","td","th"]);function I8(e){return R8.has(Ms(e))}const D8=[":popover-open",":modal"];function rh(e){return D8.some(t=>{try{return e.matches(t)}catch{return!1}})}const M8=["transform","translate","scale","rotate","perspective"],$8=["transform","translate","scale","rotate","perspective","filter"],L8=["paint","layout","strict","content"];function mw(e){const t=gw(),r=kn(e)?En(e):e;return M8.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$8.some(n=>(r.willChange||"").includes(n))||L8.some(n=>(r.contain||"").includes(n))}function F8(e){let t=ia(e);for(;Hn(t)&&!Qo(t);){if(mw(t))return t;if(rh(t))return null;t=ia(t)}return null}function gw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const B8=new Set(["html","body","#document"]);function Qo(e){return B8.has(Ms(e))}function En(e){return Fr(e).getComputedStyle(e)}function nh(e){return kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ia(e){if(Ms(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Y_(e)&&e.host||Yn(e);return Y_(t)?t.host:t}function f2(e){const t=ia(e);return Qo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hn(t)&&Gc(t)?t:f2(t)}function Xl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=f2(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Fr(i);if(a){const s=jb(o);return t.concat(o,o.visualViewport||[],Gc(i)?i:[],s&&r?Xl(s):[])}return t.concat(i,Xl(i,[],r))}function jb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function h2(e){const t=En(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Hn(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=gd(r)!==a||gd(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function yw(e){return kn(e)?e:e.contextElement}function Fo(e){const t=yw(e);if(!Hn(t))return zn(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=h2(t);let o=(a?gd(r.width):r.width)/n,s=(a?gd(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const z8=zn(0);function p2(e){const t=Fr(e);return!gw()||!t.visualViewport?z8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function q8(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Fr(e)?!1:t}function Ga(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=yw(e);let o=zn(1);t&&(n?kn(n)&&(o=Fo(n)):o=Fo(e));const s=q8(a,r,n)?p2(a):zn(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const p=Fr(a),h=n&&kn(n)?Fr(n):n;let y=p,m=jb(y);for(;m&&n&&h!==y;){const g=Fo(m),v=m.getBoundingClientRect(),b=En(m),x=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,_=v.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,d*=g.y,l+=x,c+=_,y=Fr(m),m=jb(y)}}return vd({width:u,height:d,x:l,y:c})}function vw(e,t){const r=nh(e).scrollLeft;return t?t.left+r:Ga(Yn(e)).left+r}function m2(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:vw(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function U8(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=Yn(n),s=t?rh(t.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=zn(1);const u=zn(0),d=Hn(n);if((d||!d&&!a)&&((Ms(n)!=="body"||Gc(o))&&(l=nh(n)),Hn(n))){const h=Ga(n);c=Fo(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const p=o&&!d&&!a?m2(o,l,!0):zn(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:r.y*c.y-l.scrollTop*c.y+u.y+p.y}}function W8(e){return Array.from(e.getClientRects())}function H8(e){const t=Yn(e),r=nh(e),n=e.ownerDocument.body,i=Rr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Rr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+vw(e);const s=-r.scrollTop;return En(n).direction==="rtl"&&(o+=Rr(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function V8(e,t){const r=Fr(e),n=Yn(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=gw();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}const K8=new Set(["absolute","fixed"]);function G8(e,t){const r=Ga(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Hn(e)?Fo(e):zn(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function X_(e,t,r){let n;if(t==="viewport")n=V8(e,r);else if(t==="document")n=H8(Yn(e));else if(kn(t))n=G8(t,r);else{const i=p2(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return vd(n)}function g2(e,t){const r=ia(e);return r===t||!kn(r)||Qo(r)?!1:En(r).position==="fixed"||g2(r,t)}function Y8(e,t){const r=t.get(e);if(r)return r;let n=Xl(e,[],!1).filter(s=>kn(s)&&Ms(s)!=="body"),i=null;const a=En(e).position==="fixed";let o=a?ia(e):e;for(;kn(o)&&!Qo(o);){const s=En(o),l=mw(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&K8.has(i.position)||Gc(o)&&!l&&g2(e,o))?n=n.filter(u=>u!==o):i=s,o=ia(o)}return t.set(e,n),n}function X8(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?rh(t)?[]:Y8(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,u)=>{const d=X_(t,u,i);return c.top=Rr(d.top,c.top),c.right=na(d.right,c.right),c.bottom=na(d.bottom,c.bottom),c.left=Rr(d.left,c.left),c},X_(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Q8(e){const{width:t,height:r}=h2(e);return{width:t,height:r}}function J8(e,t,r){const n=Hn(t),i=Yn(t),a=r==="fixed",o=Ga(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=zn(0);function c(){l.x=vw(i)}if(n||!n&&!a)if((Ms(t)!=="body"||Gc(i))&&(s=nh(t)),n){const h=Ga(t,!0,a,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&c();a&&!n&&i&&c();const u=i&&!n&&!a?m2(i,s):zn(0),d=o.left+s.scrollLeft-l.x-u.x,p=o.top+s.scrollTop-l.y-u.y;return{x:d,y:p,width:o.width,height:o.height}}function Op(e){return En(e).position==="static"}function Q_(e,t){if(!Hn(e)||En(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Yn(e)===r&&(r=r.ownerDocument.body),r}function y2(e,t){const r=Fr(e);if(rh(e))return r;if(!Hn(e)){let i=ia(e);for(;i&&!Qo(i);){if(kn(i)&&!Op(i))return i;i=ia(i)}return r}let n=Q_(e,t);for(;n&&I8(n)&&Op(n);)n=Q_(n,t);return n&&Qo(n)&&Op(n)&&!mw(n)?r:n||F8(e)||r}const Z8=async function(e){const t=this.getOffsetParent||y2,r=this.getDimensions,n=await r(e.floating);return{reference:J8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eq(e){return En(e).direction==="rtl"}const tq={convertOffsetParentRelativeRectToViewportRelativeRect:U8,getDocumentElement:Yn,getClippingRect:X8,getOffsetParent:y2,getElementRects:Z8,getClientRects:W8,getDimensions:Q8,getScale:Fo,isElement:kn,isRTL:eq};function v2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rq(e,t){let r=null,n;const i=Yn(e);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:h}=c;if(s||t(),!p||!h)return;const y=mu(d),m=mu(i.clientWidth-(u+p)),g=mu(i.clientHeight-(d+h)),v=mu(u),x={rootMargin:-y+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Rr(0,na(1,l))||1};let _=!0;function w(S){const E=S[0].intersectionRatio;if(E!==l){if(!_)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!v2(c,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(w,{...x,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,x)}r.observe(e)}return o(!0),a}function nq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=yw(e),u=i||a?[...c?Xl(c):[],...Xl(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const d=c&&s?rq(c,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let y,m=l?Ga(e):null;l&&g();function g(){const v=Ga(e);m&&!v2(m,v)&&r(),m=v,y=requestAnimationFrame(g)}return r(),()=>{var v;u.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),d?.(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(y)}}const iq=j8,aq=P8,oq=E8,sq=C8,lq=O8,J_=k8,cq=T8,uq=(e,t,r)=>{const n=new Map,i={platform:tq,...r},a={...i.platform,_c:n};return S8(e,t,{...i,platform:a})};var dq=typeof document<"u",fq=function(){},nd=dq?k.useLayoutEffect:fq;function bd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!bd(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!bd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function b2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Z_(e,t){const r=b2(e);return Math.round(t*r)/r}function Ap(e){const t=k.useRef(e);return nd(()=>{t.current=e}),t}function hq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=k.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=k.useState(n);bd(p,n)||h(n);const[y,m]=k.useState(null),[g,v]=k.useState(null),b=k.useCallback(W=>{W!==S.current&&(S.current=W,m(W))},[]),x=k.useCallback(W=>{W!==E.current&&(E.current=W,v(W))},[]),_=a||y,w=o||g,S=k.useRef(null),E=k.useRef(null),P=k.useRef(u),T=l!=null,A=Ap(l),N=Ap(i),C=Ap(c),D=k.useCallback(()=>{if(!S.current||!E.current)return;const W={placement:t,strategy:r,middleware:p};N.current&&(W.platform=N.current),uq(S.current,E.current,W).then(L=>{const M={...L,isPositioned:C.current!==!1};O.current&&!bd(P.current,M)&&(P.current=M,Hc.flushSync(()=>{d(M)}))})},[p,t,r,N,C]);nd(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,d(W=>({...W,isPositioned:!1})))},[c]);const O=k.useRef(!1);nd(()=>(O.current=!0,()=>{O.current=!1}),[]),nd(()=>{if(_&&(S.current=_),w&&(E.current=w),_&&w){if(A.current)return A.current(_,w,D);D()}},[_,w,D,A,T]);const R=k.useMemo(()=>({reference:S,floating:E,setReference:b,setFloating:x}),[b,x]),F=k.useMemo(()=>({reference:_,floating:w}),[_,w]),z=k.useMemo(()=>{const W={position:r,left:0,top:0};if(!F.floating)return W;const L=Z_(F.floating,u.x),M=Z_(F.floating,u.y);return s?{...W,transform:"translate("+L+"px, "+M+"px)",...b2(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:M}},[r,s,F.floating,u.x,u.y]);return k.useMemo(()=>({...u,update:D,refs:R,elements:F,floatingStyles:z}),[u,D,R,F,z])}const pq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?J_({element:n.current,padding:i}).fn(r):{}:n?J_({element:n,padding:i}).fn(r):{}}}},mq=(e,t)=>({...iq(e),options:[e,t]}),gq=(e,t)=>({...aq(e),options:[e,t]}),yq=(e,t)=>({...cq(e),options:[e,t]}),vq=(e,t)=>({...oq(e),options:[e,t]}),bq=(e,t)=>({...sq(e),options:[e,t]}),xq=(e,t)=>({...lq(e),options:[e,t]}),wq=(e,t)=>({...pq(e),options:[e,t]});var _q="Arrow",x2=k.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return f.jsx(ke.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});x2.displayName=_q;var Sq=x2;function ih(e){const[t,r]=k.useState(void 0);return Lt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var bw="Popper",[w2,ah]=yr(bw),[kq,_2]=w2(bw),S2=e=>{const{__scopePopper:t,children:r}=e,[n,i]=k.useState(null);return f.jsx(kq,{scope:t,anchor:n,onAnchorChange:i,children:r})};S2.displayName=bw;var k2="PopperAnchor",E2=k.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=_2(k2,r),o=k.useRef(null),s=De(t,o);return k.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:f.jsx(ke.div,{...i,ref:s})});E2.displayName=k2;var xw="PopperContent",[Eq,Oq]=w2(xw),O2=k.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:y,...m}=e,g=_2(xw,r),[v,b]=k.useState(null),x=De(t,te=>b(te)),[_,w]=k.useState(null),S=ih(_),E=S?.width??0,P=S?.height??0,T=n+(a!=="center"?"-"+a:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],C=N.length>0,D={padding:A,boundary:N.filter(jq),altBoundary:C},{refs:O,floatingStyles:R,placement:F,isPositioned:z,middlewareData:W}=hq({strategy:"fixed",placement:T,whileElementsMounted:(...te)=>nq(...te,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[mq({mainAxis:i+P,alignmentAxis:o}),l&&gq({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?yq():void 0,...D}),l&&vq({...D}),bq({...D,apply:({elements:te,rects:re,availableWidth:J,availableHeight:le})=>{const{width:se,height:Z}=re.reference,de=te.floating.style;de.setProperty("--radix-popper-available-width",`${J}px`),de.setProperty("--radix-popper-available-height",`${le}px`),de.setProperty("--radix-popper-anchor-width",`${se}px`),de.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),_&&wq({element:_,padding:s}),Pq({arrowWidth:E,arrowHeight:P}),p&&xq({strategy:"referenceHidden",...D})]}),[L,M]=P2(F),H=Tt(y);Lt(()=>{z&&H?.()},[z,H]);const B=W.arrow?.x,$=W.arrow?.y,Q=W.arrow?.centerOffset!==0,[ee,pe]=k.useState();return Lt(()=>{v&&pe(window.getComputedStyle(v).zIndex)},[v]),f.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:z?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(Eq,{scope:r,placedSide:L,onArrowChange:w,arrowX:B,arrowY:$,shouldHideArrow:Q,children:f.jsx(ke.div,{"data-side":L,"data-align":M,...m,ref:x,style:{...m.style,animation:z?void 0:"none"}})})})});O2.displayName=xw;var A2="PopperArrow",Aq={top:"bottom",right:"left",bottom:"top",left:"right"},j2=k.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=Oq(A2,n),o=Aq[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(Sq,{...i,ref:r,style:{...i.style,display:"block"}})})});j2.displayName=A2;function jq(e){return e!==null}var Pq=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=P2(r),d={start:"0%",center:"50%",end:"100%"}[u],p=(i.arrow?.x??0)+s/2,h=(i.arrow?.y??0)+l/2;let y="",m="";return c==="bottom"?(y=o?d:`${p}px`,m=`${-l}px`):c==="top"?(y=o?d:`${p}px`,m=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,m=o?d:`${h}px`):c==="left"&&(y=`${n.floating.width+l}px`,m=o?d:`${h}px`),{data:{x:y,y:m}}}});function P2(e){const[t,r="center"]=e.split("-");return[t,r]}var T2=S2,C2=E2,N2=O2,R2=j2,[oh]=yr("Tooltip",[ah]),sh=ah(),I2="TooltipProvider",Tq=700,Pb="tooltip.open",[Cq,ww]=oh(I2),D2=e=>{const{__scopeTooltip:t,delayDuration:r=Tq,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=k.useRef(!0),s=k.useRef(!1),l=k.useRef(0);return k.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(Cq,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:k.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:k.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:a})};D2.displayName=I2;var Ql="Tooltip",[Nq,lh]=oh(Ql),M2=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,l=ww(Ql,e.__scopeTooltip),c=sh(t),[u,d]=k.useState(null),p=pi(),h=k.useRef(0),y=o??l.disableHoverableContent,m=s??l.delayDuration,g=k.useRef(!1),[v,b]=Wn({prop:n,defaultProp:i??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(Pb))):l.onClose(),a?.(E)},caller:Ql}),x=k.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),_=k.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,b(!0)},[b]),w=k.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),S=k.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,b(!0),h.current=0},m)},[m,b]);return k.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),f.jsx(T2,{...c,children:f.jsx(Nq,{scope:t,contentId:p,open:v,stateAttribute:x,trigger:u,onTriggerChange:d,onTriggerEnter:k.useCallback(()=>{l.isOpenDelayedRef.current?S():_()},[l.isOpenDelayedRef,S,_]),onTriggerLeave:k.useCallback(()=>{y?w():(window.clearTimeout(h.current),h.current=0)},[w,y]),onOpen:_,onClose:w,disableHoverableContent:y,children:r})})};M2.displayName=Ql;var Tb="TooltipTrigger",$2=k.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=lh(Tb,r),a=ww(Tb,r),o=sh(r),s=k.useRef(null),l=De(t,s,i.onTriggerChange),c=k.useRef(!1),u=k.useRef(!1),d=k.useCallback(()=>c.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(C2,{asChild:!0,...o,children:f.jsx(ke.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:Se(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Se(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Se(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Se(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:Se(e.onBlur,i.onClose),onClick:Se(e.onClick,i.onClose)})})});$2.displayName=Tb;var Rq="TooltipPortal",[Axe,Iq]=oh(Rq,{forceMount:void 0}),Jo="TooltipContent",L2=k.forwardRef((e,t)=>{const r=Iq(Jo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=lh(Jo,e.__scopeTooltip);return f.jsx(ki,{present:n||o.open,children:o.disableHoverableContent?f.jsx(F2,{side:i,...a,ref:t}):f.jsx(Dq,{side:i,...a,ref:t})})}),Dq=k.forwardRef((e,t)=>{const r=lh(Jo,e.__scopeTooltip),n=ww(Jo,e.__scopeTooltip),i=k.useRef(null),a=De(t,i),[o,s]=k.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:d}=n,p=k.useCallback(()=>{s(null),d(!1)},[d]),h=k.useCallback((y,m)=>{const g=y.currentTarget,v={x:y.clientX,y:y.clientY},b=Bq(v,g.getBoundingClientRect()),x=zq(v,b),_=qq(m.getBoundingClientRect()),w=Wq([...x,..._]);s(w),d(!0)},[d]);return k.useEffect(()=>()=>p(),[p]),k.useEffect(()=>{if(l&&u){const y=g=>h(g,u),m=g=>h(g,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",m)}}},[l,u,h,p]),k.useEffect(()=>{if(o){const y=m=>{const g=m.target,v={x:m.clientX,y:m.clientY},b=l?.contains(g)||u?.contains(g),x=!Uq(v,o);b?p():x&&(p(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,c,p]),f.jsx(F2,{...e,ref:a})}),[Mq,$q]=oh(Ql,{isInside:!1}),Lq=bN("TooltipContent"),F2=k.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,l=lh(Jo,r),c=sh(r),{onClose:u}=l;return k.useEffect(()=>(document.addEventListener(Pb,u),()=>document.removeEventListener(Pb,u)),[u]),k.useEffect(()=>{if(l.trigger){const d=p=>{p.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),f.jsx(Gf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(N2,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(Lq,{children:n}),f.jsx(Mq,{scope:r,isInside:!0,children:f.jsx(NB,{id:l.contentId,role:"tooltip",children:i||n})})]})})});L2.displayName=Jo;var B2="TooltipArrow",Fq=k.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=sh(r);return $q(B2,r).isInside?null:f.jsx(R2,{...i,...n,ref:t})});Fq.displayName=B2;function Bq(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function zq(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function qq(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function Uq(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],l=t[o],c=s.x,u=s.y,d=l.x,p=l.y;u>n!=p>n&&r<(d-c)*(n-u)/(p-u)+c&&(i=!i)}return i}function Wq(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Hq(t)}function Hq(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Vq=D2,Kq=M2,Gq=$2,z2=L2;const q2=Vq,Yq=Kq,Xq=Gq,U2=k.forwardRef(({className:e,sideOffset:t=4,...r},n)=>f.jsx(z2,{ref:n,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));U2.displayName=z2.displayName;var $s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ya=typeof window>"u"||"Deno"in globalThis;function dr(){}function Qq(e,t){return typeof e=="function"?e(t):e}function Cb(e){return typeof e=="number"&&e>=0&&e!==1/0}function W2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ki(e,t){return typeof e=="function"?e(t):e}function Gr(e,t){return typeof e=="function"?e(t):e}function eS(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(n){if(t.queryHash!==_w(o,t.options))return!1}else if(!Jl(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function tS(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Xa(t.options.mutationKey)!==Xa(a))return!1}else if(!Jl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function _w(e,t){return(t?.queryKeyHashFn||Xa)(e)}function Xa(e){return JSON.stringify(e,(t,r)=>Nb(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Jl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Jl(e[r],t[r])):!1}function H2(e,t){if(e===t)return e;const r=rS(e)&&rS(t);if(r||Nb(e)&&Nb(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,s=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&l.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,c++):(s[d]=H2(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&c++)}return i===o&&c===i?e:s}return t}function xd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function rS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nb(e){if(!nS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!nS(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nS(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jq(e){return new Promise(t=>{setTimeout(t,e)})}function Rb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?H2(e,t):t}function Zq(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function e6(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Sw=Symbol();function V2(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Sw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function K2(e,t){return typeof e=="function"?e(...t):!!e}var t6=class extends $s{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Ya&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},kw=new t6,r6=class extends $s{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Ya&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},wd=new r6;function Ib(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function n6(e){return Math.min(1e3*2**e,3e4)}function G2(e){return(e??"online")==="online"?wd.isOnline():!0}var Y2=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function jp(e){return e instanceof Y2}function X2(e){let t=!1,r=0,n=!1,i;const a=Ib(),o=m=>{n||(p(new Y2(m)),e.abort?.())},s=()=>{t=!0},l=()=>{t=!1},c=()=>kw.isFocused()&&(e.networkMode==="always"||wd.isOnline())&&e.canRun(),u=()=>G2(e.networkMode)&&e.canRun(),d=m=>{n||(n=!0,e.onSuccess?.(m),i?.(),a.resolve(m))},p=m=>{n||(n=!0,e.onError?.(m),i?.(),a.reject(m))},h=()=>new Promise(m=>{i=g=>{(n||c())&&m(g)},e.onPause?.()}).then(()=>{i=void 0,n||e.onContinue?.()}),y=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(d).catch(v=>{if(n)return;const b=e.retry??(Ya?0:3),x=e.retryDelay??n6,_=typeof x=="function"?x(r,v):x,w=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,v);if(t||!w){p(v);return}r++,e.onFail?.(r,v),Jq(_).then(()=>c()?void 0:h()).then(()=>{t?p(v):y()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?y():h().then(y),a)}}var i6=e=>setTimeout(e,0);function a6(){let e=[],t=0,r=s=>{s()},n=s=>{s()},i=i6;const a=s=>{t?e.push(s):i(()=>{r(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var Vt=a6(),Q2=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cb(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ya?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},o6=class extends Q2{#t;#e;#r;#n;#i;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=s6(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=Rb(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Gr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ki(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!W2(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},i=()=>{const l=V2(this.options,t),u=(()=>{const d={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#s=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const s=l=>{jp(l)&&l.silent||this.#a({type:"error",error:l}),jp(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=X2({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...J2(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return jp(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Vt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function J2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function s6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var l6=class extends $s{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,i=t.queryHash??_w(n,t);let a=this.get(i);return a||(a=new o6({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>eS(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>eS(e,r)):t}notify(e){Vt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},c6=class extends Q2{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||Z2(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=X2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Vt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function Z2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var u6=class extends $s{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new c6({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=gu(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=gu(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=gu(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=gu(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Vt.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>tS(t,r))}findAll(e={}){return this.getAll().filter(t=>tS(e,t))}notify(e){Vt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Vt.batch(()=>Promise.all(e.map(t=>t.continue().catch(dr))))}};function gu(e){return e.options.scope?.id}function iS(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},p=V2(t.options,t.fetchOptions),h=async(y,m,g)=>{if(u)return Promise.reject();if(m==null&&y.pages.length)return Promise.resolve(y);const b=(()=>{const S={client:t.client,queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};return d(S),S})(),x=await p(b),{maxPages:_}=t.options,w=g?e6:Zq;return{pages:w(y.pages,x,_),pageParams:w(y.pageParams,m,_)}};if(i&&a.length){const y=i==="backward",m=y?d6:aS,g={pages:a,pageParams:o},v=m(n,g);s=await h(g,v,y)}else{const y=e??a.length;do{const m=l===0?o[0]??n.initialPageParam:aS(n,s);if(l>0&&m==null)break;s=await h(s,m),l++}while(l<y)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function aS(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function d6(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var f6=class{#t;#e;#r;#n;#i;#o;#s;#a;constructor(e={}){this.#t=e.queryCache||new l6,this.#e=e.mutationCache||new u6,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=kw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=wd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ki(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#t.get(n.queryHash)?.state.data,o=Qq(t,a);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Vt.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Vt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Vt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Vt.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(dr).catch(dr)}invalidateQueries(e,t={}){return Vt.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Vt.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(dr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(Ki(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dr).catch(dr)}fetchInfiniteQuery(e){return e.behavior=iS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dr).catch(dr)}ensureInfiniteQueryData(e){return e.behavior=iS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wd.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Xa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Jl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(Xa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(n=>{Jl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_w(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Sw&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},h6=class extends $s{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#s=Ib(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#o;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),oS(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Db(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Db(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!xd(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&sS(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||Gr(this.options.enabled,this.#e)!==Gr(t.enabled,this.#e)||Ki(this.options.staleTime,this.#e)!==Ki(t.staleTime,this.#e))&&this.#g();const i=this.#y();n&&(this.#e!==r||Gr(this.options.enabled,this.#e)!==Gr(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return m6(this,r)&&(this.#n=r,this.#o=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(dr)),t}#g(){this.#x();const e=Ki(this.options.staleTime,this.#e);if(Ya||this.#n.isStale||!Cb(e))return;const r=W2(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(Ya||Gr(this.options.enabled,this.#e)===!1||!Cb(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||kw.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,i=this.#n,a=this.#i,o=this.#o,l=e!==r?e.state:this.#r,{state:c}=e;let u={...c},d=!1,p;if(t._optimisticResults){const P=this.hasListeners(),T=!P&&oS(e,t),A=P&&sS(e,r,t,n);(T||A)&&(u={...u,...J2(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:y,status:m}=u;p=u.data;let g=!1;if(t.placeholderData!==void 0&&p===void 0&&m==="pending"){let P;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(P=i.data,g=!0):P=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,P!==void 0&&(m="success",p=Rb(i?.data,P,t),d=!0)}if(t.select&&p!==void 0&&!g)if(i&&p===a?.data&&t.select===this.#m)p=this.#f;else try{this.#m=t.select,p=t.select(p),p=Rb(i?.data,p,t),this.#f=p,this.#a=null}catch(P){this.#a=P}this.#a&&(h=this.#a,p=this.#f,y=Date.now(),m="error");const v=u.fetchStatus==="fetching",b=m==="pending",x=m==="error",_=b&&v,w=p!==void 0,E={status:m,fetchStatus:u.fetchStatus,isPending:b,isSuccess:m==="success",isError:x,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:y,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:x&&!w,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:x&&w,isStale:Ew(e,t),refetch:this.refetch,promise:this.#s,isEnabled:Gr(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=N=>{E.status==="error"?N.reject(E.error):E.data!==void 0&&N.resolve(E.data)},T=()=>{const N=this.#s=E.promise=Ib();P(N)},A=this.#s;switch(A.status){case"pending":e.queryHash===r.queryHash&&P(A);break;case"fulfilled":(E.status==="error"||E.data!==A.value)&&T();break;case"rejected":(E.status!=="error"||E.error!==A.reason)&&T();break}}return E}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),xd(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(o=>{const s=o;return this.#n[s]!==e[s]&&a.has(s)})};this.#S({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){Vt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function p6(e,t){return Gr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function oS(e,t){return p6(e,t)||e.state.data!==void 0&&Db(e,t,t.refetchOnMount)}function Db(e,t,r){if(Gr(t.enabled,e)!==!1&&Ki(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Ew(e,t)}return!1}function sS(e,t,r,n){return(e!==t||Gr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ew(e,r)}function Ew(e,t){return Gr(t.enabled,e)!==!1&&e.isStaleByTime(Ki(t.staleTime,e))}function m6(e,t){return!xd(e.getCurrentResult(),t)}var g6=class extends $s{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),xd(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Xa(r.mutationKey)!==Xa(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#o()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??Z2();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Vt.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},eR=k.createContext(void 0),la=e=>{const t=k.useContext(eR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},y6=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(eR.Provider,{value:e,children:t})),tR=k.createContext(!1),v6=()=>k.useContext(tR);tR.Provider;function b6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var x6=k.createContext(b6()),w6=()=>k.useContext(x6),_6=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},S6=e=>{k.useEffect(()=>{e.clearReset()},[e])},k6=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||K2(r,[e.error,n])),E6=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},O6=(e,t)=>e.isLoading&&e.isFetching&&!t,A6=(e,t)=>e?.suspense&&t.isPending,lS=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function j6(e,t,r){const n=v6(),i=w6(),a=la(),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",E6(o),_6(o,i),S6(i);const s=!a.getQueryCache().get(o.queryHash),[l]=k.useState(()=>new t(a,o)),c=l.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(d=>{const p=u?l.subscribe(Vt.batchCalls(d)):dr;return l.updateResult(),p},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),k.useEffect(()=>{l.setOptions(o)},[o,l]),A6(o,c))throw lS(o,l,i);if(k6({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Ya&&O6(c,n)&&(s?lS(o,l,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(dr).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function Vn(e,t){return j6(e,h6)}function vn(e,t){const r=la(),[n]=k.useState(()=>new g6(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const i=k.useSyncExternalStore(k.useCallback(o=>n.subscribe(Vt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=k.useCallback((o,s)=>{n.mutate(o,s).catch(dr)},[n]);if(i.error&&K2(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const P6=[{to:"/stats",label:"Statistiche",icon:YN},{to:"/ai-coach",label:"AI Coach",icon:hi},{to:"/macro-goals",label:"Macro Obiettivi",icon:ow}];function T6(){return f.jsx("nav",{className:"flex items-center justify-center gap-1 sm:gap-2",children:P6.map(({to:e,label:t,icon:r})=>f.jsxs(_N,{to:e,className:({isActive:n})=>ce("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all","hover:bg-accent",n?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground"),children:[f.jsx(r,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden xs:inline sm:inline",children:t})]},e))})}const C6=[{to:"/",label:"Home",icon:fz},{to:"/stats",label:"Stats",icon:YN},{to:"/macro-goals",label:"Obiettivi",icon:ow}];function N6(){return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-t border-white/10 pb-6 pt-2 px-6 lg:hidden",children:f.jsx("div",{className:"flex items-center justify-around max-w-md mx-auto",children:C6.map(({to:e,label:t,icon:r})=>f.jsx(_N,{to:e,className:({isActive:n})=>ce("flex flex-col items-center justify-center gap-1 p-2 rounded-2xl transition-all duration-300 w-16 group active:scale-95",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:({isActive:n})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:ce("relative p-1.5 rounded-xl transition-all duration-300",n?"bg-primary/20":"group-hover:bg-white/5"),children:[f.jsx(r,{className:ce("w-6 h-6")}),n&&f.jsx("span",{className:"absolute inset-0 rounded-xl ring-2 ring-primary/20 animate-pulse-success"})]}),f.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:t})]})},e))})})}function R6(){return f.jsxs("div",{className:"h-dvh lg:min-h-screen bg-background flex flex-col relative w-full overflow-x-hidden selection:bg-primary/20",children:[f.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:f.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-8 max-w-[2400px] mx-auto w-full relative",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary/5 pointer-events-none lg:hidden"}),f.jsxs(JF,{to:"/",className:"flex items-center gap-2 sm:gap-3 group relative z-10 active:scale-95 transition-transform",children:[f.jsxs("div",{className:"relative",children:[f.jsx(cz,{className:"h-6 w-6 sm:h-6 sm:w-6 text-primary animate-pulse"}),f.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-lg rounded-full opacity-50"})]}),f.jsx("span",{className:"font-display font-bold text-lg sm:text-lg tracking-tight group-hover:text-primary transition-colors",children:"Mattioli.OS"})]}),f.jsx("div",{className:"hidden lg:block",children:f.jsx(T6,{})})]})}),f.jsx("main",{className:"flex-1 min-h-0 pb-28 lg:pb-0",children:f.jsx(ZF,{})}),f.jsx(N6,{})]})}var ri={},yu={},Mb=function(e,t){return Mb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Mb(e,t)};function rR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mb(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Xr=function(){return Xr=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Xr.apply(this,arguments)};function ca(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function nR(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function iR(e,t){return function(r,n){t(r,n,e)}}function aR(e,t,r,n,i,a){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,p=!1,h=r.length-1;h>=0;h--){var y={};for(var m in n)y[m]=m==="access"?{}:n[m];for(var m in n.access)y.access[m]=n.access[m];y.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(v||null))};var g=(0,r[h])(s==="accessor"?{get:u.get,set:u.set}:u[l],y);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=o(g.get))&&(u.get=d),(d=o(g.set))&&(u.set=d),(d=o(g.init))&&i.unshift(d)}else(d=o(g))&&(s==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,n.name,u),p=!0}function oR(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function sR(e){return typeof e=="symbol"?e:"".concat(e)}function lR(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function cR(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function xe(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})}function uR(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var ch=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function dR(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ch(t,e,r)}function _d(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ow(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function fR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ow(arguments[t]));return e}function hR(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Aw(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Zo(e){return this instanceof Zo?(this.v=e,this):new Zo(e)}function pR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(y){return Promise.resolve(y).then(h,d)}}function s(h,y){n[h]&&(i[h]=function(m){return new Promise(function(g,v){a.push([h,m,g,v])>1||l(h,m)})},y&&(i[h]=y(i[h])))}function l(h,y){try{c(n[h](y))}catch(m){p(a[0][3],m)}}function c(h){h.value instanceof Zo?Promise.resolve(h.value.v).then(u,d):p(a[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function p(h,y){h(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function mR(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:Zo(e[i](o)),done:!1}:a?a(o):o}:a}}function gR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof _d=="function"?_d(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function yR(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I6=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},$b=function(e){return $b=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},$b(e)};function vR(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=$b(e),n=0;n<r.length;n++)r[n]!=="default"&&ch(t,e,r[n]);return I6(t,e),t}function bR(e){return e&&e.__esModule?e:{default:e}}function xR(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function wR(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function _R(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function SR(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var D6=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function kR(e){function t(a){e.error=e.hasError?new D6(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function ER(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const M6={__extends:rR,__assign:Xr,__rest:ca,__decorate:nR,__param:iR,__esDecorate:aR,__runInitializers:oR,__propKey:sR,__setFunctionName:lR,__metadata:cR,__awaiter:xe,__generator:uR,__createBinding:ch,__exportStar:dR,__values:_d,__read:Ow,__spread:fR,__spreadArrays:hR,__spreadArray:Aw,__await:Zo,__asyncGenerator:pR,__asyncDelegator:mR,__asyncValues:gR,__makeTemplateObject:yR,__importStar:vR,__importDefault:bR,__classPrivateFieldGet:xR,__classPrivateFieldSet:wR,__classPrivateFieldIn:_R,__addDisposableResource:SR,__disposeResources:kR,__rewriteRelativeImportExtension:ER},$6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:SR,get __assign(){return Xr},__asyncDelegator:mR,__asyncGenerator:pR,__asyncValues:gR,__await:Zo,__awaiter:xe,__classPrivateFieldGet:xR,__classPrivateFieldIn:_R,__classPrivateFieldSet:wR,__createBinding:ch,__decorate:nR,__disposeResources:kR,__esDecorate:aR,__exportStar:dR,__extends:rR,__generator:uR,__importDefault:bR,__importStar:vR,__makeTemplateObject:yR,__metadata:cR,__param:iR,__propKey:sR,__read:Ow,__rest:ca,__rewriteRelativeImportExtension:ER,__runInitializers:oR,__setFunctionName:lR,__spread:fR,__spreadArray:Aw,__spreadArrays:hR,__values:_d,default:M6},Symbol.toStringTag,{value:"Module"})),L6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let uh=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},OR=class extends uh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Lb=class extends uh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Fb=class extends uh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Sd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sd||(Sd={}));class F6{constructor(t,{headers:r={},customFetch:n,region:i=Sd.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=L6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xe(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:c,signal:u,timeout:d}=n;let p={},{region:h}=n;h||(h=this.region);const y=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let g=u;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),u?(g=o.signal,u.addEventListener("abort",()=>o.abort())):g=o.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:m,signal:g}).catch(w=>{throw new OR(w)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new Lb(v);if(!v.ok)throw new Fb(v);let x=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield v.json():x==="application/octet-stream"||x==="application/pdf"?_=yield v.blob():x==="text/event-stream"?_=v:x==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof Fb||s instanceof Lb?s.context:void 0}}finally{a&&clearTimeout(a)}})}}const B6=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Sd},FunctionsClient:F6,FunctionsError:uh,FunctionsFetchError:OR,FunctionsHttpError:Fb,FunctionsRelayError:Lb},Symbol.toStringTag,{value:"Module"})),AR=Vc(B6);var ir={};const Ls=Vc($6);var vu={},bu={},xu={},wu={},_u={},Su={},cS;function jR(){if(cS)return Su;cS=1,Object.defineProperty(Su,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Su.default=e,Su}var uS;function PR(){if(uS)return _u;uS=1,Object.defineProperty(_u,"__esModule",{value:!0});const t=Ls.__importDefault(jR());let r=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,d,p;let h=null,y=null,m=null,g=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=w:y=JSON.parse(w))}const x=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,m=null,g=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const x=await l.text();try{h=JSON.parse(x),Array.isArray(h)&&l.status===404&&(y=[],h=null,g=200,v="OK")}catch{l.status===404&&x===""?(g=204,v="No Content"):h={message:x}}if(h&&this.isMaybeSingle&&(!((p=h?.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,g=200,v="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:y,count:m,status:g,statusText:v}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,u,d,p,h,y;let m="";const g=l?.cause;if(g){const v=(c=g?.message)!==null&&c!==void 0?c:"",b=(u=g?.code)!==null&&u!==void 0?u:"";m=`${(d=l?.name)!==null&&d!==void 0?d:"FetchError"}: ${l?.message}`,m+=`

Caused by: ${(p=g?.name)!==null&&p!==void 0?p:"Error"}: ${v}`,b&&(m+=` (${b})`),g?.stack&&(m+=`
${g.stack}`)}else m=(h=l?.stack)!==null&&h!==void 0?h:"";return{error:{message:`${(y=l?.name)!==null&&y!==void 0?y:"FetchError"}: ${l?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}};return _u.default=r,_u}var dS;function TR(){if(dS)return wu;dS=1,Object.defineProperty(wu,"__esModule",{value:!0});const t=Ls.__importDefault(PR());let r=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return wu.default=r,wu}var fS;function jw(){if(fS)return xu;fS=1,Object.defineProperty(xu,"__esModule",{value:!0});const t=Ls.__importDefault(TR()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}};return xu.default=n,xu}var hS;function CR(){if(hS)return bu;hS=1,Object.defineProperty(bu,"__esModule",{value:!0});const t=Ls.__importDefault(jw());let r=class{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(d.length>0){const p=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return bu.default=r,bu}var pS;function z6(){if(pS)return vu;pS=1,Object.defineProperty(vu,"__esModule",{value:!0});const e=Ls,t=e.__importDefault(CR()),r=e.__importDefault(jw());let n=class NR{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new NR(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var u;let d;const p=new URL(`${this.url}/rpc/${a}`);let h;s||l?(d=s?"HEAD":"GET",Object.entries(o).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{p.searchParams.append(m,g)})):(d="POST",h=o);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:d,url:p,headers:y,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return vu.default=n,vu}var mS;function RR(){if(mS)return ir;mS=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.PostgrestError=ir.PostgrestBuilder=ir.PostgrestTransformBuilder=ir.PostgrestFilterBuilder=ir.PostgrestQueryBuilder=ir.PostgrestClient=void 0;const e=Ls,t=e.__importDefault(z6());ir.PostgrestClient=t.default;const r=e.__importDefault(CR());ir.PostgrestQueryBuilder=r.default;const n=e.__importDefault(jw());ir.PostgrestFilterBuilder=n.default;const i=e.__importDefault(TR());ir.PostgrestTransformBuilder=i.default;const a=e.__importDefault(PR());ir.PostgrestBuilder=a.default;const o=e.__importDefault(jR());return ir.PostgrestError=o.default,ir.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},ir}class IR{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const q6="2.87.1",U6=`realtime-js/${q6}`,DR="1.0.0",W6="2.0.0",gS=DR,Bb=1e4,H6=1e3,V6=100;var Ca;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ca||(Ca={}));var Nt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nt||(Nt={}));var pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pn||(pn={}));var zb;(function(e){e.websocket="websocket"})(zb||(zb={}));var Na;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Na||(Na={}));class K6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(h),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,l.length),y.setUint8(m++,s.length),y.setUint8(m++,o.length),y.setUint8(m++,c.length),y.setUint8(m++,d.length),y.setUint8(m++,r),Array.from(l,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(o,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(c,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(d,v=>y.setUint8(m++,v.charCodeAt(0)));var g=new Uint8Array(h.byteLength+n.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(n),h.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,i)}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+o));l=l+o;const p=t.slice(l,t.byteLength),h=s===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST_EVENT,event:u,payload:h};return o>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class MR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(yt||(yt={}));const yS=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=G6(o,e,t,i),a),{}):{}},G6=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i?.type,o=r[e];return a&&!n.includes(a)?$R(a,o):qb(o)},$R=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return J6(t,r)}switch(e){case yt.bool:return Y6(t);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return X6(t);case yt.json:case yt.jsonb:return Q6(t);case yt.timestamp:return Z6(t);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return qb(t);default:return qb(t)}},qb=e=>e,Y6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},X6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Q6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},J6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>$R(t,s))}return e},Z6=e=>typeof e=="string"?e.replace(" ","T"):e,LR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Pp{constructor(t,r,n={},i=Bb){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ub;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ub||(Ub={}));let FR=class id{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=id.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=id.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=id.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=a[c];if(d){const p=u.map(g=>g.presence_ref),h=d.map(g=>g.presence_ref),y=u.filter(g=>h.indexOf(g.presence_ref)<0),m=d.filter(g=>p.indexOf(g.presence_ref)<0);y.length>0&&(s[c]=y),m.length>0&&(l[c]=m)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const d=t[s].map(h=>h.presence_ref),p=u.filter(h=>d.indexOf(h.presence_ref)<0);t[s].unshift(...p)}n(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Wb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wb||(Wb={}));var Bo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bo||(Bo={}));var Cn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Cn||(Cn={}));const eU=Nt;let BR=class kl{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Pp(this,pn.join,this.params,this.timeout),this.rejoinTimer=new MR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new FR(this),this.broadcastEndpointURL=LR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Bo.PRESENCE]&&this.bindings[Bo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(Cn.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Cn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t?.(Cn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(y=m?.length)!==null&&y!==void 0?y:0,v=[];for(let b=0;b<g;b++){const x=m[b],{filter:{event:_,schema:w,table:S,filter:E}}=x,P=h&&h[b];if(P&&P.event===_&&kl.isFilterValueEqual(P.schema,w)&&kl.isFilterValueEqual(P.table,S)&&kl.isFilterValueEqual(P.filter,E))v.push(Object.assign(Object.assign({},x),{id:P.id}));else{this.unsubscribe(),this.state=Nt.errored,t?.(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Cn.SUBSCRIBED);return}}).receive("error",h=>{this.state=Nt.errored,t?.(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Nt.joined&&t===Bo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Pp(this,pn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Pp(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>V6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=pn;if(n&&[s,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,m,g;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(m=h.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(h=>h.callback(p,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var y,m,g,v,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const _=h.id,w=(y=h.filter)===null||y===void 0?void 0:y.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(w==="*"||w?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(v=h?.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((x=r?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:m,table:g,commit_timestamp:v,type:b,errors:x}=y;p=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(y))}h.callback(p,n)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&kl.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pn.close,{},t)}_onError(t){this._on(pn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=yS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=yS(t.columns,t.old_record)),r}};const Tp=()=>{},ku={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tU=[1e3,2e3,5e3,1e4],rU=1e4,nU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let iU=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bb,this.transport=null,this.heartbeatIntervalMs=ku.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tp,this.ref=0,this.reconnectTimer=null,this.vsn=gS,this.logger=Tp,this.conn=null,this.sendBuffer=[],this.serializer=new K6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${zb.websocket}`,this.httpEndpoint=LR(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ca.connecting:return Na.Connecting;case Ca.open:return Na.Open;case Ca.closing:return Na.Closing;default:return Na.Closed}}isConnected(){return this.connectionState()===Na.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new BR(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(H6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ku.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ca.open||this.conn.readyState===Ca.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(pn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([nU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:U6};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(pn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new MR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ku.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,c,u,d,p,h;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Bb,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:ku.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:Tp,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:gS,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(y=>tU[y-1]||rU),this.vsn){case DR:this.encode=(u=t?.encode)!==null&&u!==void 0?u:((y,m)=>m(JSON.stringify(y))),this.decode=(d=t?.decode)!==null&&d!==void 0?d:((y,m)=>m(JSON.parse(y)));break;case W6:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const aU=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:eU,get REALTIME_LISTEN_TYPES(){return Bo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Wb},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ub},get REALTIME_SUBSCRIBE_STATES(){return Cn},RealtimeChannel:BR,RealtimeClient:iU,RealtimePresence:FR,WebSocketFactory:IR},Symbol.toStringTag,{value:"Module"})),zR=Vc(aU);class Yc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function St(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qR extends Yc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kd extends Yc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Pw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oU=()=>Response,Hb=e=>{if(Array.isArray(e))return e.map(r=>Hb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Hb(n)}),t},sU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lU=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Cp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},cU=(e,t,r)=>xe(void 0,void 0,void 0,function*(){const n=yield oU();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new qR(Cp(i),a,o))}).catch(i=>{t(new kd(Cp(i),i))}):t(new kd(Cp(e),e))}),uU=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(sU(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Xc(e,t,r,n,i,a){return xe(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,uU(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>cU(l,s,n))})})}function Zl(e,t,r,n){return xe(this,void 0,void 0,function*(){return Xc(e,"GET",t,r,n)})}function hn(e,t,r,n,i){return xe(this,void 0,void 0,function*(){return Xc(e,"POST",t,n,i,r)})}function Vb(e,t,r,n,i){return xe(this,void 0,void 0,function*(){return Xc(e,"PUT",t,n,i,r)})}function dU(e,t,r,n){return xe(this,void 0,void 0,function*(){return Xc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Tw(e,t,r,n,i){return xe(this,void 0,void 0,function*(){return Xc(e,"DELETE",t,n,i,r)})}class fU{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}})}}var UR;class hU{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[UR]="BlobDownloadBuilder",this.promise=null}asStream(){return new fU(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}})}}UR=Symbol.toStringTag;const pU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mU{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Pw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return xe(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},vS),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(t=="PUT"?Vb:hn)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}})}upload(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return xe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:vS.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Vb(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(St(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield hn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Yc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}update(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}copy(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield hn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return xe(this,void 0,void 0,function*(){try{const i=yield hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Zl(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new hU(l,this.shouldThrowOnError)}info(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Hb(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}exists(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield dU(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n)&&n instanceof kd){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Tw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}list(t,r,n){return xe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pU),r),{prefix:t||""});return{data:yield hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}listV2(t,r){return xe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const WR="2.87.1",HR={"X-Client-Info":`storage-js/${WR}`};class gU{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},HR),r),this.fetch=Pw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Zl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}createBucket(t){return xe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return xe(this,void 0,void 0,function*(){try{return{data:yield Vb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}emptyBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Tw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ec=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yU(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function vU(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function bU(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=yU(e.baseUrl,n,i),l=await vU(e.auth),c=await t(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),p=d&&u?JSON.parse(u):u;if(!c.ok){const h=d?p:void 0,y=h?.error;throw new ec(y?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:y?.type,icebergCode:y?.code,details:h})}return{status:c.status,headers:c.headers,data:p}}}}function Eu(e){return e.join("")}var xU=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Eu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eu(e.namespace)}`}),!0}catch(t){if(t instanceof ec&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ec&&r.status===409)return;throw r}}};function mo(e){return e.join("")}var wU=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ec&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ec&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},_U=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=bU({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new xU(this.client,t),this.tableOps=new wU(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class VR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},HR),r),this.fetch=Pw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Zl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Tw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}})}from(t){if(!lU(t))throw new Yc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _U({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>xe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const s=a[o];return typeof s!="function"?s:(...l)=>xe(this,void 0,void 0,function*(){try{return{data:yield s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const Cw={"X-Client-Info":`storage-js/${WR}`,"Content-Type":"application/json"};class Nw extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ad extends Nw{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KR extends Nw{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Kb;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Kb||(Kb={}));const dh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SU=()=>Response,GR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kU=e=>Array.from(new Float32Array(e)),EU=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},bS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OU=(e,t,r)=>xe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=o?.statusCode||o?.code||i+"";t(new ad(bS(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new ad(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new ad(s,i,o))}}else t(new KR(bS(e),e))}),AU=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(GR(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function jU(e,t,r,n,i,a){return xe(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,AU(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>OU(l,s,n))})})}function Dr(e,t,r,n,i){return xe(this,void 0,void 0,function*(){return jU(e,"POST",t,n,i,r)})}class YR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cw),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield Dr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}listIndexes(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return xe(this,void 0,void 0,function*(){try{return{data:(yield Dr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}}class XR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cw),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}getVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}listVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Dr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}queryVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}}class QR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cw),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield Dr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}listBuckets(){return xe(this,arguments,void 0,function*(t={}){try{return{data:yield Dr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield Dr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}}class JR extends QR{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new ZR(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return xe(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return xe(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return xe(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return xe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class ZR extends YR{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new eI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class eI extends XR{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class PU extends gU{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new mU(this.url,this.headers,t,this.fetch)}get vectors(){return new JR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new VR(this.url+"/iceberg",this.headers,this.fetch)}}const TU=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:VR,StorageApiError:qR,StorageClient:PU,StorageError:Yc,StorageUnknownError:kd,StorageVectorsApiError:ad,StorageVectorsClient:JR,StorageVectorsError:Nw,get StorageVectorsErrorCode(){return Kb},StorageVectorsUnknownError:KR,VectorBucketApi:QR,VectorBucketScope:ZR,VectorDataApi:XR,VectorIndexApi:YR,VectorIndexScope:eI,isPlainObject:GR,isStorageError:St,isStorageVectorsError:Sr,normalizeToFloat32:kU,resolveFetch:dh,resolveResponse:SU,validateVectorDimension:EU},Symbol.toStringTag,{value:"Module"})),CU=Vc(TU);var Np={},ol={},xS;function NU(){return xS||(xS=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.version=void 0,ol.version="2.87.1"),ol}var wS;function RU(){return wS||(wS=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=NU();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Np)),Np}var Rp={},_S;function IU(){return _S||(_S=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,a,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(c,u)=>{var d;const p=(d=await a())!==null&&d!==void 0?d:i;let h=new l(u?.headers);return h.has("apikey")||h.set("apikey",i),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),s(c,Object.assign(Object.assign({},u),{headers:h}))}};e.fetchWithAuth=n})(Rp)),Rp}var ni={},SS;function DU(){if(SS)return ni;SS=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.isBrowser=void 0,ni.uuid=e,ni.ensureTrailingSlash=t,ni.applySettingDefaults=n,ni.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,s=a=="x"?o:o&3|8;return s.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";ni.isBrowser=r;function n(a,o){var s,l;const{db:c,auth:u,realtime:d,global:p}=a,{db:h,auth:y,realtime:m,global:g}=o,v={db:Object.assign(Object.assign({},h),c),auth:Object.assign(Object.assign({},y),u),realtime:Object.assign(Object.assign({},m),d),storage:{},global:Object.assign(Object.assign(Object.assign({},g),p),{headers:Object.assign(Object.assign({},(s=g?.headers)!==null&&s!==void 0?s:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?v.accessToken=a.accessToken:delete v.accessToken,v}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ni}var sl={};const tI="2.87.1",To=30*1e3,Gb=3,Ip=Gb*To,MU="http://localhost:9999",$U="supabase.auth.token",LU={"X-Client-Info":`gotrue-js/${tI}`},Yb="X-Supabase-Api-Version",rI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BU=600*1e3;let es=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let nI=class extends es{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function iI(e){return Oe(e)&&e.name==="AuthApiError"}let Bi=class extends es{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Ei=class extends es{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},xr=class extends Ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function aI(e){return Oe(e)&&e.name==="AuthSessionMissingError"}let Ea=class extends Ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},El=class extends Ei{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Ol=class extends Ei{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function oI(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}let Xb=class extends Ei{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ed=class extends Ei{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function od(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}let Qb=class extends Ei{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function zU(e){return Oe(e)&&e.name==="AuthWeakPasswordError"}let Od=class extends Ei{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kS=` 	
\r=`.split(""),qU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kS.length;t+=1)e[kS[t].charCodeAt(0)]=-2;for(let t=0;t<Ad.length;t+=1)e[Ad[t].charCodeAt(0)]=t;return e})();function ES(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ad[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ad[n]),t.queuedBits-=6}}function sI(e,t,r){const n=qU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function OS(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{HU(o,n,r)};for(let o=0;o<e.length;o+=1)sI(e.charCodeAt(o),i,a);return t.join("")}function UU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}UU(n,t)}}function HU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zo(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)sI(e.charCodeAt(i),r,n);return new Uint8Array(t)}function VU(e){const t=[];return WU(e,r=>t.push(r)),new Uint8Array(t)}function Ia(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>ES(i,r,n)),ES(null,r,n),t.join("")}function KU(e){return Math.round(Date.now()/1e3)+e}function GU(){return Symbol("auth-callback")}const er=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},lI=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function YU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const cI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Co=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ba=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zt=async(e,t)=>{await e.removeItem(t)};class fh{constructor(){this.promise=new fh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fh.promiseConstructor=Promise;function Dp(e){const t=e.split(".");if(t.length!==3)throw new Od("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!FU.test(t[n]))throw new Od("JWT not in base64url format");return{header:JSON.parse(OS(t[0])),payload:JSON.parse(OS(t[1])),signature:zo(t[2]),raw:{header:t[0],payload:t[1]}}}async function QU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function JU(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function ZU(e){return("0"+e.toString(16)).substr(-2)}function eW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,ZU).join("")}async function tW(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function rW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await tW(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function go(e,t,r=!1){const n=eW();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Co(e,`${t}-code-verifier`,i);const a=await rW(n);return[a,n===a?"plain":"s256"]}const nW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iW(e){const t=e.headers.get(Yb);if(!t||!t.match(nW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yo(e){if(!sW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lW(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function AS(e){return JSON.parse(JSON.stringify(e))}const Oa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cW=[502,503,504];async function jS(e){var t;if(!XU(e))throw new Ed(Oa(e),0);if(cW.includes(e.status))throw new Ed(Oa(e),e.status);let r;try{r=await e.json()}catch(a){throw new Bi(Oa(a),a)}let n;const i=iW(e);if(i&&i.getTime()>=rI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Qb(Oa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Qb(Oa(r),e.status,r.weak_password.reasons);throw new nI(Oa(r),e.status||500,n)}const uW=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Re(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[Yb]||(a[Yb]=rI["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await dW(e,t,r+s,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function dW(e,t,r,n,i,a){const o=uW(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Ed(Oa(l),0)}if(s.ok||await jS(s),n?.noResolveJson)return s;try{return await s.json()}catch(l){await jS(l)}}function dn(e){var t;let r=null;pW(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function PS(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fW(e){return{data:e,error:null}}function hW(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=ca(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function TS(e){return e}function pW(e){return e.access_token&&e.refresh_token&&e.expires_in}const sd=["global","local","others"];let Rw=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=cI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=sd[0]){if(sd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sd.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zi})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ca(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hW,redirectTo:r?.redirectTo})}catch(r){if(Oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zi})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:TS});if(u.error)throw u.error;const d=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Oe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){yo(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zi})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){yo(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zi})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){yo(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zi})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){yo(t.userId);try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){yo(t.userId),yo(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:TS});if(u.error)throw u.error;const d=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Oe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}};function CS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Aa={debug:!!(globalThis&&lI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Iw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let uI=class extends Iw{};class mW extends Iw{}async function dI(e,t,r){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Aa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const NS={};async function gW(e,t,r){var n;const i=(n=NS[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new mW(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return NS[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function yW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vW(e){return parseInt(e,16)}function bW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function xW(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=fI(e.address),y=u?`${u}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${h}

${m}`;let v=`URI: ${d}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}v+=b}return`${g}
${v}`}class Dt extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class jd extends Dt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function wW({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(hI(o)){if(a.rp.id!==o)return new Dt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _W({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(hI(n)){if(r.rpId!==n)return new Dt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class SW{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const kW=new SW;function EW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=ca(e,["challenge","user","excludeCredentials"]),a=zo(t).buffer,o=Object.assign(Object.assign({},r),{id:zo(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:zo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function OW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ca(e,["challenge","allowCredentials"]),i=zo(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:zo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function AW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ia(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ia(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function jW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ia(new Uint8Array(i.authenticatorData)),clientDataJSON:Ia(new Uint8Array(i.clientDataJSON)),signature:Ia(new Uint8Array(i.signature)),userHandle:i.userHandle?Ia(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function RS(){var e,t;return!!(er()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function PW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jd("Browser returned unexpected credential type",t)}:{data:null,error:new jd("Empty credential response",t)}}catch(t){return{data:null,error:wW({error:t,options:e})}}}async function TW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jd("Browser returned unexpected credential type",t)}:{data:null,error:new jd("Empty credential response",t)}}catch(t){return{data:null,error:_W({error:t,options:e})}}}const CW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},NW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=Pd(s,o):n[a]=Pd(o)}else n[a]=o}return n}function RW(e,t){return Pd(CW,e,t||{})}function IW(e,t){return Pd(NW,e,t||{})}class DW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=i??kW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=RW(o.webauthn.credential_options.publicKey,a?.create),{data:u,error:d}=await PW({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=IW(o.webauthn.credential_options.publicKey,a?.request),{data:u,error:d}=await TW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return Oe(o)?{data:null,error:o}:{data:null,error:new Bi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new es("rpId is required for WebAuthn authentication")};try{if(!RS())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return Oe(o)?{data:null,error:o}:{data:null,error:new Bi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new es("rpId is required for WebAuthn registration")};try{if(!RS())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Oe(o)?{data:null,error:o}:{data:null,error:new Bi("Unexpected error in register",o)}}}}yW();const MW={url:MU,storageKey:$U,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function IS(e,t,r){return await r()}const vo={};let Dw=class Jb{get jwks(){var t,r;return(r=(t=vo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=vo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},MW),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Jb.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Jb.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&er()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Rw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=cI(a.fetch),this.lock=a.lock||IS,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&er()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=dI:this.lock=IS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:lI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=CS(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=CS(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(er()&&(r=YU(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),er()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),oI(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Oe(r)?this._returnResult({error:r}):this._returnResult({error:new Bi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:dn}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:d,options:p}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await go(this.storage,this.storageKey)),a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:u,password:d,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:h,code_challenge_method:y},xform:dn})}else if("phone"in t){const{phone:u,password:d,options:p}=t;a=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=p?.data)!==null&&n!==void 0?n:{},channel:(i=p?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:dn})}else throw new El("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await Zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:PS})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:PS})}else throw new El("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Ea;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,c,u,d,p;let h,y;if("message"in t)h=t.message,y=t.signature;else{const{chain:m,wallet:g,statement:v,options:b}=t;let x;if(er())if(typeof g=="object")x=g;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")x=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const _=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),w=await x.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=fI(w[0]);let E=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const T=await x.request({method:"eth_chainId"});E=vW(T)}const P={domain:_.host,address:S,statement:v,uri:_.href,version:"1",chainId:E,nonce:(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b?.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=xW(P),y=await x.request({method:"personal_sign",params:[bW(h),S]})}try{const{data:m,error:g}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:y},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:dn});if(g)throw g;if(!m||!m.session||!m.user){const v=new Ea;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(Oe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,a,o,s,l,c,u,d,p,h;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:b,options:x}=t;let _;if(er())if(typeof v=="object")_=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const w=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=x?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x?.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:g,error:v}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ia(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:dn});if(v)throw v;if(!g||!g.session||!g.user){const b=new Ea;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Oe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await ba(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:dn});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new Ea;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:dn}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Ea;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await go(this.storage,this.storageKey));const{error:d}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new El("You must provide either an email or phone number.")}catch(s){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:dn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await go(this.storage,this.storageKey));const c=await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:fW});return!((a=c.data)===null||a===void 0)&&a.url&&er()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xr;const{error:i}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:s})}throw new El("You must provide either an email or phone number and a type")}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ip:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ba(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Mp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=lW(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zi}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xr}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:zi})})}catch(r){if(Oe(r))return aI(r)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new xr;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await go(this.storage,this.storageKey));const{data:c,error:u}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:zi});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Oe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Dp(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new xr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!er())throw new Ol("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ol(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ol("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xb("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Ol("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let p=u+d;l&&(p=parseInt(l));const h=p-u;h*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const y=p-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,u);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:p,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(Oe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ba(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(iI(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=GU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await go(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:d,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return er()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Oe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:u}=t,d=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:dn}),{data:p,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ea}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await JU(async i=>(i>0&&await QU(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&od(a)&&Date.now()+o-n<To})}catch(n){if(this._debug(r,"error",n),Oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),er()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ba(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Co(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Mp()}else if(i&&!i.user&&!i.user){const o=await ba(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Zt(this.storage,this.storageKey+"-user"),await Co(this.storage,this.storageKey,i)):i.user=Mp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ip;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ip}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),od(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fh;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new xr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Oe(a)){const o={data:null,error:a};return od(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Co(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=AS(i);await Co(this.storage,this.storageKey,a)}else{const i=AS(r);await Co(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&er()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${To}ms, refresh threshold is ${Gb} ticks`),i<=Gb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Iw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await go(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?AW(t.webauthn.credential_response):jW(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:EW(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:OW(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Dp(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new xr})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new xr});const o=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&er()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new xr});const o=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&er()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new xr})})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xr})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+BU>i)return n;const{data:a,error:o}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:y}=await this.getSession();if(y||!h.session)return this._returnResult({data:null,error:y});n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Dp(n);r?.allowExpired||aW(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const u=oW(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,VU(`${s}.${l}`)))throw new Od("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}};Dw.nextInstanceID={};const $W=Rw,LW=Dw,FW=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:$W,AuthApiError:nI,AuthClient:LW,AuthError:es,AuthImplicitGrantRedirectError:Ol,AuthInvalidCredentialsError:El,AuthInvalidJwtError:Od,AuthInvalidTokenResponseError:Ea,AuthPKCEGrantCodeExchangeError:Xb,AuthRetryableFetchError:Ed,AuthSessionMissingError:xr,AuthUnknownError:Bi,AuthWeakPasswordError:Qb,CustomAuthError:Ei,GoTrueAdminApi:Rw,GoTrueClient:Dw,NavigatorLockAcquireTimeoutError:uI,SIGN_OUT_SCOPES:sd,isAuthApiError:iI,isAuthError:Oe,isAuthImplicitGrantRedirectError:oI,isAuthRetryableFetchError:od,isAuthSessionMissingError:aI,isAuthWeakPasswordError:zU,lockInternals:Aa,navigatorLock:dI,processLock:gW},Symbol.toStringTag,{value:"Module"})),pI=Vc(FW);var DS;function BW(){if(DS)return sl;DS=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.SupabaseAuthClient=void 0;const e=pI;let t=class extends e.AuthClient{constructor(n){super(n)}};return sl.SupabaseAuthClient=t,sl}var MS;function $S(){if(MS)return yu;MS=1,Object.defineProperty(yu,"__esModule",{value:!0});const e=AR,t=RR(),r=zR,n=CU,i=RU(),a=IU(),o=DU(),s=BW();class l{constructor(u,d,p){var h,y,m;this.supabaseUrl=u,this.supabaseKey=d;const g=(0,o.validateSupabaseUrl)(u);if(!d)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const v=`sb-${g.hostname.split(".")[0]}-auth-token`,b={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:v}),global:i.DEFAULT_GLOBAL_OPTIONS},x=(0,o.applySettingDefaults)(p??{},b);this.storageKey=(h=x.auth.storageKey)!==null&&h!==void 0?h:"",this.headers=(y=x.global.headers)!==null&&y!==void 0?y:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((m=x.auth)!==null&&m!==void 0?m:{},this.headers,x.global.fetch),this.fetch=(0,a.fetchWithAuth)(d,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new t.PostgrestClient(new URL("rest/v1",g).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,p?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(u){return this.rest.from(u)}schema(u){return this.rest.schema(u)}rpc(u,d={},p={head:!1,get:!1,count:void 0}){return this.rest.rpc(u,d,p)}channel(u,d={config:{}}){return this.realtime.channel(u,d)}getChannels(){return this.realtime.getChannels()}removeChannel(u){return this.realtime.removeChannel(u)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var u,d;if(this.accessToken)return await this.accessToken();const{data:p}=await this.auth.getSession();return(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:u,persistSession:d,detectSessionInUrl:p,storage:h,userStorage:y,storageKey:m,flowType:g,lock:v,debug:b,throwOnError:x},_,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),_),storageKey:m,autoRefreshToken:u,persistSession:d,detectSessionInUrl:p,storage:h,userStorage:y,flowType:g,lock:v,debug:b,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(u){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},u),{params:Object.assign({apikey:this.supabaseKey},u?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((d,p)=>{this._handleTokenChanged(d,"CLIENT",p?.access_token)})}_handleTokenChanged(u,d,p){(u==="TOKEN_REFRESHED"||u==="SIGNED_IN")&&this.changedAccessToken!==p?(this.changedAccessToken=p,this.realtime.setAuth(p)):u==="SIGNED_OUT"&&(this.realtime.setAuth(),d=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return yu.default=l,yu}var LS;function zW(){return LS||(LS=1,(function(e){var t=ri&&ri.__createBinding||(Object.create?(function(u,d,p,h){h===void 0&&(h=p);var y=Object.getOwnPropertyDescriptor(d,p);(!y||("get"in y?!d.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(u,h,y)}):(function(u,d,p,h){h===void 0&&(h=p),u[h]=d[p]})),r=ri&&ri.__exportStar||function(u,d){for(var p in u)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&t(d,u,p)},n=ri&&ri.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n($S());r(pI,e);var a=RR();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=AR;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(zR,e);var s=$S();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(u,d,p)=>new i.default(u,d,p);e.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const d=u.match(/^v(\d+)\./);return d?parseInt(d[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ri)),ri}var mI=zW();const gI=Je(mI),qW=iB({__proto__:null,default:gI},[mI]),{PostgrestError:Zxe,FunctionsHttpError:ewe,FunctionsFetchError:twe,FunctionsRelayError:rwe,FunctionsError:nwe,FunctionRegion:iwe,SupabaseClient:awe,createClient:UW,GoTrueAdminApi:owe,GoTrueClient:swe,AuthAdminApi:lwe,AuthClient:cwe,navigatorLock:uwe,NavigatorLockAcquireTimeoutError:dwe,lockInternals:fwe,processLock:hwe,SIGN_OUT_SCOPES:pwe,AuthError:mwe,AuthApiError:gwe,AuthUnknownError:ywe,CustomAuthError:vwe,AuthSessionMissingError:bwe,AuthInvalidTokenResponseError:xwe,AuthInvalidCredentialsError:wwe,AuthImplicitGrantRedirectError:_we,AuthPKCEGrantCodeExchangeError:Swe,AuthRetryableFetchError:kwe,AuthWeakPasswordError:Ewe,AuthInvalidJwtError:Owe,isAuthError:Awe,isAuthApiError:jwe,isAuthSessionMissingError:Pwe,isAuthImplicitGrantRedirectError:Twe,isAuthRetryableFetchError:Cwe,isAuthWeakPasswordError:Nwe,RealtimePresence:Rwe,RealtimeChannel:Iwe,RealtimeClient:Dwe,REALTIME_LISTEN_TYPES:Mwe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:$we,REALTIME_PRESENCE_LISTEN_EVENTS:Lwe,REALTIME_SUBSCRIBE_STATES:Fwe,REALTIME_CHANNEL_STATES:Bwe}=gI||qW,WW="https://vestbasnnejekdhiuydr.supabase.co",HW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZlc3RiYXNubmVqZWtkaGl1eWRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NTQ0NTIsImV4cCI6MjA4MTIzMDQ1Mn0.U170a90MkIIO2yTfmPiqhWpAuUc4eZbUpY1DF0hoRu8",VW=WW,KW=HW,be=UW(VW,KW,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function st(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Kn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Td(e,t){const r=st(e);return isNaN(t)?Kn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function yI(e,t){const r=st(e);if(isNaN(t))return Kn(e,NaN);if(!t)return r;const n=r.getDate(),i=Kn(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const Mw=6048e5,GW=864e5,vI=6e4,bI=36e5;let YW={};function hh(){return YW}function rn(e,t){const r=hh(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=st(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Cd(e){return rn(e,{weekStartsOn:1})}function xI(e){const t=st(e),r=t.getFullYear(),n=Kn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Cd(n),a=Kn(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Cd(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Nn(e){const t=st(e);return t.setHours(0,0,0,0),t}function Nd(e){const t=st(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function tc(e,t){const r=Nn(e),n=Nn(t),i=+r-Nd(r),a=+n-Nd(n);return Math.round((i-a)/GW)}function XW(e){const t=xI(e),r=Kn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Cd(r)}function QW(e,t){const r=t*7;return Td(e,r)}function JW(e,t){return yI(e,t*12)}function ci(e,t){const r=Nn(e),n=Nn(t);return+r==+n}function ZW(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eH(e){if(!ZW(e)&&typeof e!="number")return!1;const t=st(e);return!isNaN(Number(t))}function tH(e){const t=st(e);return Math.trunc(t.getMonth()/3)+1}function rH(e,t,r){const n=rn(e,r),i=rn(t,r),a=+n-Nd(n),o=+i-Nd(i);return Math.round((a-o)/Mw)}function nH(e,t){const r=st(e),n=st(t),i=FS(r,n),a=Math.abs(tc(r,n));r.setDate(r.getDate()-i*a);const o=+(FS(r,n)===-i),s=i*(a-o);return s===0?0:s}function FS(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function wI(e){const t=st(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function bn(e,t){const r=st(e.start),n=st(e.end);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(st(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function Da(e){const t=st(e);return t.setDate(1),t.setHours(0,0,0,0),t}function iH(e){const t=st(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function $w(e){const t=st(e),r=Kn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function aH(e,t){const r=t?.weekStartsOn,n=st(e),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const oH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sH=(e,t,r)=>{let n;const i=oH[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const lH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dH={date:qo({formats:lH,defaultWidth:"full"}),time:qo({formats:cH,defaultWidth:"full"}),dateTime:qo({formats:uH,defaultWidth:"full"})},fH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hH=(e,t,r,n)=>fH[e];function Dn(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r?.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r?.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const pH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xH=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wH={ordinalNumber:xH,era:Dn({values:pH,defaultWidth:"wide"}),quarter:Dn({values:mH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dn({values:gH,defaultWidth:"wide"}),day:Dn({values:yH,defaultWidth:"wide"}),dayPeriod:Dn({values:vH,defaultWidth:"wide",formattingValues:bH,defaultFormattingWidth:"wide"})};function Mn(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?SH(s,d=>d.test(o)):_H(s,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function _H(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function SH(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function _I(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const kH=/^(\d+)(th|st|nd|rd)?/i,EH=/\d+/i,OH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AH={any:[/^b/i,/^(a|c)/i]},jH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PH={any:[/1/i,/2/i,/3/i,/4/i]},TH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MH={ordinalNumber:_I({matchPattern:kH,parsePattern:EH,valueCallback:e=>parseInt(e,10)}),era:Mn({matchPatterns:OH,defaultMatchWidth:"wide",parsePatterns:AH,defaultParseWidth:"any"}),quarter:Mn({matchPatterns:jH,defaultMatchWidth:"wide",parsePatterns:PH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mn({matchPatterns:TH,defaultMatchWidth:"wide",parsePatterns:CH,defaultParseWidth:"any"}),day:Mn({matchPatterns:NH,defaultMatchWidth:"wide",parsePatterns:RH,defaultParseWidth:"any"}),dayPeriod:Mn({matchPatterns:IH,defaultMatchWidth:"any",parsePatterns:DH,defaultParseWidth:"any"})},$H={code:"en-US",formatDistance:sH,formatLong:dH,formatRelative:hH,localize:wH,match:MH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LH(e){const t=st(e);return tc(t,$w(t))+1}function FH(e){const t=st(e),r=+Cd(t)-+XW(t);return Math.round(r/Mw)+1}function SI(e,t){const r=st(e),n=r.getFullYear(),i=hh(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Kn(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=rn(o,t),l=Kn(e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=rn(l,t);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function BH(e,t){const r=hh(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=SI(e,t),a=Kn(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),rn(a,t)}function zH(e,t){const r=st(e),n=+rn(r,t)-+BH(r,t);return Math.round(n/Mw)+1}function ct(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ii={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ct(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ct(r+1,2)},d(e,t){return ct(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ct(e.getHours()%12||12,t.length)},H(e,t){return ct(e.getHours(),t.length)},m(e,t){return ct(e.getMinutes(),t.length)},s(e,t){return ct(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ct(i,t.length)}},bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BS={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ii.y(e,t)},Y:function(e,t,r,n){const i=SI(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return ct(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ct(a,t.length)},R:function(e,t){const r=xI(e);return ct(r,t.length)},u:function(e,t){const r=e.getFullYear();return ct(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ct(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ct(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ii.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ct(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=zH(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ct(i,t.length)},I:function(e,t,r){const n=FH(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ct(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ii.d(e,t)},D:function(e,t,r){const n=LH(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ct(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ct(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ct(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ct(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=bo.noon:n===0?i=bo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=bo.evening:n>=12?i=bo.afternoon:n>=4?i=bo.morning:i=bo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ii.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ii.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ct(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ct(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ii.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ii.s(e,t)},S:function(e,t){return Ii.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return qS(n);case"XXXX":case"XX":return ja(n);default:return ja(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qS(n);case"xxxx":case"xx":return ja(n);default:return ja(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zS(n,":");default:return"GMT"+ja(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zS(n,":");default:return"GMT"+ja(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ct(n,t.length)},T:function(e,t,r){const n=e.getTime();return ct(n,t.length)}};function zS(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+ct(a,2)}function qS(e,t){return e%60===0?(e>0?"-":"+")+ct(Math.abs(e)/60,2):ja(e,t)}function ja(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=ct(Math.trunc(n/60),2),a=ct(n%60,2);return r+i+t+a}const US=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},kI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},qH=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return US(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",US(n,t)).replace("{{time}}",kI(i,t))},UH={p:kI,P:qH},WH=/^D+$/,HH=/^Y+$/,VH=["D","DD","YY","YYYY"];function KH(e){return WH.test(e)}function GH(e){return HH.test(e)}function YH(e,t,r){const n=XH(e,t,r);if(console.warn(n),VH.includes(e))throw new RangeError(n)}function XH(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZH=/^'([^]*?)'?$/,e9=/''/g,t9=/[a-zA-Z]/;function Ve(e,t,r){const n=hh(),i=r?.locale??n.locale??$H,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=st(e);if(!eH(s))throw new RangeError("Invalid time value");let l=t.match(JH).map(u=>{const d=u[0];if(d==="p"||d==="P"){const p=UH[d];return p(u,i.formatLong)}return u}).join("").match(QH).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:r9(u)};if(BS[d])return{isToken:!0,value:u};if(d.match(t9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(!r?.useAdditionalWeekYearTokens&&GH(d)||!r?.useAdditionalDayOfYearTokens&&KH(d))&&YH(d,t,String(e));const p=BS[d[0]];return p(s,d,i.localize,c)}).join("")}function r9(e){const t=e.match(ZH);return t?t[1].replace(e9,"'"):e}function n9(e){return st(e).getDate()}function i9(e){return st(e).getDay()}function a9(e,t){const r=t?.weekStartsOn,n=n9(e);if(isNaN(n))return NaN;const i=i9(Da(e));let a=r-i;a<=0&&(a+=7);const o=n-a;return Math.ceil(o/7)+1}function o9(e){const t=st(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function s9(e,t){return rH(o9(e),Da(e),t)+1}function Li(e,t){const r=st(e),n=st(t);return r.getTime()>n.getTime()}function Pn(e,t){const r=st(e),n=st(t);return+r<+n}function WS(e,t,r){const n=rn(e,r),i=rn(t,r);return+n==+i}function Mt(e,t){return Td(e,-t)}function l9(e,t){const n=f9(e);let i;if(n.date){const l=h9(n.date,2);i=p9(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,s;if(n.time&&(o=m9(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(s=g9(n.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(a+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(a+o+s)}const Ou={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function f9(e){const t={},r=e.split(Ou.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Ou.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ou.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Ou.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function h9(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function p9(e,t){if(t===null)return new Date(NaN);const r=e.match(c9);if(!r)return new Date(NaN);const n=!!r[4],i=ll(r[1]),a=ll(r[2])-1,o=ll(r[3]),s=ll(r[4]),l=ll(r[5])-1;if(n)return w9(t,s,l)?y9(t,s,l):new Date(NaN);{const c=new Date(0);return!b9(t,a,o)||!x9(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}}function ll(e){return e?parseInt(e):1}function m9(e){const t=e.match(u9);if(!t)return NaN;const r=$p(t[1]),n=$p(t[2]),i=$p(t[3]);return _9(r,n,i)?r*bI+n*vI+i*1e3:NaN}function $p(e){return e&&parseFloat(e.replace(",","."))||0}function g9(e){if(e==="Z")return 0;const t=e.match(d9);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return S9(n,i)?r*(n*bI+i*vI):NaN}function y9(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const v9=[31,null,31,30,31,30,31,31,30,31,30,31];function EI(e){return e%400===0||e%4===0&&e%100!==0}function b9(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(v9[t]||(EI(e)?29:28))}function x9(e,t){return t>=1&&t<=(EI(e)?366:365)}function w9(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function _9(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function S9(e,t){return t>=0&&t<=59}function HS(e,t){return yI(e,-t)}function k9(e,t){return QW(e,-1)}function E9(e,t){return JW(e,-1)}function xo(e=new Date){return Ve(e,"yyyy-MM-dd")}function O9(e,t,r){return!(e<t||r&&e>r)}function Lw(){const e=la(),{data:t,isLoading:r}=Vn({queryKey:["goals"],queryFn:async()=>{const{data:h,error:y}=await be.from("goals").select("*").order("created_at",{ascending:!0});if(y)throw qe.error("Errore caricamento obiettivi"),y;return h}}),{data:n,isLoading:i}=Vn({queryKey:["goal_logs"],queryFn:async()=>{let h=[],y=0;const m=1e3;let g=!0;for(;g;){const{data:v,error:b}=await be.from("goal_logs").select("*").range(y,y+m-1);if(b)throw console.error(b),b;v&&v.length>0?(h=[...h,...v],v.length<m?g=!1:y+=m):g=!1}return h}}),a={};n&&n.forEach(h=>{a[h.date]||(a[h.date]={}),a[h.date][h.goal_id]=h.status});const o=vn({mutationFn:async h=>{const{data:{session:y}}=await be.auth.getSession();if(!y)throw new Error("Non sei autenticato. Effettua il login.");const{data:m,error:g}=await be.from("goals").insert([{title:h.title,color:h.color,start_date:h.start_date||xo(new Date),user_id:y.user.id}]).select().single();if(g)throw g;return m},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),qe.success("Obiettivo creato")},onError:h=>{qe.error("Errore creazione: "+h.message)}}),s=vn({mutationFn:async({id:h,title:y,color:m})=>{const{data:{session:g}}=await be.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const{error:v}=await be.from("goals").update({title:y,color:m}).eq("id",h).eq("user_id",g.user.id);if(v)throw v},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),qe.success("Abitudine aggiornata")},onError:h=>{qe.error("Errore aggiornamento: "+h.message)}}),l=async h=>{const y=new Date;y.setDate(y.getDate()-1);const{error:m}=await be.from("goals").update({end_date:xo(y)}).eq("id",h)},c=vn({mutationFn:async h=>{const{count:y,error:m}=await be.from("goal_logs").select("*",{count:"exact",head:!0}).eq("goal_id",h);if(m)throw m;if(y&&y>0)await l(h);else try{const{error:g}=await be.from("goals").delete().eq("id",h);g&&(console.warn("Hard delete failed, falling back to soft delete",g),await l(h))}catch(g){console.warn("Hard delete exception, falling back to soft delete",g),await l(h)}},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),qe.success("Obiettivo eliminato")},onError:h=>{qe.error("Errore eliminazione: "+h.message)}}),u=vn({mutationFn:async()=>{const{data:{session:h}}=await be.auth.getSession();if(!h)throw new Error("Not authenticated");const{error:y}=await be.from("goal_logs").delete().eq("user_id",h.user.id);if(y)throw y;const{error:m}=await be.from("goals").delete().eq("user_id",h.user.id);if(m)throw m},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),e.invalidateQueries({queryKey:["goal_logs"]}),qe.success("Reset completo effettuato")},onError:h=>{qe.error("Errore reset: "+h.message)}}),d=(t||[]).filter(h=>!h.end_date||h.end_date>=xo(new Date)),p=vn({mutationFn:async({goalId:h,date:y,currentStatus:m})=>{const g=xo(y),{data:{session:v}}=await be.auth.getSession(),{data:b,error:x}=await be.from("goals").select("start_date, end_date").eq("id",h).single();if(x||!b)throw x||new Error("Goal not found");const _=b;if(!O9(g,_.start_date,_.end_date))throw new Error("Impossibile modificare un obiettivo fuori dal suo periodo di validit.");let w="done";if(m==="done"?w="missed":m==="missed"&&(w=null),w===null){const{error:S}=await be.from("goal_logs").delete().eq("goal_id",h).eq("date",g);if(S)throw S}else{const{error:S}=await be.from("goal_logs").upsert({goal_id:h,date:g,status:w,user_id:v?.user.id},{onConflict:"goal_id, date"});if(S)throw S}return{goalId:h,dateStr:g,nextStatus:w}},onMutate:async({goalId:h,date:y,currentStatus:m})=>{await e.cancelQueries({queryKey:["goal_logs"]});const g=e.getQueryData(["goal_logs"]),v=xo(y);let b="done";return m==="done"?b="missed":m==="missed"&&(b=null),e.setQueryData(["goal_logs"],x=>{if(!x)return[];const _=x.filter(w=>!(w.goal_id===h&&w.date===v));return b?[..._,{id:"temp-"+Date.now(),goal_id:h,date:v,status:b,created_at:"",updated_at:""}]:_}),{previousLogs:g}},onError:(h,y,m)=>{e.setQueryData(["goal_logs"],m?.previousLogs),qe.error("Errore aggiornamento")},onSettled:()=>{e.invalidateQueries({queryKey:["goal_logs"]})}});return{goals:d,allGoals:t||[],logs:a,rawLogs:n||[],isLoading:r||i,createGoal:o.mutate,updateGoal:s.mutate,isUpdating:s.isPending,deleteGoal:c.mutate,isDeleting:c.isPending,resetAllData:u.mutate,isResetting:u.isPending,toggleGoal:async(h,y)=>{const m=xo(h),g=a[m]?.[y]||null;p.mutate({goalId:y,date:h,currentStatus:g})}}}const OI=k.createContext(void 0),A9=({children:e})=>{const[t,r]=k.useState(!1),n=()=>{r(i=>!i)};return f.jsx(OI.Provider,{value:{isPrivacyMode:t,setIsPrivacyMode:r,togglePrivacyMode:n},children:e})},ph=()=>{const e=k.useContext(OI);if(e===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return e},Fw=Wc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),We=k.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?XF:"button";return f.jsx(o,{className:ce(Fw({variant:t,size:r,className:e})),ref:a,...i})});We.displayName="Button";const j9={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},P9=(e,t,r)=>{let n;const i=j9[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},T9={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},C9={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},N9={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},R9={date:qo({formats:T9,defaultWidth:"full"}),time:qo({formats:C9,defaultWidth:"full"}),dateTime:qo({formats:N9,defaultWidth:"full"})},Bw=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function I9(e){return e===0?"'domenica scorsa alle' p":"'"+Bw[e]+" scorso alle' p"}function VS(e){return"'"+Bw[e]+" alle' p"}function D9(e){return e===0?"'domenica prossima alle' p":"'"+Bw[e]+" prossimo alle' p"}const M9={lastWeek:(e,t,r)=>{const n=e.getDay();return WS(e,t,r)?VS(n):I9(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,r)=>{const n=e.getDay();return WS(e,t,r)?VS(n):D9(n)},other:"P"},$9=(e,t,r,n)=>{const i=M9[e];return typeof i=="function"?i(t,r,n):i},L9={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},F9={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},B9={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},z9={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},q9={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},U9={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},W9=(e,t)=>{const r=Number(e);return String(r)},H9={ordinalNumber:W9,era:Dn({values:L9,defaultWidth:"wide"}),quarter:Dn({values:F9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dn({values:B9,defaultWidth:"wide"}),day:Dn({values:z9,defaultWidth:"wide"}),dayPeriod:Dn({values:q9,defaultWidth:"wide",formattingValues:U9,defaultFormattingWidth:"wide"})},V9=/^(\d+)()?/i,K9=/\d+/i,G9={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},Y9={any:[/^a/i,/^(d|e)/i]},X9={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},Q9={any:[/1/i,/2/i,/3/i,/4/i]},J9={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},Z9={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},eV={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},tV={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},rV={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},nV={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},iV={ordinalNumber:_I({matchPattern:V9,parsePattern:K9,valueCallback:e=>parseInt(e,10)}),era:Mn({matchPatterns:G9,defaultMatchWidth:"wide",parsePatterns:Y9,defaultParseWidth:"any"}),quarter:Mn({matchPatterns:X9,defaultMatchWidth:"wide",parsePatterns:Q9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mn({matchPatterns:J9,defaultMatchWidth:"wide",parsePatterns:Z9,defaultParseWidth:"any"}),day:Mn({matchPatterns:eV,defaultMatchWidth:"wide",parsePatterns:tV,defaultParseWidth:"any"}),dayPeriod:Mn({matchPatterns:rV,defaultMatchWidth:"any",parsePatterns:nV,defaultParseWidth:"any"})},Mr={code:"it",formatDistance:P9,formatLong:R9,formatRelative:$9,localize:H9,match:iV,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Gi(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var aV="DismissableLayer",Zb="dismissableLayer.update",oV="dismissableLayer.pointerDownOutside",sV="dismissableLayer.focusOutside",KS,AI=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jI=k.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=k.useContext(AI),[u,d]=k.useState(null),p=u?.ownerDocument??globalThis?.document,[,h]=k.useState({}),y=De(t,E=>d(E)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),b=u?m.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=v,w=uV(E=>{const P=E.target,T=[...c.branches].some(A=>A.contains(P));!_||T||(i?.(E),o?.(E),E.defaultPrevented||s?.())},p),S=dV(E=>{const P=E.target;[...c.branches].some(A=>A.contains(P))||(a?.(E),o?.(E),E.defaultPrevented||s?.())},p);return kN(E=>{b===c.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},p),k.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(KS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),GS(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=KS)}},[u,p,r,c]),k.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),GS())},[u,c]),k.useEffect(()=>{const E=()=>h({});return document.addEventListener(Zb,E),()=>document.removeEventListener(Zb,E)},[]),f.jsx(ke.div,{...l,ref:y,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:Gi(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Gi(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Gi(e.onPointerDownCapture,w.onPointerDownCapture)})});jI.displayName=aV;var lV="DismissableLayerBranch",cV=k.forwardRef((e,t)=>{const r=k.useContext(AI),n=k.useRef(null),i=De(t,n);return k.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(ke.div,{...e,ref:i})});cV.displayName=lV;function uV(e,t=globalThis?.document){const r=Tt(e),n=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){PI(oV,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function dV(e,t=globalThis?.document){const r=Tt(e),n=k.useRef(!1);return k.useEffect(()=>{const i=a=>{a.target&&!n.current&&PI(sV,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function GS(){const e=new CustomEvent(Zb);document.dispatchEvent(e)}function PI(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?rw(i,a):i.dispatchEvent(a)}var Lp="focusScope.autoFocusOnMount",Fp="focusScope.autoFocusOnUnmount",YS={bubbles:!1,cancelable:!0},fV="FocusScope",zw=k.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=k.useState(null),c=Tt(i),u=Tt(a),d=k.useRef(null),p=De(t,m=>l(m)),h=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let m=function(x){if(h.paused||!s)return;const _=x.target;s.contains(_)?d.current=_:Mi(d.current,{select:!0})},g=function(x){if(h.paused||!s)return;const _=x.relatedTarget;_!==null&&(s.contains(_)||Mi(d.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const w of x)w.removedNodes.length>0&&Mi(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(v);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[n,s,h.paused]),k.useEffect(()=>{if(s){QS.add(h);const m=document.activeElement;if(!s.contains(m)){const v=new CustomEvent(Lp,YS);s.addEventListener(Lp,c),s.dispatchEvent(v),v.defaultPrevented||(hV(vV(TI(s)),{select:!0}),document.activeElement===m&&Mi(s))}return()=>{s.removeEventListener(Lp,c),setTimeout(()=>{const v=new CustomEvent(Fp,YS);s.addEventListener(Fp,u),s.dispatchEvent(v),v.defaultPrevented||Mi(m??document.body,{select:!0}),s.removeEventListener(Fp,u),QS.remove(h)},0)}}},[s,c,u,h]);const y=k.useCallback(m=>{if(!r&&!n||h.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const b=m.currentTarget,[x,_]=pV(b);x&&_?!m.shiftKey&&v===_?(m.preventDefault(),r&&Mi(x,{select:!0})):m.shiftKey&&v===x&&(m.preventDefault(),r&&Mi(_,{select:!0})):v===b&&m.preventDefault()}},[r,n,h.paused]);return f.jsx(ke.div,{tabIndex:-1,...o,ref:p,onKeyDown:y})});zw.displayName=fV;function hV(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Mi(n,{select:t}),document.activeElement!==r)return}function pV(e){const t=TI(e),r=XS(t,e),n=XS(t.reverse(),e);return[r,n]}function TI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function XS(e,t){for(const r of e)if(!mV(r,{upTo:t}))return r}function mV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gV(e){return e instanceof HTMLInputElement&&"select"in e}function Mi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&gV(e)&&t&&e.select()}}var QS=yV();function yV(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=JS(e,t),e.unshift(t)},remove(t){e=JS(e,t),e[0]?.resume()}}}function JS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function vV(e){return e.filter(t=>t.tagName!=="A")}function bV(e,t){return k.useReducer((r,n)=>t[r][n]??r,e)}var mh=e=>{const{present:t,children:r}=e,n=xV(t),i=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),a=De(n.ref,wV(i));return typeof r=="function"||n.isPresent?k.cloneElement(i,{ref:a}):null};mh.displayName="Presence";function xV(e){const[t,r]=k.useState(),n=k.useRef(null),i=k.useRef(e),a=k.useRef("none"),o=e?"mounted":"unmounted",[s,l]=bV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const c=Au(n.current);a.current=s==="mounted"?c:"none"},[s]),Lt(()=>{const c=n.current,u=i.current;if(u!==e){const p=a.current,h=Au(c);e?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Lt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=h=>{const m=Au(n.current).includes(CSS.escape(h.animationName));if(h.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},p=h=>{h.target===t&&(a.current=Au(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:k.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Au(e){return e?.animationName||"none"}function wV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bp=0;function _V(){k.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ZS()),document.body.insertAdjacentElement("beforeend",e[1]??ZS()),Bp++,()=>{Bp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bp--}},[])}function ZS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ld="right-scroll-bar-position",cd="width-before-scroll-bar",SV="with-scroll-bars-hidden",kV="--removed-body-scroll-bar-size";function zp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EV(e,t){var r=k.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var OV=typeof window<"u"?k.useLayoutEffect:k.useEffect,ek=new WeakMap;function AV(e,t){var r=EV(null,function(n){return e.forEach(function(i){return zp(i,n)})});return OV(function(){var n=ek.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(s){a.has(s)||zp(s,null)}),a.forEach(function(s){i.has(s)||zp(s,o)})}ek.set(r,e)},[e]),r}function jV(e){return e}function PV(e,t){t===void 0&&(t=jV);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var u=o;o=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return i}function TV(e){e===void 0&&(e={});var t=PV(null);return t.options=Xr({async:!0,ssr:!1},e),t}var CI=function(e){var t=e.sideCar,r=ca(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,Xr({},r))};CI.isSideCarExport=!0;function CV(e,t){return e.useMedium(t),CI}var NI=TV(),qp=function(){},gh=k.forwardRef(function(e,t){var r=k.useRef(null),n=k.useState({onScrollCapture:qp,onWheelCapture:qp,onTouchMoveCapture:qp}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,p=e.sideCar,h=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,x=e.gapMode,_=ca(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,S=AV([r,t]),E=Xr(Xr({},_),i);return k.createElement(k.Fragment,null,u&&k.createElement(w,{sideCar:NI,removeScrollBar:c,shards:d,noRelative:h,noIsolation:y,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:x}),o?k.cloneElement(k.Children.only(s),Xr(Xr({},E),{ref:S})):k.createElement(b,Xr({},E,{className:l,ref:S}),s))});gh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gh.classNames={fullWidth:cd,zeroRight:ld};var NV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=NV();return t&&e.setAttribute("nonce",t),e}function IV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var MV=function(){var e=0,t=null;return{add:function(r){e==0&&(t=RV())&&(IV(t,r),DV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$V=function(){var e=MV();return function(t,r){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},RI=function(){var e=$V(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},LV={left:0,top:0,right:0,gap:0},Up=function(e){return parseInt(e||"",10)||0},FV=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Up(r),Up(n),Up(i)]},BV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return LV;var t=FV(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},zV=RI(),Uo="data-scroll-locked",qV=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(SV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ld,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(cd,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(kV,": ").concat(s,`px;
  }
`)},tk=function(){var e=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(e)?e:0},UV=function(){k.useEffect(function(){return document.body.setAttribute(Uo,(tk()+1).toString()),function(){var e=tk()-1;e<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,e.toString())}},[])},WV=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;UV();var a=k.useMemo(function(){return BV(i)},[i]);return k.createElement(zV,{styles:qV(a,!t,i,r?"":"!important")})},e0=!1;if(typeof window<"u")try{var ju=Object.defineProperty({},"passive",{get:function(){return e0=!0,!0}});window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{e0=!1}var wo=e0?{passive:!1}:!1,HV=function(e){return e.tagName==="TEXTAREA"},II=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!HV(e)&&r[t]==="visible")},VV=function(e){return II(e,"overflowY")},KV=function(e){return II(e,"overflowX")},rk=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=DI(e,n);if(i){var a=MI(e,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},GV=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},YV=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},DI=function(e,t){return e==="v"?VV(t):KV(t)},MI=function(e,t){return e==="v"?GV(t):YV(t)},XV=function(e,t){return e==="h"&&t==="rtl"?-1:1},QV=function(e,t,r,n,i){var a=XV(e,window.getComputedStyle(t).direction),o=a*n,s=r.target,l=t.contains(s),c=!1,u=o>0,d=0,p=0;do{if(!s)break;var h=MI(e,s),y=h[0],m=h[1],g=h[2],v=m-g-a*y;(y||v)&&DI(e,s)&&(d+=v,p+=y);var b=s.parentNode;s=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(c=!0),c},Pu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nk=function(e){return[e.deltaX,e.deltaY]},ik=function(e){return e&&"current"in e?e.current:e},JV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eK=0,_o=[];function tK(e){var t=k.useRef([]),r=k.useRef([0,0]),n=k.useRef(),i=k.useState(eK++)[0],a=k.useState(RI)[0],o=k.useRef(e);k.useEffect(function(){o.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Aw([e.lockRef.current],(e.shards||[]).map(ik),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=k.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=Pu(m),b=r.current,x="deltaX"in m?m.deltaX:b[0]-v[0],_="deltaY"in m?m.deltaY:b[1]-v[1],w,S=m.target,E=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&S.type==="range")return!1;var P=rk(E,S);if(!P)return!0;if(P?w=E:(w=E==="v"?"h":"v",P=rk(E,S)),!P)return!1;if(!n.current&&"changedTouches"in m&&(x||_)&&(n.current=w),!w)return!0;var T=n.current||w;return QV(T,g,m,T==="h"?x:_)},[]),l=k.useCallback(function(m){var g=m;if(!(!_o.length||_o[_o.length-1]!==a)){var v="deltaY"in g?nk(g):Pu(g),b=t.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&JV(w.delta,v)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(ik).filter(Boolean).filter(function(w){return w.contains(g.target)}),_=x.length>0?s(g,x[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),c=k.useCallback(function(m,g,v,b){var x={name:m,delta:g,target:v,should:b,shadowParent:rK(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),u=k.useCallback(function(m){r.current=Pu(m),n.current=void 0},[]),d=k.useCallback(function(m){c(m.type,nk(m),m.target,s(m,e.lockRef.current))},[]),p=k.useCallback(function(m){c(m.type,Pu(m),m.target,s(m,e.lockRef.current))},[]);k.useEffect(function(){return _o.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,wo),document.addEventListener("touchmove",l,wo),document.addEventListener("touchstart",u,wo),function(){_o=_o.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,wo),document.removeEventListener("touchmove",l,wo),document.removeEventListener("touchstart",u,wo)}},[]);var h=e.removeScrollBar,y=e.inert;return k.createElement(k.Fragment,null,y?k.createElement(a,{styles:ZV(i)}):null,h?k.createElement(WV,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nK=CV(NI,tK);var qw=k.forwardRef(function(e,t){return k.createElement(gh,Xr({},e,{ref:t,sideCar:nK}))});qw.classNames=gh.classNames;var iK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},So=new WeakMap,Tu=new WeakMap,Cu={},Wp=0,$I=function(e){return e&&(e.host||$I(e.parentNode))},aK=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=$I(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},oK=function(e,t,r,n){var i=aK(t,Array.isArray(e)?e:[e]);Cu[r]||(Cu[r]=new WeakMap);var a=Cu[r],o=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(s.has(p))u(p);else try{var h=p.getAttribute(n),y=h!==null&&h!=="false",m=(So.get(p)||0)+1,g=(a.get(p)||0)+1;So.set(p,m),a.set(p,g),o.push(p),m===1&&y&&Tu.set(p,!0),g===1&&p.setAttribute(r,"true"),y||p.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return u(t),s.clear(),Wp++,function(){o.forEach(function(d){var p=So.get(d)-1,h=a.get(d)-1;So.set(d,p),a.set(d,h),p||(Tu.has(d)||d.removeAttribute(n),Tu.delete(d)),h||d.removeAttribute(r)}),Wp--,Wp||(So=new WeakMap,So=new WeakMap,Tu=new WeakMap,Cu={})}},LI=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=iK(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),oK(n,i,r,"aria-hidden")):function(){return null}},yh="Dialog",[FI,BI]=yr(yh),[sK,On]=FI(yh),zI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=k.useRef(null),l=k.useRef(null),[c,u]=Wn({prop:n,defaultProp:i??!1,onChange:a,caller:yh});return f.jsx(sK,{scope:t,triggerRef:s,contentRef:l,contentId:pi(),titleId:pi(),descriptionId:pi(),open:c,onOpenChange:u,onOpenToggle:k.useCallback(()=>u(d=>!d),[u]),modal:o,children:r})};zI.displayName=yh;var qI="DialogTrigger",UI=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=On(qI,r),a=De(t,i.triggerRef);return f.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Hw(i.open),...n,ref:a,onClick:Gi(e.onClick,i.onOpenToggle)})});UI.displayName=qI;var Uw="DialogPortal",[lK,WI]=FI(Uw,{forceMount:void 0}),HI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=On(Uw,t);return f.jsx(lK,{scope:t,forceMount:r,children:k.Children.map(n,o=>f.jsx(mh,{present:r||a.open,children:f.jsx(Yf,{asChild:!0,container:i,children:o})}))})};HI.displayName=Uw;var Rd="DialogOverlay",VI=k.forwardRef((e,t)=>{const r=WI(Rd,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=On(Rd,e.__scopeDialog);return a.modal?f.jsx(mh,{present:n||a.open,children:f.jsx(uK,{...i,ref:t})}):null});VI.displayName=Rd;var cK=Gl("DialogOverlay.RemoveScroll"),uK=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=On(Rd,r);return f.jsx(qw,{as:cK,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(ke.div,{"data-state":Hw(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Qa="DialogContent",KI=k.forwardRef((e,t)=>{const r=WI(Qa,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=On(Qa,e.__scopeDialog);return f.jsx(mh,{present:n||a.open,children:a.modal?f.jsx(dK,{...i,ref:t}):f.jsx(fK,{...i,ref:t})})});KI.displayName=Qa;var dK=k.forwardRef((e,t)=>{const r=On(Qa,e.__scopeDialog),n=k.useRef(null),i=De(t,r.contentRef,n);return k.useEffect(()=>{const a=n.current;if(a)return LI(a)},[]),f.jsx(GI,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Gi(e.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Gi(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:Gi(e.onFocusOutside,a=>a.preventDefault())})}),fK=k.forwardRef((e,t)=>{const r=On(Qa,e.__scopeDialog),n=k.useRef(!1),i=k.useRef(!1);return f.jsx(GI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),GI=k.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=On(Qa,r),l=k.useRef(null),c=De(t,l);return _V(),f.jsxs(f.Fragment,{children:[f.jsx(zw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:f.jsx(jI,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Hw(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(pK,{titleId:s.titleId}),f.jsx(gK,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Ww="DialogTitle",YI=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=On(Ww,r);return f.jsx(ke.h2,{id:i.titleId,...n,ref:t})});YI.displayName=Ww;var XI="DialogDescription",QI=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=On(XI,r);return f.jsx(ke.p,{id:i.descriptionId,...n,ref:t})});QI.displayName=XI;var JI="DialogClose",ZI=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=On(JI,r);return f.jsx(ke.button,{type:"button",...n,ref:t,onClick:Gi(e.onClick,()=>i.onOpenChange(!1))})});ZI.displayName=JI;function Hw(e){return e?"open":"closed"}var eD="DialogTitleWarning",[hK,tD]=hB(eD,{contentName:Qa,titleName:Ww,docsSlug:"dialog"}),pK=({titleId:e})=>{const t=tD(eD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mK="DialogDescriptionWarning",gK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tD(mK).contentName}}.`;return k.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},vh=zI,bh=UI,xh=HI,Fs=VI,Bs=KI,zs=YI,qs=QI,wh=ZI;const _h=vh,Vw=bh,yK=xh,rD=k.forwardRef(({className:e,...t},r)=>f.jsx(Fs,{ref:r,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));rD.displayName=Fs.displayName;const Qc=k.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(yK,{children:[f.jsx(rD,{}),f.jsxs(Bs,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,f.jsxs(wh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(Is,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qc.displayName=Bs.displayName;const Sh=({className:e,...t})=>f.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Sh.displayName="DialogHeader";const nD=({className:e,...t})=>f.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});nD.displayName="DialogFooter";const Jc=k.forwardRef(({className:e,...t},r)=>f.jsx(zs,{ref:r,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));Jc.displayName=zs.displayName;const Zc=k.forwardRef(({className:e,...t},r)=>f.jsx(qs,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));Zc.displayName=qs.displayName;function Kw({date:e,isOpen:t,onClose:r,habits:n,records:i,onToggleHabit:a,isPrivacyMode:o=!1,readonly:s=!1}){if(!e)return null;const l=Ve(e,"yyyy-MM-dd"),c=n.filter(u=>{const d=u.start_date<=l,p=!u.end_date||u.end_date>=l;return d&&p});return f.jsx(_h,{open:t,onOpenChange:r,children:f.jsxs(Qc,{className:"sm:max-w-[400px]",children:[f.jsxs(Sh,{children:[f.jsxs("div",{className:"flex items-center justify-between pr-8",children:[f.jsx(Jc,{className:"text-xl font-display capitalize",children:Ve(e,"EEEE d MMMM",{locale:Mr})}),s?f.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-muted text-muted-foreground border border-border",children:"Solo visualizzazione"}):f.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary border border-primary/20",children:"Modifica abilitata"})]}),f.jsx(Zc,{className:"sr-only",children:"Dettagli delle attivit giornaliere"})]}),f.jsx("div",{className:"py-2",children:f.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:f.jsx("div",{className:"space-y-3 pr-4",children:c.map(u=>{const p=(i[l]||{})[u.id],h=p==="done",y=p==="missed";return f.jsxs("div",{onClick:()=>!s&&a(u.id),className:ce("flex items-center justify-between p-3 rounded-xl border transition-all",!s&&"cursor-pointer hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",s&&"opacity-90",h&&"bg-success/15 border-success/30",y&&"bg-destructive/15 border-destructive/30",!p&&"bg-card border-border",!p&&!s&&"hover:bg-accent"),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-3 w-3 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:u.color}}),f.jsx("span",{className:ce("font-medium transition-colors transition-all duration-300",(h||y)&&"text-foreground",o&&"blur-sm"),children:u.title})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[h&&f.jsx(Jf,{className:"h-5 w-5 text-success"}),y&&f.jsx(Is,{className:"h-5 w-5 text-destructive"}),!p&&f.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})]})]},u.id)})})})})]})})}const vK=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],bK=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];function xK({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=k.useState(new Date),[o,s]=k.useState(null),l=i.getFullYear(),c=i.getMonth(),u=new Date(l,c,1),d=new Date(l,c+1,0);let p=u.getDay()-1;p<0&&(p=6);const h=d.getDate(),y=new Date,m=()=>a(new Date(l,c-1,1)),g=()=>a(new Date(l,c+1,1)),v=()=>a(new Date),b=E=>y.getDate()===E&&y.getMonth()===c&&y.getFullYear()===l,x=E=>{const P=new Date(l,c,E),T=new Date(y.getFullYear(),y.getMonth(),y.getDate());return P>T},_=p+h,w=Math.ceil(_/7),S=()=>{const E=[];for(let P=0;P<p;P++)E.push(f.jsx("div",{className:"aspect-auto h-full"},`empty-${P}`));for(let P=1;P<=h;P++){const T=new Date(l,c,P),A=Ve(T,"yyyy-MM-dd"),N=t[A]||{},C=x(P),D=e.filter(H=>{const B=H.start_date<=A,$=!H.end_date||H.end_date>=A;return B&&$}),O=D.filter(H=>N[H.id]==="done").length,R=D.filter(H=>N[H.id]==="missed").length,F=O+R,z=D.length;let W=0;z>0&&(W=O/z);let L={};const M=F>0;if(M&&z>0){const H=Math.round(W*142);L={backgroundColor:`hsl(${H}, 70%, 10%, 0.3)`,borderColor:`hsl(${H}, 80%, 40%, 0.5)`,boxShadow:W===1?`0 0 10px hsl(${H}, 80%, 40%, 0.2)`:"none"}}E.push(f.jsxs("button",{onClick:()=>!C&&s(T),disabled:C,style:L,className:ce("w-full h-full rounded-xl flex flex-col items-center justify-start py-[clamp(4px,1vw,8px)] transition-all duration-300 relative border border-white/5 hover:border-white/20 hover:bg-white/5 group",C&&"opacity-30 cursor-not-allowed",b(P)&&!M&&"bg-white/5 ring-1 ring-primary/50",!C&&(ci(T,new Date)||ci(T,Mt(new Date,1))&&new Date().getHours()<12)&&"ring-1 ring-primary/30 bg-primary/5"),children:[f.jsx("span",{className:ce("text-[clamp(0.7rem,2.5vw,0.9rem)] font-medium mb-[2px] font-mono-nums transition-all duration-300",b(P)&&"text-primary font-bold",M&&"text-foreground",n&&"blur-[2px]"),children:P}),f.jsx("div",{className:ce("flex flex-wrap items-center justify-center gap-0.5 px-1 w-full max-w-[80%] transition-all duration-300",n&&"blur-[1px]"),children:D.map(H=>{const B=N[H.id];return B?f.jsx("div",{className:ce("w-1 h-1 rounded-sm",B==="done"?"opacity-80":"opacity-0"),style:{backgroundColor:B==="done"?H.color:void 0}},H.id):null})})]},P))}return E};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6 shrink-0",children:[f.jsx(We,{variant:"ghost",size:"icon",onClick:m,children:f.jsx(sw,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:[bK[c]," ",f.jsx("span",{className:"text-muted-foreground font-light",children:l})]}),f.jsx(We,{variant:"ghost",size:"icon",onClick:v,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:f.jsx(e2,{className:"h-3 w-3"})})]}),f.jsx(We,{variant:"ghost",size:"icon",onClick:g,children:f.jsx(lw,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-x-[clamp(4px,1.5vw,12px)] mb-2 shrink-0",children:vK.map(E=>f.jsx("div",{className:"text-center text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider py-2",children:E},E))}),f.jsx("div",{className:"grid grid-cols-7 gap-[clamp(2px,1vw,8px)] flex-1 min-h-0",style:{gridTemplateRows:`repeat(${w}, 1fr)`},children:S()})]}),f.jsx(Kw,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:E=>o&&r(o,E),isPrivacyMode:n,readonly:o?!(ci(o,new Date)||ci(o,Mt(new Date,1))&&new Date().getHours()<12):!0})]})}function wK({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const i=k.useMemo(()=>new Date,[]),[a,o]=k.useState(new Date),s=k.useMemo(()=>rn(a,{weekStartsOn:1}),[a]),l=k.useMemo(()=>aH(a,{weekStartsOn:1}),[a]),[c,u]=k.useState(null),d=k.useMemo(()=>Array.from({length:7}).map((m,g)=>Td(s,g)),[s]),p=()=>{o(m=>Mt(m,7))},h=()=>{o(m=>Td(m,7))},y=k.useMemo(()=>{const m=Ve(s,"d",{locale:Mr}),g=Ve(l,"d MMMM",{locale:Mr});return`${m} - ${g}`},[s,l]);return ci(rn(i,{weekStartsOn:1}),s),f.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6",children:[f.jsx("h2",{className:"text-xl font-display font-bold capitalize",children:y}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:f.jsx(sw,{className:"w-5 h-5"})}),f.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:f.jsx(lw,{className:"w-5 h-5"})})]})]}),f.jsx("div",{className:"grid grid-cols-7 gap-2 sm:gap-4 flex-1 h-full overflow-hidden",children:d.map(m=>{const g=Ve(m,"yyyy-MM-dd"),v=t[g]||{},b=ci(m,i),x=new Date(i);x.setHours(0,0,0,0);const _=m>x;return f.jsxs("div",{className:"flex flex-col gap-2 h-full overflow-hidden",children:[f.jsxs("button",{onClick:()=>!_&&u(m),disabled:_,className:ce("text-center py-2 rounded-xl border border-transparent transition-all w-full shrink-0",b&&"bg-primary/10 border-primary/20 text-primary",!_&&"hover:bg-white/5 hover:border-white/10 cursor-pointer active:scale-95",_&&"opacity-50 cursor-default"),children:[f.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60",children:Ve(m,"EEE",{locale:Mr})}),f.jsx("div",{className:"text-lg font-mono font-bold",children:Ve(m,"d")})]}),f.jsx("div",{className:ce("flex flex-col gap-2 transition-all duration-300 flex-1 h-full",n&&"blur-[2px]"),children:e.map(w=>{const S=w.start_date<=g,E=w.end_date&&w.end_date<g;if(!S||E)return f.jsx("div",{className:"flex-1 rounded-xl invisible"},w.id);const P=v[w.id];return f.jsx("button",{disabled:_,onClick:()=>u(m),className:ce("flex-1 w-full rounded-xl border border-white/5 flex items-center justify-center transition-all hover:border-white/20 min-h-0",_&&"opacity-30 cursor-not-allowed",!_&&"cursor-pointer hover:bg-white/10",P==="done"&&"opacity-100 shadow-[0_0_10px_currentColor]",P==="missed"&&"opacity-50 grayscale",!P&&!_&&"bg-white/5"),style:{backgroundColor:P==="done"?w.color:void 0,color:w.color}},w.id)})})]},g)})}),f.jsx(Kw,{isOpen:!!c,onClose:()=>u(null),date:c,habits:e,records:t,onToggleHabit:m=>c&&r(c,m),isPrivacyMode:n,readonly:!0})]})}const _K=["GEN","FEB","MAR","APR","MAG","GIU","LUG","AGO","SET","OTT","NOV","DIC"];function SK({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=k.useState(new Date),[o,s]=k.useState(null),l=i.getFullYear(),c=new Date,u=()=>a(new Date(l-1,0,1)),d=()=>a(new Date(l+1,0,1)),p=()=>a(new Date),h=v=>ci(c,v),y=v=>v>c,m=k.useMemo(()=>Array.from({length:12},(v,b)=>{const x=new Date(l,b,1),_=bn({start:Da(x),end:wI(x)});return{monthIndex:b,days:_}}),[l]),g=v=>{const b=Ve(v,"yyyy-MM-dd"),x=t[b]||{},_=y(v),w=Ve(v,"d MMMM yyyy",{locale:Mr}),S=e.filter(O=>{const R=O.start_date<=b,F=!O.end_date||O.end_date>=b;return R&&F}),E=S.filter(O=>x[O.id]==="done").length,P=S.filter(O=>x[O.id]==="missed").length,T=E+P,A=S.length;let N=0;A>0&&(N=E/A);let C={};const D=T>0;if(D&&A>0){const O=Math.round(N*142);C={backgroundColor:`hsl(${O}, 70%, 25%)`,borderColor:`hsl(${O}, 80%, 50%)`}}return f.jsx(q2,{children:f.jsxs(Yq,{delayDuration:0,children:[f.jsx(Xq,{asChild:!0,children:f.jsx("button",{onClick:()=>!_&&s(v),disabled:_,style:C,className:ce("w-full h-full rounded-[2px] flex items-center justify-center transition-all duration-200 relative border border-white/5 hover:border-white/40 hover:scale-110 hover:z-10",_&&"opacity-20 cursor-not-allowed border-none bg-white/5",!_&&!D&&"bg-white/5",h(v)&&!D&&"ring-1 ring-primary/50 bg-primary/10")})}),f.jsxs(U2,{className:"bg-background/90 backdrop-blur border-white/10 text-xs",children:[f.jsx("p",{className:"capitalize font-medium",children:w}),S.length>0&&f.jsxs("p",{className:"text-muted-foreground",children:[E,"/",S.length," completate"]})]})]})},b)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full h-full p-2 sm:p-6 animate-scale-in flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[f.jsx(We,{variant:"ghost",size:"icon",onClick:u,children:f.jsx(sw,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:f.jsx("span",{className:"text-foreground",children:l})}),f.jsx(We,{variant:"ghost",size:"icon",onClick:p,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:f.jsx(e2,{className:"h-3 w-3"})})]}),f.jsx(We,{variant:"ghost",size:"icon",onClick:d,children:f.jsx(lw,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex-1 min-h-0 grid grid-cols-2 gap-x-6 gap-y-2",children:m.map(({monthIndex:v,days:b})=>f.jsxs("div",{className:"flex items-center gap-2 min-h-0",children:[f.jsx("span",{className:"text-[10px] font-bold text-muted-foreground w-8 shrink-0",children:_K[v]}),f.jsx("div",{className:"flex-1 h-full grid gap-[2px]",style:{gridTemplateColumns:`repeat(${b.length}, 1fr)`},children:b.map(x=>g(x))})]},v))})]}),f.jsx(Kw,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:v=>o&&r(o,v),isPrivacyMode:n,readonly:o?!(ci(o,new Date)||ci(o,Mt(new Date,1))&&new Date().getHours()<12):!0})]})}const aa=k.forwardRef(({className:e,type:t,...r},n)=>f.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));aa.displayName="Input";var kK="Label",iD=k.forwardRef((e,t)=>f.jsx(ke.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));iD.displayName=kK;var aD=iD;const EK=Wc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ln=k.forwardRef(({className:e,...t},r)=>f.jsx(aD,{ref:r,className:ce(EK(),e),...t}));Ln.displayName=aD.displayName;function kh(){return(kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function oD(e,t){if(e==null)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}function t0(e){var t=k.useRef(e),r=k.useRef(function(n){t.current&&t.current(n)});return t.current=e,r.current}var rc=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},Dl=function(e){return"touches"in e},r0=function(e){return e&&e.ownerDocument.defaultView||self},ak=function(e,t,r){var n=e.getBoundingClientRect(),i=Dl(t)?(function(a,o){for(var s=0;s<a.length;s++)if(a[s].identifier===o)return a[s];return a[0]})(t.touches,r):t;return{left:rc((i.pageX-(n.left+r0(e).pageXOffset))/n.width),top:rc((i.pageY-(n.top+r0(e).pageYOffset))/n.height)}},ok=function(e){!Dl(e)&&e.preventDefault()},sD=I.memo(function(e){var t=e.onMove,r=e.onKey,n=oD(e,["onMove","onKey"]),i=k.useRef(null),a=t0(t),o=t0(r),s=k.useRef(null),l=k.useRef(!1),c=k.useMemo(function(){var h=function(g){ok(g),(Dl(g)?g.touches.length>0:g.buttons>0)&&i.current?a(ak(i.current,g,s.current)):m(!1)},y=function(){return m(!1)};function m(g){var v=l.current,b=r0(i.current),x=g?b.addEventListener:b.removeEventListener;x(v?"touchmove":"mousemove",h),x(v?"touchend":"mouseup",y)}return[function(g){var v=g.nativeEvent,b=i.current;if(b&&(ok(v),!(function(_,w){return w&&!Dl(_)})(v,l.current)&&b)){if(Dl(v)){l.current=!0;var x=v.changedTouches||[];x.length&&(s.current=x[0].identifier)}b.focus(),a(ak(b,v,s.current)),m(!0)}},function(g){var v=g.which||g.keyCode;v<37||v>40||(g.preventDefault(),o({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},m]},[o,a]),u=c[0],d=c[1],p=c[2];return k.useEffect(function(){return p},[p]),I.createElement("div",kh({},n,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))}),Gw=function(e){return e.filter(Boolean).join(" ")},lD=function(e){var t=e.color,r=e.left,n=e.top,i=n===void 0?.5:n,a=Gw(["react-colorful__pointer",e.className]);return I.createElement("div",{className:a,style:{top:100*i+"%",left:100*r+"%"}},I.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},nr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},OK=function(e){return CK(n0(e))},n0=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?nr(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?nr(parseInt(e.substring(6,8),16)/255,2):1}},AK=function(e){return TK(PK(e))},jK=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:nr(e.h),s:nr(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:nr(i/2),a:nr(n,2)}},i0=function(e){var t=jK(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},PK=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var a=Math.floor(t),o=n*(1-r),s=n*(1-(t-a)*r),l=n*(1-(1-t+a)*r),c=a%6;return{r:nr(255*[n,s,o,o,l,n][c]),g:nr(255*[l,n,n,s,o,o][c]),b:nr(255*[o,o,l,n,n,s][c]),a:nr(i,2)}},Nu=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},TK=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=i<1?Nu(nr(255*i)):"";return"#"+Nu(t)+Nu(r)+Nu(n)+a},CK=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=Math.max(t,r,n),o=a-Math.min(t,r,n),s=o?a===t?(r-n)/o:a===r?2+(n-t)/o:4+(t-r)/o:0;return{h:nr(60*(s<0?s+6:s)),s:nr(a?o/a*100:0),v:nr(a/255*100),a:i}},NK=I.memo(function(e){var t=e.hue,r=e.onChange,n=Gw(["react-colorful__hue",e.className]);return I.createElement("div",{className:n},I.createElement(sD,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:rc(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":nr(t),"aria-valuemax":"360","aria-valuemin":"0"},I.createElement(lD,{className:"react-colorful__hue-pointer",left:t/360,color:i0({h:t,s:100,v:100,a:1})})))}),RK=I.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:i0({h:t.h,s:100,v:100,a:1})};return I.createElement("div",{className:"react-colorful__saturation",style:n},I.createElement(sD,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:rc(t.s+100*i.left,0,100),v:rc(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+nr(t.s)+"%, Brightness "+nr(t.v)+"%"},I.createElement(lD,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:i0(t)})))}),cD=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},IK=function(e,t){return e.toLowerCase()===t.toLowerCase()||cD(n0(e),n0(t))};function DK(e,t,r){var n=t0(r),i=k.useState(function(){return e.toHsva(t)}),a=i[0],o=i[1],s=k.useRef({color:t,hsva:a});k.useEffect(function(){if(!e.equal(t,s.current.color)){var c=e.toHsva(t);s.current={hsva:c,color:t},o(c)}},[t,e]),k.useEffect(function(){var c;cD(a,s.current.hsva)||e.equal(c=e.fromHsva(a),s.current.color)||(s.current={hsva:a,color:c},n(c))},[a,e,n]);var l=k.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[a,l]}var MK=typeof window<"u"?k.useLayoutEffect:k.useEffect,$K=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},sk=new Map,LK=function(e){MK(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!sk.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,sk.set(t,r);var n=$K();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},FK=function(e){var t=e.className,r=e.colorModel,n=e.color,i=n===void 0?r.defaultColor:n,a=e.onChange,o=oD(e,["className","colorModel","color","onChange"]),s=k.useRef(null);LK(s);var l=DK(r,i,a),c=l[0],u=l[1],d=Gw(["react-colorful",t]);return I.createElement("div",kh({},o,{ref:s,className:d}),I.createElement(RK,{hsva:c,onChange:u}),I.createElement(NK,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},BK={defaultColor:"000",toHsva:OK,fromHsva:function(e){return AK({h:e.h,s:e.s,v:e.v,a:1})},equal:IK},zK=function(e){return I.createElement(FK,kh({},e,{colorModel:BK}))};const qK=vh,UK=bh,WK=xh,uD=k.forwardRef(({className:e,...t},r)=>f.jsx(Fs,{className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));uD.displayName=Fs.displayName;const HK=Wc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),dD=k.forwardRef(({side:e="right",className:t,children:r,...n},i)=>f.jsxs(WK,{children:[f.jsx(uD,{}),f.jsxs(Bs,{ref:i,className:ce(HK({side:e}),t),...n,children:[r,f.jsxs(wh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(Is,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dD.displayName=Bs.displayName;const fD=({className:e,...t})=>f.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});fD.displayName="SheetHeader";const hD=k.forwardRef(({className:e,...t},r)=>f.jsx(zs,{ref:r,className:ce("text-lg font-semibold text-foreground",e),...t}));hD.displayName=zs.displayName;const VK=k.forwardRef(({className:e,...t},r)=>f.jsx(qs,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));VK.displayName=qs.displayName;const KK=[{name:"Green",hex:"#4ade80"},{name:"Blue",hex:"#3b82f6"},{name:"Purple",hex:"#a855f7"},{name:"Red",hex:"#ef4444"},{name:"Orange",hex:"#f97316"},{name:"Pink",hex:"#ec4899"},{name:"Teal",hex:"#14b8a6"},{name:"Yellow",hex:"#eab308"}];function lk(e){const t=e.match(/hsl\((\d+)\s+(\d+)%\s+(\d+)%\)/);if(!t)return e.startsWith("#")?e:"#4ade80";const r=parseInt(t[1])/360,n=parseInt(t[2])/100,i=parseInt(t[3])/100,a=(u,d,p)=>(p<0&&(p+=1),p>1&&(p-=1),p<1/6?u+(d-u)*6*p:p<1/2?d:p<2/3?u+(d-u)*(2/3-p)*6:u);let o,s,l;if(n===0)o=s=l=i;else{const u=i<.5?i*(1+n):i+n-i*n,d=2*i-u;o=a(d,u,r+1/3),s=a(d,u,r),l=a(d,u,r-1/3)}const c=u=>{const d=Math.round(u*255).toString(16);return d.length===1?"0"+d:d};return`#${c(o)}${c(s)}${c(l)}`}function ck(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return e;const r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,i=parseInt(t[3],16)/255,a=Math.max(r,n,i),o=Math.min(r,n,i);let s=0,l=0;const c=(a+o)/2;if(a!==o){const u=a-o;switch(l=c>.5?u/(2-a-o):u/(a+o),a){case r:s=((n-i)/u+(n<i?6:0))/6;break;case n:s=((i-r)/u+2)/6;break;case i:s=((r-n)/u+4)/6;break}}return`hsl(${Math.round(s*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%)`}function a0({value:e,onChange:t,className:r,showValueLabel:n=!0}){const[i,a]=k.useState(()=>lk(e)),[o,s]=k.useState(!1);k.useEffect(()=>{a(lk(e))},[e]);const l=u=>{a(u),t(ck(u))},c=u=>{a(u),t(ck(u))};return f.jsxs(qK,{open:o,onOpenChange:s,children:[f.jsx(UK,{asChild:!0,children:f.jsxs(We,{type:"button",variant:"outline",className:ce("w-full justify-start gap-3 h-10 rounded-xl bg-black/20 border-white/10 hover:bg-white/5",!n&&"justify-center px-0 gap-0",r),children:[f.jsx("div",{className:"h-5 w-5 rounded-full shadow-[0_0_10px_currentColor] shrink-0",style:{backgroundColor:i,color:i}}),n&&f.jsx("span",{className:"font-mono text-sm uppercase tracking-wider",children:i})]})}),f.jsxs(dD,{side:"bottom",className:"bg-[#0a0a0a]/95 backdrop-blur-2xl border-white/10",children:[f.jsx(fD,{className:"pb-4",children:f.jsx(hD,{children:"Seleziona Colore"})}),f.jsxs("div",{className:"space-y-6 pb-6 max-w-md mx-auto",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(zK,{color:i,onChange:l,style:{width:"100%",height:"180px"}})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ln,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Codice HEX"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-12 w-12 rounded-xl border border-white/10 shrink-0 shadow-[0_0_15px_currentColor]",style:{backgroundColor:i,color:i}}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground font-mono text-lg",children:"#"}),f.jsx(aa,{value:i.replace("#",""),onChange:u=>{const d=u.target.value.replace(/[^a-fA-F0-9]/g,"").slice(0,6);d.length===6?l("#"+d):a("#"+d)},className:"pl-10 font-mono uppercase bg-black/30 border-white/10 h-12 rounded-xl text-lg",maxLength:6,placeholder:"4ade80"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ln,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colori Rapidi"}),f.jsx("div",{className:"grid grid-cols-8 gap-2",children:KK.map(u=>f.jsx("button",{type:"button",onClick:()=>c(u.hex),className:ce("aspect-square w-full rounded-xl border-2 transition-all hover:scale-110 shadow-[0_0_8px_currentColor]",i.toLowerCase()===u.hex.toLowerCase()?"border-white scale-110":"border-transparent"),style:{backgroundColor:u.hex,color:u.hex},title:u.name},u.hex))})]}),f.jsx(We,{onClick:()=>s(!1),className:"w-full h-12 rounded-xl text-base",children:"Conferma Colore"})]})]})]})}function GK(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var pD="AlertDialog",[YK]=yr(pD,[BI]),Oi=BI(),mD=e=>{const{__scopeAlertDialog:t,...r}=e,n=Oi(t);return f.jsx(vh,{...n,...r,modal:!0})};mD.displayName=pD;var XK="AlertDialogTrigger",gD=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Oi(r);return f.jsx(bh,{...i,...n,ref:t})});gD.displayName=XK;var QK="AlertDialogPortal",yD=e=>{const{__scopeAlertDialog:t,...r}=e,n=Oi(t);return f.jsx(xh,{...n,...r})};yD.displayName=QK;var JK="AlertDialogOverlay",vD=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Oi(r);return f.jsx(Fs,{...i,...n,ref:t})});vD.displayName=JK;var Wo="AlertDialogContent",[ZK,eG]=YK(Wo),tG=bN("AlertDialogContent"),bD=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=Oi(r),o=k.useRef(null),s=De(t,o),l=k.useRef(null);return f.jsx(hK,{contentName:Wo,titleName:xD,docsSlug:"alert-dialog",children:f.jsx(ZK,{scope:r,cancelRef:l,children:f.jsxs(Bs,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:GK(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(tG,{children:n}),f.jsx(nG,{contentRef:o})]})})})});bD.displayName=Wo;var xD="AlertDialogTitle",wD=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Oi(r);return f.jsx(zs,{...i,...n,ref:t})});wD.displayName=xD;var _D="AlertDialogDescription",SD=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Oi(r);return f.jsx(qs,{...i,...n,ref:t})});SD.displayName=_D;var rG="AlertDialogAction",kD=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Oi(r);return f.jsx(wh,{...i,...n,ref:t})});kD.displayName=rG;var ED="AlertDialogCancel",OD=k.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=eG(ED,r),a=Oi(r),o=De(t,i);return f.jsx(wh,{...a,...n,ref:o})});OD.displayName=ED;var nG=({contentRef:e})=>{const t=`\`${Wo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wo}\` by passing a \`${_D}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return k.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},iG=mD,aG=gD,oG=yD,AD=vD,jD=bD,PD=kD,TD=OD,CD=wD,ND=SD;const qa=iG,ts=aG,sG=oG,RD=k.forwardRef(({className:e,...t},r)=>f.jsx(AD,{className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));RD.displayName=AD.displayName;const Yi=k.forwardRef(({className:e,...t},r)=>f.jsxs(sG,{children:[f.jsx(RD,{}),f.jsx(jD,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Yi.displayName=jD.displayName;const Xi=({className:e,...t})=>f.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});Xi.displayName="AlertDialogHeader";const Qi=({className:e,...t})=>f.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qi.displayName="AlertDialogFooter";const Ji=k.forwardRef(({className:e,...t},r)=>f.jsx(CD,{ref:r,className:ce("text-lg font-semibold",e),...t}));Ji.displayName=CD.displayName;const Zi=k.forwardRef(({className:e,...t},r)=>f.jsx(ND,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));Zi.displayName=ND.displayName;const ea=k.forwardRef(({className:e,...t},r)=>f.jsx(PD,{ref:r,className:ce(Fw(),e),...t}));ea.displayName=PD.displayName;const Ja=k.forwardRef(({className:e,...t},r)=>f.jsx(TD,{ref:r,className:ce(Fw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ja.displayName=TD.displayName;function lG({habits:e,onAddHabit:t,onRemoveHabit:r,onUpdateHabit:n,isDeleting:i,isUpdating:a,isPrivacyMode:o=!1}){const[s,l]=k.useState(!1),c=k.useMemo(()=>[...e].sort((P,T)=>new Date(P.created_at).getTime()-new Date(T.created_at).getTime()),[e]),[u,d]=k.useState(""),[p,h]=k.useState("hsl(145 55% 42%)"),[y,m]=k.useState(null),[g,v]=k.useState(""),[b,x]=k.useState(""),_=()=>{u.trim()&&(t({title:u,color:p}),d(""),h("hsl(145 55% 42%)"))},w=P=>{m(P),v(P.title),x(P.color)},S=()=>{m(null),v(""),x("")},E=()=>{y&&g.trim()&&n&&(n({id:y.id,title:g.trim(),color:b}),S())};return f.jsxs(_h,{open:s,onOpenChange:l,children:[f.jsx(Vw,{asChild:!0,children:f.jsx(We,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",children:f.jsx(t2,{className:"h-4 w-4"})})}),f.jsxs(Qc,{className:"sm:max-w-[425px] max-h-[85vh] flex flex-col bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground p-0 gap-0",children:[f.jsxs(Sh,{className:"p-6 pb-2 shrink-0",children:[f.jsx(Jc,{children:"Gestisci Abitudini"}),f.jsx(Zc,{children:"Aggiungi, modifica o rimuovi le abitudini che vuoi tracciare."})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-8",children:[f.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:f.jsx(Sb,{className:"h-4 w-4"})}),f.jsx("h4",{className:"text-sm font-display font-bold",children:"Nuova Abitudine"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Ln,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Nome"}),f.jsx(aa,{placeholder:"Es. Bere acqua, Leggere...",value:u,onChange:P=>d(P.target.value),className:"bg-black/30 border-white/10 h-10 rounded-xl"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Ln,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Colore"}),f.jsx(a0,{value:p,onChange:h})]}),f.jsx(We,{onClick:_,disabled:!u.trim(),className:"w-full rounded-xl",children:"Aggiungi al Protocollo"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"text-sm font-display font-bold px-1",children:"Le tue Abitudini"}),f.jsxs("div",{className:"space-y-2",children:[c.map(P=>f.jsx("div",{children:y?.id===P.id?f.jsxs("div",{className:"rounded-xl p-3 bg-primary/10 border border-primary/30 space-y-3",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ln,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Nome"}),f.jsx(aa,{value:g,onChange:T=>v(T.target.value),className:"bg-black/30 border-white/10 h-9 rounded-lg",autoFocus:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ln,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colore"}),f.jsx(a0,{value:b,onChange:x})]}),f.jsxs("div",{className:"flex gap-2 pt-1",children:[f.jsxs(We,{size:"sm",variant:"ghost",onClick:S,className:"flex-1 h-8 rounded-lg",children:[f.jsx(Is,{className:"h-4 w-4 mr-1"}),"Annulla"]}),f.jsxs(We,{size:"sm",onClick:E,disabled:!g.trim()||a,className:"flex-1 h-8 rounded-lg",children:[f.jsx(Jf,{className:"h-4 w-4 mr-1"}),a?"Salvando...":"Salva"]})]})]}):f.jsxs("div",{className:"group flex items-center justify-between rounded-xl p-3 bg-white/5 border border-transparent hover:border-white/10 hover:bg-white/10 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor]",style:{backgroundColor:P.color,color:P.color}}),f.jsx("span",{className:ce("text-sm font-medium transition-all duration-300",o&&"blur-sm"),children:P.title})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(We,{variant:"ghost",size:"icon",onClick:()=>w(P),className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-primary hover:bg-primary/10 transition-all rounded-lg",children:f.jsx(wz,{className:"h-4 w-4"})}),f.jsxs(qa,{children:[f.jsx(ts,{asChild:!0,children:f.jsx(We,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-destructive hover:bg-destructive/10 transition-all rounded-lg",children:f.jsx(uw,{className:"h-4 w-4"})})}),f.jsxs(Yi,{children:[f.jsxs(Xi,{children:[f.jsx(Ji,{children:"Sei sicuro?"}),f.jsx(Zi,{children:"Stai per rimuovere questa abitudine. Se ha dei dati associati, verr archiviata per preservare lo storico. Altrimenti verr eliminata definitivamente."})]}),f.jsxs(Qi,{children:[f.jsx(Ja,{children:"Annulla"}),f.jsx(ea,{onClick:()=>r(P.id),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:i,children:i?"Eliminazione...":"Conferma elimina"})]})]})]})]})]})},P.id)),e.length===0&&f.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-muted-foreground space-y-2",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-white/5 flex items-center justify-center",children:f.jsx(Sb,{className:"h-5 w-5 opacity-50"})}),f.jsx("p",{className:"text-sm",children:"Nessuna abitudine definita."})]})]})]})]})]})]})}const ID=k.forwardRef(({className:e,...t},r)=>f.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ID.displayName="Textarea";var cG=k.createContext(void 0);function Us(e){const t=k.useContext(cG);return e||t||"ltr"}function nc(e,[t,r]){return Math.min(r,Math.max(t,e))}function uG(e,t){return k.useReducer((r,n)=>t[r][n]??r,e)}var Yw="ScrollArea",[DD]=yr(Yw),[dG,on]=DD(Yw),MD=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,l]=k.useState(null),[c,u]=k.useState(null),[d,p]=k.useState(null),[h,y]=k.useState(null),[m,g]=k.useState(null),[v,b]=k.useState(0),[x,_]=k.useState(0),[w,S]=k.useState(!1),[E,P]=k.useState(!1),T=De(t,N=>l(N)),A=Us(i);return f.jsx(dG,{scope:r,type:n,dir:A,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:u,content:d,onContentChange:p,scrollbarX:h,onScrollbarXChange:y,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:P,onCornerWidthChange:b,onCornerHeightChange:_,children:f.jsx(ke.div,{dir:A,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});MD.displayName=Yw;var $D="ScrollAreaViewport",LD=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,o=on($D,r),s=k.useRef(null),l=De(t,s,o.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),f.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:f.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});LD.displayName=$D;var Xn="ScrollAreaScrollbar",Xw=k.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=on(Xn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return k.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?f.jsx(fG,{...n,ref:t,forceMount:r}):i.type==="scroll"?f.jsx(hG,{...n,ref:t,forceMount:r}):i.type==="auto"?f.jsx(FD,{...n,ref:t,forceMount:r}):i.type==="always"?f.jsx(Qw,{...n,ref:t}):null});Xw.displayName=Xn;var fG=k.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=on(Xn,e.__scopeScrollArea),[a,o]=k.useState(!1);return k.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(ki,{present:r||a,children:f.jsx(FD,{"data-state":a?"visible":"hidden",...n,ref:t})})}),hG=k.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=on(Xn,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Oh(()=>l("SCROLL_END"),100),[s,l]=uG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return k.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),k.useEffect(()=>{const c=i.viewport,u=a?"scrollLeft":"scrollTop";if(c){let d=c[u];const p=()=>{const h=c[u];d!==h&&(l("SCROLL"),o()),d=h};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[i.viewport,a,l,o]),f.jsx(ki,{present:r||s!=="hidden",children:f.jsx(Qw,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Se(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Se(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),FD=k.forwardRef((e,t)=>{const r=on(Xn,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=k.useState(!1),s=e.orientation==="horizontal",l=Oh(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?c:u)}},10);return rs(r.viewport,l),rs(r.content,l),f.jsx(ki,{present:n||a,children:f.jsx(Qw,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Qw=k.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=on(Xn,e.__scopeScrollArea),a=k.useRef(null),o=k.useRef(0),[s,l]=k.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=WD(s.viewport,s.content),u={...n,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function d(p,h){return bG(p,o.current,s,h)}return r==="horizontal"?f.jsx(pG,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollLeft,h=uk(p,s,i.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=d(p,i.dir))}}):r==="vertical"?f.jsx(mG,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollTop,h=uk(p,s);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=d(p))}}):null}),pG=k.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=on(Xn,e.__scopeScrollArea),[o,s]=k.useState(),l=k.useRef(null),c=De(t,l,a.onScrollbarXChange);return k.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.jsx(zD,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Eh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(a.viewport){const p=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),VD(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Dd(o.paddingLeft),paddingEnd:Dd(o.paddingRight)}})}})}),mG=k.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=on(Xn,e.__scopeScrollArea),[o,s]=k.useState(),l=k.useRef(null),c=De(t,l,a.onScrollbarYChange);return k.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.jsx(zD,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Eh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(a.viewport){const p=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),VD(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Dd(o.paddingTop),paddingEnd:Dd(o.paddingBottom)}})}})}),[gG,BD]=DD(Xn),zD=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...p}=e,h=on(Xn,r),[y,m]=k.useState(null),g=De(t,T=>m(T)),v=k.useRef(null),b=k.useRef(""),x=h.viewport,_=n.content-n.viewport,w=Tt(u),S=Tt(l),E=Oh(d,10);function P(T){if(v.current){const A=T.clientX-v.current.left,N=T.clientY-v.current.top;c({x:A,y:N})}}return k.useEffect(()=>{const T=A=>{const N=A.target;y?.contains(N)&&w(A,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[x,y,_,w]),k.useEffect(S,[n,S]),rs(y,E),rs(h.content,E),f.jsx(gG,{scope:r,scrollbar:y,hasThumb:i,onThumbChange:Tt(a),onThumbPointerUp:Tt(o),onThumbPositionChange:S,onThumbPointerDown:Tt(s),children:f.jsx(ke.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:Se(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),P(T))}),onPointerMove:Se(e.onPointerMove,P),onPointerUp:Se(e.onPointerUp,T=>{const A=T.target;A.hasPointerCapture(T.pointerId)&&A.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),Id="ScrollAreaThumb",qD=k.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=BD(Id,e.__scopeScrollArea);return f.jsx(ki,{present:r||i.hasThumb,children:f.jsx(yG,{ref:t,...n})})}),yG=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=on(Id,r),o=BD(Id,r),{onThumbPositionChange:s}=o,l=De(t,d=>o.onThumbChange(d)),c=k.useRef(void 0),u=Oh(()=>{c.current&&(c.current(),c.current=void 0)},100);return k.useEffect(()=>{const d=a.viewport;if(d){const p=()=>{if(u(),!c.current){const h=xG(d,s);c.current=h,s()}};return s(),d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[a.viewport,u,s]),f.jsx(ke.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Se(e.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),y=d.clientX-h.left,m=d.clientY-h.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:Se(e.onPointerUp,o.onThumbPointerUp)})});qD.displayName=Id;var Jw="ScrollAreaCorner",UD=k.forwardRef((e,t)=>{const r=on(Jw,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?f.jsx(vG,{...e,ref:t}):null});UD.displayName=Jw;var vG=k.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=on(Jw,r),[a,o]=k.useState(0),[s,l]=k.useState(0),c=!!(a&&s);return rs(i.scrollbarX,()=>{const u=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(u),l(u)}),rs(i.scrollbarY,()=>{const u=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(u),o(u)}),c?f.jsx(ke.div,{...n,ref:t,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Dd(e){return e?parseInt(e,10):0}function WD(e,t){const r=e/t;return isNaN(r)?0:r}function Eh(e){const t=WD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function bG(e,t,r,n="ltr"){const i=Eh(r),a=i/2,o=t||a,s=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return HD([l,c],d)(e)}function uk(e,t,r="ltr"){const n=Eh(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],c=nc(e,l);return HD([0,o],[0,s])(c)}function HD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function VD(e,t){return e>0&&e<t}var xG=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&t(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function Oh(e,t){const r=Tt(e),n=k.useRef(0);return k.useEffect(()=>()=>window.clearTimeout(n.current),[]),k.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function rs(e,t){const r=Tt(t);Lt(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var KD=MD,wG=LD,_G=UD;const Zw=k.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(KD,{ref:n,className:ce("relative overflow-hidden",e),...r,children:[f.jsx(wG,{className:"h-full w-full rounded-[inherit]",children:t}),f.jsx(GD,{}),f.jsx(_G,{})]}));Zw.displayName=KD.displayName;const GD=k.forwardRef(({className:e,orientation:t="vertical",...r},n)=>f.jsx(Xw,{ref:n,orientation:t,className:ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:f.jsx(qD,{className:"relative flex-1 rounded-full bg-border"})}));GD.displayName=Xw.displayName;function SG(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const kG=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,EG=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OG={};function dk(e,t){return(OG.jsx?EG:kG).test(e)}const AG=/[ \t\n\f\r]/g;function jG(e){return typeof e=="object"?e.type==="text"?fk(e.value):!1:fk(e)}function fk(e){return e.replace(AG,"")===""}class eu{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}eu.prototype.normal={};eu.prototype.property={};eu.prototype.space=void 0;function YD(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new eu(r,n,t)}function o0(e){return e.toLowerCase()}class Er{constructor(t,r){this.attribute=r,this.property=t}}Er.prototype.attribute="";Er.prototype.booleanish=!1;Er.prototype.boolean=!1;Er.prototype.commaOrSpaceSeparated=!1;Er.prototype.commaSeparated=!1;Er.prototype.defined=!1;Er.prototype.mustUseProperty=!1;Er.prototype.number=!1;Er.prototype.overloadedBoolean=!1;Er.prototype.property="";Er.prototype.spaceSeparated=!1;Er.prototype.space=void 0;let PG=0;const Fe=co(),Rt=co(),s0=co(),me=co(),vt=co(),Ho=co(),Pr=co();function co(){return 2**++PG}const l0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Fe,booleanish:Rt,commaOrSpaceSeparated:Pr,commaSeparated:Ho,number:me,overloadedBoolean:s0,spaceSeparated:vt},Symbol.toStringTag,{value:"Module"})),Hp=Object.keys(l0);class e1 extends Er{constructor(t,r,n,i){let a=-1;if(super(t,r),hk(this,"space",i),typeof n=="number")for(;++a<Hp.length;){const o=Hp[a];hk(this,Hp[a],(n&l0[o])===l0[o])}}}e1.prototype.defined=!0;function hk(e,t,r){r&&(e[t]=r)}function Ws(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new e1(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[o0(n)]=n,r[o0(a.attribute)]=n}return new eu(t,r,e.space)}const XD=Ws({properties:{ariaActiveDescendant:null,ariaAtomic:Rt,ariaAutoComplete:null,ariaBusy:Rt,ariaChecked:Rt,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:vt,ariaCurrent:null,ariaDescribedBy:vt,ariaDetails:null,ariaDisabled:Rt,ariaDropEffect:vt,ariaErrorMessage:null,ariaExpanded:Rt,ariaFlowTo:vt,ariaGrabbed:Rt,ariaHasPopup:null,ariaHidden:Rt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vt,ariaLevel:me,ariaLive:null,ariaModal:Rt,ariaMultiLine:Rt,ariaMultiSelectable:Rt,ariaOrientation:null,ariaOwns:vt,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Rt,ariaReadOnly:Rt,ariaRelevant:null,ariaRequired:Rt,ariaRoleDescription:vt,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Rt,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function QD(e,t){return t in e?e[t]:t}function JD(e,t){return QD(e,t.toLowerCase())}const TG=Ws({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ho,acceptCharset:vt,accessKey:vt,action:null,allow:null,allowFullScreen:Fe,allowPaymentRequest:Fe,allowUserMedia:Fe,alt:null,as:null,async:Fe,autoCapitalize:null,autoComplete:vt,autoFocus:Fe,autoPlay:Fe,blocking:vt,capture:null,charSet:null,checked:Fe,cite:null,className:vt,cols:me,colSpan:null,content:null,contentEditable:Rt,controls:Fe,controlsList:vt,coords:me|Ho,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Fe,defer:Fe,dir:null,dirName:null,disabled:Fe,download:s0,draggable:Rt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Fe,formTarget:null,headers:vt,height:me,hidden:s0,high:me,href:null,hrefLang:null,htmlFor:vt,httpEquiv:vt,id:null,imageSizes:null,imageSrcSet:null,inert:Fe,inputMode:null,integrity:null,is:null,isMap:Fe,itemId:null,itemProp:vt,itemRef:vt,itemScope:Fe,itemType:vt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Fe,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:Fe,muted:Fe,name:null,nonce:null,noModule:Fe,noValidate:Fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Fe,optimum:me,pattern:null,ping:vt,placeholder:null,playsInline:Fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Fe,referrerPolicy:null,rel:vt,required:Fe,reversed:Fe,rows:me,rowSpan:me,sandbox:vt,scope:null,scoped:Fe,seamless:Fe,selected:Fe,shadowRootClonable:Fe,shadowRootDelegatesFocus:Fe,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Rt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:Fe,useMap:null,value:Rt,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vt,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Fe,declare:Fe,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:Fe,noHref:Fe,noShade:Fe,noWrap:Fe,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Rt,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Fe,disableRemotePlayback:Fe,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:JD}),CG=Ws({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Pr,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:vt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:Fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ho,g2:Ho,glyphName:Ho,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:Pr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pr,rev:Pr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pr,requiredFeatures:Pr,requiredFonts:Pr,requiredFormats:Pr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:Pr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pr,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:QD}),ZD=Ws({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),eM=Ws({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:JD}),tM=Ws({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),NG={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},RG=/[A-Z]/g,pk=/-[a-z]/g,IG=/^data[-\w.:]+$/i;function DG(e,t){const r=o0(t);let n=t,i=Er;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&IG.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(pk,$G);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!pk.test(a)){let o=a.replace(RG,MG);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=e1}return new i(n,t)}function MG(e){return"-"+e.toLowerCase()}function $G(e){return e.charAt(1).toUpperCase()}const LG=YD([XD,TG,ZD,eM,tM],"html"),t1=YD([XD,CG,ZD,eM,tM],"svg");function FG(e){return e.join(" ").trim()}var ko={},Vp,mk;function BG(){if(mk)return Vp;mk=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",u="*",d="",p="comment",h="declaration";function y(g,v){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];v=v||{};var b=1,x=1;function _(O){var R=O.match(t);R&&(b+=R.length);var F=O.lastIndexOf(l);x=~F?O.length-F:x+O.length}function w(){var O={line:b,column:x};return function(R){return R.position=new S(O),T(),R}}function S(O){this.start=O,this.end={line:b,column:x},this.source=v.source}S.prototype.content=g;function E(O){var R=new Error(v.source+":"+b+":"+x+": "+O);if(R.reason=O,R.filename=v.source,R.line=b,R.column=x,R.source=g,!v.silent)throw R}function P(O){var R=O.exec(g);if(R){var F=R[0];return _(F),g=g.slice(F.length),R}}function T(){P(r)}function A(O){var R;for(O=O||[];R=N();)R!==!1&&O.push(R);return O}function N(){var O=w();if(!(c!=g.charAt(0)||u!=g.charAt(1))){for(var R=2;d!=g.charAt(R)&&(u!=g.charAt(R)||c!=g.charAt(R+1));)++R;if(R+=2,d===g.charAt(R-1))return E("End of comment missing");var F=g.slice(2,R-2);return x+=2,_(F),g=g.slice(R),x+=2,O({type:p,comment:F})}}function C(){var O=w(),R=P(n);if(R){if(N(),!P(i))return E("property missing ':'");var F=P(a),z=O({type:h,property:m(R[0].replace(e,d)),value:F?m(F[0].replace(e,d)):d});return P(o),z}}function D(){var O=[];A(O);for(var R;R=C();)R!==!1&&(O.push(R),A(O));return O}return T(),D()}function m(g){return g?g.replace(s,d):d}return Vp=y,Vp}var gk;function zG(){if(gk)return ko;gk=1;var e=ko&&ko.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ko,"__esModule",{value:!0}),ko.default=r;const t=e(BG());function r(n,i){let a=null;if(!n||typeof n!="string")return a;const o=(0,t.default)(n),s=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:u}=l;s?i(c,u,l):u&&(a=a||{},a[c]=u)}),a}return ko}var cl={},yk;function qG(){if(yk)return cl;yk=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(c){return!c||r.test(c)||e.test(c)},o=function(c,u){return u.toUpperCase()},s=function(c,u){return"".concat(u,"-")},l=function(c,u){return u===void 0&&(u={}),a(c)?c:(c=c.toLowerCase(),u.reactCompat?c=c.replace(i,s):c=c.replace(n,s),c.replace(t,o))};return cl.camelCase=l,cl}var ul,vk;function UG(){if(vk)return ul;vk=1;var e=ul&&ul.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(zG()),r=qG();function n(i,a){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(s,l){s&&l&&(o[(0,r.camelCase)(s,a)]=l)}),o}return n.default=n,ul=n,ul}var WG=UG();const HG=Je(WG),rM=nM("end"),r1=nM("start");function nM(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function VG(e){const t=r1(e),r=rM(e);if(t&&r)return{start:t,end:r}}function Ml(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?bk(e.position):"start"in e||"end"in e?bk(e):"line"in e||"column"in e?c0(e):""}function c0(e){return xk(e&&e.line)+":"+xk(e&&e.column)}function bk(e){return c0(e&&e.start)+"-"+c0(e&&e.end)}function xk(e){return e&&typeof e=="number"?e:1}class cr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},o=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Ml(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}cr.prototype.file="";cr.prototype.name="";cr.prototype.reason="";cr.prototype.message="";cr.prototype.stack="";cr.prototype.column=void 0;cr.prototype.line=void 0;cr.prototype.ancestors=void 0;cr.prototype.cause=void 0;cr.prototype.fatal=void 0;cr.prototype.place=void 0;cr.prototype.ruleId=void 0;cr.prototype.source=void 0;const n1={}.hasOwnProperty,KG=new Map,GG=/[A-Z]/g,YG=new Set(["table","tbody","thead","tfoot","tr"]),XG=new Set(["td","th"]),iM="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function QG(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=a7(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=i7(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?t1:LG,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=aM(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function aM(e,t,r){if(t.type==="element")return JG(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ZG(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return t7(e,t,r);if(t.type==="mdxjsEsm")return e7(e,t);if(t.type==="root")return r7(e,t,r);if(t.type==="text")return n7(e,t)}function JG(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=t1,e.schema=i),e.ancestors.push(t);const a=sM(e,t.tagName,!1),o=o7(e,t);let s=a1(e,t);return YG.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!jG(l):!0})),oM(e,o,a,t),i1(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function ZG(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}ic(e,t.position)}function e7(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ic(e,t.position)}function t7(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=t1,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:sM(e,t.name,!0),o=s7(e,t),s=a1(e,t);return oM(e,o,a,t),i1(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function r7(e,t,r){const n={};return i1(n,a1(e,t)),e.create(t,e.Fragment,n,r)}function n7(e,t){return t.value}function oM(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function i1(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function i7(e,t,r){return n;function n(i,a,o,s){const c=Array.isArray(o.children)?r:t;return s?c(a,o,s):c(a,o)}}function a7(e,t){return r;function r(n,i,a,o){const s=Array.isArray(a.children),l=r1(n);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function o7(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&n1.call(t.properties,i)){const a=l7(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&XG.has(t.tagName)?n=s:r[o]=s}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function s7(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(r,e.evaluater.evaluateExpression(s.argument))}else ic(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const s=n.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else ic(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function a1(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:KG;for(;++n<t.children.length;){const a=t.children[n];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=aM(e,a,o);s!==void 0&&r.push(s)}return r}function l7(e,t,r){const n=DG(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?SG(r):FG(r)),n.property==="style"){let i=typeof r=="object"?r:c7(e,String(r));return e.stylePropertyNameCase==="css"&&(i=u7(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?NG[n.property]||n.property:n.attribute,r]}}function c7(e,t){try{return HG(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new cr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=iM+"#cannot-parse-style-attribute",i}}function sM(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=dk(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}n=o}else n=dk(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return n1.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);ic(e)}function ic(e,t){const r=new cr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=iM+"#cannot-handle-mdx-estrees-without-createevaluater",r}function u7(e){const t={};let r;for(r in e)n1.call(e,r)&&(t[d7(r)]=e[r]);return t}function d7(e){let t=e.replace(GG,f7);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function f7(e){return"-"+e.toLowerCase()}const Kp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},h7={};function o1(e,t){const r=h7,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return lM(e,n,i)}function lM(e,t,r){if(p7(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return wk(e.children,t,r)}return Array.isArray(e)?wk(e,t,r):""}function wk(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=lM(e[i],t,r);return n.join("")}function p7(e){return!!(e&&typeof e=="object")}const _k=document.createElement("i");function s1(e){const t="&"+e+";";_k.innerHTML=t;const r=_k.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Br(e,t,r,n){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);a<n.length;)o=n.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Yr(e,t){return e.length>0?(Br(e,e.length,0,t),e):t}const Sk={}.hasOwnProperty;function cM(e){const t={};let r=-1;for(;++r<e.length;)m7(t,e[r]);return t}function m7(e,t){let r;for(r in t){const i=(Sk.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let o;if(a)for(o in a){Sk.call(i,o)||(i[o]=[]);const s=a[o];g7(i[o],Array.isArray(s)?s:s?[s]:[])}}}function g7(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Br(e,0,0,n)}function uM(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function _n(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const fr=ua(/[A-Za-z]/),lr=ua(/[\dA-Za-z]/),y7=ua(/[#-'*+\--9=?A-Z^-~]/);function Md(e){return e!==null&&(e<32||e===127)}const u0=ua(/\d/),v7=ua(/[\dA-Fa-f]/),b7=ua(/[!-/:-@[-`{-~]/);function Ce(e){return e!==null&&e<-2}function mt(e){return e!==null&&(e<0||e===32)}function Ke(e){return e===-2||e===-1||e===32}const Ah=ua(new RegExp("\\p{P}|\\p{S}","u")),Za=ua(/\s/);function ua(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Hs(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let o="";if(a===37&&lr(e.charCodeAt(r+1))&&lr(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(r+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(n,r),encodeURIComponent(o)),n=r+i+1,o=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function Xe(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Ke(l)?(e.enter(r),s(l)):t(l)}function s(l){return Ke(l)&&a++<i?(e.consume(l),s):(e.exit(r),t(l))}}const x7={tokenize:w7};function w7(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Xe(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Ce(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const _7={tokenize:S7},kk={tokenize:k7};function S7(e){const t=this,r=[];let n=0,i,a,o;return s;function s(x){if(n<r.length){const _=r[n];return t.containerState=_[1],e.attempt(_[0].continuation,l,c)(x)}return c(x)}function l(x){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const _=t.events.length;let w=_,S;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){S=t.events[w][1].end;break}v(n);let E=_;for(;E<t.events.length;)t.events[E][1].end={...S},E++;return Br(t.events,w+1,0,t.events.slice(_)),t.events.length=E,c(x)}return s(x)}function c(x){if(n===r.length){if(!i)return p(x);if(i.currentConstruct&&i.currentConstruct.concrete)return y(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(kk,u,d)(x)}function u(x){return i&&b(),v(n),p(x)}function d(x){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,y(x)}function p(x){return t.containerState={},e.attempt(kk,h,y)(x)}function h(x){return n++,r.push([t.currentConstruct,t.containerState]),p(x)}function y(x){if(x===null){i&&b(),v(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(x)}function m(x){if(x===null){g(e.exit("chunkFlow"),!0),v(0),e.consume(x);return}return Ce(x)?(e.consume(x),g(e.exit("chunkFlow")),n=0,t.interrupt=void 0,s):(e.consume(x),m)}function g(x,_){const w=t.sliceStream(x);if(_&&w.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(w),t.parser.lazy[x.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const E=t.events.length;let P=E,T,A;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(T){A=t.events[P][1].end;break}T=!0}for(v(n),S=E;S<t.events.length;)t.events[S][1].end={...A},S++;Br(t.events,P+1,0,t.events.slice(E)),t.events.length=S}}function v(x){let _=r.length;for(;_-- >x;){const w=r[_];t.containerState=w[1],w[0].exit.call(t,e)}r.length=x}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function k7(e,t,r){return Xe(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ns(e){if(e===null||mt(e)||Za(e))return 1;if(Ah(e))return 2}function jh(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const d0={name:"attention",resolveAll:E7,tokenize:O7};function E7(e,t){let r=-1,n,i,a,o,s,l,c,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},p={...e[r][1].start};Ek(d,-l),Ek(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[n][1].end={...o.start},e[r][1].start={...s.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=Yr(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=Yr(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=Yr(c,jh(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=Yr(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,c=Yr(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,Br(e,n-1,r-n+3,c),r=n+c.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function O7(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=ns(n);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),u=ns(l),d=!u||u===2&&i||r.includes(l),p=!i||i===2&&u||r.includes(n);return c._open=!!(a===42?d:d&&(i||!p)),c._close=!!(a===42?p:p&&(u||!d)),t(l)}}function Ek(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const A7={name:"autolink",tokenize:j7};function j7(e,t,r){let n=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return fr(h)?(e.consume(h),o):h===64?r(h):c(h)}function o(h){return h===43||h===45||h===46||lr(h)?(n=1,s(h)):c(h)}function s(h){return h===58?(e.consume(h),n=0,l):(h===43||h===45||h===46||lr(h))&&n++<32?(e.consume(h),s):(n=0,c(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Md(h)?r(h):(e.consume(h),l)}function c(h){return h===64?(e.consume(h),u):y7(h)?(e.consume(h),c):r(h)}function u(h){return lr(h)?d(h):r(h)}function d(h){return h===46?(e.consume(h),n=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||lr(h))&&n++<63){const y=h===45?p:d;return e.consume(h),y}return r(h)}}const tu={partial:!0,tokenize:P7};function P7(e,t,r){return n;function n(a){return Ke(a)?Xe(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ce(a)?t(a):r(a)}}const dM={continuation:{tokenize:C7},exit:N7,name:"blockQuote",tokenize:T7};function T7(e,t,r){const n=this;return i;function i(o){if(o===62){const s=n.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return r(o)}function a(o){return Ke(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function C7(e,t,r){const n=this;return i;function i(o){return Ke(o)?Xe(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(dM,t,r)(o)}}function N7(e){e.exit("blockQuote")}const fM={name:"characterEscape",tokenize:R7};function R7(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return b7(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const hM={name:"characterReference",tokenize:I7};function I7(e,t,r){const n=this;let i=0,a,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=lr,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=v7,u):(e.enter("characterReferenceValue"),a=7,o=u0,u(d))}function u(d){if(d===59&&i){const p=e.exit("characterReferenceValue");return o===lr&&!s1(n.sliceSerialize(p))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<a?(e.consume(d),u):r(d)}}const Ok={partial:!0,tokenize:M7},Ak={concrete:!0,name:"codeFenced",tokenize:D7};function D7(e,t,r){const n=this,i={partial:!0,tokenize:w};let a=0,o=0,s;return l;function l(S){return c(S)}function c(S){const E=n.events[n.events.length-1];return a=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,s=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(S)}function u(S){return S===s?(o++,e.consume(S),u):o<3?r(S):(e.exit("codeFencedFenceSequence"),Ke(S)?Xe(e,d,"whitespace")(S):d(S))}function d(S){return S===null||Ce(S)?(e.exit("codeFencedFence"),n.interrupt?t(S):e.check(Ok,m,_)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||Ce(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):Ke(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Xe(e,h,"whitespace")(S)):S===96&&S===s?r(S):(e.consume(S),p)}function h(S){return S===null||Ce(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||Ce(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===s?r(S):(e.consume(S),y)}function m(S){return e.attempt(i,_,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),v}function v(S){return a>0&&Ke(S)?Xe(e,b,"linePrefix",a+1)(S):b(S)}function b(S){return S===null||Ce(S)?e.check(Ok,m,_)(S):(e.enter("codeFlowValue"),x(S))}function x(S){return S===null||Ce(S)?(e.exit("codeFlowValue"),b(S)):(e.consume(S),x)}function _(S){return e.exit("codeFenced"),t(S)}function w(S,E,P){let T=0;return A;function A(R){return S.enter("lineEnding"),S.consume(R),S.exit("lineEnding"),N}function N(R){return S.enter("codeFencedFence"),Ke(R)?Xe(S,C,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):C(R)}function C(R){return R===s?(S.enter("codeFencedFenceSequence"),D(R)):P(R)}function D(R){return R===s?(T++,S.consume(R),D):T>=o?(S.exit("codeFencedFenceSequence"),Ke(R)?Xe(S,O,"whitespace")(R):O(R)):P(R)}function O(R){return R===null||Ce(R)?(S.exit("codeFencedFence"),E(R)):P(R)}}}function M7(e,t,r){const n=this;return i;function i(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}const Gp={name:"codeIndented",tokenize:L7},$7={partial:!0,tokenize:F7};function L7(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),Xe(e,a,"linePrefix",5)(c)}function a(c){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):r(c)}function o(c){return c===null?l(c):Ce(c)?e.attempt($7,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Ce(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function F7(e,t,r){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?r(o):Ce(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Xe(e,a,"linePrefix",5)(o)}function a(o){const s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Ce(o)?i(o):r(o)}}const B7={name:"codeText",previous:q7,resolve:z7,tokenize:U7};function z7(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function q7(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function U7(e,t,r){let n=0,i,a;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),n++,s):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(a=e.enter("codeTextSequence"),i=0,u(d)):Ce(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Ce(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(a.type="codeTextData",c(d))}}class W7{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&dl(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),dl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),dl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);dl(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);dl(this.left,r.reverse())}}}function dl(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function pM(e){const t={};let r=-1,n,i,a,o,s,l,c;const u=new W7(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,H7(u,r)),r=t[r],c=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(o=u.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...u.get(i)[1].start},s=u.slice(i,r),s.unshift(n),u.splice(i,r-i+1,s))}}return Br(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function H7(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let u,d,p=-1,h=r,y=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);a.push(i),h._tokenizer||(u=n.sliceStream(h),h.next||u.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=r;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(m=p+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),p=g.length;p--;){const v=s.slice(g[p],g[p+1]),b=a.pop();l.push([b,b+v.length-1]),e.splice(b,2,v)}for(l.reverse(),p=-1;++p<l.length;)c[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return c}const V7={resolve:G7,tokenize:Y7},K7={partial:!0,tokenize:X7};function G7(e){return pM(e),e}function Y7(e,t){let r;return n;function n(s){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Ce(s)?e.check(K7,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function X7(e,t,r){const n=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Xe(e,a,"linePrefix")}function a(o){if(o===null||Ce(o))return r(o);const s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}function mM(e,t,r,n,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(v){return v===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(v),e.exit(a),p):v===null||v===32||v===41||Md(v)?r(v):(e.enter(n),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(v))}function p(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(s),p(v)):v===null||v===60||Ce(v)?r(v):(e.consume(v),v===92?y:h)}function y(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function m(v){return!u&&(v===null||v===41||mt(v))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(n),t(v)):u<c&&v===40?(e.consume(v),u++,m):v===41?(e.consume(v),u--,m):v===null||v===32||v===40||Md(v)?r(v):(e.consume(v),v===92?g:m)}function g(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function gM(e,t,r,n,i,a){const o=this;let s=0,l;return c;function c(h){return e.enter(n),e.enter(i),e.consume(h),e.exit(i),e.enter(a),u}function u(h){return s>999||h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?r(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):Ce(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Ce(h)||s++>999?(e.exit("chunkString"),u(h)):(e.consume(h),l||(l=!Ke(h)),h===92?p:d)}function p(h){return h===91||h===92||h===93?(e.consume(h),s++,d):d(h)}}function yM(e,t,r,n,i,a){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(n),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,l):r(p)}function l(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):(e.enter(a),c(p))}function c(p){return p===o?(e.exit(a),l(o)):p===null?r(p):Ce(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Xe(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===o||p===null||Ce(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?d:u)}function d(p){return p===o||p===92?(e.consume(p),u):u(p)}}function $l(e,t){let r;return n;function n(i){return Ce(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):Ke(i)?Xe(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const Q7={name:"definition",tokenize:Z7},J7={partial:!0,tokenize:eY};function Z7(e,t,r){const n=this;let i;return a;function a(h){return e.enter("definition"),o(h)}function o(h){return gM.call(n,e,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=_n(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):r(h)}function l(h){return mt(h)?$l(e,c)(h):c(h)}function c(h){return mM(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(J7,d,d)(h)}function d(h){return Ke(h)?Xe(e,p,"whitespace")(h):p(h)}function p(h){return h===null||Ce(h)?(e.exit("definition"),n.parser.defined.push(i),t(h)):r(h)}}function eY(e,t,r){return n;function n(s){return mt(s)?$l(e,i)(s):r(s)}function i(s){return yM(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Ke(s)?Xe(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Ce(s)?t(s):r(s)}}const tY={name:"hardBreakEscape",tokenize:rY};function rY(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Ce(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const nY={name:"headingAtx",resolve:iY,tokenize:aY};function iY(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Br(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function aY(e,t,r){let n=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&n++<6?(e.consume(u),o):u===null||mt(u)?(e.exit("atxHeadingSequence"),s(u)):r(u)}function s(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Ce(u)?(e.exit("atxHeading"),t(u)):Ke(u)?Xe(e,s,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||mt(u)?(e.exit("atxHeadingText"),s(u)):(e.consume(u),c)}}const oY=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],jk=["pre","script","style","textarea"],sY={concrete:!0,name:"htmlFlow",resolveTo:uY,tokenize:dY},lY={partial:!0,tokenize:hY},cY={partial:!0,tokenize:fY};function uY(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function dY(e,t,r){const n=this;let i,a,o,s,l;return c;function c($){return u($)}function u($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),d}function d($){return $===33?(e.consume($),p):$===47?(e.consume($),a=!0,m):$===63?(e.consume($),i=3,n.interrupt?t:M):fr($)?(e.consume($),o=String.fromCharCode($),g):r($)}function p($){return $===45?(e.consume($),i=2,h):$===91?(e.consume($),i=5,s=0,y):fr($)?(e.consume($),i=4,n.interrupt?t:M):r($)}function h($){return $===45?(e.consume($),n.interrupt?t:M):r($)}function y($){const Q="CDATA[";return $===Q.charCodeAt(s++)?(e.consume($),s===Q.length?n.interrupt?t:C:y):r($)}function m($){return fr($)?(e.consume($),o=String.fromCharCode($),g):r($)}function g($){if($===null||$===47||$===62||mt($)){const Q=$===47,ee=o.toLowerCase();return!Q&&!a&&jk.includes(ee)?(i=1,n.interrupt?t($):C($)):oY.includes(o.toLowerCase())?(i=6,Q?(e.consume($),v):n.interrupt?t($):C($)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r($):a?b($):x($))}return $===45||lr($)?(e.consume($),o+=String.fromCharCode($),g):r($)}function v($){return $===62?(e.consume($),n.interrupt?t:C):r($)}function b($){return Ke($)?(e.consume($),b):A($)}function x($){return $===47?(e.consume($),A):$===58||$===95||fr($)?(e.consume($),_):Ke($)?(e.consume($),x):A($)}function _($){return $===45||$===46||$===58||$===95||lr($)?(e.consume($),_):w($)}function w($){return $===61?(e.consume($),S):Ke($)?(e.consume($),w):x($)}function S($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),l=$,E):Ke($)?(e.consume($),S):P($)}function E($){return $===l?(e.consume($),l=null,T):$===null||Ce($)?r($):(e.consume($),E)}function P($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||mt($)?w($):(e.consume($),P)}function T($){return $===47||$===62||Ke($)?x($):r($)}function A($){return $===62?(e.consume($),N):r($)}function N($){return $===null||Ce($)?C($):Ke($)?(e.consume($),N):r($)}function C($){return $===45&&i===2?(e.consume($),F):$===60&&i===1?(e.consume($),z):$===62&&i===4?(e.consume($),H):$===63&&i===3?(e.consume($),M):$===93&&i===5?(e.consume($),L):Ce($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(lY,B,D)($)):$===null||Ce($)?(e.exit("htmlFlowData"),D($)):(e.consume($),C)}function D($){return e.check(cY,O,B)($)}function O($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),R}function R($){return $===null||Ce($)?D($):(e.enter("htmlFlowData"),C($))}function F($){return $===45?(e.consume($),M):C($)}function z($){return $===47?(e.consume($),o="",W):C($)}function W($){if($===62){const Q=o.toLowerCase();return jk.includes(Q)?(e.consume($),H):C($)}return fr($)&&o.length<8?(e.consume($),o+=String.fromCharCode($),W):C($)}function L($){return $===93?(e.consume($),M):C($)}function M($){return $===62?(e.consume($),H):$===45&&i===2?(e.consume($),M):C($)}function H($){return $===null||Ce($)?(e.exit("htmlFlowData"),B($)):(e.consume($),H)}function B($){return e.exit("htmlFlow"),t($)}}function fY(e,t,r){const n=this;return i;function i(o){return Ce(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):r(o)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}function hY(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(tu,t,r)}}const pY={name:"htmlText",tokenize:mY};function mY(e,t,r){const n=this;let i,a,o;return s;function s(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),l}function l(M){return M===33?(e.consume(M),c):M===47?(e.consume(M),w):M===63?(e.consume(M),x):fr(M)?(e.consume(M),P):r(M)}function c(M){return M===45?(e.consume(M),u):M===91?(e.consume(M),a=0,y):fr(M)?(e.consume(M),b):r(M)}function u(M){return M===45?(e.consume(M),h):r(M)}function d(M){return M===null?r(M):M===45?(e.consume(M),p):Ce(M)?(o=d,z(M)):(e.consume(M),d)}function p(M){return M===45?(e.consume(M),h):d(M)}function h(M){return M===62?F(M):M===45?p(M):d(M)}function y(M){const H="CDATA[";return M===H.charCodeAt(a++)?(e.consume(M),a===H.length?m:y):r(M)}function m(M){return M===null?r(M):M===93?(e.consume(M),g):Ce(M)?(o=m,z(M)):(e.consume(M),m)}function g(M){return M===93?(e.consume(M),v):m(M)}function v(M){return M===62?F(M):M===93?(e.consume(M),v):m(M)}function b(M){return M===null||M===62?F(M):Ce(M)?(o=b,z(M)):(e.consume(M),b)}function x(M){return M===null?r(M):M===63?(e.consume(M),_):Ce(M)?(o=x,z(M)):(e.consume(M),x)}function _(M){return M===62?F(M):x(M)}function w(M){return fr(M)?(e.consume(M),S):r(M)}function S(M){return M===45||lr(M)?(e.consume(M),S):E(M)}function E(M){return Ce(M)?(o=E,z(M)):Ke(M)?(e.consume(M),E):F(M)}function P(M){return M===45||lr(M)?(e.consume(M),P):M===47||M===62||mt(M)?T(M):r(M)}function T(M){return M===47?(e.consume(M),F):M===58||M===95||fr(M)?(e.consume(M),A):Ce(M)?(o=T,z(M)):Ke(M)?(e.consume(M),T):F(M)}function A(M){return M===45||M===46||M===58||M===95||lr(M)?(e.consume(M),A):N(M)}function N(M){return M===61?(e.consume(M),C):Ce(M)?(o=N,z(M)):Ke(M)?(e.consume(M),N):T(M)}function C(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),i=M,D):Ce(M)?(o=C,z(M)):Ke(M)?(e.consume(M),C):(e.consume(M),O)}function D(M){return M===i?(e.consume(M),i=void 0,R):M===null?r(M):Ce(M)?(o=D,z(M)):(e.consume(M),D)}function O(M){return M===null||M===34||M===39||M===60||M===61||M===96?r(M):M===47||M===62||mt(M)?T(M):(e.consume(M),O)}function R(M){return M===47||M===62||mt(M)?T(M):r(M)}function F(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):r(M)}function z(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),W}function W(M){return Ke(M)?Xe(e,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):L(M)}function L(M){return e.enter("htmlTextData"),o(M)}}const l1={name:"labelEnd",resolveAll:bY,resolveTo:xY,tokenize:wY},gY={tokenize:_Y},yY={tokenize:SY},vY={tokenize:kY};function bY(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Br(e,0,e.length,r),e}function xY(e,t){let r=e.length,n=0,i,a,o,s;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Yr(s,e.slice(a+1,a+n+3)),s=Yr(s,[["enter",u,t]]),s=Yr(s,jh(t.parser.constructs.insideSpan.null,e.slice(a+n+4,o-3),t)),s=Yr(s,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),s=Yr(s,e.slice(o+1)),s=Yr(s,[["exit",l,t]]),Br(e,a,e.length,s),e}function wY(e,t,r){const n=this;let i=n.events.length,a,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return s;function s(p){return a?a._inactive?d(p):(o=n.parser.defined.includes(_n(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):r(p)}function l(p){return p===40?e.attempt(gY,u,o?u:d)(p):p===91?e.attempt(yY,u,o?c:d)(p):o?u(p):d(p)}function c(p){return e.attempt(vY,u,d)(p)}function u(p){return t(p)}function d(p){return a._balanced=!0,r(p)}}function _Y(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return mt(d)?$l(e,a)(d):a(d)}function a(d){return d===41?u(d):mM(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return mt(d)?$l(e,l)(d):u(d)}function s(d){return r(d)}function l(d){return d===34||d===39||d===40?yM(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return mt(d)?$l(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function SY(e,t,r){const n=this;return i;function i(s){return gM.call(n,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return n.parser.defined.includes(_n(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(s):r(s)}function o(s){return r(s)}}function kY(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const EY={name:"labelStartImage",resolveAll:l1.resolveAll,tokenize:OY};function OY(e,t,r){const n=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):r(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const AY={name:"labelStartLink",resolveAll:l1.resolveAll,tokenize:jY};function jY(e,t,r){const n=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const Yp={name:"lineEnding",tokenize:PY};function PY(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Xe(e,t,"linePrefix")}}const ud={name:"thematicBreak",tokenize:TY};function TY(e,t,r){let n=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||Ce(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),Ke(c)?Xe(e,s,"whitespace")(c):s(c))}}const br={continuation:{tokenize:IY},exit:MY,name:"list",tokenize:RY},CY={partial:!0,tokenize:$Y},NY={partial:!0,tokenize:DY};function RY(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(h){const y=n.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!n.containerState.marker||h===n.containerState.marker:u0(h)){if(n.containerState.type||(n.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(ud,r,c)(h):c(h);if(!n.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return r(h)}function l(h){return u0(h)&&++o<10?(e.consume(h),l):(!n.interrupt||o<2)&&(n.containerState.marker?h===n.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):r(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||h,e.check(tu,n.interrupt?r:u,e.attempt(CY,p,d))}function u(h){return n.containerState.initialBlankLine=!0,a++,p(h)}function d(h){return Ke(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):r(h)}function p(h){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function IY(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(tu,i,a);function i(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Xe(e,t,"listItemIndent",n.containerState.size+1)(s)}function a(s){return n.containerState.furtherBlankLines||!Ke(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(NY,t,o)(s))}function o(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,Xe(e,e.attempt(br,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function DY(e,t,r){const n=this;return Xe(e,i,"listItemIndent",n.containerState.size+1);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(a):r(a)}}function MY(e){e.exit(this.containerState.type)}function $Y(e,t,r){const n=this;return Xe(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=n.events[n.events.length-1];return!Ke(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const Pk={name:"setextUnderline",resolveTo:LY,tokenize:FY};function LY(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}function FY(e,t,r){const n=this;let i;return a;function a(c){let u=n.events.length,d;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){d=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),i=c,o(c)):r(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Ke(c)?Xe(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ce(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const BY={tokenize:zY};function zY(e){const t=this,r=e.attempt(tu,n,e.attempt(this.parser.constructs.flowInitial,i,Xe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(V7,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const qY={resolveAll:bM()},UY=vM("string"),WY=vM("text");function vM(e){return{resolveAll:bM(e==="text"?HY:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,o,s);return o;function o(u){return c(u)?a(u):s(u)}function s(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),l}function l(u){return c(u)?(r.exit("data"),a(u)):(r.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let p=-1;if(d)for(;++p<d.length;){const h=d[p];if(!h.previous||h.previous.call(n,n.previous))return!0}return!1}}}function bM(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function HY(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(s=0),s){const c={type:r===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:n.start._bufferIndex+o,_index:n.start._index+a,line:n.end.line,column:n.end.column-s,offset:n.end.offset-s},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const VY={42:br,43:br,45:br,48:br,49:br,50:br,51:br,52:br,53:br,54:br,55:br,56:br,57:br,62:dM},KY={91:Q7},GY={[-2]:Gp,[-1]:Gp,32:Gp},YY={35:nY,42:ud,45:[Pk,ud],60:sY,61:Pk,95:ud,96:Ak,126:Ak},XY={38:hM,92:fM},QY={[-5]:Yp,[-4]:Yp,[-3]:Yp,33:EY,38:hM,42:d0,60:[A7,pY],91:AY,92:[tY,fM],93:l1,95:d0,96:B7},JY={null:[d0,qY]},ZY={null:[42,95]},eX={null:[]},tX=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ZY,contentInitial:KY,disable:eX,document:VY,flow:YY,flowInitial:GY,insideSpan:JY,string:XY,text:QY},Symbol.toStringTag,{value:"Module"}));function rX(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:E(w),check:E(S),consume:b,enter:x,exit:_,interrupt:E(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:y,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(N){return o=Yr(o,N),g(),o[o.length-1]!==null?[]:(P(t,0),c.events=jh(a,c.events,c),c.events)}function p(N,C){return iX(h(N),C)}function h(N){return nX(o,N)}function y(){const{_bufferIndex:N,_index:C,line:D,column:O,offset:R}=n;return{_bufferIndex:N,_index:C,line:D,column:O,offset:R}}function m(N){i[N.line]=N.column,A()}function g(){let N;for(;n._index<o.length;){const C=o[n._index];if(typeof C=="string")for(N=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===N&&n._bufferIndex<C.length;)v(C.charCodeAt(n._bufferIndex));else v(C)}}function v(N){u=u(N)}function b(N){Ce(N)?(n.line++,n.column=1,n.offset+=N===-3?2:1,A()):N!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=N}function x(N,C){const D=C||{};return D.type=N,D.start=y(),c.events.push(["enter",D,c]),s.push(D),D}function _(N){const C=s.pop();return C.end=y(),c.events.push(["exit",C,c]),C}function w(N,C){P(N,C.from)}function S(N,C){C.restore()}function E(N,C){return D;function D(O,R,F){let z,W,L,M;return Array.isArray(O)?B(O):"tokenize"in O?B([O]):H(O);function H(pe){return te;function te(re){const J=re!==null&&pe[re],le=re!==null&&pe.null,se=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(le)?le:le?[le]:[]];return B(se)(re)}}function B(pe){return z=pe,W=0,pe.length===0?F:$(pe[W])}function $(pe){return te;function te(re){return M=T(),L=pe,pe.partial||(c.currentConstruct=pe),pe.name&&c.parser.constructs.disable.null.includes(pe.name)?ee():pe.tokenize.call(C?Object.assign(Object.create(c),C):c,l,Q,ee)(re)}}function Q(pe){return N(L,M),R}function ee(pe){return M.restore(),++W<z.length?$(z[W]):F}}}function P(N,C){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&Br(c.events,C,c.events.length-C,N.resolve(c.events.slice(C),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function T(){const N=y(),C=c.previous,D=c.currentConstruct,O=c.events.length,R=Array.from(s);return{from:O,restore:F};function F(){n=N,c.previous=C,c.currentConstruct=D,c.events.length=O,s=R,A()}}function A(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function nX(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(r===i)o=[e[r].slice(n,a)];else{if(o=e.slice(r,i),n>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(n):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function iX(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,n.push(o)}return n.join("")}function aX(e){const n={constructs:cM([tX,...(e||{}).extensions||[]]),content:i(x7),defined:[],document:i(_7),flow:i(BY),lazy:{},string:i(UY),text:i(WY)};return n;function i(a){return o;function o(s){return rX(n,a,s)}}}function oX(e){for(;!pM(e););return e}const Tk=/[\0\t\n\r]/g;function sX(){let e=1,t="",r=!0,n;return i;function i(a,o,s){const l=[];let c,u,d,p,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),d=0,t="",r&&(a.charCodeAt(0)===65279&&d++,r=void 0);d<a.length;){if(Tk.lastIndex=d,c=Tk.exec(a),p=c&&c.index!==void 0?c.index:a.length,h=a.charCodeAt(p),!c){t=a.slice(d);break}if(h===10&&d===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),d<p&&(l.push(a.slice(d,p)),e+=p-d),h){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}d=p+1}return s&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const lX=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cX(e){return e.replace(lX,uX)}function uX(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return uM(r.slice(a?2:1),a?16:10)}return s1(r)||e}const xM={}.hasOwnProperty;function dX(e,t,r){return typeof t!="string"&&(r=t,t=void 0),fX(r)(oX(aX(r).document().write(sX()(e,t,!0))))}function fX(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(K),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(G),blockQuote:a(le),characterEscape:T,characterReference:T,codeFenced:a(se),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(se,o),codeText:a(Z,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(de),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(j),hardBreakEscape:a(V),hardBreakTrailing:a(V),htmlFlow:a(U,o),htmlFlowData:T,htmlText:a(U,o),htmlTextData:T,image:a(q),label:o,link:a(K),listItem:a(ne),listItemValue:p,listOrdered:a(ae,d),listUnordered:a(ae),paragraph:a(X),reference:$,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(G),strong:a(ue),thematicBreak:a(he)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:J,autolinkProtocol:re,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:pe,characterReference:te,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:y,codeFlowValue:A,codeIndented:l(v),codeText:l(R),codeTextData:A,data:A,definition:l(),definitionDestinationString:_,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(C),hardBreakTrailing:l(C),htmlFlow:l(D),htmlFlowData:A,htmlText:l(O),htmlTextData:A,image:l(z),label:L,labelText:W,lineEnding:N,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Q,resourceDestinationString:M,resourceTitleString:H,resource:B,setextHeading:l(P),setextHeadingLineSequence:E,setextHeadingText:S,strong:l(),thematicBreak:l()}};wM(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(Y){let oe={type:"root",children:[]};const ge={stack:[oe],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:u,data:r},Te=[];let Be=-1;for(;++Be<Y.length;)if(Y[Be][1].type==="listOrdered"||Y[Be][1].type==="listUnordered")if(Y[Be][0]==="enter")Te.push(Be);else{const nt=Te.pop();Be=i(Y,nt,Be)}for(Be=-1;++Be<Y.length;){const nt=t[Y[Be][0]];xM.call(nt,Y[Be][1].type)&&nt[Y[Be][1].type].call(Object.assign({sliceSerialize:Y[Be][2].sliceSerialize},ge),Y[Be][1])}if(ge.tokenStack.length>0){const nt=ge.tokenStack[ge.tokenStack.length-1];(nt[1]||Ck).call(ge,void 0,nt[0])}for(oe.position={start:Di(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:Di(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<t.transforms.length;)oe=t.transforms[Be](oe)||oe;return oe}function i(Y,oe,ge){let Te=oe-1,Be=-1,nt=!1,Ft,He,Bt,vr;for(;++Te<=ge;){const Ze=Y[Te];switch(Ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ze[0]==="enter"?Be++:Be--,vr=void 0;break}case"lineEndingBlank":{Ze[0]==="enter"&&(Ft&&!vr&&!Be&&!Bt&&(Bt=Te),vr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vr=void 0}if(!Be&&Ze[0]==="enter"&&Ze[1].type==="listItemPrefix"||Be===-1&&Ze[0]==="exit"&&(Ze[1].type==="listUnordered"||Ze[1].type==="listOrdered")){if(Ft){let Ar=Te;for(He=void 0;Ar--;){const Ee=Y[Ar];if(Ee[1].type==="lineEnding"||Ee[1].type==="lineEndingBlank"){if(Ee[0]==="exit")continue;He&&(Y[He][1].type="lineEndingBlank",nt=!0),Ee[1].type="lineEnding",He=Ar}else if(!(Ee[1].type==="linePrefix"||Ee[1].type==="blockQuotePrefix"||Ee[1].type==="blockQuotePrefixWhitespace"||Ee[1].type==="blockQuoteMarker"||Ee[1].type==="listItemIndent"))break}Bt&&(!He||Bt<He)&&(Ft._spread=!0),Ft.end=Object.assign({},He?Y[He][1].start:Ze[1].end),Y.splice(He||Te,0,["exit",Ft,Ze[2]]),Te++,ge++}if(Ze[1].type==="listItemPrefix"){const Ar={type:"listItem",_spread:!1,start:Object.assign({},Ze[1].start),end:void 0};Ft=Ar,Y.splice(Te,0,["enter",Ar,Ze[2]]),Te++,ge++,Bt=void 0,vr=!0}}}return Y[oe][1]._spread=nt,ge}function a(Y,oe){return ge;function ge(Te){s.call(this,Y(Te),Te),oe&&oe.call(this,Te)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Y,oe,ge){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([oe,ge||void 0]),Y.position={start:Di(oe.start),end:void 0}}function l(Y){return oe;function oe(ge){Y&&Y.call(this,ge),c.call(this,ge)}}function c(Y,oe){const ge=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==Y.type&&(oe?oe.call(this,Y,Te[0]):(Te[1]||Ck).call(this,Y,Te[0]));else throw new Error("Cannot close `"+Y.type+"` ("+Ml({start:Y.start,end:Y.end})+"): its not open");ge.position.end=Di(Y.end)}function u(){return o1(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(Y){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function h(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Y}function y(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Y}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/(\r?\n|\r)$/g,"")}function b(Y){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=oe,ge.identifier=_n(this.sliceSerialize(Y)).toLowerCase()}function x(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function _(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function w(Y){const oe=this.stack[this.stack.length-1];if(!oe.depth){const ge=this.sliceSerialize(Y).length;oe.depth=ge}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function E(Y){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function T(Y){const ge=this.stack[this.stack.length-1].children;let Te=ge[ge.length-1];(!Te||Te.type!=="text")&&(Te=ye(),Te.position={start:Di(Y.start),end:void 0},ge.push(Te)),this.stack.push(Te)}function A(Y){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Y),oe.position.end=Di(Y.end)}function N(Y){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=oe.children[oe.children.length-1];ge.position.end=Di(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(T.call(this,Y),A.call(this,Y))}function C(){this.data.atHardBreak=!0}function D(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function O(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function R(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function F(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function z(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function W(Y){const oe=this.sliceSerialize(Y),ge=this.stack[this.stack.length-2];ge.label=cX(oe),ge.identifier=_n(oe).toLowerCase()}function L(){const Y=this.stack[this.stack.length-1],oe=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Te=Y.children;ge.children=Te}else ge.alt=oe}function M(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function H(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function B(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function Q(Y){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=oe,ge.identifier=_n(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function ee(Y){this.data.characterReferenceType=Y.type}function pe(Y){const oe=this.sliceSerialize(Y),ge=this.data.characterReferenceType;let Te;ge?(Te=uM(oe,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=s1(oe);const Be=this.stack[this.stack.length-1];Be.value+=Te}function te(Y){const oe=this.stack.pop();oe.position.end=Di(Y.end)}function re(Y){A.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Y)}function J(Y){A.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Y)}function le(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function Z(){return{type:"inlineCode",value:""}}function de(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function j(){return{type:"emphasis",children:[]}}function G(){return{type:"heading",depth:0,children:[]}}function V(){return{type:"break"}}function U(){return{type:"html",value:""}}function q(){return{type:"image",title:null,url:"",alt:null}}function K(){return{type:"link",title:null,url:"",children:[]}}function ae(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function ne(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function X(){return{type:"paragraph",children:[]}}function ue(){return{type:"strong",children:[]}}function ye(){return{type:"text",value:""}}function he(){return{type:"thematicBreak"}}}function Di(e){return{line:e.line,column:e.column,offset:e.offset}}function wM(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?wM(e,n):hX(e,n)}}function hX(e,t){let r;for(r in t)if(xM.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function Ck(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ml({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ml({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ml({start:t.start,end:t.end})+") is still open")}function pX(e){const t=this;t.parser=r;function r(n){return dX(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function mX(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function gX(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function yX(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function vX(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bX(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xX(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=Hs(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let o,s=e.footnoteCounts.get(n);s===void 0?(s=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(n,s);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function wX(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _X(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function _M(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function SX(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return _M(e,t);const i={src:Hs(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function kX(e,t){const r={src:Hs(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function EX(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function OX(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return _M(e,t);const i={href:Hs(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function AX(e,t){const r={href:Hs(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jX(e,t,r){const n=e.all(t),i=r?PX(r):SM(t),a={},o=[];if(typeof t.checked=="boolean"){const u=n[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<n.length;){const u=n[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function PX(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=SM(r[n])}return t}function SM(e){const t=e.spread;return t??e.children.length>1}function TX(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function CX(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function NX(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function RX(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function IX(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),i.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},s=r1(t.children[1]),l=rM(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function DX(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const d=t.children[l],p={},h=o?o[l]:void 0;h&&(p.align=h);let y={type:"element",tagName:a,properties:p,children:[]};d&&(y.children=e.all(d),e.patch(d,y),y=e.applyData(d,y)),c.push(y)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function MX(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const Nk=9,Rk=32;function $X(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(Ik(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(Ik(t.slice(i),i>0,!1)),a.join("")}function Ik(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===Nk||a===Rk;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===Nk||a===Rk;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function LX(e,t){const r={type:"text",value:$X(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function FX(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const BX={blockquote:mX,break:gX,code:yX,delete:vX,emphasis:bX,footnoteReference:xX,heading:wX,html:_X,imageReference:SX,image:kX,inlineCode:EX,linkReference:OX,link:AX,listItem:jX,list:TX,paragraph:CX,root:NX,strong:RX,table:IX,tableCell:MX,tableRow:DX,text:LX,thematicBreak:FX,toml:Ru,yaml:Ru,definition:Ru,footnoteDefinition:Ru};function Ru(){}const kM=-1,Ph=0,Ll=1,$d=2,c1=3,u1=4,d1=5,f1=6,EM=7,OM=8,Dk=typeof self=="object"?self:globalThis,zX=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case Ph:case kM:return r(o,i);case Ll:{const s=r([],i);for(const l of o)s.push(n(l));return s}case $d:{const s=r({},i);for(const[l,c]of o)s[n(l)]=n(c);return s}case c1:return r(new Date(o),i);case u1:{const{source:s,flags:l}=o;return r(new RegExp(s,l),i)}case d1:{const s=r(new Map,i);for(const[l,c]of o)s.set(n(l),n(c));return s}case f1:{const s=r(new Set,i);for(const l of o)s.add(n(l));return s}case EM:{const{name:s,message:l}=o;return r(new Dk[s](l),i)}case OM:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return r(new DataView(s),o)}}return r(new Dk[a](o),i)};return n},Mk=e=>zX(new Map,e)(0),Eo="",{toString:qX}={},{keys:UX}=Object,fl=e=>{const t=typeof e;if(t!=="object"||!e)return[Ph,t];const r=qX.call(e).slice(8,-1);switch(r){case"Array":return[Ll,Eo];case"Object":return[$d,Eo];case"Date":return[c1,Eo];case"RegExp":return[u1,Eo];case"Map":return[d1,Eo];case"Set":return[f1,Eo];case"DataView":return[Ll,r]}return r.includes("Array")?[Ll,r]:r.includes("Error")?[EM,r]:[$d,r]},Iu=([e,t])=>e===Ph&&(t==="function"||t==="symbol"),WX=(e,t,r,n)=>{const i=(o,s)=>{const l=n.push(o)-1;return r.set(s,l),l},a=o=>{if(r.has(o))return r.get(o);let[s,l]=fl(o);switch(s){case Ph:{let u=o;switch(l){case"bigint":s=OM,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([kM],o)}return i([s,u],o)}case Ll:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const u=[],d=i([s,u],o);for(const p of o)u.push(a(p));return d}case $d:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const u=[],d=i([s,u],o);for(const p of UX(o))(e||!Iu(fl(o[p])))&&u.push([a(p),a(o[p])]);return d}case c1:return i([s,o.toISOString()],o);case u1:{const{source:u,flags:d}=o;return i([s,{source:u,flags:d}],o)}case d1:{const u=[],d=i([s,u],o);for(const[p,h]of o)(e||!(Iu(fl(p))||Iu(fl(h))))&&u.push([a(p),a(h)]);return d}case f1:{const u=[],d=i([s,u],o);for(const p of o)(e||!Iu(fl(p)))&&u.push(a(p));return d}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},$k=(e,{json:t,lossy:r}={})=>{const n=[];return WX(!(t||r),!!t,new Map,n)(e),n},Ld=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Mk($k(e,t)):structuredClone(e):(e,t)=>Mk($k(e,t));function HX(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function VX(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function KX(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||HX,n=e.options.footnoteBackLabel||VX,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),d=String(c.identifier).toUpperCase(),p=Hs(d.toLowerCase());let h=0;const y=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++h<=m;){y.length>0&&y.push({type:"text",value:" "});let b=typeof r=="string"?r:r(l,h);typeof b=="string"&&(b={type:"text",value:b}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,h),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const g=u[u.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const b=g.children[g.children.length-1];b&&b.type==="text"?b.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...y)}else u.push(...y);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(u,!0)};e.patch(c,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ld(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Th=(function(e){if(e==null)return QX;if(typeof e=="function")return Ch(e);if(typeof e=="object")return Array.isArray(e)?GX(e):YX(e);if(typeof e=="string")return XX(e);throw new Error("Expected function, string, or object as test")});function GX(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Th(e[r]);return Ch(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function YX(e){const t=e;return Ch(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function XX(e){return Ch(t);function t(r){return r&&r.type===e}}function Ch(e){return t;function t(r,n,i){return!!(JX(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function QX(){return!0}function JX(e){return e!==null&&typeof e=="object"&&"type"in e}const AM=[],ZX=!0,f0=!1,eQ="skip";function jM(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=Th(i),o=n?-1:1;s(e,void 0,[])();function s(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=AM,y,m,g;if((!t||a(l,c,u[u.length-1]||void 0))&&(h=tQ(r(l,u)),h[0]===f0))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==eQ)for(m=(n?v.children.length:-1)+o,g=u.concat(v);m>-1&&m<v.children.length;){const b=v.children[m];if(y=s(b,m,g)(),y[0]===f0)return y;m=typeof y[1]=="number"?y[1]:m+o}}return h}}}function tQ(e){return Array.isArray(e)?e:typeof e=="number"?[ZX,e]:e==null?AM:[e]}function h1(e,t,r,n){let i,a,o;typeof t=="function"&&typeof r!="function"?(a=void 0,o=t,i=r):(a=t,o=r,i=n),jM(e,a,s,i);function s(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const h0={}.hasOwnProperty,rQ={};function nQ(e,t){const r=t||rQ,n=new Map,i=new Map,a=new Map,o={...BX,...r.handlers},s={all:c,applyData:aQ,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:r,patch:iQ,wrap:sQ};return h1(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?n:i,p=String(u.identifier).toUpperCase();d.has(p)||d.set(p,u)}}),s;function l(u,d){const p=u.type,h=s.handlers[p];if(h0.call(s.handlers,p)&&h)return h(s,u,d);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in u){const{children:m,...g}=u,v=Ld(g);return v.children=s.all(u),v}return Ld(u)}return(s.options.unknownHandler||oQ)(s,u,d)}function c(u){const d=[];if("children"in u){const p=u.children;let h=-1;for(;++h<p.length;){const y=s.one(p[h],u);if(y){if(h&&p[h-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=Lk(y.value)),!Array.isArray(y)&&y.type==="element")){const m=y.children[0];m&&m.type==="text"&&(m.value=Lk(m.value))}Array.isArray(y)?d.push(...y):d.push(y)}}}return d}}function iQ(e,t){e.position&&(t.position=VG(e))}function aQ(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&a&&Object.assign(r.properties,Ld(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function oQ(e,t){const r=t.data||{},n="value"in t&&!(h0.call(r,"hProperties")||h0.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sQ(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function Lk(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function Fk(e,t){const r=nQ(e,t),n=r.one(e,void 0),i=KX(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function lQ(e,t){return e&&"run"in e?async function(r,n){const i=Fk(r,{file:n,...t});await e.run(i,n)}:function(r,n){return Fk(r,{file:n,...e||t})}}function Bk(e){if(e)throw e}var Xp,zk;function cQ(){if(zk)return Xp;zk=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var u=e.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!d)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},o=function(c,u){r&&u.name==="__proto__"?r(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},s=function(c,u){if(u==="__proto__")if(e.call(c,u)){if(n)return n(c,u).value}else return;return c[u]};return Xp=function l(){var c,u,d,p,h,y,m=arguments[0],g=1,v=arguments.length,b=!1;for(typeof m=="boolean"&&(b=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<v;++g)if(c=arguments[g],c!=null)for(u in c)d=s(m,u),p=s(c,u),m!==p&&(b&&p&&(a(p)||(h=i(p)))?(h?(h=!1,y=d&&i(d)?d:[]):y=d&&a(d)?d:{},o(m,{name:u,newValue:l(b,y,p)})):typeof p<"u"&&o(m,{name:u,newValue:p}));return m},Xp}var uQ=cQ();const Qp=Je(uQ);function p0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dQ(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const u=e[++a];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?fQ(u,s)(...c):o(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function fQ(e,t){let r;return n;function n(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(s&&r)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){r||(r=!0,t(o,...s))}function a(o){i(null,o)}}const Tn={basename:hQ,dirname:pQ,extname:mQ,join:gQ,sep:"/"};function hQ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ru(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(n=i):(s=-1,n=o));return r===n?n=o:n<0&&(n=e.length),e.slice(r,n)}function pQ(e){if(ru(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function mQ(e){ru(e);let t=e.length,r=-1,n=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){n=t+1;break}continue}r<0&&(o=!0,r=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function gQ(...e){let t=-1,r;for(;++t<e.length;)ru(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":yQ(r)}function yQ(e){ru(e);const t=e.codePointAt(0)===47;let r=vQ(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function vQ(e,t){let r="",n=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=o,a=0;continue}}else if(r.length>0){r="",n=0,i=o,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o),n=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return r}function ru(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bQ={cwd:xQ};function xQ(){return"/"}function m0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function wQ(e){if(typeof e=="string")e=new URL(e);else if(!m0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return _Q(e)}function _Q(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Jp=["history","path","basename","stem","extname","dirname"];class PM{constructor(t){let r;t?m0(t)?r={path:t}:typeof t=="string"||SQ(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":bQ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Jp.length;){const a=Jp[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)Jp.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Tn.basename(this.path):void 0}set basename(t){em(t,"basename"),Zp(t,"basename"),this.path=Tn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Tn.dirname(this.path):void 0}set dirname(t){qk(this.basename,"dirname"),this.path=Tn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Tn.extname(this.path):void 0}set extname(t){if(Zp(t,"extname"),qk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Tn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){m0(t)&&(t=wQ(t)),em(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Tn.basename(this.path,this.extname):void 0}set stem(t){em(t,"stem"),Zp(t,"stem"),this.path=Tn.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new cr(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Zp(e,t){if(e&&e.includes(Tn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Tn.sep+"`")}function em(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function qk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function SQ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const kQ=(function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a}),EQ={}.hasOwnProperty;class p1 extends kQ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dQ()}copy(){const t=new p1;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Qp(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(nm("data",this.frozen),this.namespace[t]=r,this):EQ.call(this.namespace,t)&&this.namespace[t]||void 0:t?(nm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Du(t),n=this.parser||this.Parser;return tm("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),tm("process",this.parser||this.Parser),rm("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,o){const s=Du(t),l=n.parse(s);n.run(l,s,function(u,d,p){if(u||!d||!p)return c(u);const h=d,y=n.stringify(h,p);jQ(y)?p.value=y:p.result=y,c(u,p)});function c(u,d){u||!d?o(u):a?a(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),tm("processSync",this.parser||this.Parser),rm("processSync",this.compiler||this.Compiler),this.process(t,i),Wk("processSync","process",r),n;function i(a,o){r=!0,Bk(a),n=o}}run(t,r,n){Uk(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(o,s){const l=Du(r);i.run(t,l,c);function c(u,d,p){const h=d||t;u?s(u):o?o(h):n(void 0,h,p)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),Wk("runSync","run",n),i;function a(o,s){Bk(o),i=s,n=!0}}stringify(t,r){this.freeze();const n=Du(r),i=this.compiler||this.Compiler;return rm("stringify",i),Uk(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(nm("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=Qp(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];a(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,p=-1;for(;++d<n.length;)if(n[d][0]===c){p=d;break}if(p===-1)n.push([c,...u]);else if(u.length>0){let[h,...y]=u;const m=n[p][1];p0(m)&&p0(h)&&(h=Qp(!0,m,h)),n[p]=[c,h,...y]}}}}const OQ=new p1().freeze();function tm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function rm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function nm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Uk(e){if(!p0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Wk(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Du(e){return AQ(e)?e:new PM(e)}function AQ(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function jQ(e){return typeof e=="string"||PQ(e)}function PQ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const TQ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Hk=[],Vk={allowDangerousHtml:!0},CQ=/^(https?|ircs?|mailto|xmpp)$/i,NQ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function TM(e){const t=RQ(e),r=IQ(e);return DQ(t.runSync(t.parse(r),r),e)}function RQ(e){const t=e.rehypePlugins||Hk,r=e.remarkPlugins||Hk,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Vk}:Vk;return OQ().use(pX).use(r).use(lQ,n).use(t)}function IQ(e){const t=e.children||"",r=new PM;return typeof t=="string"&&(r.value=t),r}function DQ(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||MQ;for(const u of NQ)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+TQ+u.id,void 0);return h1(e,c),QG(e,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function c(u,d,p){if(u.type==="raw"&&p&&typeof d=="number")return o?p.children.splice(d,1):p.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let h;for(h in Kp)if(Object.hasOwn(Kp,h)&&Object.hasOwn(u.properties,h)){const y=u.properties[h],m=Kp[h];(m===null||m.includes(u.tagName))&&(u.properties[h]=l(String(y||""),h,u))}}if(u.type==="element"){let h=r?!r.includes(u.tagName):a?a.includes(u.tagName):!1;if(!h&&n&&typeof d=="number"&&(h=!n(u,d,p)),h&&p&&typeof d=="number")return s&&u.children?p.children.splice(d,1,...u.children):p.children.splice(d,1),d}}}function MQ(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||CQ.test(e.slice(0,t))?e:""}function Kk(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function $Q(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function LQ(e,t,r){const i=Th((r||{}).ignore||[]),a=FQ(t);let o=-1;for(;++o<a.length;)jM(e,"text",s);function s(c,u){let d=-1,p;for(;++d<u.length;){const h=u[d],y=p?p.children:void 0;if(i(h,y?y.indexOf(h):void 0,p))return;p=h}if(p)return l(c,u)}function l(c,u){const d=u[u.length-1],p=a[o][0],h=a[o][1];let y=0;const g=d.children.indexOf(c);let v=!1,b=[];p.lastIndex=0;let x=p.exec(c.value);for(;x;){const _=x.index,w={index:x.index,input:x.input,stack:[...u,c]};let S=h(...x,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?p.lastIndex=_+1:(y!==_&&b.push({type:"text",value:c.value.slice(y,_)}),Array.isArray(S)?b.push(...S):S&&b.push(S),y=_+x[0].length,v=!0),!p.global)break;x=p.exec(c.value)}return v?(y<c.value.length&&b.push({type:"text",value:c.value.slice(y)}),d.children.splice(g,1,...b)):b=[c],g+b.length}}function FQ(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([BQ(i[0]),zQ(i[1])])}return t}function BQ(e){return typeof e=="string"?new RegExp($Q(e),"g"):e}function zQ(e){return typeof e=="function"?e:function(){return e}}const im="phrasing",am=["autolink","link","image","label"];function qQ(){return{transforms:[YQ],enter:{literalAutolink:WQ,literalAutolinkEmail:om,literalAutolinkHttp:om,literalAutolinkWww:om},exit:{literalAutolink:GQ,literalAutolinkEmail:KQ,literalAutolinkHttp:HQ,literalAutolinkWww:VQ}}}function UQ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:im,notInConstruct:am},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:im,notInConstruct:am},{character:":",before:"[ps]",after:"\\/",inConstruct:im,notInConstruct:am}]}}function WQ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function om(e){this.config.enter.autolinkProtocol.call(this,e)}function HQ(e){this.config.exit.autolinkProtocol.call(this,e)}function VQ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function KQ(e){this.config.exit.autolinkEmail.call(this,e)}function GQ(e){this.exit(e)}function YQ(e){LQ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,XQ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),QQ]],{ignore:["link","linkReference"]})}function XQ(e,t,r,n,i){let a="";if(!CM(i)||(/^w/i.test(t)&&(r=t+r,t="",a="http://"),!JQ(r)))return!1;const o=ZQ(r+n);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function QQ(e,t,r,n){return!CM(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function JQ(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ZQ(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=Kk(e,"(");let a=Kk(e,")");for(;n!==-1&&i>a;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),a++;return[e,r]}function CM(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Za(r)||Ah(r))&&(!t||r!==47)}NM.peek=lJ;function eJ(){this.buffer()}function tJ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function rJ(){this.buffer()}function nJ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function iJ(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=_n(this.sliceSerialize(e)).toLowerCase(),r.label=t}function aJ(e){this.exit(e)}function oJ(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=_n(this.sliceSerialize(e)).toLowerCase(),r.label=t}function sJ(e){this.exit(e)}function lJ(){return"["}function NM(e,t,r,n){const i=r.createTracker(n);let a=i.move("[^");const o=r.enter("footnoteReference"),s=r.enter("reference");return a+=i.move(r.safe(r.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function cJ(){return{enter:{gfmFootnoteCallString:eJ,gfmFootnoteCall:tJ,gfmFootnoteDefinitionLabelString:rJ,gfmFootnoteDefinition:nJ},exit:{gfmFootnoteCallString:iJ,gfmFootnoteCall:aJ,gfmFootnoteDefinitionLabelString:oJ,gfmFootnoteDefinition:sJ}}}function uJ(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:NM},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=s.move(a.safe(a.associationId(n),{before:l,after:"]"})),u(),l+=s.move("]:"),n.children&&n.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(n,s.current()),t?RM:dJ))),c(),l}}function dJ(e,t,r){return t===0?e:RM(e,t,r)}function RM(e,t,r){return(r?"":"    ")+e}const fJ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];IM.peek=yJ;function hJ(){return{canContainEols:["delete"],enter:{strikethrough:mJ},exit:{strikethrough:gJ}}}function pJ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:fJ}],handlers:{delete:IM}}}function mJ(e){this.enter({type:"delete",children:[]},e)}function gJ(e){this.exit(e)}function IM(e,t,r,n){const i=r.createTracker(n),a=r.enter("strikethrough");let o=i.move("~~");return o+=r.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function yJ(){return"~"}function vJ(e){return e.length}function bJ(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||vJ,a=[],o=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const m=[],g=[];let v=-1;for(e[u].length>c&&(c=e[u].length);++v<e[u].length;){const b=xJ(e[u][v]);if(r.alignDelimiters!==!1){const x=i(b);g[v]=x,(l[v]===void 0||x>l[v])&&(l[v]=x)}m.push(b)}o[u]=m,s[u]=g}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<c;)a[d]=Gk(n[d]);else{const m=Gk(n);for(;++d<c;)a[d]=m}d=-1;const p=[],h=[];for(;++d<c;){const m=a[d];let g="",v="";m===99?(g=":",v=":"):m===108?g=":":m===114&&(v=":");let b=r.alignDelimiters===!1?1:Math.max(1,l[d]-g.length-v.length);const x=g+"-".repeat(b)+v;r.alignDelimiters!==!1&&(b=g.length+b+v.length,b>l[d]&&(l[d]=b),h[d]=b),p[d]=x}o.splice(1,0,p),s.splice(1,0,h),u=-1;const y=[];for(;++u<o.length;){const m=o[u],g=s[u];d=-1;const v=[];for(;++d<c;){const b=m[d]||"";let x="",_="";if(r.alignDelimiters!==!1){const w=l[d]-(g[d]||0),S=a[d];S===114?x=" ".repeat(w):S===99?w%2?(x=" ".repeat(w/2+.5),_=" ".repeat(w/2-.5)):(x=" ".repeat(w/2),_=x):_=" ".repeat(w)}r.delimiterStart!==!1&&!d&&v.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||d)&&v.push(" "),r.alignDelimiters!==!1&&v.push(x),v.push(b),r.alignDelimiters!==!1&&v.push(_),r.padding!==!1&&v.push(" "),(r.delimiterEnd!==!1||d!==c-1)&&v.push("|")}y.push(r.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return y.join(`
`)}function xJ(e){return e==null?"":String(e)}function Gk(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function wJ(e,t,r,n){const i=r.enter("blockquote"),a=r.createTracker(n);a.move("> "),a.shift(2);const o=r.indentLines(r.containerFlow(e,a.current()),_J);return i(),o}function _J(e,t,r){return">"+(r?"":" ")+e}function SJ(e,t){return Yk(e,t.inConstruct,!0)&&!Yk(e,t.notInConstruct,!1)}function Yk(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function Xk(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&SJ(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function kJ(e,t){const r=String(e);let n=r.indexOf(t),i=n,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>o&&(o=a):a=1,i=n+t.length,n=r.indexOf(t,i);return o}function EJ(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function OJ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function AJ(e,t,r,n){const i=OJ(r),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(EJ(e,r)){const d=r.enter("codeIndented"),p=r.indentLines(a,jJ);return d(),p}const s=r.createTracker(n),l=i.repeat(Math.max(kJ(a,i)+1,3)),c=r.enter("codeFenced");let u=s.move(l);if(e.lang){const d=r.enter(`codeFencedLang${o}`);u+=s.move(r.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=r.enter(`codeFencedMeta${o}`);u+=s.move(" "),u+=s.move(r.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),d()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(l),c(),u}function jJ(e,t,r){return(r?"":"    ")+e}function m1(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function PJ(e,t,r,n){const i=m1(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("definition");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("[");return c+=l.move(r.safe(r.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function TJ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ac(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Fd(e,t,r){const n=ns(e),i=ns(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}DM.peek=CJ;function DM(e,t,r,n){const i=TJ(r),a=r.enter("emphasis"),o=r.createTracker(n),s=o.move(i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Fd(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=ac(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=Fd(n.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+ac(d));const h=o.move(i);return a(),r.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}function CJ(e,t,r){return r.options.emphasis||"*"}function NJ(e,t){let r=!1;return h1(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,f0}),!!((!e.depth||e.depth<3)&&o1(e)&&(t.options.setext||r))}function RJ(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),a=r.createTracker(n);if(NJ(e,r)){const u=r.enter("headingSetext"),d=r.enter("phrasing"),p=r.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return d(),u(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=r.enter("headingAtx"),l=r.enter("phrasing");a.move(o+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=ac(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,r.options.closeAtx&&(c+=" "+o),l(),s(),c}MM.peek=IJ;function MM(e){return e.value||""}function IJ(){return"<"}$M.peek=DJ;function $M(e,t,r,n){const i=m1(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("image");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("![");return c+=l.move(r.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function DJ(){return"!"}LM.peek=MJ;function LM(e,t,r,n){const i=e.referenceType,a=r.enter("imageReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("![");const c=r.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=u,a(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function MJ(){return"!"}FM.peek=$J;function FM(e,t,r){let n=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<r.unsafe.length;){const o=r.unsafe[a],s=r.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(n);){let c=l.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(l.index+1)}}return i+n+i}function $J(){return"`"}function BM(e,t){const r=o1(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}zM.peek=LJ;function zM(e,t,r,n){const i=m1(r),a=i==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let s,l;if(BM(e,r)){const u=r.stack;r.stack=[],s=r.enter("autolink");let d=o.move("<");return d+=o.move(r.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),r.stack=u,d}s=r.enter("link"),l=r.enter("label");let c=o.move("[");return c+=o.move(r.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(r.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=r.enter("destinationRaw"),c+=o.move(r.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=r.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(r.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function LJ(e,t,r){return BM(e,r)?"<":"["}qM.peek=FJ;function qM(e,t,r,n){const i=e.referenceType,a=r.enter("linkReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("[");const c=r.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=u,a(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function FJ(){return"["}function g1(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function BJ(e){const t=g1(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function zJ(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function UM(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function qJ(e,t,r,n){const i=r.enter("list"),a=r.bulletCurrent;let o=e.ordered?zJ(r):g1(r);const s=e.ordered?o==="."?")":".":BJ(r);let l=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),UM(r)===o&&u){let d=-1;for(;++d<e.children.length;){const p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),r.bulletCurrent=o;const c=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=a,i(),c}function UJ(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function WJ(e,t,r,n){const i=UJ(r);let a=r.bulletCurrent||g1(r);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=r.createTracker(n);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,s.current()),u);return l(),c;function u(d,p,h){return p?(h?"":" ".repeat(o))+d:(h?a:a+" ".repeat(o-a.length))+d}}function HJ(e,t,r,n){const i=r.enter("paragraph"),a=r.enter("phrasing"),o=r.containerPhrasing(e,n);return a(),i(),o}const VJ=Th(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function KJ(e,t,r,n){return(e.children.some(function(o){return VJ(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function GJ(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}WM.peek=YJ;function WM(e,t,r,n){const i=GJ(r),a=r.enter("strong"),o=r.createTracker(n),s=o.move(i+i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Fd(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=ac(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=Fd(n.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+ac(d));const h=o.move(i+i);return a(),r.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}function YJ(e,t,r){return r.options.strong||"*"}function XJ(e,t,r,n){return r.safe(e.value,n)}function QJ(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function JJ(e,t,r){const n=(UM(r)+(r.options.ruleSpaces?" ":"")).repeat(QJ(r));return r.options.ruleSpaces?n.slice(0,-1):n}const HM={blockquote:wJ,break:Xk,code:AJ,definition:PJ,emphasis:DM,hardBreak:Xk,heading:RJ,html:MM,image:$M,imageReference:LM,inlineCode:FM,link:zM,linkReference:qM,list:qJ,listItem:WJ,paragraph:HJ,root:KJ,strong:WM,text:XJ,thematicBreak:JJ};function ZJ(){return{enter:{table:eZ,tableData:Qk,tableHeader:Qk,tableRow:rZ},exit:{codeText:nZ,table:tZ,tableData:sm,tableHeader:sm,tableRow:sm}}}function eZ(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function tZ(e){this.exit(e),this.data.inTable=void 0}function rZ(e){this.enter({type:"tableRow",children:[]},e)}function sm(e){this.exit(e)}function Qk(e){this.enter({type:"tableCell",children:[]},e)}function nZ(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,iZ));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function iZ(e,t){return t==="|"?t:e}function aZ(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(h,y,m,g){return c(u(h,m,g),h.align)}function s(h,y,m,g){const v=d(h,m,g),b=c([v]);return b.slice(0,b.indexOf(`
`))}function l(h,y,m,g){const v=m.enter("tableCell"),b=m.enter("phrasing"),x=m.containerPhrasing(h,{...g,before:a,after:a});return b(),v(),x}function c(h,y){return bJ(h,{align:y,alignDelimiters:n,padding:r,stringLength:i})}function u(h,y,m){const g=h.children;let v=-1;const b=[],x=y.enter("table");for(;++v<g.length;)b[v]=d(g[v],y,m);return x(),b}function d(h,y,m){const g=h.children;let v=-1;const b=[],x=y.enter("tableRow");for(;++v<g.length;)b[v]=l(g[v],h,y,m);return x(),b}function p(h,y,m){let g=HM.inlineCode(h,y,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function oZ(){return{exit:{taskListCheckValueChecked:Jk,taskListCheckValueUnchecked:Jk,paragraph:lZ}}}function sZ(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:cZ}}}function Jk(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function lZ(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function cZ(e,t,r,n){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=r.createTracker(n);a&&s.move(o);let l=HM.listItem(e,t,r,{...n,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function uZ(){return[qQ(),cJ(),hJ(),ZJ(),oZ()]}function dZ(e){return{extensions:[UQ(),uJ(e),pJ(),aZ(e),sZ()]}}const fZ={tokenize:vZ,partial:!0},VM={tokenize:bZ,partial:!0},KM={tokenize:xZ,partial:!0},GM={tokenize:wZ,partial:!0},hZ={tokenize:_Z,partial:!0},YM={name:"wwwAutolink",tokenize:gZ,previous:QM},XM={name:"protocolAutolink",tokenize:yZ,previous:JM},Ai={name:"emailAutolink",tokenize:mZ,previous:ZM},Qn={};function pZ(){return{text:Qn}}let xa=48;for(;xa<123;)Qn[xa]=Ai,xa++,xa===58?xa=65:xa===91&&(xa=97);Qn[43]=Ai;Qn[45]=Ai;Qn[46]=Ai;Qn[95]=Ai;Qn[72]=[Ai,XM];Qn[104]=[Ai,XM];Qn[87]=[Ai,YM];Qn[119]=[Ai,YM];function mZ(e,t,r){const n=this;let i,a;return o;function o(d){return!g0(d)||!ZM.call(n,n.previous)||y1(n.events)?r(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return g0(d)?(e.consume(d),s):d===64?(e.consume(d),l):r(d)}function l(d){return d===46?e.check(hZ,u,c)(d):d===45||d===95||lr(d)?(a=!0,e.consume(d),l):u(d)}function c(d){return e.consume(d),i=!0,l}function u(d){return a&&i&&fr(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):r(d)}}function gZ(e,t,r){const n=this;return i;function i(o){return o!==87&&o!==119||!QM.call(n,n.previous)||y1(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(fZ,e.attempt(VM,e.attempt(KM,a),r),r)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function yZ(e,t,r){const n=this;let i="",a=!1;return o;function o(d){return(d===72||d===104)&&JM.call(n,n.previous)&&!y1(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):r(d)}function s(d){if(fr(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(d),l}return r(d)}function l(d){return d===47?(e.consume(d),a?c:(a=!0,l)):r(d)}function c(d){return d===null||Md(d)||mt(d)||Za(d)||Ah(d)?r(d):e.attempt(VM,e.attempt(KM,u),r)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function vZ(e,t,r){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),i):o===46&&n===3?(e.consume(o),a):r(o)}function a(o){return o===null?r(o):t(o)}}function bZ(e,t,r){let n,i,a;return o;function o(c){return c===46||c===95?e.check(GM,l,s)(c):c===null||mt(c)||Za(c)||c!==45&&Ah(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),o}function l(c){return i||n||!a?r(c):t(c)}}function xZ(e,t){let r=0,n=0;return i;function i(o){return o===40?(r++,e.consume(o),i):o===41&&n<r?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(GM,t,a)(o):o===null||mt(o)||Za(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&n++,e.consume(o),i}}function wZ(e,t,r){return n;function n(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),n):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||mt(s)||Za(s)?t(s):r(s)}function i(s){return s===null||s===40||s===91||mt(s)||Za(s)?t(s):n(s)}function a(s){return fr(s)?o(s):r(s)}function o(s){return s===59?(e.consume(s),n):fr(s)?(e.consume(s),o):r(s)}}function _Z(e,t,r){return n;function n(a){return e.consume(a),i}function i(a){return lr(a)?r(a):t(a)}}function QM(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||mt(e)}function JM(e){return!fr(e)}function ZM(e){return!(e===47||g0(e))}function g0(e){return e===43||e===45||e===46||e===95||lr(e)}function y1(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const SZ={tokenize:CZ,partial:!0};function kZ(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:jZ,continuation:{tokenize:PZ},exit:TZ}},text:{91:{name:"gfmFootnoteCall",tokenize:AZ},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:EZ,resolveTo:OZ}}}}function EZ(e,t,r){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return r(l);const c=_n(n.sliceSerialize({start:o.end,end:n.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function OZ(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...s),e}function AZ(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?r(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(a>999||d===93&&!o||d===null||d===91||mt(d))return r(d);if(d===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(_n(n.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(d)}return mt(d)||(o=!0),a++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),a++,c):c(d)}}function jZ(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):r(y)}function u(y){if(o>999||y===93&&!s||y===null||y===91||mt(y))return r(y);if(y===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return a=_n(n.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return mt(y)||(s=!0),o++,e.consume(y),y===92?d:u}function d(y){return y===91||y===92||y===93?(e.consume(y),o++,u):u(y)}function p(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),i.includes(a)||i.push(a),Xe(e,h,"gfmFootnoteDefinitionWhitespace")):r(y)}function h(y){return t(y)}}function PZ(e,t,r){return e.check(tu,t,e.attempt(SZ,t,r))}function TZ(e){e.exit("gfmFootnoteDefinition")}function CZ(e,t,r){const n=this;return Xe(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):r(a)}}function NZ(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",u,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",d,s]],h=s.parser.constructs.insideSpan.null;h&&Br(p,p.length,0,jh(h,o.slice(c+1,l),s)),Br(p,p.length,0,[["exit",d,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",u,s]]),Br(o,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,u=this.events;let d=0;return p;function p(y){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(y):(o.enter("strikethroughSequenceTemporary"),h(y))}function h(y){const m=ns(c);if(y===126)return d>1?l(y):(o.consume(y),d++,h);if(d<2&&!r)return l(y);const g=o.exit("strikethroughSequenceTemporary"),v=ns(y);return g._open=!v||v===2&&!!m,g._close=!m||m===2&&!!v,s(y)}}}class RZ{constructor(){this.map=[]}add(t,r,n){IZ(this,t,r,n)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const a of i)t.push(a);i=n.pop()}this.map.length=0}}function IZ(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function DZ(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function MZ(){return{flow:{null:{name:"table",tokenize:$Z,resolveAll:LZ}}}}function $Z(e,t,r){const n=this;let i=0,a=0,o;return s;function s(A){let N=n.events.length-1;for(;N>-1;){const O=n.events[N][1].type;if(O==="lineEnding"||O==="linePrefix")N--;else break}const C=N>-1?n.events[N][1].type:null,D=C==="tableHead"||C==="tableRow"?S:l;return D===S&&n.parser.lazy[n.now().line]?r(A):D(A)}function l(A){return e.enter("tableHead"),e.enter("tableRow"),c(A)}function c(A){return A===124||(o=!0,a+=1),u(A)}function u(A){return A===null?r(A):Ce(A)?a>1?(a=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),h):r(A):Ke(A)?Xe(e,u,"whitespace")(A):(a+=1,o&&(o=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),d(A)))}function d(A){return A===null||A===124||mt(A)?(e.exit("data"),u(A)):(e.consume(A),A===92?p:d)}function p(A){return A===92||A===124?(e.consume(A),d):d(A)}function h(A){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(A):(e.enter("tableDelimiterRow"),o=!1,Ke(A)?Xe(e,y,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):y(A))}function y(A){return A===45||A===58?g(A):A===124?(o=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),m):w(A)}function m(A){return Ke(A)?Xe(e,g,"whitespace")(A):g(A)}function g(A){return A===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),v):A===45?(a+=1,v(A)):A===null||Ce(A)?_(A):w(A)}function v(A){return A===45?(e.enter("tableDelimiterFiller"),b(A)):w(A)}function b(A){return A===45?(e.consume(A),b):A===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(A))}function x(A){return Ke(A)?Xe(e,_,"whitespace")(A):_(A)}function _(A){return A===124?y(A):A===null||Ce(A)?!o||i!==a?w(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):w(A)}function w(A){return r(A)}function S(A){return e.enter("tableRow"),E(A)}function E(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),E):A===null||Ce(A)?(e.exit("tableRow"),t(A)):Ke(A)?Xe(e,E,"whitespace")(A):(e.enter("data"),P(A))}function P(A){return A===null||A===124||mt(A)?(e.exit("data"),E(A)):(e.consume(A),A===92?T:P)}function T(A){return A===92||A===124?(e.consume(A),P):P(A)}}function LZ(e,t){let r=-1,n=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,u,d;const p=new RZ;for(;++r<e.length;){const h=e[r],y=h[1];h[0]==="enter"?y.type==="tableHead"?(s=!1,l!==0&&(Zk(p,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},p.add(r,0,[["enter",c,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(n=!0,d=void 0,a=[0,0,0,0],o=[0,r+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},p.add(r,0,[["enter",u,t]])),i=y.type==="tableDelimiterRow"?2:u?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=Mu(p,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=r)):y.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(o[0]=o[1],d=Mu(p,t,a,i,void 0,d)),a=o,o=[a[1],r,0,0])):y.type==="tableHead"?(s=!0,l=r):y.type==="tableRow"||y.type==="tableDelimiterRow"?(l=r,a[1]!==0?(o[0]=o[1],d=Mu(p,t,a,i,r,d)):o[1]!==0&&(d=Mu(p,t,o,i,r,d)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=r)}for(l!==0&&Zk(p,t,l,c,u),p.consume(t.events),r=-1;++r<t.events.length;){const h=t.events[r];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=DZ(t.events,r))}return e}function Mu(e,t,r,n,i,a){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",s="tableContent";r[0]!==0&&(a.end=Object.assign({},No(t.events,r[0])),e.add(r[0],0,[["exit",a,t]]));const l=No(t.events,r[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",a,t]]),r[2]!==0){const c=No(t.events,r[2]),u=No(t.events,r[3]),d={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(r[2],0,[["enter",d,t]]),n!==2){const p=t.events[r[2]],h=t.events[r[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const y=r[2]+1,m=r[3]-r[2]-1;e.add(y,m,[])}}e.add(r[3]+1,0,[["exit",d,t]])}return i!==void 0&&(a.end=Object.assign({},No(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Zk(e,t,r,n,i){const a=[],o=No(t.events,r);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),n.end=Object.assign({},o),a.push(["exit",n,t]),e.add(r+1,0,a)}function No(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const FZ={name:"tasklistCheck",tokenize:zZ};function BZ(){return{text:{91:FZ}}}function zZ(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return mt(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):r(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):r(l)}function s(l){return Ce(l)?t(l):Ke(l)?e.check({tokenize:qZ},t,r)(l):r(l)}}function qZ(e,t,r){return Xe(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function UZ(e){return cM([pZ(),kZ(),NZ(e),MZ(),BZ()])}const WZ={};function e$(e){const t=this,r=e||WZ,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(UZ(r)),a.push(uZ()),o.push(dZ(r))}function HZ(){const[e,t]=k.useState(!1),[r,n]=k.useState(""),[i,a]=k.useState("preview"),[o,s]=k.useState(!1),[l,c]=k.useState("idle");return k.useEffect(()=>{(async()=>{const{data:{session:d}}=await be.auth.getSession();if(!d)return;const{data:p,error:h}=await be.from("user_memos").select("content").eq("user_id",d.user.id).single();p?n(p.content||""):h||n(`# Note

Scrivi qui i tuoi appunti...`)})()},[]),k.useEffect(()=>{c("idle");const u=setTimeout(async()=>{const{data:{session:d}}=await be.auth.getSession();if(!d)return;c("saving");const{error:p}=await be.from("user_memos").upsert({user_id:d.user.id,content:r,updated_at:new Date().toISOString()},{onConflict:"user_id"});p?(console.error("Error saving memo:",p),c("error"),qe.error("Errore salvataggio nota: "+(p.message||"Errore sconosciuto"))):c("saved")},1e3);return()=>clearTimeout(u)},[r]),f.jsxs(_h,{open:e,onOpenChange:t,children:[f.jsx(Vw,{asChild:!0,children:f.jsx(We,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Memo / Appunti",children:f.jsx(cw,{className:"h-4 w-4"})})}),f.jsxs(Qc,{className:ce("flex flex-col gap-0 p-0 sm:max-w-xl transition-all duration-300 [&>button:last-child]:hidden",o?"w-[95vw] h-[95vh] sm:max-w-[95vw]":"h-[80vh]"),children:[f.jsx(Zc,{className:"sr-only",children:"Editor di testo in markdown per appunti temporanei e veloci."}),f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/40",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Jc,{className:"font-semibold text-lg",children:"Memo"}),f.jsx("span",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-0.5 rounded",children:".md support"}),f.jsxs("div",{className:"flex items-center gap-1.5 ml-2 text-xs transition-all duration-300",children:[l==="saving"&&f.jsxs(f.Fragment,{children:[f.jsx(wn,{className:"w-3 h-3 animate-spin text-muted-foreground"}),f.jsx("span",{className:"text-muted-foreground",children:"Salvataggio..."})]}),l==="saved"&&f.jsxs(f.Fragment,{children:[f.jsx(Jf,{className:"w-3 h-3 text-green-500"}),f.jsx("span",{className:"text-green-500 font-medium",children:"Salvato"})]}),l==="error"&&f.jsxs(f.Fragment,{children:[f.jsx(Il,{className:"w-3 h-3 text-destructive"}),f.jsx("span",{className:"text-destructive font-medium",children:"Errore Sync"})]})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(We,{variant:"ghost",size:"sm",onClick:()=>a(i==="preview"?"edit":"preview"),className:"gap-2 h-8",title:i==="preview"?"Modifica":"Visualizza",children:i==="preview"?f.jsxs(f.Fragment,{children:[f.jsx(xz,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Modifica"})]}):f.jsxs(f.Fragment,{children:[f.jsx(JN,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Anteprima"})]})}),f.jsx(We,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(!o),title:o?"Riduci":"Espandi",children:o?f.jsx(vz,{className:"w-4 h-4"}):f.jsx(yz,{className:"w-4 h-4"})}),f.jsx(We,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>t(!1),children:f.jsx(Is,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative bg-card",children:i==="edit"?f.jsx(ID,{value:r,onChange:u=>n(u.target.value),className:"w-full h-full resize-none p-6 font-mono text-sm bg-transparent border-0 focus-visible:ring-0 leading-relaxed",placeholder:"# Inizia a scrivere..."}):f.jsx(Zw,{className:"h-full w-full",children:f.jsx("div",{className:"p-6 prose prose-invert prose-sm max-w-none",children:f.jsx(TM,{remarkPlugins:[e$],components:{h1:({node:u,...d})=>f.jsx("h1",{className:"text-3xl font-bold mt-2 mb-6",...d}),h2:({node:u,...d})=>f.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4 border-b border-border/50 pb-2",...d}),code:({node:u,className:d,children:p,...h})=>String(p).includes(`
`)?f.jsx("code",{className:d,...h,children:p}):f.jsx("code",{className:"bg-primary/20 text-primary rounded px-1.5 py-0.5 font-mono text-sm",...h,children:p})},children:r})})})})]})]})}var lm="rovingFocusGroup.onEntryFocus",VZ={bubbles:!1,cancelable:!0},nu="RovingFocusGroup",[y0,t$,KZ]=Kf(nu),[GZ,Nh]=yr(nu,[KZ]),[YZ,XZ]=GZ(nu),r$=k.forwardRef((e,t)=>f.jsx(y0.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(y0.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(QZ,{...e,ref:t})})}));r$.displayName=nu;var QZ=k.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,p=k.useRef(null),h=De(t,p),y=Us(a),[m,g]=Wn({prop:o,defaultProp:s??null,onChange:l,caller:nu}),[v,b]=k.useState(!1),x=Tt(c),_=t$(r),w=k.useRef(!1),[S,E]=k.useState(0);return k.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(lm,x),()=>P.removeEventListener(lm,x)},[x]),f.jsx(YZ,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:m,onItemFocus:k.useCallback(P=>g(P),[g]),onItemShiftTab:k.useCallback(()=>b(!0),[]),onFocusableItemAdd:k.useCallback(()=>E(P=>P+1),[]),onFocusableItemRemove:k.useCallback(()=>E(P=>P-1),[]),children:f.jsx(ke.div,{tabIndex:v||S===0?-1:0,"data-orientation":n,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:Se(e.onMouseDown,()=>{w.current=!0}),onFocus:Se(e.onFocus,P=>{const T=!w.current;if(P.target===P.currentTarget&&T&&!v){const A=new CustomEvent(lm,VZ);if(P.currentTarget.dispatchEvent(A),!A.defaultPrevented){const N=_().filter(F=>F.focusable),C=N.find(F=>F.active),D=N.find(F=>F.id===m),R=[C,D,...N].filter(Boolean).map(F=>F.ref.current);a$(R,u)}}w.current=!1}),onBlur:Se(e.onBlur,()=>b(!1))})})}),n$="RovingFocusGroupItem",i$=k.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=e,l=pi(),c=a||l,u=XZ(n$,r),d=u.currentTabStopId===c,p=t$(r),{onFocusableItemAdd:h,onFocusableItemRemove:y,currentTabStopId:m}=u;return k.useEffect(()=>{if(n)return h(),()=>y()},[n,h,y]),f.jsx(y0.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:f.jsx(ke.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:Se(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:Se(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Se(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=eee(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=p().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const _=x.indexOf(g.currentTarget);x=u.loop?tee(x,_+1):x.slice(_+1)}setTimeout(()=>a$(x))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:m!=null}):o})})});i$.displayName=n$;var JZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZZ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function eee(e,t,r){const n=ZZ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return JZ[n]}function a$(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function tee(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var o$=r$,s$=i$,Rh="Tabs",[ree]=yr(Rh,[Nh]),l$=Nh(),[nee,v1]=ree(Rh),c$=k.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,u=Us(s),[d,p]=Wn({prop:n,onChange:i,defaultProp:a??"",caller:Rh});return f.jsx(nee,{scope:r,baseId:pi(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:f.jsx(ke.div,{dir:u,"data-orientation":o,...c,ref:t})})});c$.displayName=Rh;var u$="TabsList",d$=k.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=v1(u$,r),o=l$(r);return f.jsx(o$,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:f.jsx(ke.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});d$.displayName=u$;var f$="TabsTrigger",h$=k.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=v1(f$,r),s=l$(r),l=g$(o.baseId,n),c=y$(o.baseId,n),u=n===o.value;return f.jsx(s$,{asChild:!0,...s,focusable:!i,active:u,children:f.jsx(ke.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:Se(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:Se(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:Se(e.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(n)})})})});h$.displayName=f$;var p$="TabsContent",m$=k.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,s=v1(p$,r),l=g$(s.baseId,n),c=y$(s.baseId,n),u=n===s.value,d=k.useRef(u);return k.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(ki,{present:i||u,children:({present:p})=>f.jsx(ke.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:p&&a})})});m$.displayName=p$;function g$(e,t){return`${e}-trigger-${t}`}function y$(e,t){return`${e}-content-${t}`}var iee=c$,v$=d$,b$=h$,x$=m$;const Vo=iee,Ua=k.forwardRef(({className:e,...t},r)=>f.jsx(v$,{ref:r,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ua.displayName=v$.displayName;const dt=k.forwardRef(({className:e,...t},r)=>f.jsx(b$,{ref:r,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));dt.displayName=b$.displayName;const wr=k.forwardRef(({className:e,...t},r)=>f.jsx(x$,{ref:r,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wr.displayName=x$.displayName;function Ih(e){const t=k.useRef({value:e,previous:e});return k.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Dh="Switch",[aee]=yr(Dh),[oee,see]=aee(Dh),w$=k.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=e,[p,h]=k.useState(null),y=De(t,x=>h(x)),m=k.useRef(!1),g=p?u||!!p.closest("form"):!0,[v,b]=Wn({prop:i,defaultProp:a??!1,onChange:c,caller:Dh});return f.jsxs(oee,{scope:r,checked:v,disabled:s,children:[f.jsx(ke.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":E$(v),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:y,onClick:Se(e.onClick,x=>{b(_=>!_),g&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),g&&f.jsx(k$,{control:p,bubbles:!m.current,name:n,value:l,checked:v,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});w$.displayName=Dh;var _$="SwitchThumb",S$=k.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=see(_$,r);return f.jsx(ke.span,{"data-state":E$(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});S$.displayName=_$;var lee="SwitchBubbleInput",k$=k.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=k.useRef(null),s=De(o,a),l=Ih(r),c=ih(t);return k.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&h){const y=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(y)}},[l,r,n]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});k$.displayName=lee;function E$(e){return e?"checked":"unchecked"}var O$=w$,cee=S$;const A$=k.forwardRef(({className:e,...t},r)=>f.jsx(O$,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:f.jsx(cee,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));A$.displayName=O$.displayName;const $e=k.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));$e.displayName="Card";const Ge=k.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));Ge.displayName="CardHeader";const Ye=k.forwardRef(({className:e,...t},r)=>f.jsx("h3",{ref:r,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ye.displayName="CardTitle";const mn=k.forwardRef(({className:e,...t},r)=>f.jsx("p",{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));mn.displayName="CardDescription";const Le=k.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ce("p-6 pt-0",e),...t}));Le.displayName="CardContent";const uee=k.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ce("flex items-center p-6 pt-0",e),...t}));uee.displayName="CardFooter";var j$=["PageUp","PageDown"],P$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T$={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Vs="Slider",[v0,dee,fee]=Kf(Vs),[C$]=yr(Vs,[fee]),[hee,Mh]=C$(Vs),N$=k.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:u,onValueChange:d=()=>{},onValueCommit:p=()=>{},inverted:h=!1,form:y,...m}=e,g=k.useRef(new Set),v=k.useRef(0),x=o==="horizontal"?pee:mee,[_=[],w]=Wn({prop:u,defaultProp:c,onChange:N=>{[...g.current][v.current]?.focus(),d(N)}}),S=k.useRef(_);function E(N){const C=xee(_,N);A(N,C)}function P(N){A(N,v.current)}function T(){const N=S.current[v.current];_[v.current]!==N&&p(_)}function A(N,C,{commit:D}={commit:!1}){const O=kee(a),R=Eee(Math.round((N-n)/a)*a+n,O),F=nc(R,[n,i]);w((z=[])=>{const W=vee(z,F,C);if(See(W,l*a)){v.current=W.indexOf(F);const L=String(W)!==String(z);return L&&D&&p(W),L?W:z}else return z})}return f.jsx(hee,{scope:e.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:v,thumbs:g.current,values:_,orientation:o,form:y,children:f.jsx(v0.Provider,{scope:e.__scopeSlider,children:f.jsx(v0.Slot,{scope:e.__scopeSlider,children:f.jsx(x,{"aria-disabled":s,"data-disabled":s?"":void 0,...m,ref:t,onPointerDown:Se(m.onPointerDown,()=>{s||(S.current=_)}),min:n,max:i,inverted:h,onSlideStart:s?void 0:E,onSlideMove:s?void 0:P,onSlideEnd:s?void 0:T,onHomeKeyDown:()=>!s&&A(n,0,{commit:!0}),onEndKeyDown:()=>!s&&A(i,_.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:C})=>{if(!s){const R=j$.includes(N.key)||N.shiftKey&&P$.includes(N.key)?10:1,F=v.current,z=_[F],W=a*R*C;A(z+W,F,{commit:!0})}}})})})})});N$.displayName=Vs;var[R$,I$]=C$(Vs,{startEdge:"left",endEdge:"right",size:"width",direction:1}),pee=k.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,[d,p]=k.useState(null),h=De(t,x=>p(x)),y=k.useRef(void 0),m=Us(i),g=m==="ltr",v=g&&!a||!g&&a;function b(x){const _=y.current||d.getBoundingClientRect(),w=[0,_.width],E=b1(w,v?[r,n]:[n,r]);return y.current=_,E(x-_.left)}return f.jsx(R$,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:f.jsx(D$,{dir:m,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const _=b(x.clientX);o?.(_)},onSlideMove:x=>{const _=b(x.clientX);s?.(_)},onSlideEnd:()=>{y.current=void 0,l?.()},onStepKeyDown:x=>{const w=T$[v?"from-left":"from-right"].includes(x.key);c?.({event:x,direction:w?-1:1})}})})}),mee=k.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...c}=e,u=k.useRef(null),d=De(t,u),p=k.useRef(void 0),h=!i;function y(m){const g=p.current||u.current.getBoundingClientRect(),v=[0,g.height],x=b1(v,h?[n,r]:[r,n]);return p.current=g,x(m-g.top)}return f.jsx(R$,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:f.jsx(D$,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=y(m.clientY);a?.(g)},onSlideMove:m=>{const g=y(m.clientY);o?.(g)},onSlideEnd:()=>{p.current=void 0,s?.()},onStepKeyDown:m=>{const v=T$[h?"from-bottom":"from-top"].includes(m.key);l?.({event:m,direction:v?-1:1})}})})}),D$=k.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...c}=e,u=Mh(Vs,r);return f.jsx(ke.span,{...c,ref:t,onKeyDown:Se(e.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(s(d),d.preventDefault()):j$.concat(P$).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Se(e.onPointerDown,d=>{const p=d.target;p.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(p)?p.focus():n(d)}),onPointerMove:Se(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:Se(e.onPointerUp,d=>{const p=d.target;p.hasPointerCapture(d.pointerId)&&(p.releasePointerCapture(d.pointerId),a(d))})})}),M$="SliderTrack",$$=k.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=Mh(M$,r);return f.jsx(ke.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});$$.displayName=M$;var b0="SliderRange",L$=k.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=Mh(b0,r),a=I$(b0,r),o=k.useRef(null),s=De(t,o),l=i.values.length,c=i.values.map(p=>z$(p,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return f.jsx(ke.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[a.startEdge]:u+"%",[a.endEdge]:d+"%"}})});L$.displayName=b0;var x0="SliderThumb",F$=k.forwardRef((e,t)=>{const r=dee(e.__scopeSlider),[n,i]=k.useState(null),a=De(t,s=>i(s)),o=k.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return f.jsx(gee,{...e,ref:a,index:o})}),gee=k.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...a}=e,o=Mh(x0,r),s=I$(x0,r),[l,c]=k.useState(null),u=De(t,b=>c(b)),d=l?o.form||!!l.closest("form"):!0,p=ih(l),h=o.values[n],y=h===void 0?0:z$(h,o.min,o.max),m=bee(n,o.values.length),g=p?.[s.size],v=g?wee(g,y,s.direction):0;return k.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${y}% + ${v}px)`},children:[f.jsx(v0.ItemSlot,{scope:e.__scopeSlider,children:f.jsx(ke.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:u,style:h===void 0?{display:"none"}:e.style,onFocus:Se(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&f.jsx(B$,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},n)]})});F$.displayName=x0;var yee="RadioBubbleInput",B$=k.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=k.useRef(null),a=De(i,n),o=Ih(t);return k.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("input",{bubbles:!0});u.call(s,t),s.dispatchEvent(d)}},[o,t]),f.jsx(ke.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});B$.displayName=yee;function vee(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,a)=>i-a)}function z$(e,t,r){const a=100/(r-t)*(e-t);return nc(a,[0,100])}function bee(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function xee(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function wee(e,t,r){const n=e/2,a=b1([0,50],[0,n]);return(n-a(t)*r)*r}function _ee(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function See(e,t){if(t>0){const r=_ee(e);return Math.min(...r)>=t}return!0}function b1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function kee(e){return(String(e).split(".")[1]||"").length}function Eee(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var q$=N$,Oee=$$,Aee=L$,jee=F$;const w0=k.forwardRef(({className:e,...t},r)=>f.jsxs(q$,{ref:r,className:ce("relative flex w-full touch-none select-none items-center",e),...t,children:[f.jsx(Oee,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:f.jsx(Aee,{className:"absolute h-full bg-primary"})}),f.jsx(jee,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));w0.displayName=q$.displayName;const Pee=()=>Vn({queryKey:["moods"],queryFn:async()=>{const{data:e,error:t}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(t)throw console.error("Error fetching moods:",t),t;return e}}),U$=()=>{const e=Ve(new Date,"yyyy-MM-dd");return Vn({queryKey:["moods",e],queryFn:async()=>{const{data:t,error:r}=await be.from("daily_moods").select("*").eq("date",e).maybeSingle();if(r)throw console.error("Error fetching today's mood:",r),r;return t}})},Tee=()=>{const e=la();return vn({mutationFn:async t=>{const{data:{user:r}}=await be.auth.getUser();if(!r)throw new Error("No user found");const{data:n,error:i}=await be.from("daily_moods").upsert({...t,user_id:r.id},{onConflict:"user_id,date"}).select().single();if(i)throw i;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["moods"]}),qe.success("Mood & Energy logged successfully!")},onError:t=>{console.error("Error logging mood:",t),qe.error("Failed to log mood.")}})},eE=()=>{const{data:e,isLoading:t}=U$(),r=Tee(),[n,i]=k.useState([5]),[a,o]=k.useState([5]);k.useEffect(()=>{e&&(i([e.mood_score]),o([e.energy_score]))},[e]);const s=()=>{r.mutate({date:Ve(new Date,"yyyy-MM-dd"),mood_score:n[0],energy_score:a[0]})},l=u=>u>=8?"":u>=6?"":u>=4?"":u>=3?"":"",c=u=>"text-foreground";return t?f.jsx("div",{className:"h-40 animate-pulse bg-muted rounded-xl"}):f.jsxs($e,{className:"w-full border shadow-sm overflow-hidden relative",children:[f.jsx(Ge,{className:"pb-2",children:f.jsxs(Ye,{className:"text-lg font-medium flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-2",children:"Daily Check-in"}),!e&&f.jsxs("span",{className:"flex h-2 w-2",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-primary opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]})}),f.jsxs(Le,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[f.jsx(ZN,{className:"w-4 h-4"}),"Mood"]}),f.jsxs("span",{className:ce("text-lg font-bold transition-colors",c(n[0])),children:[l(n[0])," ",n[0],"/10"]})]}),f.jsx(w0,{value:n,onValueChange:i,max:10,min:1,step:1,className:"cursor-pointer"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[f.jsx(eh,{className:"w-4 h-4"}),"Energy"]}),f.jsxs("span",{className:ce("text-lg font-bold transition-colors",c(a[0])),children:[" ",a[0],"/10"]})]}),f.jsx(w0,{value:a,onValueChange:o,max:10,min:1,step:1,className:"cursor-pointer"})]}),f.jsx(We,{onClick:s,disabled:r.isPending,className:"w-full mt-2 transition-all duration-300 transform hover:scale-[1.02]",children:r.isPending?"Saving...":f.jsxs(f.Fragment,{children:[f.jsx(Sz,{className:"w-4 h-4 mr-2"}),e?"Update Daily Status":"Insert Daily Status"]})})]})]})},Cee=()=>{const[e,t]=k.useState("active"),[r,n]=k.useState(null);return k.useEffect(()=>{const i=async()=>{if(!navigator.onLine){t("offline");return}const o=performance.now();try{const{error:s}=await be.from("goals").select("id",{count:"exact",head:!0});s?(console.error("Supabase health check failed:",s),t("error")):(t("active"),n(Math.round(performance.now()-o)))}catch(s){console.error("Supabase connection error:",s),t("error")}};i(),window.addEventListener("online",i),window.addEventListener("offline",()=>t("offline"));const a=setInterval(i,3e4);return()=>{window.removeEventListener("online",i),window.removeEventListener("offline",()=>t("offline")),clearInterval(a)}},[]),{status:e,latency:r}};function Nee(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const W$=I.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),iu=()=>{const e=I.useContext(W$);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Nee(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Ree=24,Iee=typeof window<"u"?k.useLayoutEffect:k.useEffect;function tE(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function Dee(){return x1(/^Mac/)}function Mee(){return x1(/^iPhone/)}function rE(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function $ee(){return x1(/^iPad/)||Dee()&&navigator.maxTouchPoints>1}function H$(){return Mee()||$ee()}function x1(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const cm=typeof document<"u"&&window.visualViewport;function nE(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function V$(e){for(nE(e)&&(e=e.parentElement);e&&!nE(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Lee=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let $u=0,um;function Fee(e={}){let{isDisabled:t}=e;Iee(()=>{if(!t)return $u++,$u===1&&H$()&&(um=Bee()),()=>{$u--,$u===0&&um?.()}},[t])}function Bee(){let e,t=0,r=d=>{e=V$(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},n=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let p=d.changedTouches[0].pageY,h=e.scrollTop,y=e.scrollHeight-e.clientHeight;y!==0&&((h<=0&&p>t||h>=y&&p<t)&&d.preventDefault(),t=p)},i=d=>{let p=d.target;_0(p)&&p!==document.activeElement&&(d.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},a=d=>{let p=d.target;_0(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",cm&&(cm.height<window.innerHeight?requestAnimationFrame(()=>{iE(p)}):cm.addEventListener("resize",()=>iE(p),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,c=tE(zee(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=tE(hl(document,"touchstart",r,{passive:!1,capture:!0}),hl(document,"touchmove",n,{passive:!1,capture:!0}),hl(document,"touchend",i,{passive:!1,capture:!0}),hl(document,"focus",a,!0),hl(window,"scroll",o));return()=>{c(),u(),window.scrollTo(s,l)}}function zee(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function hl(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function iE(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=V$(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+Ree;a>o&&(r.scrollTop+=i-n)}e=r.parentElement}}function _0(e){return e instanceof HTMLInputElement&&!Lee.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function qee(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Uee(...e){return t=>e.forEach(r=>qee(r,t))}function K$(...e){return k.useCallback(Uee(...e),e)}const G$=new WeakMap;function Ut(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}n[i]=e.style[i],e.style[i]=a}),!r&&G$.set(e,n)}function Wee(e,t){if(!e||!(e instanceof HTMLElement))return;let r=G$.get(e);r&&(e.style[t]=r[t])}const Wt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Lu(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Wt(t)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Wt(t)?5:4]):null)}function Hee(e){return 8*(Math.log(e+1)-2)}function dm(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Vee(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Et={DURATION:.5,EASE:[.32,.72,0,1]},Y$=.4,Kee=.25,Gee=100,X$=8,wa=16,S0=26,fm="vaul-dragging";function Q$(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function Yee({defaultProp:e,onChange:t}){const r=I.useState(e),[n]=r,i=I.useRef(n),a=Q$(t);return I.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}function J$({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=Yee({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,s=Q$(r),l=I.useCallback(c=>{if(a){const d=typeof c=="function"?c(e):c;d!==e&&s(d)}else i(c)},[a,e,i,s]);return[o,l]}function Xee({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:s="bottom",container:l,snapToSequentialPoint:c}){const[u,d]=J$({prop:e,defaultProp:r?.[0],onChange:t}),[p,h]=I.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);I.useEffect(()=>{function E(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const y=I.useMemo(()=>u===r?.[r.length-1]||null,[r,u]),m=I.useMemo(()=>r?.findIndex(E=>E===u),[r,u]),g=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===u||!r,v=I.useMemo(()=>{const E=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var P;return(P=r?.map(T=>{const A=typeof T=="string";let N=0;if(A&&(N=parseInt(T,10)),Wt(s)){const D=A?N:p?T*E.height:0;return p?s==="bottom"?E.height-D:-E.height+D:D}const C=A?N:p?T*E.width:0;return p?s==="right"?E.width-C:-E.width+C:C}))!=null?P:[]},[r,p,l]),b=I.useMemo(()=>m!==null?v?.[m]:null,[v,m]),x=I.useCallback(E=>{var P;const T=(P=v?.findIndex(A=>A===E))!=null?P:null;o(T),Ut(n.current,{transition:`transform ${Et.DURATION}s cubic-bezier(${Et.EASE.join(",")})`,transform:Wt(s)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`}),v&&T!==v.length-1&&T!==a&&T<a?Ut(i.current,{transition:`opacity ${Et.DURATION}s cubic-bezier(${Et.EASE.join(",")})`,opacity:"0"}):Ut(i.current,{transition:`opacity ${Et.DURATION}s cubic-bezier(${Et.EASE.join(",")})`,opacity:"1"}),d(r?.[Math.max(T,0)])},[n.current,r,v,a,i,d]);I.useEffect(()=>{if(u||e){var E;const P=(E=r?.findIndex(T=>T===e||T===u))!=null?E:-1;v&&P!==-1&&typeof v[P]=="number"&&x(v[P])}},[u,e,r,v,x]);function _({draggedDistance:E,closeDrawer:P,velocity:T,dismissible:A}){if(a===void 0)return;const N=s==="bottom"||s==="right"?(b??0)-E:(b??0)+E,C=m===a-1,D=m===0,O=E>0;if(C&&Ut(i.current,{transition:`opacity ${Et.DURATION}s cubic-bezier(${Et.EASE.join(",")})`}),!c&&T>2&&!O){A?P():x(v[0]);return}if(!c&&T>2&&O&&v&&r){x(v[r.length-1]);return}const R=v?.reduce((z,W)=>typeof z!="number"||typeof W!="number"?z:Math.abs(W-N)<Math.abs(z-N)?W:z),F=Wt(s)?window.innerHeight:window.innerWidth;if(T>Y$&&Math.abs(E)<F*.4){const z=O?1:-1;if(z>0&&y){x(v[r.length-1]);return}if(D&&z<0&&A&&P(),m===null)return;x(v[m+z]);return}x(R)}function w({draggedDistance:E}){if(b===null)return;const P=s==="bottom"||s==="right"?b-E:b+E;(s==="bottom"||s==="right")&&P<v[v.length-1]||(s==="top"||s==="left")&&P>v[v.length-1]||Ut(n.current,{transform:Wt(s)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function S(E,P){if(!r||typeof m!="number"||!v||a===void 0)return null;const T=m===a-1;if(m>=a&&P)return 0;if(T&&!P)return 1;if(!g&&!T)return null;const N=T?m+1:m-1,C=T?v[N]-v[N-1]:v[N+1]-v[N],D=E/Math.abs(C);return T?1-D:D}return{isLastSnapPoint:y,activeSnapPoint:u,shouldFade:g,getPercentageDragged:S,setActiveSnapPoint:d,activeSnapPointIndex:m,onRelease:_,onDrag:w,snapPointsOffset:v}}const Qee=()=>()=>{};function Jee(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:i}=iu(),a=I.useRef(null),o=k.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-S0)/window.innerWidth}I.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;Vee(n&&!i?dm(document.body,{background:"black"}):Qee,dm(l,{transformOrigin:Wt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Et.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Et.EASE.join(",")})`}));const c=dm(l,{borderRadius:`${X$}px`,overflow:"hidden",...Wt(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Et.DURATION*1e3)}}},[t,r,o])}let pl=null;function Zee({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:i,noBodyStyles:a}){const[o,s]=I.useState(()=>typeof window<"u"?window.location.href:""),l=I.useRef(0),c=I.useCallback(()=>{if(rE()&&pl===null&&e&&!a){pl={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=p-window.innerHeight;h&&l.current>=p&&(document.body.style.top=`${-(l.current+h)}px`)}),300)}},[e]),u=I.useCallback(()=>{if(rE()&&pl!==null&&!a){const d=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,pl),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){s(window.location.href);return}window.scrollTo(p,d)}),pl=null}},[o]);return I.useEffect(()=>{function d(){l.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),I.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{u()},500)):u())},[e,n,o,t,r,c,u]),{restorePositionSetting:u}}function ete({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:s=!0,closeThreshold:l=Kee,scrollLockTimeout:c=Gee,dismissible:u=!0,handleOnly:d=!1,fadeFromIndex:p=a&&a.length-1,activeSnapPoint:h,setActiveSnapPoint:y,fixed:m,modal:g=!0,onClose:v,nested:b,noBodyStyles:x,direction:_="bottom",defaultOpen:w=!1,disablePreventScroll:S=!0,snapToSequentialPoint:E=!1,preventScrollRestoration:P=!1,repositionInputs:T=!0,onAnimationEnd:A,container:N,autoFocus:C=!1}){var D,O;const[R=!1,F]=J$({defaultProp:w,prop:e,onChange:Ee=>{t?.(Ee),!Ee&&!b&&Y(),setTimeout(()=>{A?.(Ee)},Et.DURATION*1e3),Ee&&!g&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ee||(document.body.style.pointerEvents="auto")}}),[z,W]=I.useState(!1),[L,M]=I.useState(!1),[H,B]=I.useState(!1),$=I.useRef(null),Q=I.useRef(null),ee=I.useRef(null),pe=I.useRef(null),te=I.useRef(null),re=I.useRef(!1),J=I.useRef(null),le=I.useRef(0),se=I.useRef(!1),Z=I.useRef(0),de=I.useRef(null),j=I.useRef(((D=de.current)==null?void 0:D.getBoundingClientRect().height)||0),G=I.useRef(((O=de.current)==null?void 0:O.getBoundingClientRect().width)||0),V=I.useRef(0),U=I.useCallback(Ee=>{a&&Ee===X.length-1&&(Q.current=new Date)},[]),{activeSnapPoint:q,activeSnapPointIndex:K,setActiveSnapPoint:ae,onRelease:ne,snapPointsOffset:X,onDrag:ue,shouldFade:ye,getPercentageDragged:he}=Xee({snapPoints:a,activeSnapPointProp:h,setActiveSnapPointProp:y,drawerRef:de,fadeFromIndex:p,overlayRef:$,onSnapPointChange:U,direction:_,container:N,snapToSequentialPoint:E});Fee({isDisabled:!R||L||!g||H||!z||!T||!S});const{restorePositionSetting:Y}=Zee({isOpen:R,modal:g,nested:b,hasBeenOpened:z,preventScrollRestoration:P,noBodyStyles:x});function oe(){return(window.innerWidth-S0)/window.innerWidth}function ge(Ee){var Qe,it;!u&&!a||de.current&&!de.current.contains(Ee.target)||(j.current=((Qe=de.current)==null?void 0:Qe.getBoundingClientRect().height)||0,G.current=((it=de.current)==null?void 0:it.getBoundingClientRect().width)||0,M(!0),ee.current=new Date,H$()&&window.addEventListener("touchend",()=>re.current=!1,{once:!0}),Ee.target.setPointerCapture(Ee.pointerId),le.current=Wt(_)?Ee.pageY:Ee.pageX)}function Te(Ee,Qe){var it,lt;let Ue=Ee;const gt=(it=window.getSelection())==null?void 0:it.toString(),Jt=de.current?Lu(de.current,_):null,Ae=new Date;if(Ue.hasAttribute("data-vaul-no-drag")||Ue.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(Q.current&&Ae.getTime()-Q.current.getTime()<500)return!1;if(Jt!==null&&(_==="bottom"?Jt>0:Jt<0))return!0;if(gt&&gt.length>0)return!1;if(Ae.getTime()-((lt=te.current)==null?void 0:lt.getTime())<c&&Jt===0||Qe)return te.current=Ae,!1;for(;Ue;){if(Ue.scrollHeight>Ue.clientHeight){if(Ue.scrollTop!==0)return te.current=new Date,!1;if(Ue.getAttribute("role")==="dialog")return!0}Ue=Ue.parentNode}return!0}function Be(Ee){if(de.current&&L){const Qe=_==="bottom"||_==="right"?1:-1,it=(le.current-(Wt(_)?Ee.pageY:Ee.pageX))*Qe,lt=it>0,Ue=a&&!u&&!lt;if(Ue&&K===0)return;const gt=Math.abs(it),Jt=document.querySelector("[data-vaul-drawer-wrapper]"),Ae=_==="bottom"||_==="top"?j.current:G.current;let ze=gt/Ae;const et=he(gt,lt);if(et!==null&&(ze=et),Ue&&ze>=1||!re.current&&!Te(Ee.target,lt))return;if(de.current.classList.add(fm),re.current=!0,Ut(de.current,{transition:"none"}),Ut($.current,{transition:"none"}),a&&ue({draggedDistance:it}),lt&&!a){const Ot=Hee(it),jr=Math.min(Ot*-1,0)*Qe;Ut(de.current,{transform:Wt(_)?`translate3d(0, ${jr}px, 0)`:`translate3d(${jr}px, 0, 0)`});return}const Ct=1-ze;if((ye||p&&K===p-1)&&(n?.(Ee,ze),Ut($.current,{opacity:`${Ct}`,transition:"none"},!0)),Jt&&$.current&&o){const Ot=Math.min(oe()+ze*(1-oe()),1),jr=8-ze*8,jn=Math.max(0,14-ze*14);Ut(Jt,{borderRadius:`${jr}px`,transform:Wt(_)?`scale(${Ot}) translate3d(0, ${jn}px, 0)`:`scale(${Ot}) translate3d(${jn}px, 0, 0)`,transition:"none"},!0)}if(!a){const Ot=gt*Qe;Ut(de.current,{transform:Wt(_)?`translate3d(0, ${Ot}px, 0)`:`translate3d(${Ot}px, 0, 0)`})}}}I.useEffect(()=>{var Ee;function Qe(){if(!de.current||!T)return;const it=document.activeElement;if(_0(it)||se.current){var lt;const Ue=((lt=window.visualViewport)==null?void 0:lt.height)||0,gt=window.innerHeight;let Jt=gt-Ue;const Ae=de.current.getBoundingClientRect().height||0,ze=Ae>gt*.8;V.current||(V.current=Ae);const et=de.current.getBoundingClientRect().top;if(Math.abs(Z.current-Jt)>60&&(se.current=!se.current),a&&a.length>0&&X&&K){const Ct=X[K]||0;Jt+=Ct}if(Z.current=Jt,Ae>Ue||se.current){const Ct=de.current.getBoundingClientRect().height;let Ot=Ct;Ct>Ue&&(Ot=Ue-(ze?et:S0)),m?de.current.style.height=`${Ct-Math.max(Jt,0)}px`:de.current.style.height=`${Math.max(Ot,Ue-et)}px`}else de.current.style.height=`${V.current}px`;a&&a.length>0&&!se.current?de.current.style.bottom="0px":de.current.style.bottom=`${Math.max(Jt,0)}px`}}return(Ee=window.visualViewport)==null||Ee.addEventListener("resize",Qe),()=>{var it;return(it=window.visualViewport)==null?void 0:it.removeEventListener("resize",Qe)}},[K,a,X]);function nt(Ee){He(),v?.(),Ee||F(!1),setTimeout(()=>{a&&ae(a[0])},Et.DURATION*1e3)}function Ft(){if(!de.current)return;const Ee=document.querySelector("[data-vaul-drawer-wrapper]"),Qe=Lu(de.current,_);Ut(de.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Et.DURATION}s cubic-bezier(${Et.EASE.join(",")})`}),Ut($.current,{transition:`opacity ${Et.DURATION}s cubic-bezier(${Et.EASE.join(",")})`,opacity:"1"}),o&&Qe&&Qe>0&&R&&Ut(Ee,{borderRadius:`${X$}px`,overflow:"hidden",...Wt(_)?{transform:`scale(${oe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${oe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Et.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Et.EASE.join(",")})`},!0)}function He(){!L||!de.current||(de.current.classList.remove(fm),re.current=!1,M(!1),pe.current=new Date)}function Bt(Ee){if(!L||!de.current)return;de.current.classList.remove(fm),re.current=!1,M(!1),pe.current=new Date;const Qe=Lu(de.current,_);if(!Te(Ee.target,!1)||!Qe||Number.isNaN(Qe)||ee.current===null)return;const it=pe.current.getTime()-ee.current.getTime(),lt=le.current-(Wt(_)?Ee.pageY:Ee.pageX),Ue=Math.abs(lt)/it;if(Ue>.05&&(B(!0),setTimeout(()=>{B(!1)},200)),a){ne({draggedDistance:lt*(_==="bottom"||_==="right"?1:-1),closeDrawer:nt,velocity:Ue,dismissible:u}),i?.(Ee,!0);return}if(_==="bottom"||_==="right"?lt>0:lt<0){Ft(),i?.(Ee,!0);return}if(Ue>Y$){nt(),i?.(Ee,!1);return}var gt;const Jt=Math.min((gt=de.current.getBoundingClientRect().height)!=null?gt:0,window.innerHeight);var Ae;const ze=Math.min((Ae=de.current.getBoundingClientRect().width)!=null?Ae:0,window.innerWidth),et=_==="left"||_==="right";if(Math.abs(Qe)>=(et?ze:Jt)*l){nt(),i?.(Ee,!1);return}i?.(Ee,!0),Ft()}I.useEffect(()=>(R&&(Ut(document.documentElement,{scrollBehavior:"auto"}),Q.current=new Date),()=>{Wee(document.documentElement,"scrollBehavior")}),[R]);function vr(Ee){const Qe=Ee?(window.innerWidth-wa)/window.innerWidth:1,it=Ee?-wa:0;J.current&&window.clearTimeout(J.current),Ut(de.current,{transition:`transform ${Et.DURATION}s cubic-bezier(${Et.EASE.join(",")})`,transform:`scale(${Qe}) translate3d(0, ${it}px, 0)`}),!Ee&&de.current&&(J.current=setTimeout(()=>{const lt=Lu(de.current,_);Ut(de.current,{transition:"none",transform:Wt(_)?`translate3d(0, ${lt}px, 0)`:`translate3d(${lt}px, 0, 0)`})},500))}function Ze(Ee,Qe){if(Qe<0)return;const it=(window.innerWidth-wa)/window.innerWidth,lt=it+Qe*(1-it),Ue=-wa+Qe*wa;Ut(de.current,{transform:Wt(_)?`scale(${lt}) translate3d(0, ${Ue}px, 0)`:`scale(${lt}) translate3d(${Ue}px, 0, 0)`,transition:"none"})}function Ar(Ee,Qe){const it=Wt(_)?window.innerHeight:window.innerWidth,lt=Qe?(it-wa)/it:1,Ue=Qe?-wa:0;Qe&&Ut(de.current,{transition:`transform ${Et.DURATION}s cubic-bezier(${Et.EASE.join(",")})`,transform:Wt(_)?`scale(${lt}) translate3d(0, ${Ue}px, 0)`:`scale(${lt}) translate3d(${Ue}px, 0, 0)`})}return I.createElement(vh,{defaultOpen:w,onOpenChange:Ee=>{!u&&!Ee||(Ee?W(!0):nt(!0),F(Ee))},open:R},I.createElement(W$.Provider,{value:{activeSnapPoint:q,snapPoints:a,setActiveSnapPoint:ae,drawerRef:de,overlayRef:$,onOpenChange:t,onPress:ge,onRelease:Bt,onDrag:Be,dismissible:u,handleOnly:d,isOpen:R,isDragging:L,shouldFade:ye,closeDrawer:nt,onNestedDrag:Ze,onNestedOpenChange:vr,onNestedRelease:Ar,keyboardIsOpen:se,modal:g,snapPointsOffset:X,direction:_,shouldScaleBackground:o,setBackgroundColorOnScale:s,noBodyStyles:x,container:N,autoFocus:C}},r))}const Z$=I.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:i,shouldFade:a,isOpen:o,modal:s}=iu(),l=K$(t,r),c=n&&n.length>0;return s?I.createElement(Fs,{onMouseUp:i,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":o&&c?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});Z$.displayName="Drawer.Overlay";const e5=I.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},i){const{drawerRef:a,onPress:o,onRelease:s,onDrag:l,keyboardIsOpen:c,snapPointsOffset:u,modal:d,isOpen:p,direction:h,snapPoints:y,container:m,handleOnly:g,autoFocus:v}=iu(),[b,x]=I.useState(!1),_=K$(i,a),w=I.useRef(null),S=I.useRef(null),E=I.useRef(!1),P=y&&y.length>0;Jee();const T=(N,C,D=0)=>{if(E.current)return!0;const O=Math.abs(N.y),R=Math.abs(N.x),F=R>O,z=["bottom","right"].includes(C)?1:-1;if(C==="left"||C==="right"){if(!(N.x*z<0)&&R>=0&&R<=D)return F}else if(!(N.y*z<0)&&O>=0&&O<=D)return!F;return E.current=!0,!0};I.useEffect(()=>{P&&window.requestAnimationFrame(()=>{x(!0)})},[]);function A(N){w.current=null,E.current=!1,s(N)}return I.createElement(Bs,{"data-vaul-drawer-direction":h,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":p&&P?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:_,style:u&&u.length>0?{"--snap-point-height":`${u[0]}px`,...t}:t,onPointerDown:N=>{g||(n.onPointerDown==null||n.onPointerDown.call(n,N),w.current={x:N.pageX,y:N.pageY},o(N))},onOpenAutoFocus:N=>{r?.(N),v||N.preventDefault()},onPointerDownOutside:N=>{if(e?.(N),!d||N.defaultPrevented){N.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:N=>{if(!d){N.preventDefault();return}},onPointerMove:N=>{if(S.current=N,g||(n.onPointerMove==null||n.onPointerMove.call(n,N),!w.current))return;const C=N.pageY-w.current.y,D=N.pageX-w.current.x,O=N.pointerType==="touch"?10:2;T({x:D,y:C},h,O)?l(N):(Math.abs(D)>O||Math.abs(C)>O)&&(w.current=null)},onPointerUp:N=>{n.onPointerUp==null||n.onPointerUp.call(n,N),w.current=null,E.current=!1,s(N)},onPointerOut:N=>{n.onPointerOut==null||n.onPointerOut.call(n,N),A(S.current)},onContextMenu:N=>{n.onContextMenu==null||n.onContextMenu.call(n,N),A(S.current)}})});e5.displayName="Drawer.Content";const tte=250,rte=120,nte=I.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:s,setActiveSnapPoint:l,dismissible:c,handleOnly:u,isOpen:d,onPress:p,onDrag:h}=iu(),y=I.useRef(null),m=I.useRef(!1);function g(){if(m.current){x();return}window.setTimeout(()=>{v()},rte)}function v(){if(a||e||m.current){x();return}if(x(),(!o||o.length===0)&&c){i();return}if(s===o[o.length-1]&&c){i();return}const w=o.findIndex(E=>E===s);if(w===-1)return;const S=o[w+1];l(S)}function b(){y.current=window.setTimeout(()=>{m.current=!0},tte)}function x(){window.clearTimeout(y.current),m.current=!1}return I.createElement("div",{onClick:g,onPointerCancel:x,onPointerDown:_=>{u&&p(_),b()},onPointerMove:_=>{u&&h(_)},ref:n,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},I.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});nte.displayName="Drawer.Handle";function ite(e){const t=iu(),{container:r=t.container,...n}=e;return I.createElement(xh,{container:r,...n})}const Jn={Root:ete,Content:e5,Overlay:Z$,Trigger:bh,Portal:ite,Title:zs,Description:qs},t5=({shouldScaleBackground:e=!0,...t})=>f.jsx(Jn.Root,{shouldScaleBackground:e,...t});t5.displayName="Drawer";const ate=Jn.Trigger,ote=Jn.Portal,r5=k.forwardRef(({className:e,...t},r)=>f.jsx(Jn.Overlay,{ref:r,className:ce("fixed inset-0 z-50 bg-black/80",e),...t}));r5.displayName=Jn.Overlay.displayName;const n5=k.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(ote,{children:[f.jsx(r5,{}),f.jsxs(Jn.Content,{ref:n,className:ce("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[f.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));n5.displayName="DrawerContent";const i5=({className:e,...t})=>f.jsx("div",{className:ce("grid gap-1.5 p-4 text-center sm:text-left",e),...t});i5.displayName="DrawerHeader";const a5=k.forwardRef(({className:e,...t},r)=>f.jsx(Jn.Title,{ref:r,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));a5.displayName=Jn.Title.displayName;const o5=k.forwardRef(({className:e,...t},r)=>f.jsx(Jn.Description,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));o5.displayName=Jn.Description.displayName;const ste=()=>{const e=SN(),{status:t,latency:r}=Cee(),{data:n}=U$(),{goals:i,logs:a,allGoals:o,rawLogs:s,createGoal:l,updateGoal:c,deleteGoal:u,toggleGoal:d,isDeleting:p,isUpdating:h,resetAllData:y,isResetting:m}=Lw(),{isPrivacyMode:g,setIsPrivacyMode:v}=ph(),b=()=>{if(!s||!o){qe.error("Nessun dato da esportare");return}try{const w=new Map(o.map(A=>[A.id,A.title])),S=["Date,Habit Name,Status,Value,Notes"];s.forEach(A=>{const N=w.get(A.goal_id)||"Archived Habit",C=O=>`"${O.replace(/"/g,'""')}"`,D=[A.date,C(N),A.status,A.value||"",A.notes?C(A.notes):""].join(",");S.push(D)});const E=new Blob([S.join(`
`)],{type:"text/csv;charset=utf-8;"}),P=window.URL.createObjectURL(E),T=document.createElement("a");T.href=P,T.download=`habit-tracker-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(T),T.click(),window.URL.revokeObjectURL(P),document.body.removeChild(T),qe.success("Export completato!")}catch(w){console.error("Export failed:",w),qe.error("Errore durante l'export")}},[x,_]=k.useState("month");return f.jsxs("div",{className:"flex-1 h-full overflow-hidden flex flex-col pt-4 lg:pt-8 pb-0 sm:pb-8 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[2400px] mx-auto",children:[f.jsx("div",{className:"fixed top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-2 lg:gap-8 w-full h-full lg:h-full",children:[f.jsxs("div",{className:"lg:col-span-3 space-y-2 lg:space-y-8",children:[f.jsxs("div",{className:"glass-panel p-4 lg:p-6 rounded-2xl space-y-4 transition-all",children:[f.jsxs("div",{className:"flex flex-row lg:flex-col items-center lg:items-start justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl lg:text-3xl font-display font-bold text-foreground",children:"Protocollo"}),f.jsx("p",{className:"text-muted-foreground text-xs lg:text-sm",children:"Esecuzione giornaliera."})]}),f.jsxs("div",{className:"flex items-center space-x-2 lg:pt-2",children:[f.jsx(A$,{id:"privacy-mode",checked:g,onCheckedChange:v}),f.jsxs(Ln,{htmlFor:"privacy-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[g?f.jsx(dz,{className:"w-3 h-3"}):f.jsx(JN,{className:"w-3 h-3"}),"Privacy"]})]})]}),f.jsxs("div",{className:"pt-0 lg:pt-4 border-t-0 lg:border-t border-white/5 flex gap-2 justify-end lg:justify-start",children:[f.jsx("div",{className:"lg:hidden mr-auto relative",children:f.jsxs(t5,{shouldScaleBackground:!1,children:[f.jsx(ate,{asChild:!0,children:f.jsxs(We,{variant:"outline",size:"icon",className:ce("h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 transition-all",n?"text-muted-foreground":"text-primary border-primary/40 shadow-[0_0_10px_-3px_rgba(255,255,255,0.1)]"),children:[f.jsx(ZN,{className:ce("h-4 w-4",!n&&"animate-pulse")}),!n&&f.jsx("span",{className:"absolute top-2 right-2.5 h-1.5 w-1.5 rounded-full bg-red-500 shadow-[0_0_8px_2px_rgba(239,68,68,0.5)] animate-pulse"})]})}),f.jsx(n5,{children:f.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[f.jsxs(i5,{children:[f.jsx(a5,{children:"Daily Check-in"}),f.jsx(o5,{children:"Traccia il tuo umore ed energia."})]}),f.jsx("div",{className:"p-4 pb-8",children:f.jsx(eE,{})})]})})]})}),f.jsx(HZ,{}),f.jsx(lG,{habits:i,onAddHabit:l,onUpdateHabit:c,onRemoveHabit:u,isDeleting:p,isUpdating:h,isPrivacyMode:g}),f.jsxs(qa,{children:[f.jsx(ts,{asChild:!0,children:f.jsx(We,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Esporta dati CSV",children:f.jsx(Zf,{className:"h-4 w-4"})})}),f.jsxs(Yi,{children:[f.jsxs(Xi,{children:[f.jsx(Ji,{children:"Esportare i dati?"}),f.jsxs(Zi,{children:["Verr scaricato un file CSV contenente tutto lo storico delle tue abitudini. ",f.jsx("br",{}),"Vuoi procedere con il download?"]})]}),f.jsxs(Qi,{children:[f.jsx(Ja,{children:"Annulla"}),f.jsx(ea,{onClick:b,children:"Esporta CSV"})]})]})]}),f.jsx(We,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 hover:bg-primary/10",title:"Backup Completo",onClick:()=>e("/complete-backup"),children:f.jsx(QN,{className:"h-4 w-4"})}),f.jsxs(qa,{children:[f.jsx(ts,{asChild:!0,children:f.jsx(We,{variant:"ghost",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border-red-500/20",title:"Hard Reset (Elimina tutto)",children:f.jsx(uw,{className:"h-4 w-4"})})}),f.jsxs(Yi,{children:[f.jsxs(Xi,{children:[f.jsx(Ji,{className:"text-destructive",children:"Hard Reset: Attenzione!"}),f.jsxs(Zi,{children:["Questa azione eliminer ",f.jsx("strong",{children:"definitivamente"})," tutte le tue abitudini e tutto lo storico dei progressi.",f.jsx("br",{}),f.jsx("br",{}),"I dati non potranno essere recuperati. Sei sicuro di voler procedere?"]})]}),f.jsxs(Qi,{children:[f.jsx(Ja,{children:"Annulla"}),f.jsx(ea,{onClick:()=>y(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:m,children:m?"Eliminazione...":"Conferma Reset Totale"})]})]})]})]})]}),f.jsxs("div",{className:"glass-card p-6 rounded-2xl hidden lg:block transition-colors duration-300",children:[f.jsxs("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-widest mb-2 flex items-center justify-between",children:["System Status",t==="active"&&f.jsx(jz,{className:"w-4 h-4 text-green-500"}),t==="offline"&&f.jsx(Az,{className:"w-4 h-4 text-yellow-500"}),t==="error"&&f.jsx(md,{className:"w-4 h-4 text-red-500"})]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:ce("text-2xl font-bold font-mono-nums transition-colors",t==="active"?"text-primary":t==="offline"?"text-yellow-500":"text-red-500"),children:t==="active"?"Online":t==="offline"?"Offline":"Error"}),f.jsx("span",{className:ce("w-2 h-2 rounded-full animate-pulse",t==="active"?"bg-green-500":t==="offline"?"bg-yellow-500":"bg-red-500")})]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-4 flex justify-between items-center",children:[f.jsx("span",{children:"Mattioli.OS v4.1"}),r&&f.jsxs("span",{className:"font-mono opacity-50",children:[r,"ms"]})]})]}),f.jsx("div",{className:"hidden lg:block",children:f.jsx(eE,{})})]}),f.jsx("div",{className:"lg:col-span-9 flex flex-col flex-1 h-full min-h-0 overflow-hidden lg:overflow-visible",children:f.jsxs(Vo,{defaultValue:"month",value:x,onValueChange:_,className:"w-full h-full flex flex-col",children:[f.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 lg:mb-4 shrink-0",children:f.jsxs(Ua,{className:"grid w-full grid-cols-3 bg-card/40 border border-white/10 backdrop-blur-md rounded-xl p-1 shadow-sm h-10 sm:h-auto",children:[f.jsxs(dt,{value:"month",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[f.jsx(Xo,{className:"w-4 h-4"}),f.jsx("span",{className:"xs:inline",children:"Mese"})]}),f.jsxs(dt,{value:"week",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[f.jsx(hz,{className:"w-4 h-4"}),f.jsx("span",{className:"xs:inline",children:"Settimana"})]}),f.jsxs(dt,{value:"year",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[f.jsx(pz,{className:"w-4 h-4"}),f.jsx("span",{className:"xs:inline",children:"Anno"})]})]})}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-0 glass-panel rounded-xl sm:rounded-2xl p-0 sm:p-2 overflow-hidden mb-2",children:[f.jsx(wr,{value:"month",className:"mt-0 animate-scale-in h-full",children:f.jsx(xK,{habits:i,records:a,onToggleHabit:d,isPrivacyMode:g})}),f.jsx(wr,{value:"week",className:"mt-0 animate-scale-in h-full",children:f.jsx(wK,{habits:i,records:a,onToggleHabit:d,isPrivacyMode:g})}),f.jsx(wr,{value:"year",className:"mt-0 animate-scale-in h-full",children:f.jsx(SK,{habits:i,records:a,onToggleHabit:d,isPrivacyMode:g})})]})]})})]})]})};function s5(e,t,r="weekly"){return k.useMemo(()=>{const n=Nn(new Date),i=Object.keys(t).sort(),a=e.map(L=>{const M=Nn(new Date(L.start_date)),H=L.id;let B=0,$=0,Q=0,ee=0;const pe=Math.max(0,tc(n,M)+1),te=new Date(n);let re=!0;const J=Ve(te,"yyyy-MM-dd"),le=t[J]?.[H];le==="done"?B++:le==="missed"&&(re=!1);let se=1;for(;;){const U=Mt(n,se);if(Pn(U,M))break;const q=Ve(U,"yyyy-MM-dd"),K=t[q]?.[H];if(K==="done"?re&&B++:K==="missed"&&(re=!1),!re||se>365*5)break;se++}if(pe>0){for(let U=0;U<pe;U++){const q=Mt(n,U),K=Ve(q,"yyyy-MM-dd"),ae=t[K]?.[H];ae==="done"?(ee++,Q++):ae==="missed"&&($=Math.max($,Q),Q=0)}$=Math.max($,Q)}let Z=0,de=0;const j=Mt(n,29),G=Li(M,j)?M:j;Li(G,n)||bn({start:G,end:n}).forEach(U=>{Z++;const q=Ve(U,"yyyy-MM-dd");t[q]?.[H]==="done"&&de++});const V=Z>0?Math.round(de/Z*100):0;return{id:L.id,title:L.title,color:L.color,currentStreak:B,longestStreak:$,totalDays:ee,completionRate:V}}),o=[],s=Mt(n,365);bn({start:s,end:n}).forEach(L=>{const M=Ve(L,"yyyy-MM-dd");let H=0,B=0;e.forEach(Q=>{const ee=new Date(Q.start_date);Pn(Nn(L),Nn(ee))||(H++,t[M]?.[Q.id]==="done"&&B++)});let $=0;if(H>0&&B>0){const Q=B/H;Q<=.25?$=1:Q<=.5?$=2:Q<=.75?$=3:$=4}o.push({date:M,count:B,intensity:$})});const l=[];let c,u=n,d="day";switch(r){case"weekly":c=Mt(n,6),d="day";break;case"monthly":c=Mt(n,29),d="day";break;case"annual":c=HS(n,11),d="month";break;case"all":const L=e.reduce((M,H)=>Pn(new Date(H.start_date),M)?new Date(H.start_date):M,n);c=L,tc(n,L)>90?(d="month",c=Da(c)):d="day";break;default:c=Mt(n,6)}if(d==="day")bn({start:c,end:u}).forEach(L=>{const M=Ve(L,"yyyy-MM-dd");let H=Ve(L,"EEE",{locale:Mr});(r==="monthly"||r==="all")&&(H=Ve(L,"dd/MM",{locale:Mr}));const B={date:H};let $=0,Q=0;e.forEach(pe=>{const te=new Date(pe.start_date);if(Pn(Nn(L),Nn(te))){B[pe.id]=0;return}Q++;const J=t[M]?.[pe.id]==="done";J&&$++,B[pe.id]=J?100:0});const ee=Q>0?Math.round($/Q*100):0;B.overall=ee,l.push(B)});else{let L=Da(c);for(;!Li(L,u);){const M=wI(L),H=Pn(M,u)?M:u,B={date:Ve(L,"MMM yy",{locale:Mr})};let $=0,Q=0;e.forEach(pe=>{const te=new Date(pe.start_date),re=Pn(L,te)?te:L;if(Li(re,H)){B[pe.id]=0;return}let J=0,le=0;bn({start:re,end:H}).forEach(Z=>{const de=Ve(Z,"yyyy-MM-dd");le++,t[de]?.[pe.id]==="done"&&J++});const se=le>0?Math.round(J/le*100):0;B[pe.id]=se,$+=le,Q+=J});const ee=$>0?Math.round(Q/$*100):0;B.overall=ee,l.push(B),L=Da(Mt(L,-32))}}const p=[0,0,0,0,0,0,0].map((L,M)=>({dayIndex:M,dayName:Ve(new Date(2024,0,7+M),"EEEE",{locale:Mr}),totalActive:0,totalDone:0,rate:0})),h=e.reduce((L,M)=>Pn(new Date(M.start_date),L)?new Date(M.start_date):L,n),y=Li(h,Mt(n,365))?h:Mt(n,365);Li(y,n)||bn({start:y,end:n}).forEach(L=>{const M=L.getDay(),H=Ve(L,"yyyy-MM-dd");e.forEach(B=>{const $=new Date(B.start_date);Pn(L,$)||(p[M].totalActive++,t[H]?.[B.id]==="done"&&p[M].totalDone++)})}),p.forEach(L=>{L.rate=L.totalActive>0?Math.round(L.totalDone/L.totalActive*100):0});const m=i.length,g=a.length>0?Math.round(a.reduce((L,M)=>L+M.completionRate,0)/a.length):0,v=lte(e,t,n,a),b=rn(n,{locale:Mr,weekStartsOn:1}),x=n,_=k9(b),w=Mt(b,1),S=Da(n),E=n,P=HS(S,1),T=Mt(S,1),A=$w(n),N=n,C=E9(A),D=Mt(A,1),O=hm(e,t,b,x,_,w,"week"),R=hm(e,t,S,E,P,T,"month"),F=hm(e,t,A,N,C,D,"year"),z=e.map(L=>({habitId:L.id,week:O[L.id],month:R[L.id],year:F[L.id]}));return{habitStats:a,heatmapData:o,trendData:l,weekdayStats:p.sort((L,M)=>L.dayIndex===0?1:M.dayIndex===0?-1:L.dayIndex-M.dayIndex),totalActiveDays:m,globalSuccessRate:g,bestStreak:Math.max(...a.map(L=>L.longestStreak),0),worstDay:p.reduce((L,M)=>M.rate<L.rate&&M.totalActive>0?M:L,p[0]).dayName,comparisons:z,criticalHabits:v.sort((L,M)=>L.completionRate-M.completionRate)}},[e,t,r])}function hm(e,t,r,n,i,a,o="month"){const s={},l=e.map(u=>u.id),c=(u,d,p,h)=>{const y=Pn(d,h)?h:d;if(Li(y,p))return 0;let m=0,g=0;return bn({start:y,end:p}).forEach(v=>{m++;const b=Ve(v,"yyyy-MM-dd");t[b]?.[u]==="done"&&g++}),m>0?Math.round(g/m*100):0};return l.forEach(u=>{const d=e.find(v=>v.id===u);if(!d)return;const p=new Date(d.start_date),h=c(u,r,n,p),y=c(u,i,a,p),m=h-y;let g="neutral";m>0&&(g="up"),m<0&&(g="down"),s[u]={previous:y,current:h,change:m,trend:g}}),s}function lte(e,t,r,n){const i=[],a=Mt(r,90);return e.forEach(o=>{const s=[0,0,0,0,0,0,0].map(()=>({total:0,done:0})),l=Pn(a,new Date(o.start_date))?new Date(o.start_date):a,c=Math.max(0,tc(r,new Date(o.start_date)))+1;let u=4;c<8?u=1:c<15?u=2:c<29&&(u=3),Li(l,r)||bn({start:l,end:r}).forEach(m=>{const g=m.getDay(),v=Ve(m,"yyyy-MM-dd");s[g].total++,t[v]?.[o.id]==="done"&&s[g].done++});let d="",p=101;s.forEach((m,g)=>{if(m.total<u)return;const v=Math.round(m.done/m.total*100);if(v<p){p=v;const b=new Date(2024,0,7+g);d=Ve(b,"EEEE",{locale:Mr})}});const h=n.find(m=>m.id===o.id),y=h?h.completionRate:0;p===101&&(d="N/A",p=y),i.push({habitId:o.id,title:o.title,color:o.color,completionRate:y,worstDay:d,worstDayRate:p})}),i}function aE(e,t){if(e.length!==t.length||e.length===0)return 0;const r=e.length,n=e.reduce((u,d)=>u+d,0),i=t.reduce((u,d)=>u+d,0),a=e.reduce((u,d,p)=>u+d*t[p],0),o=e.reduce((u,d)=>u+d*d,0),s=t.reduce((u,d)=>u+d*d,0),l=r*a-n*i,c=Math.sqrt((r*o-n*n)*(r*s-i*i));return c===0?0:l/c}function oE(e){return e<=4?"low":e<=7?"medium":"high"}const cte=(e,t)=>{const{data:r}=Vn({queryKey:["moods"],queryFn:async()=>{const{data:a,error:o}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(o)throw o;return a}}),n=k.useMemo(()=>{if(!r||r.length===0||e.length===0)return[];const a=new Map;return r.forEach(o=>{a.set(o.date,{mood:o.mood_score,energy:o.energy_score})}),e.map(o=>{const s=[];Object.entries(t).forEach(([R,F])=>{const z=F[o.id],W=a.get(R);z&&W&&s.push({date:R,completed:z==="done",mood:W.mood,energy:W.energy})});const l=s.filter(R=>R.completed),c=s.filter(R=>!R.completed),u=l.length>0?l.reduce((R,F)=>R+F.mood,0)/l.length:0,d=c.length>0?c.reduce((R,F)=>R+F.mood,0)/c.length:0,p=l.length>0?l.reduce((R,F)=>R+F.energy,0)/l.length:0,h=c.length>0?c.reduce((R,F)=>R+F.energy,0)/c.length:0,y={low:0,medium:0,high:0},m={low:0,medium:0,high:0},g={low:0,medium:0,high:0},v={low:0,medium:0,high:0};s.forEach(R=>{const F=oE(R.mood),z=oE(R.energy);m[F]++,v[z]++,R.completed&&(y[F]++,g[z]++)});const b={low:m.low>0?y.low/m.low*100:0,medium:m.medium>0?y.medium/m.medium*100:0,high:m.high>0?y.high/m.high*100:0},x={low:v.low>0?g.low/v.low*100:0,medium:v.medium>0?g.medium/v.medium*100:0,high:v.high>0?g.high/v.high*100:0},_=s.map(R=>R.completed?1:0),w=s.map(R=>R.mood),S=s.map(R=>R.energy),E=aE(w,_),P=aE(S,_),A=b.high-b.low>30&&E>.3,C=x.high-x.low>30&&P>.3,D=b.low>=60&&x.low>=60;return{habitId:o.id,habitTitle:o.title,habitColor:o.color,avgMoodWhenCompleted:u,avgMoodWhenMissed:d,avgEnergyWhenCompleted:p,avgEnergyWhenMissed:h,completionRateByMood:b,completionRateByEnergy:x,moodCorrelation:E,energyCorrelation:P,isMoodSensitive:A,isEnergySensitive:C,isResilient:D,totalDaysWithMoodData:s.length,daysCompleted:l.length,daysMissed:c.length}})},[e,t,r]),i=k.useMemo(()=>{const a=n.filter(o=>o.totalDaysWithMoodData>=5);return{moodSensitiveHabits:a.filter(o=>o.isMoodSensitive).sort((o,s)=>s.moodCorrelation-o.moodCorrelation).slice(0,3),energySensitiveHabits:a.filter(o=>o.isEnergySensitive).sort((o,s)=>s.energyCorrelation-o.energyCorrelation).slice(0,3),resilientHabits:a.filter(o=>o.isResilient).sort((o,s)=>s.completionRateByMood.low+s.completionRateByEnergy.low-(o.completionRateByMood.low+o.completionRateByEnergy.low)).slice(0,3),bestAtHighMood:a.sort((o,s)=>s.completionRateByMood.high-o.completionRateByMood.high).slice(0,3),bestAtLowMood:a.sort((o,s)=>s.completionRateByMood.low-o.completionRateByMood.low).slice(0,3),bestAtHighEnergy:a.sort((o,s)=>s.completionRateByEnergy.high-o.completionRateByEnergy.high).slice(0,3),bestAtLowEnergy:a.sort((o,s)=>s.completionRateByEnergy.low-o.completionRateByEnergy.low).slice(0,3)}},[n]);return{correlations:n,insights:i,isLoading:!r}};function ute({globalStats:e,bestHabit:t}){return f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(li,{className:"w-24 h-24"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[f.jsx(li,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Completamento"})]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:[e.globalSuccessRate,"%"]}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"globale"})]})]})]}),f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(F_,{className:"w-24 h-24 text-orange-500"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[f.jsx(F_,{className:"w-4 h-4 text-orange-500"}),f.jsx("span",{className:"text-sm font-medium",children:"Miglior Serie"})]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:"text-4xl font-display font-bold text-foreground",children:e.bestStreak}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"giorni"})]})]})]}),f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(Lo,{className:"w-24 h-24 text-yellow-500"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[f.jsx(Lo,{className:"w-4 h-4 text-yellow-500"}),f.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]}),t?f.jsxs("div",{children:[f.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:t.title}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.completionRate,"% completamento"]})]}):f.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]}),f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx("div",{className:"text-4xl",children:""})}),f.jsxs("div",{children:[f.jsx("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:f.jsx("span",{className:"text-sm font-medium",children:"Giorno Peggiore"})}),e.worstDay?f.jsxs("div",{children:[f.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:e.worstDay}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"Focus richiesto"})]}):f.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]})]})}function dte({data:e}){const t=new Date,r=105,n=e.filter(a=>nH(t,new Date(a.date))<r),i=[];for(let a=r-1;a>=0;a--){const o=Mt(t,a),s=Ve(o,"yyyy-MM-dd"),l=n.find(c=>c.date===s);i.push(l||{date:s,count:0,intensity:0})}return f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[f.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Costanza"}),f.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:i.map(a=>f.jsx("div",{className:ce("w-3 h-3 sm:w-4 sm:h-4 rounded-sm transition-all hover:scale-125 hover:z-10 relative cursor-pointer",a.intensity===0&&"bg-muted/10",a.intensity===1&&"bg-primary/30",a.intensity===2&&"bg-primary/50",a.intensity===3&&"bg-primary/70",a.intensity===4&&"bg-primary"),title:`${a.date}: ${a.count} habits`},a.date))}),f.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted-foreground",children:[f.jsx("span",{children:"Meno"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted/10"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/30"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/70"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),f.jsx("span",{children:"Pi"})]})]})}var pm,sE;function Or(){if(sE)return pm;sE=1;var e=Array.isArray;return pm=e,pm}var mm,lE;function l5(){if(lE)return mm;lE=1;var e=typeof Jr=="object"&&Jr&&Jr.Object===Object&&Jr;return mm=e,mm}var gm,cE;function Zn(){if(cE)return gm;cE=1;var e=l5(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return gm=r,gm}var ym,uE;function au(){if(uE)return ym;uE=1;var e=Zn(),t=e.Symbol;return ym=t,ym}var vm,dE;function fte(){if(dE)return vm;dE=1;var e=au(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var u=n.call(o);return c&&(s?o[i]=l:delete o[i]),u}return vm=a,vm}var bm,fE;function hte(){if(fE)return bm;fE=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return bm=r,bm}var xm,hE;function ji(){if(hE)return xm;hE=1;var e=au(),t=fte(),r=hte(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):r(s)}return xm=o,xm}var wm,pE;function Pi(){if(pE)return wm;pE=1;function e(t){return t!=null&&typeof t=="object"}return wm=e,wm}var _m,mE;function Ks(){if(mE)return _m;mE=1;var e=ji(),t=Pi(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return _m=n,_m}var Sm,gE;function w1(){if(gE)return Sm;gE=1;var e=Or(),t=Ks(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return Sm=i,Sm}var km,yE;function da(){if(yE)return km;yE=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return km=e,km}var Em,vE;function _1(){if(vE)return Em;vE=1;var e=ji(),t=da(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==i||l==r||l==a}return Em=o,Em}var Om,bE;function pte(){if(bE)return Om;bE=1;var e=Zn(),t=e["__core-js_shared__"];return Om=t,Om}var Am,xE;function mte(){if(xE)return Am;xE=1;var e=pte(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Am=r,Am}var jm,wE;function c5(){if(wE)return jm;wE=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return jm=r,jm}var Pm,_E;function gte(){if(_E)return Pm;_E=1;var e=_1(),t=mte(),r=da(),n=c5(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!r(p)||t(p))return!1;var h=e(p)?u:a;return h.test(n(p))}return Pm=d,Pm}var Tm,SE;function yte(){if(SE)return Tm;SE=1;function e(t,r){return t?.[r]}return Tm=e,Tm}var Cm,kE;function uo(){if(kE)return Cm;kE=1;var e=gte(),t=yte();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return Cm=r,Cm}var Nm,EE;function $h(){if(EE)return Nm;EE=1;var e=uo(),t=e(Object,"create");return Nm=t,Nm}var Rm,OE;function vte(){if(OE)return Rm;OE=1;var e=$h();function t(){this.__data__=e?e(null):{},this.size=0}return Rm=t,Rm}var Im,AE;function bte(){if(AE)return Im;AE=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Im=e,Im}var Dm,jE;function xte(){if(jE)return Dm;jE=1;var e=$h(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return Dm=i,Dm}var Mm,PE;function wte(){if(PE)return Mm;PE=1;var e=$h(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return Mm=n,Mm}var $m,TE;function _te(){if(TE)return $m;TE=1;var e=$h(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return $m=r,$m}var Lm,CE;function Ste(){if(CE)return Lm;CE=1;var e=vte(),t=bte(),r=xte(),n=wte(),i=_te();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Lm=a,Lm}var Fm,NE;function kte(){if(NE)return Fm;NE=1;function e(){this.__data__=[],this.size=0}return Fm=e,Fm}var Bm,RE;function S1(){if(RE)return Bm;RE=1;function e(t,r){return t===r||t!==t&&r!==r}return Bm=e,Bm}var zm,IE;function Lh(){if(IE)return zm;IE=1;var e=S1();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return zm=t,zm}var qm,DE;function Ete(){if(DE)return qm;DE=1;var e=Lh(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return qm=n,qm}var Um,ME;function Ote(){if(ME)return Um;ME=1;var e=Lh();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Um=t,Um}var Wm,$E;function Ate(){if($E)return Wm;$E=1;var e=Lh();function t(r){return e(this.__data__,r)>-1}return Wm=t,Wm}var Hm,LE;function jte(){if(LE)return Hm;LE=1;var e=Lh();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Hm=t,Hm}var Vm,FE;function Fh(){if(FE)return Vm;FE=1;var e=kte(),t=Ete(),r=Ote(),n=Ate(),i=jte();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Vm=a,Vm}var Km,BE;function k1(){if(BE)return Km;BE=1;var e=uo(),t=Zn(),r=e(t,"Map");return Km=r,Km}var Gm,zE;function Pte(){if(zE)return Gm;zE=1;var e=Ste(),t=Fh(),r=k1();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Gm=n,Gm}var Ym,qE;function Tte(){if(qE)return Ym;qE=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Ym=e,Ym}var Xm,UE;function Bh(){if(UE)return Xm;UE=1;var e=Tte();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Xm=t,Xm}var Qm,WE;function Cte(){if(WE)return Qm;WE=1;var e=Bh();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Qm=t,Qm}var Jm,HE;function Nte(){if(HE)return Jm;HE=1;var e=Bh();function t(r){return e(this,r).get(r)}return Jm=t,Jm}var Zm,VE;function Rte(){if(VE)return Zm;VE=1;var e=Bh();function t(r){return e(this,r).has(r)}return Zm=t,Zm}var eg,KE;function Ite(){if(KE)return eg;KE=1;var e=Bh();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return eg=t,eg}var tg,GE;function E1(){if(GE)return tg;GE=1;var e=Pte(),t=Cte(),r=Nte(),n=Rte(),i=Ite();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,tg=a,tg}var rg,YE;function u5(){if(YE)return rg;YE=1;var e=E1(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=n.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(r.Cache||e),a}return r.Cache=e,rg=r,rg}var ng,XE;function Dte(){if(XE)return ng;XE=1;var e=u5(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return ng=r,ng}var ig,QE;function Mte(){if(QE)return ig;QE=1;var e=Dte(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(r,"$1"):s||o)}),a});return ig=n,ig}var ag,JE;function O1(){if(JE)return ag;JE=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return ag=e,ag}var og,ZE;function $te(){if(ZE)return og;ZE=1;var e=au(),t=O1(),r=Or(),n=Ks(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return og=o,og}var sg,eO;function d5(){if(eO)return sg;eO=1;var e=$te();function t(r){return r==null?"":e(r)}return sg=t,sg}var lg,tO;function f5(){if(tO)return lg;tO=1;var e=Or(),t=w1(),r=Mte(),n=d5();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return lg=i,lg}var cg,rO;function zh(){if(rO)return cg;rO=1;var e=Ks();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return cg=t,cg}var ug,nO;function A1(){if(nO)return ug;nO=1;var e=f5(),t=zh();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return ug=r,ug}var dg,iO;function h5(){if(iO)return dg;iO=1;var e=A1();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return dg=t,dg}var Lte=h5();const zr=Je(Lte);var fg,aO;function Fte(){if(aO)return fg;aO=1;function e(t){return t==null}return fg=e,fg}var Bte=Fte();const Pe=Je(Bte);var hg,oO;function zte(){if(oO)return hg;oO=1;var e=ji(),t=Or(),r=Pi(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return hg=i,hg}var qte=zte();const eo=Je(qte);var Ute=_1();const je=Je(Ute);var Wte=da();const Gs=Je(Wte);var pg={exports:{}},at={};var sO;function Hte(){if(sO)return at;sO=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function m(g){if(typeof g=="object"&&g!==null){var v=g.$$typeof;switch(v){case e:switch(g=g.type,g){case r:case i:case n:case c:case u:return g;default:switch(g=g&&g.$$typeof,g){case s:case o:case l:case p:case d:case a:return g;default:return v}}case t:return v}}}return at.ContextConsumer=o,at.ContextProvider=a,at.Element=e,at.ForwardRef=l,at.Fragment=r,at.Lazy=p,at.Memo=d,at.Portal=t,at.Profiler=i,at.StrictMode=n,at.Suspense=c,at.SuspenseList=u,at.isAsyncMode=function(){return!1},at.isConcurrentMode=function(){return!1},at.isContextConsumer=function(g){return m(g)===o},at.isContextProvider=function(g){return m(g)===a},at.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},at.isForwardRef=function(g){return m(g)===l},at.isFragment=function(g){return m(g)===r},at.isLazy=function(g){return m(g)===p},at.isMemo=function(g){return m(g)===d},at.isPortal=function(g){return m(g)===t},at.isProfiler=function(g){return m(g)===i},at.isStrictMode=function(g){return m(g)===n},at.isSuspense=function(g){return m(g)===c},at.isSuspenseList=function(g){return m(g)===u},at.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===c||g===u||g===h||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===d||g.$$typeof===a||g.$$typeof===o||g.$$typeof===l||g.$$typeof===y||g.getModuleId!==void 0)},at.typeOf=m,at}var lO;function Vte(){return lO||(lO=1,pg.exports=Hte()),pg.exports}var Kte=Vte(),mg,cO;function p5(){if(cO)return mg;cO=1;var e=ji(),t=Pi(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return mg=n,mg}var gg,uO;function Gte(){if(uO)return gg;uO=1;var e=p5();function t(r){return e(r)&&r!=+r}return gg=t,gg}var Yte=Gte();const Ys=Je(Yte);var Xte=p5();const Qte=Je(Xte);var hr=function(t){return t===0?0:t>0?1:-1},Ma=function(t){return eo(t)&&t.indexOf("%")===t.length-1},fe=function(t){return Qte(t)&&!Ys(t)},Jte=function(t){return Pe(t)},Kt=function(t){return fe(t)||eo(t)},Zte=0,fa=function(t){var r=++Zte;return"".concat(t||"").concat(r)},pr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&!eo(t))return n;var a;if(Ma(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return Ys(a)&&(a=n),i&&a>r&&(a=r),a},qi=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ere=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},ft=function(t,r){return fe(t)&&fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Bd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):zr(n,t))===r})}var tre=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,a=0,o=0,s=1/0,l=-1/0,c=0,u=0,d=0;d<r;d++)c=t[d].cx||0,u=t[d].cy||0,n+=c,i+=u,a+=c*u,o+=c*c,s=Math.min(s,c),l=Math.max(l,c);var p=r*o!==n*n?(r*a-n*i)/(r*o-n*n):0;return{xmin:s,xmax:l,a:p,b:(i-p*n)/r}},rre=function(t,r){return fe(t)&&fe(r)?t-r:eo(t)&&eo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ko(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}var nre=["viewBox","children"],ire=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dO=["points","pathLength"],yg={svg:nre,polygon:dO,polyline:dO},j1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!Gs(n))return null;var i={};return Object.keys(n).forEach(function(a){j1.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},are=function(t,r,n){return function(i){return t(r,n,i),null}},oa=function(t,r,n){if(!Gs(t)||k0(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];j1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=are(o,r,n))}),i},ore=["children"],sre=["children"];function fO(e,t){if(e==null)return{};var r=lre(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}var hO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},mi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},pO=null,vg=null,P1=function e(t){if(t===pO&&Array.isArray(vg))return vg;var r=[];return k.Children.forEach(t,function(n){Pe(n)||(Kte.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),vg=r,pO=t,r};function gr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return mi(i)}):n=[mi(t)],P1(e).forEach(function(i){var a=zr(i,"type.displayName")||zr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Nr(e,t){var r=gr(e,t);return r&&r[0]}var mO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!fe(n)||n<=0||!fe(i)||i<=0)},cre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ure=function(t){return t&&t.type&&eo(t.type)&&cre.indexOf(t.type)>=0},m5=function(t){return t&&E0(t)==="object"&&"clipDot"in t},dre=function(t,r,n,i){var a,o=(a=yg?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!je(t)&&(i&&o.includes(r)||ire.includes(r))||n&&j1.includes(r)},ve=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(k.isValidElement(t)&&(i=t.props),!Gs(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;dre((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},O0=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!gO(a,o))return!1}return!0},gO=function(t,r){if(Pe(t)&&Pe(r))return!0;if(!Pe(t)&&!Pe(r)){var n=t.props||{},i=n.children,a=fO(n,ore),o=r.props||{},s=o.children,l=fO(o,sre);return i&&s?Ko(a,l)&&O0(i,s):!i&&!s?Ko(a,l):!1}return!1},yO=function(t,r){var n=[],i={};return P1(t).forEach(function(a,o){if(ure(a))n.push(a);else if(a){var s=mi(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(a,s,o);n.push(d),i[s]=!0}}}),n},fre=function(t){var r=t&&t.type;return r&&hO[r]?hO[r]:null},hre=function(t,r){return P1(r).indexOf(t)},pre=["children","width","height","viewBox","className","style","title","desc"];function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(this,arguments)}function mre(e,t){if(e==null)return{};var r=gre(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j0(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,c=mre(e,pre),u=i||{width:r,height:n,x:0,y:0},d=Ie("recharts-surface",a);return I.createElement("svg",A0({},ve(c,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var yre=["children","className"];function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function vre(e,t){if(e==null)return{};var r=bre(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Me=I.forwardRef(function(e,t){var r=e.children,n=e.className,i=vre(e,yre),a=Ie("recharts-layer",n);return I.createElement("g",P0({className:a},ve(i,!0),{ref:t}),r)}),Sn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},bg,vO;function xre(){if(vO)return bg;vO=1;function e(t,r,n){var i=-1,a=t.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+r];return o}return bg=e,bg}var xg,bO;function wre(){if(bO)return xg;bO=1;var e=xre();function t(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:e(r,n,i)}return xg=t,xg}var wg,xO;function g5(){if(xO)return wg;xO=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function l(c){return s.test(c)}return wg=l,wg}var _g,wO;function _re(){if(wO)return _g;wO=1;function e(t){return t.split("")}return _g=e,_g}var Sg,_O;function Sre(){if(_O)return Sg;_O=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",y=c+"?",m="["+a+"]?",g="(?:"+h+"(?:"+[u,d,p].join("|")+")"+m+y+")*",v=m+y+g,b="(?:"+[u+s+"?",s,d,p,o].join("|")+")",x=RegExp(l+"(?="+l+")|"+b+v,"g");function _(w){return w.match(x)||[]}return Sg=_,Sg}var kg,SO;function kre(){if(SO)return kg;SO=1;var e=_re(),t=g5(),r=Sre();function n(i){return t(i)?r(i):e(i)}return kg=n,kg}var Eg,kO;function Ere(){if(kO)return Eg;kO=1;var e=wre(),t=g5(),r=kre(),n=d5();function i(a){return function(o){o=n(o);var s=t(o)?r(o):void 0,l=s?s[0]:o.charAt(0),c=s?e(s,1).join(""):o.slice(1);return l[a]()+c}}return Eg=i,Eg}var Og,EO;function Ore(){if(EO)return Og;EO=1;var e=Ere(),t=e("toUpperCase");return Og=t,Og}var Are=Ore();const qh=Je(Are);function xt(e){return function(){return e}}const y5=Math.cos,qd=Math.sin,An=Math.sqrt,Ud=Math.PI,Uh=2*Ud,T0=Math.PI,C0=2*T0,Pa=1e-6,jre=C0-Pa;function v5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Pre(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return v5;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Tre{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?v5:Pre(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,c=i-r,u=o-t,d=s-r,p=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Pa)if(!(Math.abs(d*l-c*u)>Pa)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,y=i-s,m=l*l+c*c,g=h*h+y*y,v=Math.sqrt(m),b=Math.sqrt(p),x=a*Math.tan((T0-Math.acos((m+p-g)/(2*v*b)))/2),_=x/b,w=x/v;Math.abs(_-1)>Pa&&this._append`L${t+_*u},${r+_*d}`,this._append`A${a},${a},0,0,${+(d*h>u*y)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,u=r+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Pa||Math.abs(this._y1-u)>Pa)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%C0+C0),p>jre?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:p>Pa&&this._append`A${n},${n},0,${+(p>=T0)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function T1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Tre(t)}function C1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function b5(e){this._context=e}b5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wh(e){return new b5(e)}function x5(e){return e[0]}function w5(e){return e[1]}function _5(e,t){var r=xt(!0),n=null,i=Wh,a=null,o=T1(s);e=typeof e=="function"?e:e===void 0?x5:xt(e),t=typeof t=="function"?t:t===void 0?w5:xt(t);function s(l){var c,u=(l=C1(l)).length,d,p=!1,h;for(n==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,c,l),+t(d,c,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:xt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:xt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:xt(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Fu(e,t,r){var n=null,i=xt(!0),a=null,o=Wh,s=null,l=T1(c);e=typeof e=="function"?e:e===void 0?x5:xt(+e),t=typeof t=="function"?t:xt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?w5:xt(+r);function c(d){var p,h,y,m=(d=C1(d)).length,g,v=!1,b,x=new Array(m),_=new Array(m);for(a==null&&(s=o(b=l())),p=0;p<=m;++p){if(!(p<m&&i(g=d[p],p,d))===v)if(v=!v)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=h;--y)s.point(x[y],_[y]);s.lineEnd(),s.areaEnd()}v&&(x[p]=+e(g,p,d),_[p]=+t(g,p,d),s.point(n?+n(g,p,d):x[p],r?+r(g,p,d):_[p]))}if(b)return s=null,b+""||null}function u(){return _5().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:xt(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:xt(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:xt(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class S5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Cre(e){return new S5(e,!0)}function Nre(e){return new S5(e,!1)}const N1={draw(e,t){const r=An(t/Ud);e.moveTo(r,0),e.arc(0,0,r,0,Uh)}},Rre={draw(e,t){const r=An(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},k5=An(1/3),Ire=k5*2,Dre={draw(e,t){const r=An(t/Ire),n=r*k5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Mre={draw(e,t){const r=An(t),n=-r/2;e.rect(n,n,r,r)}},$re=.8908130915292852,E5=qd(Ud/10)/qd(7*Ud/10),Lre=qd(Uh/10)*E5,Fre=-y5(Uh/10)*E5,Bre={draw(e,t){const r=An(t*$re),n=Lre*r,i=Fre*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Uh*a/5,s=y5(o),l=qd(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},Ag=An(3),zre={draw(e,t){const r=-An(t/(Ag*3));e.moveTo(0,r*2),e.lineTo(-Ag*r,-r),e.lineTo(Ag*r,-r),e.closePath()}},Ur=-.5,Wr=An(3)/2,N0=1/An(12),qre=(N0/2+1)*3,Ure={draw(e,t){const r=An(t/qre),n=r/2,i=r*N0,a=n,o=r*N0+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Ur*n-Wr*i,Wr*n+Ur*i),e.lineTo(Ur*a-Wr*o,Wr*a+Ur*o),e.lineTo(Ur*s-Wr*l,Wr*s+Ur*l),e.lineTo(Ur*n+Wr*i,Ur*i-Wr*n),e.lineTo(Ur*a+Wr*o,Ur*o-Wr*a),e.lineTo(Ur*s+Wr*l,Ur*l-Wr*s),e.closePath()}};function Wre(e,t){let r=null,n=T1(i);e=typeof e=="function"?e:xt(e||N1),t=typeof t=="function"?t:xt(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:xt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:xt(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Wd(){}function Hd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function O5(e){this._context=e}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hre(e){return new O5(e)}function A5(e){this._context=e}A5.prototype={areaStart:Wd,areaEnd:Wd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vre(e){return new A5(e)}function j5(e){this._context=e}j5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kre(e){return new j5(e)}function P5(e){this._context=e}P5.prototype={areaStart:Wd,areaEnd:Wd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Gre(e){return new P5(e)}function OO(e){return e<0?-1:1}function AO(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(OO(a)+OO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function jO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Vd(e){this._context=e}Vd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jg(this,this._t0,jO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jg(this,jO(this,r=AO(this,e,t)),r);break;default:jg(this,this._t0,r=AO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function T5(e){this._context=new C5(e)}(T5.prototype=Object.create(Vd.prototype)).point=function(e,t){Vd.prototype.point.call(this,t,e)};function C5(e){this._context=e}C5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Yre(e){return new Vd(e)}function Xre(e){return new T5(e)}function N5(e){this._context=e}N5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PO(e),i=PO(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PO(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Qre(e){return new N5(e)}function Hh(e,t){this._context=e,this._t=t}Hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Jre(e){return new Hh(e,.5)}function Zre(e){return new Hh(e,0)}function ene(e){return new Hh(e,1)}function is(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function R0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function tne(e,t){return e[t]}function rne(e){const t=[];return t.key=e,t}function nne(){var e=xt([]),t=R0,r=is,n=tne;function i(a){var o=Array.from(e.apply(this,arguments),rne),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,a)]).data=d;for(s=0,u=C1(t(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:xt(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?R0:typeof a=="function"?a:xt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??is,i):r},i}function ine(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}is(e,t)}}function ane(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}is(e,t)}}function one(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[n][1]||0,p=u[n-1][1]||0,h=(d-p)/2,y=0;y<s;++y){var m=e[t[y]],g=m[n][1]||0,v=m[n-1][1]||0;h+=g-v}l+=d,c+=h*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,is(e,t)}}function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}var sne=["type","size","sizeType"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lne(e,t,r){return t=cne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=une(e,"string");return oc(t)=="symbol"?t:t+""}function une(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e,t){if(e==null)return{};var r=fne(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R5={symbolCircle:N1,symbolCross:Rre,symbolDiamond:Dre,symbolSquare:Mre,symbolStar:Bre,symbolTriangle:zre,symbolWye:Ure},hne=Math.PI/180,pne=function(t){var r="symbol".concat(qh(t));return R5[r]||N1},mne=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*hne;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},gne=function(t,r){R5["symbol".concat(qh(t))]=r},Vh=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=dne(t,sne),c=CO(CO({},l),{},{type:n,size:a,sizeType:s}),u=function(){var g=pne(n),v=Wre().type(g).size(mne(a,s,n));return v()},d=c.className,p=c.cx,h=c.cy,y=ve(c,!0);return p===+p&&h===+h&&a===+a?I.createElement("path",I0({},y,{className:Ie("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};Vh.registerSymbol=gne;function as(e){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(this,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){sc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D5(n.key),n)}}function xne(e,t,r){return t&&bne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wne(e,t,r){return t=Kd(t),_ne(e,I5()?Reflect.construct(t,r||[],Kd(e).constructor):t.apply(e,r))}function _ne(e,t){if(t&&(as(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sne(e)}function Sne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(e)}function kne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M0(e,t)}function M0(e,t){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M0(e,t)}function sc(e,t,r){return t=D5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D5(e){var t=Ene(e,"string");return as(t)=="symbol"?t:t+""}function Ene(e,t){if(as(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(as(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hr=32,R1=(function(e){function t(){return vne(this,t),wne(this,t,arguments)}return kne(t,e),xne(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Hr/2,o=Hr/6,s=Hr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Hr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Hr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Hr/8,"h").concat(Hr,"v").concat(Hr*3/4,"h").concat(-Hr,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var c=yne({},n);return delete c.legendIcon,I.cloneElement(n.legendIcon,c)}return I.createElement(Vh,{fill:l,cx:a,cy:a,size:Hr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Hr,height:Hr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,y){var m=h.formatter||l,g=Ie(sc(sc({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=je(h.value)?null:h.value;Sn(!je(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?c:h.color;return I.createElement("li",D0({className:g,style:d,key:"legend-item-".concat(y)},oa(n.props,h,y)),I.createElement(j0,{width:o,height:o,viewBox:u,style:p},n.renderIcon(h)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(v,h,y):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(k.PureComponent);sc(R1,"displayName","Legend");sc(R1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Pg,RO;function One(){if(RO)return Pg;RO=1;var e=Fh();function t(){this.__data__=new e,this.size=0}return Pg=t,Pg}var Tg,IO;function Ane(){if(IO)return Tg;IO=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Tg=e,Tg}var Cg,DO;function jne(){if(DO)return Cg;DO=1;function e(t){return this.__data__.get(t)}return Cg=e,Cg}var Ng,MO;function Pne(){if(MO)return Ng;MO=1;function e(t){return this.__data__.has(t)}return Ng=e,Ng}var Rg,$O;function Tne(){if($O)return Rg;$O=1;var e=Fh(),t=k1(),r=E1(),n=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return Rg=i,Rg}var Ig,LO;function M5(){if(LO)return Ig;LO=1;var e=Fh(),t=One(),r=Ane(),n=jne(),i=Pne(),a=Tne();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,Ig=o,Ig}var Dg,FO;function Cne(){if(FO)return Dg;FO=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Dg=t,Dg}var Mg,BO;function Nne(){if(BO)return Mg;BO=1;function e(t){return this.__data__.has(t)}return Mg=e,Mg}var $g,zO;function $5(){if(zO)return $g;zO=1;var e=E1(),t=Cne(),r=Nne();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,$g=n,$g}var Lg,qO;function L5(){if(qO)return Lg;qO=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Lg=e,Lg}var Fg,UO;function F5(){if(UO)return Fg;UO=1;function e(t,r){return t.has(r)}return Fg=e,Fg}var Bg,WO;function B5(){if(WO)return Bg;WO=1;var e=$5(),t=L5(),r=F5(),n=1,i=2;function a(o,s,l,c,u,d){var p=l&n,h=o.length,y=s.length;if(h!=y&&!(p&&y>h))return!1;var m=d.get(o),g=d.get(s);if(m&&g)return m==s&&g==o;var v=-1,b=!0,x=l&i?new e:void 0;for(d.set(o,s),d.set(s,o);++v<h;){var _=o[v],w=s[v];if(c)var S=p?c(w,_,v,s,o,d):c(_,w,v,o,s,d);if(S!==void 0){if(S)continue;b=!1;break}if(x){if(!t(s,function(E,P){if(!r(x,P)&&(_===E||u(_,E,l,c,d)))return x.push(P)})){b=!1;break}}else if(!(_===w||u(_,w,l,c,d))){b=!1;break}}return d.delete(o),d.delete(s),b}return Bg=a,Bg}var zg,HO;function Rne(){if(HO)return zg;HO=1;var e=Zn(),t=e.Uint8Array;return zg=t,zg}var qg,VO;function Ine(){if(VO)return qg;VO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return qg=e,qg}var Ug,KO;function I1(){if(KO)return Ug;KO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Ug=e,Ug}var Wg,GO;function Dne(){if(GO)return Wg;GO=1;var e=au(),t=Rne(),r=S1(),n=B5(),i=Ine(),a=I1(),o=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",p="[object Number]",h="[object RegExp]",y="[object Set]",m="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",b="[object DataView]",x=e?e.prototype:void 0,_=x?x.valueOf:void 0;function w(S,E,P,T,A,N,C){switch(P){case b:if(S.byteLength!=E.byteLength||S.byteOffset!=E.byteOffset)return!1;S=S.buffer,E=E.buffer;case v:return!(S.byteLength!=E.byteLength||!N(new t(S),new t(E)));case l:case c:case p:return r(+S,+E);case u:return S.name==E.name&&S.message==E.message;case h:case m:return S==E+"";case d:var D=i;case y:var O=T&o;if(D||(D=a),S.size!=E.size&&!O)return!1;var R=C.get(S);if(R)return R==E;T|=s,C.set(S,E);var F=n(D(S),D(E),T,A,N,C);return C.delete(S),F;case g:if(_)return _.call(S)==_.call(E)}return!1}return Wg=w,Wg}var Hg,YO;function z5(){if(YO)return Hg;YO=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return Hg=e,Hg}var Vg,XO;function Mne(){if(XO)return Vg;XO=1;var e=z5(),t=Or();function r(n,i,a){var o=i(n);return t(n)?o:e(o,a(n))}return Vg=r,Vg}var Kg,QO;function $ne(){if(QO)return Kg;QO=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,o=[];++n<i;){var s=t[n];r(s,n,t)&&(o[a++]=s)}return o}return Kg=e,Kg}var Gg,JO;function Lne(){if(JO)return Gg;JO=1;function e(){return[]}return Gg=e,Gg}var Yg,ZO;function Fne(){if(ZO)return Yg;ZO=1;var e=$ne(),t=Lne(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return n.call(o,s)}))}:t;return Yg=a,Yg}var Xg,eA;function Bne(){if(eA)return Xg;eA=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return Xg=e,Xg}var Qg,tA;function zne(){if(tA)return Qg;tA=1;var e=ji(),t=Pi(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return Qg=n,Qg}var Jg,rA;function D1(){if(rA)return Jg;rA=1;var e=zne(),t=Pi(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Jg=a,Jg}var Al={exports:{}},Zg,nA;function qne(){if(nA)return Zg;nA=1;function e(){return!1}return Zg=e,Zg}Al.exports;var iA;function q5(){return iA||(iA=1,(function(e,t){var r=Zn(),n=qne(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Al,Al.exports)),Al.exports}var ey,aA;function M1(){if(aA)return ey;aA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return ey=r,ey}var ty,oA;function $1(){if(oA)return ty;oA=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return ty=t,ty}var ry,sA;function Une(){if(sA)return ry;sA=1;var e=ji(),t=$1(),r=Pi(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",p="[object RegExp]",h="[object Set]",y="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",P="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]",N={};N[b]=N[x]=N[_]=N[w]=N[S]=N[E]=N[P]=N[T]=N[A]=!0,N[n]=N[i]=N[g]=N[a]=N[v]=N[o]=N[s]=N[l]=N[c]=N[u]=N[d]=N[p]=N[h]=N[y]=N[m]=!1;function C(D){return r(D)&&t(D.length)&&!!N[e(D)]}return ry=C,ry}var ny,lA;function U5(){if(lA)return ny;lA=1;function e(t){return function(r){return t(r)}}return ny=e,ny}var jl={exports:{}};jl.exports;var cA;function Wne(){return cA||(cA=1,(function(e,t){var r=l5(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();e.exports=s})(jl,jl.exports)),jl.exports}var iy,uA;function W5(){if(uA)return iy;uA=1;var e=Une(),t=U5(),r=Wne(),n=r&&r.isTypedArray,i=n?t(n):e;return iy=i,iy}var ay,dA;function Hne(){if(dA)return ay;dA=1;var e=Bne(),t=D1(),r=Or(),n=q5(),i=M1(),a=W5(),o=Object.prototype,s=o.hasOwnProperty;function l(c,u){var d=r(c),p=!d&&t(c),h=!d&&!p&&n(c),y=!d&&!p&&!h&&a(c),m=d||p||h||y,g=m?e(c.length,String):[],v=g.length;for(var b in c)(u||s.call(c,b))&&!(m&&(b=="length"||h&&(b=="offset"||b=="parent")||y&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,v)))&&g.push(b);return g}return ay=l,ay}var oy,fA;function Vne(){if(fA)return oy;fA=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return oy=t,oy}var sy,hA;function H5(){if(hA)return sy;hA=1;function e(t,r){return function(n){return t(r(n))}}return sy=e,sy}var ly,pA;function Kne(){if(pA)return ly;pA=1;var e=H5(),t=e(Object.keys,Object);return ly=t,ly}var cy,mA;function Gne(){if(mA)return cy;mA=1;var e=Vne(),t=Kne(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return cy=i,cy}var uy,gA;function ou(){if(gA)return uy;gA=1;var e=_1(),t=$1();function r(n){return n!=null&&t(n.length)&&!e(n)}return uy=r,uy}var dy,yA;function Kh(){if(yA)return dy;yA=1;var e=Hne(),t=Gne(),r=ou();function n(i){return r(i)?e(i):t(i)}return dy=n,dy}var fy,vA;function Yne(){if(vA)return fy;vA=1;var e=Mne(),t=Fne(),r=Kh();function n(i){return e(i,r,t)}return fy=n,fy}var hy,bA;function Xne(){if(bA)return hy;bA=1;var e=Yne(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,c,u){var d=s&t,p=e(a),h=p.length,y=e(o),m=y.length;if(h!=m&&!d)return!1;for(var g=h;g--;){var v=p[g];if(!(d?v in o:n.call(o,v)))return!1}var b=u.get(a),x=u.get(o);if(b&&x)return b==o&&x==a;var _=!0;u.set(a,o),u.set(o,a);for(var w=d;++g<h;){v=p[g];var S=a[v],E=o[v];if(l)var P=d?l(E,S,v,o,a,u):l(S,E,v,a,o,u);if(!(P===void 0?S===E||c(S,E,s,l,u):P)){_=!1;break}w||(w=v=="constructor")}if(_&&!w){var T=a.constructor,A=o.constructor;T!=A&&"constructor"in a&&"constructor"in o&&!(typeof T=="function"&&T instanceof T&&typeof A=="function"&&A instanceof A)&&(_=!1)}return u.delete(a),u.delete(o),_}return hy=i,hy}var py,xA;function Qne(){if(xA)return py;xA=1;var e=uo(),t=Zn(),r=e(t,"DataView");return py=r,py}var my,wA;function Jne(){if(wA)return my;wA=1;var e=uo(),t=Zn(),r=e(t,"Promise");return my=r,my}var gy,_A;function V5(){if(_A)return gy;_A=1;var e=uo(),t=Zn(),r=e(t,"Set");return gy=r,gy}var yy,SA;function Zne(){if(SA)return yy;SA=1;var e=uo(),t=Zn(),r=e(t,"WeakMap");return yy=r,yy}var vy,kA;function eie(){if(kA)return vy;kA=1;var e=Qne(),t=k1(),r=Jne(),n=V5(),i=Zne(),a=ji(),o=c5(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",p="[object DataView]",h=o(e),y=o(t),m=o(r),g=o(n),v=o(i),b=a;return(e&&b(new e(new ArrayBuffer(1)))!=p||t&&b(new t)!=s||r&&b(r.resolve())!=c||n&&b(new n)!=u||i&&b(new i)!=d)&&(b=function(x){var _=a(x),w=_==l?x.constructor:void 0,S=w?o(w):"";if(S)switch(S){case h:return p;case y:return s;case m:return c;case g:return u;case v:return d}return _}),vy=b,vy}var by,EA;function tie(){if(EA)return by;EA=1;var e=M5(),t=B5(),r=Dne(),n=Xne(),i=eie(),a=Or(),o=q5(),s=W5(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function y(m,g,v,b,x,_){var w=a(m),S=a(g),E=w?u:i(m),P=S?u:i(g);E=E==c?d:E,P=P==c?d:P;var T=E==d,A=P==d,N=E==P;if(N&&o(m)){if(!o(g))return!1;w=!0,T=!1}if(N&&!T)return _||(_=new e),w||s(m)?t(m,g,v,b,x,_):r(m,g,E,v,b,x,_);if(!(v&l)){var C=T&&h.call(m,"__wrapped__"),D=A&&h.call(g,"__wrapped__");if(C||D){var O=C?m.value():m,R=D?g.value():g;return _||(_=new e),x(O,R,v,b,_)}}return N?(_||(_=new e),n(m,g,v,b,x,_)):!1}return by=y,by}var xy,OA;function L1(){if(OA)return xy;OA=1;var e=tie(),t=Pi();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,o,r,s)}return xy=r,xy}var wy,AA;function rie(){if(AA)return wy;AA=1;var e=M5(),t=L1(),r=1,n=2;function i(a,o,s,l){var c=s.length,u=c,d=!l;if(a==null)return!u;for(a=Object(a);c--;){var p=s[c];if(d&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++c<u;){p=s[c];var h=p[0],y=a[h],m=p[1];if(d&&p[2]){if(y===void 0&&!(h in a))return!1}else{var g=new e;if(l)var v=l(y,m,h,a,o,g);if(!(v===void 0?t(m,y,r|n,l,g):v))return!1}}return!0}return wy=i,wy}var _y,jA;function K5(){if(jA)return _y;jA=1;var e=da();function t(r){return r===r&&!e(r)}return _y=t,_y}var Sy,PA;function nie(){if(PA)return Sy;PA=1;var e=K5(),t=Kh();function r(n){for(var i=t(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,e(s)]}return i}return Sy=r,Sy}var ky,TA;function G5(){if(TA)return ky;TA=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return ky=e,ky}var Ey,CA;function iie(){if(CA)return Ey;CA=1;var e=rie(),t=nie(),r=G5();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return Ey=n,Ey}var Oy,NA;function aie(){if(NA)return Oy;NA=1;function e(t,r){return t!=null&&r in Object(t)}return Oy=e,Oy}var Ay,RA;function oie(){if(RA)return Ay;RA=1;var e=f5(),t=D1(),r=Or(),n=M1(),i=$1(),a=zh();function o(s,l,c){l=e(l,s);for(var u=-1,d=l.length,p=!1;++u<d;){var h=a(l[u]);if(!(p=s!=null&&c(s,h)))break;s=s[h]}return p||++u!=d?p:(d=s==null?0:s.length,!!d&&i(d)&&n(h,d)&&(r(s)||t(s)))}return Ay=o,Ay}var jy,IA;function sie(){if(IA)return jy;IA=1;var e=aie(),t=oie();function r(n,i){return n!=null&&t(n,i,e)}return jy=r,jy}var Py,DA;function lie(){if(DA)return Py;DA=1;var e=L1(),t=h5(),r=sie(),n=w1(),i=K5(),a=G5(),o=zh(),s=1,l=2;function c(u,d){return n(u)&&i(d)?a(o(u),d):function(p){var h=t(p,u);return h===void 0&&h===d?r(p,u):e(d,h,s|l)}}return Py=c,Py}var Ty,MA;function Xs(){if(MA)return Ty;MA=1;function e(t){return t}return Ty=e,Ty}var Cy,$A;function cie(){if($A)return Cy;$A=1;function e(t){return function(r){return r?.[t]}}return Cy=e,Cy}var Ny,LA;function uie(){if(LA)return Ny;LA=1;var e=A1();function t(r){return function(n){return e(n,r)}}return Ny=t,Ny}var Ry,FA;function die(){if(FA)return Ry;FA=1;var e=cie(),t=uie(),r=w1(),n=zh();function i(a){return r(a)?e(n(a)):t(a)}return Ry=i,Ry}var Iy,BA;function ei(){if(BA)return Iy;BA=1;var e=iie(),t=lie(),r=Xs(),n=Or(),i=die();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return Iy=a,Iy}var Dy,zA;function Y5(){if(zA)return Dy;zA=1;function e(t,r,n,i){for(var a=t.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(t[o],o,t))return o;return-1}return Dy=e,Dy}var My,qA;function fie(){if(qA)return My;qA=1;function e(t){return t!==t}return My=e,My}var $y,UA;function hie(){if(UA)return $y;UA=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return $y=e,$y}var Ly,WA;function pie(){if(WA)return Ly;WA=1;var e=Y5(),t=fie(),r=hie();function n(i,a,o){return a===a?r(i,a,o):e(i,t,o)}return Ly=n,Ly}var Fy,HA;function mie(){if(HA)return Fy;HA=1;var e=pie();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Fy=t,Fy}var By,VA;function gie(){if(VA)return By;VA=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return By=e,By}var zy,KA;function yie(){if(KA)return zy;KA=1;function e(){}return zy=e,zy}var qy,GA;function vie(){if(GA)return qy;GA=1;var e=V5(),t=yie(),r=I1(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return qy=i,qy}var Uy,YA;function bie(){if(YA)return Uy;YA=1;var e=$5(),t=mie(),r=gie(),n=F5(),i=vie(),a=I1(),o=200;function s(l,c,u){var d=-1,p=t,h=l.length,y=!0,m=[],g=m;if(u)y=!1,p=r;else if(h>=o){var v=c?null:i(l);if(v)return a(v);y=!1,p=n,g=new e}else g=c?[]:m;e:for(;++d<h;){var b=l[d],x=c?c(b):b;if(b=u||b!==0?b:0,y&&x===x){for(var _=g.length;_--;)if(g[_]===x)continue e;c&&g.push(x),m.push(b)}else p(g,x,u)||(g!==m&&g.push(x),m.push(b))}return m}return Uy=s,Uy}var Wy,XA;function xie(){if(XA)return Wy;XA=1;var e=ei(),t=bie();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return Wy=r,Wy}var wie=xie();const QA=Je(wie);function X5(e,t,r){return t===!0?QA(e,r):je(t)?QA(e,t):e}function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}var _ie=["ref"];function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J5(n.key),n)}}function kie(e,t,r){return t&&ZA(e.prototype,t),r&&ZA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eie(e,t,r){return t=Gd(t),Oie(e,Q5()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function Oie(e,t){if(t&&(os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aie(e)}function Aie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function jie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$0(e,t)}function $0(e,t){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$0(e,t)}function Gh(e,t,r){return t=J5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J5(e){var t=Pie(e,"string");return os(t)=="symbol"?t:t+""}function Pie(e,t){if(os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tie(e,t){if(e==null)return{};var r=Cie(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nie(e){return e.value}function Rie(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=Tie(t,_ie);return I.createElement(R1,r)}var ej=1,Lr=(function(e){function t(){var r;Sie(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Eie(this,t,[].concat(i)),Gh(r,"lastBoundingBox",{width:-1,height:-1}),r}return jie(t,e),kie(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ej||Math.abs(i.height-this.lastBoundingBox.height)>ej)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ii({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((c||0)-h.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();p={top:((u||0)-y.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ii(ii({},d),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=ii(ii({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){n.wrapperNode=h}},Rie(a,ii(ii({},this.props),{},{payload:X5(u,c,Nie)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ii(ii({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&fe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(k.PureComponent);Gh(Lr,"displayName","Legend");Gh(Lr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Hy,tj;function Iie(){if(tj)return Hy;tj=1;var e=au(),t=D1(),r=Or(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return Hy=i,Hy}var Vy,rj;function Z5(){if(rj)return Vy;rj=1;var e=z5(),t=Iie();function r(n,i,a,o,s){var l=-1,c=n.length;for(a||(a=t),s||(s=[]);++l<c;){var u=n[l];i>0&&a(u)?i>1?r(u,i-1,a,o,s):e(s,u):o||(s[s.length]=u)}return s}return Vy=r,Vy}var Ky,nj;function Die(){if(nj)return Ky;nj=1;function e(t){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var c=s[t?l:++a];if(n(o[c],c,o)===!1)break}return r}}return Ky=e,Ky}var Gy,ij;function Mie(){if(ij)return Gy;ij=1;var e=Die(),t=e();return Gy=t,Gy}var Yy,aj;function eL(){if(aj)return Yy;aj=1;var e=Mie(),t=Kh();function r(n,i){return n&&e(n,i,t)}return Yy=r,Yy}var Xy,oj;function $ie(){if(oj)return Xy;oj=1;var e=ou();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return Xy=t,Xy}var Qy,sj;function F1(){if(sj)return Qy;sj=1;var e=eL(),t=$ie(),r=t(e);return Qy=r,Qy}var Jy,lj;function tL(){if(lj)return Jy;lj=1;var e=F1(),t=ou();function r(n,i){var a=-1,o=t(n)?Array(n.length):[];return e(n,function(s,l,c){o[++a]=i(s,l,c)}),o}return Jy=r,Jy}var Zy,cj;function Lie(){if(cj)return Zy;cj=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Zy=e,Zy}var ev,uj;function Fie(){if(uj)return ev;uj=1;var e=Ks();function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=e(r),l=n!==void 0,c=n===null,u=n===n,d=e(n);if(!c&&!d&&!s&&r>n||s&&l&&u&&!c&&!d||a&&l&&u||!i&&u||!o)return 1;if(!a&&!s&&!d&&r<n||d&&i&&o&&!a&&!s||c&&i&&o||!l&&o||!u)return-1}return 0}return ev=t,ev}var tv,dj;function Bie(){if(dj)return tv;dj=1;var e=Fie();function t(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,c=i.length;++a<l;){var u=e(o[a],s[a]);if(u){if(a>=c)return u;var d=i[a];return u*(d=="desc"?-1:1)}}return r.index-n.index}return tv=t,tv}var rv,fj;function zie(){if(fj)return rv;fj=1;var e=O1(),t=A1(),r=ei(),n=tL(),i=Lie(),a=U5(),o=Bie(),s=Xs(),l=Or();function c(u,d,p){d.length?d=e(d,function(m){return l(m)?function(g){return t(g,m.length===1?m[0]:m)}:m}):d=[s];var h=-1;d=e(d,a(r));var y=n(u,function(m,g,v){var b=e(d,function(x){return x(m)});return{criteria:b,index:++h,value:m}});return i(y,function(m,g){return o(m,g,p)})}return rv=c,rv}var nv,hj;function qie(){if(hj)return nv;hj=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return nv=e,nv}var iv,pj;function Uie(){if(pj)return iv;pj=1;var e=qie(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var u=Array(i+1);++s<i;)u[s]=o[s];return u[i]=a(c),e(n,this,u)}}return iv=r,iv}var av,mj;function Wie(){if(mj)return av;mj=1;function e(t){return function(){return t}}return av=e,av}var ov,gj;function rL(){if(gj)return ov;gj=1;var e=uo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return ov=t,ov}var sv,yj;function Hie(){if(yj)return sv;yj=1;var e=Wie(),t=rL(),r=Xs(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return sv=n,sv}var lv,vj;function Vie(){if(vj)return lv;vj=1;var e=800,t=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return lv=n,lv}var cv,bj;function Kie(){if(bj)return cv;bj=1;var e=Hie(),t=Vie(),r=t(e);return cv=r,cv}var uv,xj;function Gie(){if(xj)return uv;xj=1;var e=Xs(),t=Uie(),r=Kie();function n(i,a){return r(t(i,a,e),i+"")}return uv=n,uv}var dv,wj;function Yh(){if(wj)return dv;wj=1;var e=S1(),t=ou(),r=M1(),n=da();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?t(s)&&r(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return dv=i,dv}var fv,_j;function Yie(){if(_j)return fv;_j=1;var e=Z5(),t=zie(),r=Gie(),n=Yh(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return fv=i,fv}var Xie=Yie();const B1=Je(Xie);function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(this,arguments)}function Qie(e,t){return tae(e)||eae(e,t)||Zie(e,t)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zie(e,t){if(e){if(typeof e=="string")return Sj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sj(e,t)}}function Sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function tae(e){if(Array.isArray(e))return e}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){rae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rae(e,t,r){return t=nae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nae(e){var t=iae(e,"string");return lc(t)=="symbol"?t:t+""}function iae(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aae(e){return Array.isArray(e)&&Kt(e[0])&&Kt(e[1])?e.join(" ~ "):e}var oae=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,p=t.itemSorter,h=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,x=function(){if(u&&u.length){var C={padding:0,margin:0},D=(p?B1(u,p):u).map(function(O,R){if(O.type==="none")return null;var F=hv({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},s),z=O.formatter||d||aae,W=O.value,L=O.name,M=W,H=L;if(z&&M!=null&&H!=null){var B=z(W,L,O,R,u);if(Array.isArray(B)){var $=Qie(B,2);M=$[0],H=$[1]}else M=B}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:F},Kt(H)?I.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Kt(H)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},M),I.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:C},D)}return null},_=hv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=hv({margin:0},c),S=!Pe(m),E=S?m:"",P=Ie("recharts-default-tooltip",h),T=Ie("recharts-tooltip-label",y);S&&g&&u!==void 0&&u!==null&&(E=g(m,u));var A=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",L0({className:P,style:_},A),I.createElement("p",{className:T,style:w},I.isValidElement(E)?E:"".concat(E)),x())};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Bu(e,t,r){return t=sae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=lae(e,"string");return cc(t)=="symbol"?t:t+""}function lae(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ml="recharts-tooltip-wrapper",cae={visibility:"hidden"};function uae(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ie(ml,Bu(Bu(Bu(Bu({},"".concat(ml,"-right"),fe(r)&&t&&fe(t.x)&&r>=t.x),"".concat(ml,"-left"),fe(r)&&t&&fe(t.x)&&r<t.x),"".concat(ml,"-bottom"),fe(n)&&t&&fe(t.y)&&n>=t.y),"".concat(ml,"-top"),fe(n)&&t&&fe(t.y)&&n<t.y))}function Ej(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&fe(a[n]))return a[n];var u=r[n]-s-i,d=r[n]+i;if(t[n])return o[n]?u:d;if(o[n]){var p=u,h=l[n];return p<h?Math.max(d,l[n]):Math.max(u,l[n])}var y=d+s,m=l[n]+c;return y>m?Math.max(u,l[n]):Math.max(d,l[n])}function dae(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fae(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return o.height>0&&o.width>0&&r?(u=Ej({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=Ej({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=dae({translateX:u,translateY:d,useTranslate3d:s})):c=cae,{cssProperties:c,cssClasses:uae({translateX:u,translateY:d,coordinate:r})}}function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){B0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iL(n.key),n)}}function mae(e,t,r){return t&&pae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gae(e,t,r){return t=Yd(t),yae(e,nL()?Reflect.construct(t,r||[],Yd(e).constructor):t.apply(e,r))}function yae(e,t){if(t&&(ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vae(e)}function vae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nL=function(){return!!e})()}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(e)}function bae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F0(e,t)}function F0(e,t){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(e,t)}function B0(e,t,r){return t=iL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iL(e){var t=xae(e,"string");return ss(t)=="symbol"?t:t+""}function xae(e,t){if(ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jj=1,wae=(function(e){function t(){var r;hae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gae(this,t,[].concat(i)),B0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),B0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return bae(t,e),mae(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>jj||Math.abs(n.height-this.state.lastBoundingBox.height)>jj)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,h=i.offset,y=i.position,m=i.reverseDirection,g=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,x=fae({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),_=x.cssClasses,w=x.cssProperties,S=Aj(Aj({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(P){n.wrapperNode=P}},c)}}])})(k.PureComponent),_ae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ti={isSsr:_ae()};function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){z1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oL(n.key),n)}}function Eae(e,t,r){return t&&kae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oae(e,t,r){return t=Xd(t),Aae(e,aL()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function Aae(e,t){if(t&&(ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jae(e)}function jae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function Pae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z0(e,t)}function z0(e,t){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z0(e,t)}function z1(e,t,r){return t=oL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oL(e){var t=Tae(e,"string");return ls(t)=="symbol"?t:t+""}function Tae(e,t){if(ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Cae(e){return e.dataKey}function Nae(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(oae,t)}var wt=(function(e){function t(){return Sae(this,t),Oae(this,t,arguments)}return Pae(t,e),Eae(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,p=i.isAnimationActive,h=i.offset,y=i.payload,m=i.payloadUniqBy,g=i.position,v=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,w=y??[];d&&w.length&&(w=X5(y.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,Cae));var S=w.length>0;return I.createElement(wae,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:u,hasPayload:S,offset:h,position:g,reverseDirection:v,useTranslate3d:b,viewBox:x,wrapperStyle:_},Nae(c,Tj(Tj({},this.props),{},{payload:w})))}}])})(k.PureComponent);z1(wt,"displayName","Tooltip");z1(wt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ti.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pv,Cj;function Rae(){if(Cj)return pv;Cj=1;var e=Zn(),t=function(){return e.Date.now()};return pv=t,pv}var mv,Nj;function Iae(){if(Nj)return mv;Nj=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return mv=t,mv}var gv,Rj;function Dae(){if(Rj)return gv;Rj=1;var e=Iae(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return gv=r,gv}var yv,Ij;function sL(){if(Ij)return yv;Ij=1;var e=Dae(),t=da(),r=Ks(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=a.test(c);return d||o.test(c)?s(c.slice(2),d?2:8):i.test(c)?n:+c}return yv=l,yv}var vv,Dj;function Mae(){if(Dj)return vv;Dj=1;var e=da(),t=Rae(),r=sL(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var u,d,p,h,y,m,g=0,v=!1,b=!1,x=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(c)&&(v=!!c.leading,b="maxWait"in c,p=b?i(r(c.maxWait)||0,l):p,x="trailing"in c?!!c.trailing:x);function _(D){var O=u,R=d;return u=d=void 0,g=D,h=s.apply(R,O),h}function w(D){return g=D,y=setTimeout(P,l),v?_(D):h}function S(D){var O=D-m,R=D-g,F=l-O;return b?a(F,p-R):F}function E(D){var O=D-m,R=D-g;return m===void 0||O>=l||O<0||b&&R>=p}function P(){var D=t();if(E(D))return T(D);y=setTimeout(P,S(D))}function T(D){return y=void 0,x&&u?_(D):(u=d=void 0,h)}function A(){y!==void 0&&clearTimeout(y),g=0,u=m=d=y=void 0}function N(){return y===void 0?h:T(t())}function C(){var D=t(),O=E(D);if(u=arguments,d=this,m=D,O){if(y===void 0)return w(m);if(b)return clearTimeout(y),y=setTimeout(P,l),_(m)}return y===void 0&&(y=setTimeout(P,l)),h}return C.cancel=A,C.flush=N,C}return vv=o,vv}var bv,Mj;function $ae(){if(Mj)return bv;Mj=1;var e=Mae(),t=da(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(i,a,{leading:s,maxWait:a,trailing:l})}return bv=n,bv}var Lae=$ae();const lL=Je(Lae);function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){Fae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fae(e,t,r){return t=Bae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bae(e){var t=zae(e,"string");return uc(t)=="symbol"?t:t+""}function zae(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qae(e,t){return Vae(e)||Hae(e,t)||Wae(e,t)||Uae()}function Uae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wae(e,t){if(e){if(typeof e=="string")return Lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lj(e,t)}}function Lj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Vae(e){if(Array.isArray(e))return e}var rr=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,p=e.maxHeight,h=e.children,y=e.debounce,m=y===void 0?0:y,g=e.id,v=e.className,b=e.onResize,x=e.style,_=x===void 0?{}:x,w=k.useRef(null),S=k.useRef();S.current=b,k.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=k.useState({containerWidth:i.width,containerHeight:i.height}),P=qae(E,2),T=P[0],A=P[1],N=k.useCallback(function(D,O){A(function(R){var F=Math.round(D),z=Math.round(O);return R.containerWidth===F&&R.containerHeight===z?R:{containerWidth:F,containerHeight:z}})},[]);k.useEffect(function(){var D=function(L){var M,H=L[0].contentRect,B=H.width,$=H.height;N(B,$),(M=S.current)===null||M===void 0||M.call(S,B,$)};m>0&&(D=lL(D,m,{trailing:!0,leading:!1}));var O=new ResizeObserver(D),R=w.current.getBoundingClientRect(),F=R.width,z=R.height;return N(F,z),O.observe(w.current),function(){O.disconnect()}},[N,m]);var C=k.useMemo(function(){var D=T.containerWidth,O=T.containerHeight;if(D<0||O<0)return null;Sn(Ma(o)||Ma(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Sn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Ma(o)?D:o,F=Ma(l)?O:l;r&&r>0&&(R?F=R/r:F&&(R=F*r),p&&F>p&&(F=p)),Sn(R>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,F,o,l,u,d,r);var z=!Array.isArray(h)&&mi(h.type).endsWith("Chart");return I.Children.map(h,function(W){return I.isValidElement(W)?k.cloneElement(W,zu({width:R,height:F},z?{style:zu({height:"100%",width:"100%",maxHeight:F,maxWidth:R},W.props.style)}:{})):W})},[r,h,l,p,d,u,T,o]);return I.createElement("div",{id:g?"".concat(g):void 0,className:Ie("recharts-responsive-container",v),style:zu(zu({},_),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:p}),ref:w},C)}),Qs=function(t){return null};Qs.displayName="Cell";function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){Kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kae(e,t,r){return t=Gae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gae(e){var t=Yae(e,"string");return dc(t)=="symbol"?t:t+""}function Yae(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oo={widthCache:{},cacheCount:0},Xae=2e3,Qae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Bj="recharts_measurement_span";function Jae(e){var t=q0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Fl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ti.isSsr)return{width:0,height:0};var n=Jae(r),i=JSON.stringify({text:t,copyStyle:n});if(Oo.widthCache[i])return Oo.widthCache[i];try{var a=document.getElementById(Bj);a||(a=document.createElement("span"),a.setAttribute("id",Bj),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=q0(q0({},Qae),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Oo.widthCache[i]=l,++Oo.cacheCount>Xae&&(Oo.cacheCount=0,Oo.widthCache={}),l}catch{return{width:0,height:0}}},Zae=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Qd(e,t){return noe(e)||roe(e,t)||toe(e,t)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(e,t){if(e){if(typeof e=="string")return zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zj(e,t)}}function zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function roe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function noe(e){if(Array.isArray(e))return e}function ioe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ooe(n.key),n)}}function aoe(e,t,r){return t&&qj(e.prototype,t),r&&qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ooe(e){var t=soe(e,"string");return fc(t)=="symbol"?t:t+""}function soe(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,loe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,coe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uoe=Object.keys(cL),Ro="NaN";function doe(e,t){return e*cL[t]}var qu=(function(){function e(t,r){ioe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!loe.test(r)&&(this.num=NaN,this.unit=""),uoe.includes(r)&&(this.num=doe(t,r),this.unit="px")}return aoe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=coe.exec(r))!==null&&n!==void 0?n:[],a=Qd(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])})();function uL(e){if(e.includes(Ro))return Ro;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Uj.exec(t))!==null&&r!==void 0?r:[],i=Qd(n,4),a=i[1],o=i[2],s=i[3],l=qu.parse(a??""),c=qu.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ro;t=t.replace(Uj,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=Wj.exec(t))!==null&&d!==void 0?d:[],h=Qd(p,4),y=h[1],m=h[2],g=h[3],v=qu.parse(y??""),b=qu.parse(g??""),x=m==="+"?v.add(b):v.subtract(b);if(x.isNaN())return Ro;t=t.replace(Wj,x.toString())}return t}var Hj=/\(([^()]*)\)/;function foe(e){for(var t=e;t.includes("(");){var r=Hj.exec(t),n=Qd(r,2),i=n[1];t=t.replace(Hj,uL(i))}return t}function hoe(e){var t=e.replace(/\s+/g,"");return t=foe(t),t=uL(t),t}function poe(e){try{return hoe(e)}catch{return Ro}}function xv(e){var t=poe(e.slice(5,-1));return t===Ro?"":t}var moe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],goe=["dx","dy","angle","className","breakAll"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(this,arguments)}function Vj(e,t){if(e==null)return{};var r=yoe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kj(e,t){return woe(e)||xoe(e,t)||boe(e,t)||voe()}function voe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function boe(e,t){if(e){if(typeof e=="string")return Gj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gj(e,t)}}function Gj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function woe(e){if(Array.isArray(e))return e}var dL=/[ \f\n\r\t\v\u2028\u2029]+/,fL=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Pe(r)||(n?a=r.toString().split(""):a=r.toString().split(dL));var o=a.map(function(l){return{word:l,width:Fl(l,i).width}}),s=n?0:Fl("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},_oe=function(t,r,n,i,a){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=fe(o),d=s,p=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(F,z){var W=z.word,L=z.width,M=F[F.length-1];if(M&&(i==null||a||M.width+L+n<Number(i)))M.words.push(W),M.width+=L+n;else{var H={words:[W],width:L};F.push(H)}return F},[])},h=p(r),y=function(R){return R.reduce(function(F,z){return F.width>z.width?F:z})};if(!u)return h;for(var m="",g=function(R){var F=d.slice(0,R),z=fL({breakAll:c,style:l,children:F+m}).wordsWithComputedWidth,W=p(z),L=W.length>o||y(W).width>Number(i);return[L,W]},v=0,b=d.length-1,x=0,_;v<=b&&x<=d.length-1;){var w=Math.floor((v+b)/2),S=w-1,E=g(S),P=Kj(E,2),T=P[0],A=P[1],N=g(w),C=Kj(N,1),D=C[0];if(!T&&!D&&(v=w+1),T&&D&&(b=w-1),!T&&D){_=A;break}x++}return _||h},Yj=function(t){var r=Pe(t)?[]:t.toString().split(dL);return[{words:r}]},Soe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!ti.isSsr){var l,c,u=fL({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,p=u.spaceWidth;l=d,c=p}else return Yj(i);return _oe({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return Yj(i)},Xj="#808080",to=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,p=t.textAnchor,h=p===void 0?"start":p,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,v=g===void 0?Xj:g,b=Vj(t,moe),x=k.useMemo(function(){return Soe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),_=b.dx,w=b.dy,S=b.angle,E=b.className,P=b.breakAll,T=Vj(b,goe);if(!Kt(n)||!Kt(a))return null;var A=n+(fe(_)?_:0),N=a+(fe(w)?w:0),C;switch(m){case"start":C=xv("calc(".concat(c,")"));break;case"middle":C=xv("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=xv("calc(".concat(x.length-1," * -").concat(s,")"));break}var D=[];if(d){var O=x[0].width,R=b.width;D.push("scale(".concat((fe(R)?R/O:1)/O,")"))}return S&&D.push("rotate(".concat(S,", ").concat(A,", ").concat(N,")")),D.length&&(T.transform=D.join(" ")),I.createElement("text",U0({},ve(T,!0),{x:A,y:N,className:Ie("recharts-text",E),textAnchor:h,fill:v.includes("url")?Xj:v}),x.map(function(F,z){var W=F.words.join(P?"":" ");return I.createElement("tspan",{x:A,dy:z===0?C:s,key:"".concat(W,"-").concat(z)},W)}))};function ta(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function koe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function q1(e){let t,r,n;e.length!==2?(t=ta,r=(s,l)=>ta(e(s),l),n=(s,l)=>e(s)-l):(t=e===ta||e===koe?e:Eoe,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function Eoe(){return 0}function hL(e){return e===null?NaN:+e}function*Ooe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Aoe=q1(ta),su=Aoe.right;q1(hL).center;class Qj extends Map{constructor(t,r=Toe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Jj(this,t))}has(t){return super.has(Jj(this,t))}set(t,r){return super.set(joe(this,t),r)}delete(t){return super.delete(Poe(this,t))}}function Jj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function joe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Poe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Toe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Coe(e=ta){if(e===ta)return pL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Noe=Math.sqrt(50),Roe=Math.sqrt(10),Ioe=Math.sqrt(2);function Jd(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Noe?10:a>=Roe?5:a>=Ioe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Jd(e,t,r*2):[s,l,c]}function W0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Jd(t,e,r):Jd(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function H0(e,t,r){return t=+t,e=+e,r=+r,Jd(e,t,r)[2]}function V0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?H0(t,e,r):H0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Zj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function eP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mL(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?pL:Coe(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*d/l+p)),y=Math.min(n,Math.floor(t+(l-c)*d/l+p));mL(e,t,h,y,i)}const a=e[t];let o=r,s=n;for(gl(e,r,t),i(e[n],a)>0&&gl(e,r,n);o<s;){for(gl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?gl(e,r,s):(++s,gl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function gl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Doe(e,t,r){if(e=Float64Array.from(Ooe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return eP(e);if(t>=1)return Zj(e);var n,i=(n-1)*t,a=Math.floor(i),o=Zj(mL(e,a).subarray(0,a+1)),s=eP(e.subarray(a+1));return o+(s-o)*(i-a)}}function Moe(e,t,r=hL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function $oe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ti(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const K0=Symbol("implicit");function U1(){var e=new Qj,t=[],r=[],n=K0;function i(a){let o=e.get(a);if(o===void 0){if(n!==K0)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Qj;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return U1(t,r).unknown(n)},sn.apply(i,arguments),i}function hc(){var e=U1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var p=t().length,h=i<n,y=h?i:n,m=h?n:i;a=(m-y)/Math.max(1,p-l+c*2),s&&(a=Math.floor(a)),y+=(m-y-a*(p-l))*u,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var g=$oe(p).map(function(v){return y+a*v});return r(h?g.reverse():g)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),d()):u},e.copy=function(){return hc(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},sn.apply(d(),arguments)}function gL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gL(t())},e}function Bl(){return gL(hc.apply(null,arguments).paddingInner(1))}function W1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lu(){}var pc=.7,Zd=1/pc,Go="\\s*([+-]?\\d+)\\s*",mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Loe=/^#([0-9a-f]{3,8})$/,Foe=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),Boe=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),zoe=new RegExp(`^rgba\\(${Go},${Go},${Go},${mc}\\)$`),qoe=new RegExp(`^rgba\\(${qn},${qn},${qn},${mc}\\)$`),Uoe=new RegExp(`^hsl\\(${mc},${qn},${qn}\\)$`),Woe=new RegExp(`^hsla\\(${mc},${qn},${qn},${mc}\\)$`),tP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W1(lu,gc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rP,formatHex:rP,formatHex8:Hoe,formatHsl:Voe,formatRgb:nP,toString:nP});function rP(){return this.rgb().formatHex()}function Hoe(){return this.rgb().formatHex8()}function Voe(){return vL(this).formatHsl()}function nP(){return this.rgb().formatRgb()}function gc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Loe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?iP(t):r===3?new kr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Uu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Uu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Foe.exec(e))?new kr(t[1],t[2],t[3],1):(t=Boe.exec(e))?new kr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zoe.exec(e))?Uu(t[1],t[2],t[3],t[4]):(t=qoe.exec(e))?Uu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Uoe.exec(e))?sP(t[1],t[2]/100,t[3]/100,1):(t=Woe.exec(e))?sP(t[1],t[2]/100,t[3]/100,t[4]):tP.hasOwnProperty(e)?iP(tP[e]):e==="transparent"?new kr(NaN,NaN,NaN,0):null}function iP(e){return new kr(e>>16&255,e>>8&255,e&255,1)}function Uu(e,t,r,n){return n<=0&&(e=t=r=NaN),new kr(e,t,r,n)}function Koe(e){return e instanceof lu||(e=gc(e)),e?(e=e.rgb(),new kr(e.r,e.g,e.b,e.opacity)):new kr}function G0(e,t,r,n){return arguments.length===1?Koe(e):new kr(e,t,r,n??1)}function kr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}W1(kr,G0,yL(lu,{brighter(e){return e=e==null?Zd:Math.pow(Zd,e),new kr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pc:Math.pow(pc,e),new kr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kr(Wa(this.r),Wa(this.g),Wa(this.b),ef(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aP,formatHex:aP,formatHex8:Goe,formatRgb:oP,toString:oP}));function aP(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}`}function Goe(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}${$a((isNaN(this.opacity)?1:this.opacity)*255)}`}function oP(){const e=ef(this.opacity);return`${e===1?"rgb(":"rgba("}${Wa(this.r)}, ${Wa(this.g)}, ${Wa(this.b)}${e===1?")":`, ${e})`}`}function ef(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $a(e){return e=Wa(e),(e<16?"0":"")+e.toString(16)}function sP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xn(e,t,r,n)}function vL(e){if(e instanceof xn)return new xn(e.h,e.s,e.l,e.opacity);if(e instanceof lu||(e=gc(e)),!e)return new xn;if(e instanceof xn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new xn(o,s,l,e.opacity)}function Yoe(e,t,r,n){return arguments.length===1?vL(e):new xn(e,t,r,n??1)}function xn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}W1(xn,Yoe,yL(lu,{brighter(e){return e=e==null?Zd:Math.pow(Zd,e),new xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pc:Math.pow(pc,e),new xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new kr(wv(e>=240?e-240:e+120,i,n),wv(e,i,n),wv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new xn(lP(this.h),Wu(this.s),Wu(this.l),ef(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ef(this.opacity);return`${e===1?"hsl(":"hsla("}${lP(this.h)}, ${Wu(this.s)*100}%, ${Wu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lP(e){return e=(e||0)%360,e<0?e+360:e}function Wu(e){return Math.max(0,Math.min(1,e||0))}function wv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const H1=e=>()=>e;function Xoe(e,t){return function(r){return e+r*t}}function Qoe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Joe(e){return(e=+e)==1?bL:function(t,r){return r-t?Qoe(t,r,e):H1(isNaN(t)?r:t)}}function bL(e,t){var r=t-e;return r?Xoe(e,r):H1(isNaN(e)?t:e)}const cP=(function e(t){var r=Joe(t);function n(i,a){var o=r((i=G0(i)).r,(a=G0(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=bL(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function Zoe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function ese(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tse(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Js(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function rse(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function tf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nse(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Js(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Y0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_v=new RegExp(Y0.source,"g");function ise(e){return function(){return e}}function ase(e){return function(t){return e(t)+""}}function ose(e,t){var r=Y0.lastIndex=_v.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Y0.exec(e))&&(i=_v.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:tf(n,i)})),r=_v.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?ase(l[0].x):ise(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Js(e,t){var r=typeof t,n;return t==null||r==="boolean"?H1(t):(r==="number"?tf:r==="string"?(n=gc(t))?(t=n,cP):ose:t instanceof gc?cP:t instanceof Date?rse:ese(t)?Zoe:Array.isArray(t)?tse:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nse:tf)(e,t)}function V1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function sse(e,t){t===void 0&&(t=e,e=Js);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function lse(e){return function(){return e}}function rf(e){return+e}var uP=[0,1];function mr(e){return e}function X0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lse(isNaN(t)?NaN:.5)}function cse(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function use(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=X0(i,n),a=r(o,a)):(n=X0(n,i),a=r(a,o)),function(s){return a(n(s))}}function dse(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=X0(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=su(e,s,1,n)-1;return a[l](i[l](s))}}function cu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xh(){var e=uP,t=uP,r=Js,n,i,a,o=mr,s,l,c;function u(){var p=Math.min(e.length,t.length);return o!==mr&&(o=cse(e[0],e[p-1])),s=p>2?dse:use,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return d.invert=function(p){return o(i((c||(c=s(t,e.map(n),tf)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,rf),u()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=V1,u()},d.clamp=function(p){return arguments.length?(o=p?!0:mr,u()):o!==mr},d.interpolate=function(p){return arguments.length?(r=p,u()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,h){return n=p,i=h,u()}}function K1(){return Xh()(mr,mr)}function fse(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cs(e){return e=nf(Math.abs(e)),e?e[1]:NaN}function hse(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function pse(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yc(e){if(!(t=mse.exec(e)))throw new Error("invalid format: "+e);var t;return new G1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yc.prototype=G1.prototype;function G1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}G1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gse(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var xL;function yse(e,t){var r=nf(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(xL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+nf(e,Math.max(0,t+a-1))[0]}function dP(e,t){var r=nf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const fP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fse,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dP(e*100,t),r:dP,s:yse,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hP(e){return e}var pP=Array.prototype.map,mP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vse(e){var t=e.grouping===void 0||e.thousands===void 0?hP:hse(pP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?hP:pse(pP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=yc(d);var p=d.fill,h=d.align,y=d.sign,m=d.symbol,g=d.zero,v=d.width,b=d.comma,x=d.precision,_=d.trim,w=d.type;w==="n"?(b=!0,w="g"):fP[w]||(x===void 0&&(x=12),_=!0,w="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=m==="$"?n:/[%p]/.test(w)?o:"",P=fP[w],T=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function A(N){var C=S,D=E,O,R,F;if(w==="c")D=P(N)+D,N="";else{N=+N;var z=N<0||1/N<0;if(N=isNaN(N)?l:P(Math.abs(N),x),_&&(N=gse(N)),z&&+N==0&&y!=="+"&&(z=!1),C=(z?y==="("?y:s:y==="-"||y==="("?"":y)+C,D=(w==="s"?mP[8+xL/3]:"")+D+(z&&y==="("?")":""),T){for(O=-1,R=N.length;++O<R;)if(F=N.charCodeAt(O),48>F||F>57){D=(F===46?i+N.slice(O+1):N.slice(O))+D,N=N.slice(0,O);break}}}b&&!g&&(N=t(N,1/0));var W=C.length+N.length+D.length,L=W<v?new Array(v-W+1).join(p):"";switch(b&&g&&(N=t(L+N,L.length?v-D.length:1/0),L=""),h){case"<":N=C+N+D+L;break;case"=":N=C+L+N+D;break;case"^":N=L.slice(0,W=L.length>>1)+C+N+D+L.slice(W);break;default:N=L+C+N+D;break}return a(N)}return A.toString=function(){return d+""},A}function u(d,p){var h=c((d=yc(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(cs(p)/3)))*3,m=Math.pow(10,-y),g=mP[8+y/3];return function(v){return h(m*v)+g}}return{format:c,formatPrefix:u}}var Hu,Y1,wL;bse({thousands:",",grouping:[3],currency:["$",""]});function bse(e){return Hu=vse(e),Y1=Hu.format,wL=Hu.formatPrefix,Hu}function xse(e){return Math.max(0,-cs(Math.abs(e)))}function wse(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cs(t)/3)))*3-cs(Math.abs(e)))}function _se(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cs(t)-cs(e))+1}function _L(e,t,r,n){var i=V0(e,t,r),a;switch(n=yc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=wse(i,o))&&(n.precision=a),wL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=_se(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=xse(i))&&(n.precision=a-(n.type==="%")*2);break}}return Y1(n)}function ha(e){var t=e.domain;return e.ticks=function(r){var n=t();return W0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return _L(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=H0(o,s,r),c===l)return n[i]=o,n[a]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function af(){var e=K1();return e.copy=function(){return cu(e,af())},sn.apply(e,arguments),ha(e)}function SL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return SL(e).unknown(t)},e=arguments.length?Array.from(e,rf):[0,1],ha(r)}function kL(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function gP(e){return Math.log(e)}function yP(e){return Math.exp(e)}function Sse(e){return-Math.log(-e)}function kse(e){return-Math.exp(-e)}function Ese(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ose(e){return e===10?Ese:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ase(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vP(e){return(t,r)=>-e(-t,r)}function X1(e){const t=e(gP,yP),r=t.domain;let n=10,i,a;function o(){return i=Ase(n),a=Ose(n),r()[0]<0?(i=vP(i),a=vP(a),e(Sse,kse)):e(gP,yP),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let p=i(c),h=i(u),y,m;const g=s==null?10:+s;let v=[];if(!(n%1)&&h-p<g){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(y=1;y<n;++y)if(m=p<0?y/a(-p):y*a(p),!(m<c)){if(m>u)break;v.push(m)}}else for(;p<=h;++p)for(y=n-1;y>=1;--y)if(m=p>0?y/a(-p):y*a(p),!(m<c)){if(m>u)break;v.push(m)}v.length*2<g&&(v=W0(c,u,g))}else v=W0(p,h,Math.min(h-p,g)).map(a);return d?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=yc(l)).precision==null&&(l.trim=!0),l=Y1(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(kL(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function EL(){const e=X1(Xh()).domain([1,10]);return e.copy=()=>cu(e,EL()).base(e.base()),sn.apply(e,arguments),e}function bP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Q1(e){var t=1,r=e(bP(t),xP(t));return r.constant=function(n){return arguments.length?e(bP(t=+n),xP(t)):t},ha(r)}function OL(){var e=Q1(Xh());return e.copy=function(){return cu(e,OL()).constant(e.constant())},sn.apply(e,arguments)}function wP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jse(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Pse(e){return e<0?-e*e:e*e}function J1(e){var t=e(mr,mr),r=1;function n(){return r===1?e(mr,mr):r===.5?e(jse,Pse):e(wP(r),wP(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ha(t)}function Z1(){var e=J1(Xh());return e.copy=function(){return cu(e,Z1()).exponent(e.exponent())},sn.apply(e,arguments),e}function Tse(){return Z1.apply(null,arguments).exponent(.5)}function _P(e){return Math.sign(e)*e*e}function Cse(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AL(){var e=K1(),t=[0,1],r=!1,n;function i(a){var o=Cse(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(_P(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,rf)).map(_P)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return AL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},sn.apply(i,arguments),ha(i)}function jL(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Moe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[su(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ta),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return jL().domain(e).range(t).unknown(n)},sn.apply(a,arguments)}function PL(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[su(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return PL().domain([e,t]).range(i).unknown(a)},sn.apply(ha(o),arguments)}function TL(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[su(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TL().domain(e).range(t).unknown(r)},sn.apply(i,arguments)}const Sv=new Date,kv=new Date;function Gt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>Gt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Sv.setTime(+a),kv.setTime(+o),e(Sv),e(kv),Math.floor(r(Sv,kv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const of=Gt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);of.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):of);of.range;const ui=1e3,Zr=ui*60,di=Zr*60,bi=di*24,e_=bi*7,SP=bi*30,Ev=bi*365,La=Gt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ui)},(e,t)=>(t-e)/ui,e=>e.getUTCSeconds());La.range;const t_=Gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ui)},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getMinutes());t_.range;const r_=Gt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getUTCMinutes());r_.range;const n_=Gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ui-e.getMinutes()*Zr)},(e,t)=>{e.setTime(+e+t*di)},(e,t)=>(t-e)/di,e=>e.getHours());n_.range;const i_=Gt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*di)},(e,t)=>(t-e)/di,e=>e.getUTCHours());i_.range;const uu=Gt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zr)/bi,e=>e.getDate()-1);uu.range;const Qh=Gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bi,e=>e.getUTCDate()-1);Qh.range;const CL=Gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bi,e=>Math.floor(e/bi));CL.range;function fo(e){return Gt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Zr)/e_)}const Jh=fo(0),sf=fo(1),Nse=fo(2),Rse=fo(3),us=fo(4),Ise=fo(5),Dse=fo(6);Jh.range;sf.range;Nse.range;Rse.range;us.range;Ise.range;Dse.range;function ho(e){return Gt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/e_)}const Zh=ho(0),lf=ho(1),Mse=ho(2),$se=ho(3),ds=ho(4),Lse=ho(5),Fse=ho(6);Zh.range;lf.range;Mse.range;$se.range;ds.range;Lse.range;Fse.range;const a_=Gt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());a_.range;const o_=Gt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());o_.range;const xi=Gt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xi.range;const wi=Gt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wi.range;function NL(e,t,r,n,i,a){const o=[[La,1,ui],[La,5,5*ui],[La,15,15*ui],[La,30,30*ui],[a,1,Zr],[a,5,5*Zr],[a,15,15*Zr],[a,30,30*Zr],[i,1,di],[i,3,3*di],[i,6,6*di],[i,12,12*di],[n,1,bi],[n,2,2*bi],[r,1,e_],[t,1,SP],[t,3,3*SP],[e,1,Ev]];function s(c,u,d){const p=u<c;p&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),y=h?h.range(c,+u+1):[];return p?y.reverse():y}function l(c,u,d){const p=Math.abs(u-c)/d,h=q1(([,,g])=>g).right(o,p);if(h===o.length)return e.every(V0(c/Ev,u/Ev,d));if(h===0)return of.every(Math.max(V0(c,u,d),1));const[y,m]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return y.every(m)}return[s,l]}const[Bse,zse]=NL(wi,o_,Zh,CL,i_,r_),[qse,Use]=NL(xi,a_,Jh,uu,n_,t_);function Ov(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Av(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Wse(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=vl(i),u=bl(i),d=vl(a),p=bl(a),h=vl(o),y=bl(o),m=vl(s),g=bl(s),v=vl(l),b=bl(l),x={a:z,A:W,b:L,B:M,c:null,d:PP,e:PP,f:hle,g:Sle,G:Ele,H:ule,I:dle,j:fle,L:RL,m:ple,M:mle,p:H,q:B,Q:NP,s:RP,S:gle,u:yle,U:vle,V:ble,w:xle,W:wle,x:null,X:null,y:_le,Y:kle,Z:Ole,"%":CP},_={a:$,A:Q,b:ee,B:pe,c:null,d:TP,e:TP,f:Tle,g:Ble,G:qle,H:Ale,I:jle,j:Ple,L:DL,m:Cle,M:Nle,p:te,q:re,Q:NP,s:RP,S:Rle,u:Ile,U:Dle,V:Mle,w:$le,W:Lle,x:null,X:null,y:Fle,Y:zle,Z:Ule,"%":CP},w={a:A,A:N,b:C,B:D,c:O,d:AP,e:AP,f:ole,g:OP,G:EP,H:jP,I:jP,j:rle,L:ale,m:tle,M:nle,p:T,q:ele,Q:lle,s:cle,S:ile,u:Yse,U:Xse,V:Qse,w:Gse,W:Jse,x:R,X:F,y:OP,Y:EP,Z:Zse,"%":sle};x.x=S(r,x),x.X=S(n,x),x.c=S(t,x),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(J,le){return function(se){var Z=[],de=-1,j=0,G=J.length,V,U,q;for(se instanceof Date||(se=new Date(+se));++de<G;)J.charCodeAt(de)===37&&(Z.push(J.slice(j,de)),(U=kP[V=J.charAt(++de)])!=null?V=J.charAt(++de):U=V==="e"?" ":"0",(q=le[V])&&(V=q(se,U)),Z.push(V),j=de+1);return Z.push(J.slice(j,de)),Z.join("")}}function E(J,le){return function(se){var Z=yl(1900,void 0,1),de=P(Z,J,se+="",0),j,G;if(de!=se.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(le&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(j=Av(yl(Z.y,0,1)),G=j.getUTCDay(),j=G>4||G===0?lf.ceil(j):lf(j),j=Qh.offset(j,(Z.V-1)*7),Z.y=j.getUTCFullYear(),Z.m=j.getUTCMonth(),Z.d=j.getUTCDate()+(Z.w+6)%7):(j=Ov(yl(Z.y,0,1)),G=j.getDay(),j=G>4||G===0?sf.ceil(j):sf(j),j=uu.offset(j,(Z.V-1)*7),Z.y=j.getFullYear(),Z.m=j.getMonth(),Z.d=j.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),G="Z"in Z?Av(yl(Z.y,0,1)).getUTCDay():Ov(yl(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(G+5)%7:Z.w+Z.U*7-(G+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Av(Z)):Ov(Z)}}function P(J,le,se,Z){for(var de=0,j=le.length,G=se.length,V,U;de<j;){if(Z>=G)return-1;if(V=le.charCodeAt(de++),V===37){if(V=le.charAt(de++),U=w[V in kP?le.charAt(de++):V],!U||(Z=U(J,se,Z))<0)return-1}else if(V!=se.charCodeAt(Z++))return-1}return Z}function T(J,le,se){var Z=c.exec(le.slice(se));return Z?(J.p=u.get(Z[0].toLowerCase()),se+Z[0].length):-1}function A(J,le,se){var Z=h.exec(le.slice(se));return Z?(J.w=y.get(Z[0].toLowerCase()),se+Z[0].length):-1}function N(J,le,se){var Z=d.exec(le.slice(se));return Z?(J.w=p.get(Z[0].toLowerCase()),se+Z[0].length):-1}function C(J,le,se){var Z=v.exec(le.slice(se));return Z?(J.m=b.get(Z[0].toLowerCase()),se+Z[0].length):-1}function D(J,le,se){var Z=m.exec(le.slice(se));return Z?(J.m=g.get(Z[0].toLowerCase()),se+Z[0].length):-1}function O(J,le,se){return P(J,t,le,se)}function R(J,le,se){return P(J,r,le,se)}function F(J,le,se){return P(J,n,le,se)}function z(J){return o[J.getDay()]}function W(J){return a[J.getDay()]}function L(J){return l[J.getMonth()]}function M(J){return s[J.getMonth()]}function H(J){return i[+(J.getHours()>=12)]}function B(J){return 1+~~(J.getMonth()/3)}function $(J){return o[J.getUTCDay()]}function Q(J){return a[J.getUTCDay()]}function ee(J){return l[J.getUTCMonth()]}function pe(J){return s[J.getUTCMonth()]}function te(J){return i[+(J.getUTCHours()>=12)]}function re(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var le=S(J+="",x);return le.toString=function(){return J},le},parse:function(J){var le=E(J+="",!1);return le.toString=function(){return J},le},utcFormat:function(J){var le=S(J+="",_);return le.toString=function(){return J},le},utcParse:function(J){var le=E(J+="",!0);return le.toString=function(){return J},le}}}var kP={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,Hse=/^%/,Vse=/[\\^$*+?|[\]().{}]/g;function tt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Kse(e){return e.replace(Vse,"\\$&")}function vl(e){return new RegExp("^(?:"+e.map(Kse).join("|")+")","i")}function bl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Gse(e,t,r){var n=Qt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Yse(e,t,r){var n=Qt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Xse(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Qse(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Jse(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function EP(e,t,r){var n=Qt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function OP(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Zse(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ele(e,t,r){var n=Qt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tle(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function AP(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rle(e,t,r){var n=Qt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function jP(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nle(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ile(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ale(e,t,r){var n=Qt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ole(e,t,r){var n=Qt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sle(e,t,r){var n=Hse.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lle(e,t,r){var n=Qt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cle(e,t,r){var n=Qt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function PP(e,t){return tt(e.getDate(),t,2)}function ule(e,t){return tt(e.getHours(),t,2)}function dle(e,t){return tt(e.getHours()%12||12,t,2)}function fle(e,t){return tt(1+uu.count(xi(e),e),t,3)}function RL(e,t){return tt(e.getMilliseconds(),t,3)}function hle(e,t){return RL(e,t)+"000"}function ple(e,t){return tt(e.getMonth()+1,t,2)}function mle(e,t){return tt(e.getMinutes(),t,2)}function gle(e,t){return tt(e.getSeconds(),t,2)}function yle(e){var t=e.getDay();return t===0?7:t}function vle(e,t){return tt(Jh.count(xi(e)-1,e),t,2)}function IL(e){var t=e.getDay();return t>=4||t===0?us(e):us.ceil(e)}function ble(e,t){return e=IL(e),tt(us.count(xi(e),e)+(xi(e).getDay()===4),t,2)}function xle(e){return e.getDay()}function wle(e,t){return tt(sf.count(xi(e)-1,e),t,2)}function _le(e,t){return tt(e.getFullYear()%100,t,2)}function Sle(e,t){return e=IL(e),tt(e.getFullYear()%100,t,2)}function kle(e,t){return tt(e.getFullYear()%1e4,t,4)}function Ele(e,t){var r=e.getDay();return e=r>=4||r===0?us(e):us.ceil(e),tt(e.getFullYear()%1e4,t,4)}function Ole(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function TP(e,t){return tt(e.getUTCDate(),t,2)}function Ale(e,t){return tt(e.getUTCHours(),t,2)}function jle(e,t){return tt(e.getUTCHours()%12||12,t,2)}function Ple(e,t){return tt(1+Qh.count(wi(e),e),t,3)}function DL(e,t){return tt(e.getUTCMilliseconds(),t,3)}function Tle(e,t){return DL(e,t)+"000"}function Cle(e,t){return tt(e.getUTCMonth()+1,t,2)}function Nle(e,t){return tt(e.getUTCMinutes(),t,2)}function Rle(e,t){return tt(e.getUTCSeconds(),t,2)}function Ile(e){var t=e.getUTCDay();return t===0?7:t}function Dle(e,t){return tt(Zh.count(wi(e)-1,e),t,2)}function ML(e){var t=e.getUTCDay();return t>=4||t===0?ds(e):ds.ceil(e)}function Mle(e,t){return e=ML(e),tt(ds.count(wi(e),e)+(wi(e).getUTCDay()===4),t,2)}function $le(e){return e.getUTCDay()}function Lle(e,t){return tt(lf.count(wi(e)-1,e),t,2)}function Fle(e,t){return tt(e.getUTCFullYear()%100,t,2)}function Ble(e,t){return e=ML(e),tt(e.getUTCFullYear()%100,t,2)}function zle(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function qle(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ds(e):ds.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function Ule(){return"+0000"}function CP(){return"%"}function NP(e){return+e}function RP(e){return Math.floor(+e/1e3)}var Ao,$L,LL;Wle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wle(e){return Ao=Wse(e),$L=Ao.format,Ao.parse,LL=Ao.utcFormat,Ao.utcParse,Ao}function Hle(e){return new Date(e)}function Vle(e){return e instanceof Date?+e:+new Date(+e)}function s_(e,t,r,n,i,a,o,s,l,c){var u=K1(),d=u.invert,p=u.domain,h=c(".%L"),y=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),b=c("%b %d"),x=c("%B"),_=c("%Y");function w(S){return(l(S)<S?h:s(S)<S?y:o(S)<S?m:a(S)<S?g:n(S)<S?i(S)<S?v:b:r(S)<S?x:_)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?p(Array.from(S,Vle)):p().map(Hle)},u.ticks=function(S){var E=p();return e(E[0],E[E.length-1],S??10)},u.tickFormat=function(S,E){return E==null?w:c(E)},u.nice=function(S){var E=p();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?p(kL(E,S)):u},u.copy=function(){return cu(u,s_(e,t,r,n,i,a,o,s,l,c))},u}function Kle(){return sn.apply(s_(qse,Use,xi,a_,Jh,uu,n_,t_,La,$L).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gle(){return sn.apply(s_(Bse,zse,wi,o_,Zh,Qh,i_,r_,La,LL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ep(){var e=0,t=1,r,n,i,a,o=mr,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(p){var h,y;return arguments.length?([h,y]=p,o=d(h,y),c):[o(0),o(1)]}}return c.range=u(Js),c.rangeRound=u(V1),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function pa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FL(){var e=ha(ep()(mr));return e.copy=function(){return pa(e,FL())},Ti.apply(e,arguments)}function BL(){var e=X1(ep()).domain([1,10]);return e.copy=function(){return pa(e,BL()).base(e.base())},Ti.apply(e,arguments)}function zL(){var e=Q1(ep());return e.copy=function(){return pa(e,zL()).constant(e.constant())},Ti.apply(e,arguments)}function l_(){var e=J1(ep());return e.copy=function(){return pa(e,l_()).exponent(e.exponent())},Ti.apply(e,arguments)}function Yle(){return l_.apply(null,arguments).exponent(.5)}function qL(){var e=[],t=mr;function r(n){if(n!=null&&!isNaN(n=+n))return t((su(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ta),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Doe(e,a/n))},r.copy=function(){return qL(t).domain(e)},Ti.apply(r,arguments)}function tp(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,c=mr,u,d=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+u(m))-a)*(n*m<n*a?s:l),c(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,r]=m,i=u(e=+e),a=u(t=+t),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(c=m,h):c};function y(m){return function(g){var v,b,x;return arguments.length?([v,b,x]=g,c=sse(m,[v,b,x]),h):[c(0),c(.5),c(1)]}}return h.range=y(Js),h.rangeRound=y(V1),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return u=m,i=m(e),a=m(t),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function UL(){var e=ha(tp()(mr));return e.copy=function(){return pa(e,UL())},Ti.apply(e,arguments)}function WL(){var e=X1(tp()).domain([.1,1,10]);return e.copy=function(){return pa(e,WL()).base(e.base())},Ti.apply(e,arguments)}function HL(){var e=Q1(tp());return e.copy=function(){return pa(e,HL()).constant(e.constant())},Ti.apply(e,arguments)}function c_(){var e=J1(tp());return e.copy=function(){return pa(e,c_()).exponent(e.exponent())},Ti.apply(e,arguments)}function Xle(){return c_.apply(null,arguments).exponent(.5)}const IP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hc,scaleDiverging:UL,scaleDivergingLog:WL,scaleDivergingPow:c_,scaleDivergingSqrt:Xle,scaleDivergingSymlog:HL,scaleIdentity:SL,scaleImplicit:K0,scaleLinear:af,scaleLog:EL,scaleOrdinal:U1,scalePoint:Bl,scalePow:Z1,scaleQuantile:jL,scaleQuantize:PL,scaleRadial:AL,scaleSequential:FL,scaleSequentialLog:BL,scaleSequentialPow:l_,scaleSequentialQuantile:qL,scaleSequentialSqrt:Yle,scaleSequentialSymlog:zL,scaleSqrt:Tse,scaleSymlog:OL,scaleThreshold:TL,scaleTime:Kle,scaleUtc:Gle,tickFormat:_L},Symbol.toStringTag,{value:"Module"}));var jv,DP;function rp(){if(DP)return jv;DP=1;var e=Ks();function t(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,u=s}return u}return jv=t,jv}var Pv,MP;function VL(){if(MP)return Pv;MP=1;function e(t,r){return t>r}return Pv=e,Pv}var Tv,$P;function Qle(){if($P)return Tv;$P=1;var e=rp(),t=VL(),r=Xs();function n(i){return i&&i.length?e(i,r,t):void 0}return Tv=n,Tv}var Jle=Qle();const Ui=Je(Jle);var Cv,LP;function KL(){if(LP)return Cv;LP=1;function e(t,r){return t<r}return Cv=e,Cv}var Nv,FP;function Zle(){if(FP)return Nv;FP=1;var e=rp(),t=KL(),r=Xs();function n(i){return i&&i.length?e(i,r,t):void 0}return Nv=n,Nv}var ece=Zle();const np=Je(ece);var Rv,BP;function tce(){if(BP)return Rv;BP=1;var e=O1(),t=ei(),r=tL(),n=Or();function i(a,o){var s=n(a)?e:r;return s(a,t(o,3))}return Rv=i,Rv}var Iv,zP;function rce(){if(zP)return Iv;zP=1;var e=Z5(),t=tce();function r(n,i){return e(t(n,i),1)}return Iv=r,Iv}var nce=rce();const ice=Je(nce);var Dv,qP;function ace(){if(qP)return Dv;qP=1;var e=L1();function t(r,n){return e(r,n)}return Dv=t,Dv}var oce=ace();const _i=Je(oce);var Zs=1e9,sce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},d_,kt=!0,nn="[DecimalError] ",Ha=nn+"Invalid argument: ",u_=nn+"Exponent out of range: ",el=Math.floor,Ta=Math.pow,lce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$r,Yt=1e7,_t=7,GL=9007199254740991,cf=el(GL/_t),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return gi(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return pt(gi(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return $t(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($r))throw Error(nn+"NaN");if(r.s<1)throw Error(nn+(r.s?"NaN":"-Infinity"));return r.eq($r)?new n(0):(kt=!1,t=gi(vc(r,a),vc(e,a),a),kt=!0,pt(t,i))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QL(t,e):YL(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(nn+"NaN");return r.s?(kt=!1,t=gi(r,e,0,1).times(e),kt=!0,r.minus(t)):pt(new n(r),i)};we.naturalExponential=we.exp=function(){return XL(this)};we.naturalLogarithm=we.ln=function(){return vc(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YL(t,e):QL(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ha+e);if(t=$t(i)+1,n=i.d.length-1,r=n*_t+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(nn+"NaN")}for(e=$t(s),kt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Fn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=el((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(gi(s,a,o+2)).times(.5),Fn(a.d).slice(0,o)===(t=Fn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(pt(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return kt=!0,pt(n,r)};we.times=we.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this,d=u.constructor,p=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+h[n]*p[i-n-1]+t,a[i--]=s%Yt|0,t=s/Yt|0;a[i]=(a[i]+t)%Yt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,kt?pt(e,d.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Gn(e,0,Zs),t===void 0?t=n.rounding:Gn(t,0,8),pt(r,e+$t(r)+1,t))};we.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ro(n,!0):(Gn(e,0,Zs),t===void 0?t=i.rounding:Gn(t,0,8),n=pt(new i(n),e+1,t),r=ro(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ro(i):(Gn(e,0,Zs),t===void 0?t=a.rounding:Gn(t,0,8),n=pt(new a(i),e+$t(i)+1,t),r=ro(n.abs(),!1,e+$t(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return pt(new t(e),$t(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l($r);if(s=new l(s),!s.s){if(e.s<1)throw Error(nn+"Infinity");return s}if(s.eq($r))return s;if(n=l.precision,e.eq($r))return pt(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=u<0?-u:u)<=GL){for(i=new l($r),t=Math.ceil(n/_t+4),kt=!1;r%2&&(i=i.times(s),WP(i.d,t)),r=el(r/2),r!==0;)s=s.times(s),WP(s.d,t);return kt=!0,e.s<0?new l($r).div(i):pt(i,n)}}else if(a<0)throw Error(nn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,kt=!1,i=e.times(vc(s,n+c)),kt=!0,i=XL(i),i.s=a,i};we.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=$t(i),n=ro(i,r<=a.toExpNeg||r>=a.toExpPos)):(Gn(e,1,Zs),t===void 0?t=a.rounding:Gn(t,0,8),i=pt(new a(i),e,t),r=$t(i),n=ro(i,e<=r||r<=a.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Gn(e,1,Zs),t===void 0?t=n.rounding:Gn(t,0,8)),pt(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$t(e),r=e.constructor;return ro(e,t<=r.toExpNeg||t>=r.toExpPos)};function YL(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),kt?pt(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(d/_t),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Yt|0,l[a]%=Yt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,kt?pt(t,d):t}function Gn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ha+e)}function Fn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=_t-n.length,r&&(a+=Fi(r)),a+=n;o=e[t],n=o+"",r=_t-n.length,r&&(a+=Fi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var gi=(function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Yt|0,o=a/Yt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Yt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,d,p,h,y,m,g,v,b,x,_,w,S,E,P,T=n.constructor,A=n.s==i.s?1:-1,N=n.d,C=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(nn+"Division by zero");for(l=n.e-i.e,E=C.length,w=N.length,h=new T(A),y=h.d=[],c=0;C[c]==(N[c]||0);)++c;if(C[c]>(N[c]||0)&&--l,a==null?b=a=T.precision:o?b=a+($t(n)-$t(i))+1:b=a,b<0)return new T(0);if(b=b/_t+2|0,c=0,E==1)for(u=0,C=C[0],b++;(c<w||u)&&b--;c++)x=u*Yt+(N[c]||0),y[c]=x/C|0,u=x%C|0;else{for(u=Yt/(C[0]+1)|0,u>1&&(C=e(C,u),N=e(N,u),E=C.length,w=N.length),_=E,m=N.slice(0,E),g=m.length;g<E;)m[g++]=0;P=C.slice(),P.unshift(0),S=C[0],C[1]>=Yt/2&&++S;do u=0,s=t(C,m,E,g),s<0?(v=m[0],E!=g&&(v=v*Yt+(m[1]||0)),u=v/S|0,u>1?(u>=Yt&&(u=Yt-1),d=e(C,u),p=d.length,g=m.length,s=t(d,m,p,g),s==1&&(u--,r(d,E<p?P:C,p))):(u==0&&(s=u=1),d=C.slice()),p=d.length,p<g&&d.unshift(0),r(m,d,g),s==-1&&(g=m.length,s=t(C,m,E,g),s<1&&(u++,r(m,E<g?P:C,g))),g=m.length):s===0&&(u++,m=[0]),y[c++]=u,s&&m[0]?m[g++]=N[_]||0:(m=[N[_]],g=1);while((_++<w||m[0]!==void 0)&&b--)}return y[0]||y.shift(),h.e=l,pt(h,o?a+$t(h)+1:a)}})();function XL(e,t){var r,n,i,a,o,s,l=0,c=0,u=e.constructor,d=u.precision;if($t(e)>16)throw Error(u_+$t(e));if(!e.s)return new u($r);for(kt=!1,s=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Ta(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u($r),u.precision=s;;){if(i=pt(i.times(e),s),r=r.times(++l),o=a.plus(gi(i,r,s)),Fn(o.d).slice(0,s)===Fn(a.d).slice(0,s)){for(;c--;)a=pt(a.times(a),s);return u.precision=d,t==null?(kt=!0,pt(a,d)):a}a=o}}function $t(e){for(var t=e.e*_t,r=e.d[0];r>=10;r/=10)t++;return t}function Mv(e,t,r){if(t>e.LN10.sd())throw kt=!0,r&&(e.precision=r),Error(nn+"LN10 precision limit exceeded");return pt(new e(e.LN10),t)}function Fi(e){for(var t="";e--;)t+="0";return t}function vc(e,t){var r,n,i,a,o,s,l,c,u,d=1,p=10,h=e,y=h.d,m=h.constructor,g=m.precision;if(h.s<1)throw Error(nn+(h.s?"NaN":"-Infinity"));if(h.eq($r))return new m(0);if(t==null?(kt=!1,c=g):c=t,h.eq(10))return t==null&&(kt=!0),Mv(m,c);if(c+=p,m.precision=c,r=Fn(y),n=r.charAt(0),a=$t(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Fn(h.d),n=r.charAt(0),d++;a=$t(h),n>1?(h=new m("0."+r),a++):h=new m(n+"."+r.slice(1))}else return l=Mv(m,c+2,g).times(a+""),h=vc(new m(n+"."+r.slice(1)),c-p).plus(l),m.precision=g,t==null?(kt=!0,pt(h,g)):h;for(s=o=h=gi(h.minus($r),h.plus($r),c),u=pt(h.times(h),c),i=3;;){if(o=pt(o.times(u),c),l=s.plus(gi(o,new m(i),c)),Fn(l.d).slice(0,c)===Fn(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Mv(m,c+2,g).times(a+""))),s=gi(s,new m(d),c),m.precision=g,t==null?(kt=!0,pt(s,g)):s;s=l,i+=2}}function UP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=el(r/_t),e.d=[],n=(r+1)%_t,r<0&&(n+=_t),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=_t;n<i;)e.d.push(+t.slice(n,n+=_t));t=t.slice(n),n=_t-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),kt&&(e.e>cf||e.e<-cf))throw Error(u_+r)}else e.s=0,e.e=0,e.d=[0];return e}function pt(e,t,r){var n,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=_t,i=t,c=d[u=0];else{if(u=Math.ceil((n+1)/_t),a=d.length,u>=a)return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=_t,i=n-_t+o}if(r!==void 0&&(a=Ta(10,o-i-1),s=c/a%10|0,l=t<0||d[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Ta(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=$t(e),d.length=1,t=t-a-1,d[0]=Ta(10,(_t-t%_t)%_t),e.e=el(-t/_t)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=Ta(10,_t-n),d[u]=i>0?(c/Ta(10,o-i)%Ta(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==Yt&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=Yt)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(kt&&(e.e>cf||e.e<-cf))throw Error(u_+$t(e));return e}function QL(e,t){var r,n,i,a,o,s,l,c,u,d,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),kt?pt(t,h):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(h/_t),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Yt-1;--l[a],l[i]+=Yt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,kt?pt(t,h):t):new p(0)}function ro(e,t,r){var n,i=$t(e),a=Fn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Fi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Fi(-i-1)+a,r&&(n=r-o)>0&&(a+=Fi(n))):i>=o?(a+=Fi(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Fi(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Fi(n))),e.s<0?"-"+a:a}function WP(e,t){if(e.length>t)return e.length=t,!0}function JL(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ha+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return UP(o,a.toString())}else if(typeof a!="string")throw Error(Ha+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,lce.test(a))UP(o,a);else throw Error(Ha+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=JL,i.config=i.set=cce,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function cce(e){if(!e||typeof e!="object")throw Error(nn+"Object expected");var t,r,n,i=["precision",1,Zs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(el(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ha+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ha+r+": "+n);return this}var d_=JL(sce);$r=new d_(1);const ut=d_;function uce(e){return pce(e)||hce(e)||fce(e)||dce()}function dce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(e,t){if(e){if(typeof e=="string")return Q0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q0(e,t)}}function hce(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function pce(e){if(Array.isArray(e))return Q0(e)}function Q0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mce=function(t){return t},ZL={},e3=function(t){return t===ZL},HP=function(t){return function r(){return arguments.length===0||arguments.length===1&&e3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},gce=function e(t,r){return t===1?r:HP(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==ZL}).length;return o>=t?r.apply(void 0,i):e(t-o,HP(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return e3(d)?l.shift():d});return r.apply(void 0,uce(u).concat(l))}))})},ip=function(t){return gce(t.length,t)},J0=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},yce=ip(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),vce=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return mce;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Z0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},t3=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function bce(e){var t;return e===0?t=1:t=Math.floor(new ut(e).abs().log(10).toNumber())+1,t}function xce(e,t,r){for(var n=new ut(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var wce=ip(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),_ce=ip(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Sce=ip(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ap={rangeStep:xce,getDigitCount:bce,interpolateNumber:wce,uninterpolateNumber:_ce,uninterpolateTruncation:Sce};function ex(e){return Oce(e)||Ece(e)||r3(e)||kce()}function kce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Oce(e){if(Array.isArray(e))return tx(e)}function bc(e,t){return Pce(e)||jce(e,t)||r3(e,t)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3(e,t){if(e){if(typeof e=="string")return tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(e,t)}}function tx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jce(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Pce(e){if(Array.isArray(e))return e}function n3(e){var t=bc(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function i3(e,t,r){if(e.lte(0))return new ut(0);var n=ap.getDigitCount(e.toNumber()),i=new ut(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new ut(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?l:new ut(Math.ceil(l))}function Tce(e,t,r){var n=1,i=new ut(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new ut(10).pow(ap.getDigitCount(e)-1),i=new ut(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ut(Math.floor(e)))}else e===0?i=new ut(Math.floor((t-1)/2)):r||(i=new ut(Math.floor(e)));var o=Math.floor((t-1)/2),s=vce(yce(function(l){return i.add(new ut(l-o).mul(n)).toNumber()}),J0);return s(0,t)}function a3(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var a=i3(new ut(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new ut(0):(o=new ut(e).add(t).div(2),o=o.sub(new ut(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new ut(t).sub(o).div(a).toNumber()),c=s+l+1;return c>r?a3(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:a,tickMin:o.sub(new ut(s).mul(a)),tickMax:o.add(new ut(l).mul(a))})}function Cce(e){var t=bc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=n3([r,n]),l=bc(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(ex(J0(0,i-1).map(function(){return 1/0}))):[].concat(ex(J0(0,i-1).map(function(){return-1/0})),[u]);return r>n?Z0(d):d}if(c===u)return Tce(c,i,a);var p=a3(c,u,o,a),h=p.step,y=p.tickMin,m=p.tickMax,g=ap.rangeStep(y,m.add(new ut(.1).mul(h)),h);return r>n?Z0(g):g}function Nce(e,t){var r=bc(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n3([n,i]),s=bc(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(t,2),d=i3(new ut(c).sub(l).div(u-1),a,0),p=[].concat(ex(ap.rangeStep(new ut(l),new ut(c).sub(new ut(.99).mul(d)),d)),[c]);return n>i?Z0(p):p}var Rce=t3(Cce),Ice=t3(Nce),Dce="Invariant failed";function no(e,t){throw new Error(Dce)}var Mce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}function $ce(e,t){return zce(e)||Bce(e,t)||Fce(e,t)||Lce()}function Lce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fce(e,t){if(e){if(typeof e=="string")return VP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VP(e,t)}}function VP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function zce(e){if(Array.isArray(e))return e}function qce(e,t){if(e==null)return{};var r=Uce(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l3(n.key),n)}}function Vce(e,t,r){return t&&Hce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kce(e,t,r){return t=df(t),Gce(e,o3()?Reflect.construct(t,r||[],df(e).constructor):t.apply(e,r))}function Gce(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yce(e)}function Yce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o3=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},df(e)}function Xce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rx(e,t)}function s3(e,t,r){return t=l3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l3(e){var t=Qce(e,"string");return fs(t)=="symbol"?t:t+""}function Qce(e,t){if(fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tl=(function(e){function t(){return Wce(this,t),Kce(this,t,arguments)}return Xce(t,e),Vce(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,p=qce(n,Mce),h=ve(p,!1);this.props.direction==="x"&&u.type!=="number"&&no();var y=l.map(function(m){var g=c(m,s),v=g.x,b=g.y,x=g.value,_=g.errorVal;if(!_)return null;var w=[],S,E;if(Array.isArray(_)){var P=$ce(_,2);S=P[0],E=P[1]}else S=E=_;if(a==="vertical"){var T=u.scale,A=b+i,N=A+o,C=A-o,D=T(x-S),O=T(x+E);w.push({x1:O,y1:N,x2:O,y2:C}),w.push({x1:D,y1:A,x2:O,y2:A}),w.push({x1:D,y1:N,x2:D,y2:C})}else if(a==="horizontal"){var R=d.scale,F=v+i,z=F-o,W=F+o,L=R(x-S),M=R(x+E);w.push({x1:z,y1:M,x2:W,y2:M}),w.push({x1:F,y1:L,x2:F,y2:M}),w.push({x1:z,y1:L,x2:W,y2:L})}return I.createElement(Me,uf({className:"recharts-errorBar",key:"bar-".concat(w.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},h),w.map(function(H){return I.createElement("line",uf({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return I.createElement(Me,{className:"recharts-errorBars"},y)}}])})(I.Component);s3(tl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});s3(tl,"displayName","ErrorBar");function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){Jce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jce(e,t,r){return t=Zce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zce(e){var t=eue(e,"string");return xc(t)=="symbol"?t:t+""}function eue(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c3=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Nr(r,Lr);if(!o)return null;var s=Lr.defaultProps,l=s!==void 0?_a(_a({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(u,d){var p=d.item,h=d.props,y=h.sectors||h.data||[];return u.concat(y.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,p=d.type.defaultProps,h=p!==void 0?_a(_a({},p),d.props):{},y=h.dataKey,m=h.name,g=h.legendType,v=h.hide;return{inactive:v,dataKey:y,type:l.iconType||g||"square",color:f_(d),value:m||y,payload:h}}),_a(_a(_a({},l),Lr.getWithHeight(o,i)),{},{payload:c,item:o})};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function GP(e){return iue(e)||nue(e)||rue(e)||tue()}function tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(e,t){if(e){if(typeof e=="string")return nx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nx(e,t)}}function nue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iue(e){if(Array.isArray(e))return nx(e)}function nx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){Yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yo(e,t,r){return t=aue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aue(e){var t=oue(e,"string");return wc(t)=="symbol"?t:t+""}function oue(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ht(e,t,r){return Pe(e)||Pe(t)?r:Kt(t)?zr(e,t,r):je(t)?t(e):r}function zl(e,t,r,n){var i=ice(e,function(s){return ht(s,t)});if(r==="number"){var a=i.filter(function(s){return fe(s)||parseFloat(s)});return a.length?[np(a),Ui(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Pe(s)}):i;return o.map(function(s){return Kt(s)||s instanceof Date?s:""})}var sue=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(hr(d-u)!==hr(p-d)){var y=[];if(hr(p-d)===hr(l[1]-l[0])){h=p;var m=d+l[1]-l[0];y[0]=Math.min(m,(m+u)/2),y[1]=Math.max(m,(m+u)/2)}else{h=u;var g=p+l[1]-l[0];y[0]=Math.min(d,(g+d)/2),y[1]=Math.max(d,(g+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){o=i[c].index;break}}else{var b=Math.min(u,p),x=Math.max(u,p);if(t>(b+d)/2&&t<=(x+d)/2){o=i[c].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},f_=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?At(At({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},lue=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,d=Object.keys(u),p=0,h=d.length;p<h;p++){var y=u[d[p]],m=y.items,g=y.cateAxisId,v=m.filter(function(E){return mi(E.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,x=b!==void 0?At(At({},b),v[0].props):v[0].props,_=x.barSize,w=x[g];o[w]||(o[w]=[]);var S=Pe(_)?r:_;o[w].push({item:v[0],stackList:v.slice(1),barSize:Pe(S)?void 0:pr(S,n,0)})}}return o},cue=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=pr(r,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=i/l,y=o.reduce(function(_,w){return _+w.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&h>0&&(p=!0,h*=.9,y=l*h);var m=(i-y)/2>>0,g={offset:m-c,size:0};u=o.reduce(function(_,w){var S={item:w.item,position:{offset:g.offset+g.size+c,size:p?h:w.barSize}},E=[].concat(GP(_),[S]);return g=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){E.push({item:P,position:g})}),E},d)}else{var v=pr(n,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var b=(i-2*v-(l-1)*c)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;u=o.reduce(function(_,w,S){var E=[].concat(GP(_),[{item:w.item,position:{offset:v+(b+c)*S+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){E.push({item:P,position:E[E.length-1].position})}),E},d)}return u},uue=function(t,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=c3({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,p=u.height,h=c.align,y=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&h!=="center"&&fe(t[h]))return At(At({},t),{},Yo({},h,t[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&y!=="middle"&&fe(t[y]))return At(At({},t),{},Yo({},y,t[y]+(p||0)))}return t},due=function(t,r,n){return Pe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},u3=function(t,r,n,i,a){var o=r.props.children,s=gr(o,tl).filter(function(c){return due(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=ht(u,n);if(Pe(d))return c;var p=Array.isArray(d)?[np(d),Ui(d)]:[d,d],h=l.reduce(function(y,m){var g=ht(u,m,0),v=p[0]-Math.abs(Array.isArray(g)?g[0]:g),b=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},fue=function(t,r,n,i,a){var o=r.map(function(s){return u3(t,s,n,a,i)}).filter(function(s){return!Pe(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},d3=function(t,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&u3(t,l,c,i)||zl(t,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},f3=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},h3=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},fi=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?hr(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var p=a?a.indexOf(d):d;return{coordinate:i(p)+c,value:d,offset:c}});return u.filter(function(d){return!Ys(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,p){return{coordinate:i(d)+c,value:d,index:p,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,p){return{coordinate:i(d)+c,value:a?a[d]:d,index:p,offset:c}})},$v=new WeakMap,Vu=function(t,r){if(typeof r!="function")return t;$v.has(t)||$v.set(t,new WeakMap);var n=$v.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},p3=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:hc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:af(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Bl(),realScaleType:"point"}:a==="category"?{scale:hc(),realScaleType:"band"}:{scale:af(),realScaleType:"linear"};if(eo(i)){var l="scale".concat(qh(i));return{scale:(IP[l]||Bl)(),realScaleType:IP[l]?l:"point"}}return je(i)?{scale:i}:{scale:Bl(),realScaleType:"point"}},XP=1e-4,m3=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-XP,o=Math.max(i[0],i[1])+XP,s=t(r[0]),l=t(r[n-1]);(s<a||s>o||l<a||l>o)&&t.domain([r[0],r[n-1]])}},hue=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},pue=function(t,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!fe(t[0])||t[0]<n)&&(a[0]=n),(!fe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},mue=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Ys(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},gue=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Ys(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},yue={sign:mue,expand:ine,none:is,silhouette:ane,wiggle:one,positive:gue},vue=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),a=yue[n],o=nne().keys(i).value(function(s,l){return+ht(s,l,0)}).order(R0).offset(a);return o(t)},bue=function(t,r,n,i,a,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(d,p){var h,y=(h=p.type)!==null&&h!==void 0&&h.defaultProps?At(At({},p.type.defaultProps),p.props):p.props,m=y.stackId,g=y.hide;if(g)return d;var v=y[n],b=d[v]||{hasStack:!1,stackGroups:{}};if(Kt(m)){var x=b.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};x.items.push(p),b.hasStack=!0,b.stackGroups[m]=x}else b.stackGroups[fa("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return At(At({},d),{},Yo({},v,b))},l),u={};return Object.keys(c).reduce(function(d,p){var h=c[p];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,g){var v=h.stackGroups[g];return At(At({},m),{},Yo({},g,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:vue(t,v.items,a)}))},y)}return At(At({},d),{},Yo({},p,h))},u)},g3=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=Rce(c,a,s);return t.domain([np(u),Ui(u)]),{niceTicks:u}}if(a&&i==="number"){var d=t.domain(),p=Ice(d,a,s);return{niceTicks:p}}return null};function hs(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Pe(i[t.dataKey])){var s=Bd(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=ht(i,Pe(o)?t.dataKey:o);return Pe(l)?null:t.scale(l)}var QP=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=ht(o,r.dataKey,r.domain[s]);return Pe(l)?null:r.scale(l)-a/2+i},xue=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},wue=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?At(At({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Kt(a)){var o=r[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},_ue=function(t){return t.reduce(function(r,n){return[np(n.concat([r[0]]).filter(fe)),Ui(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},y3=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(c,u){var d=_ue(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},JP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ix=function(t,r,n){if(je(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(fe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(JP.test(t[0])){var a=+JP.exec(t[0])[1];i[0]=r[0]-a}else je(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(fe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(ZP.test(t[1])){var o=+ZP.exec(t[1])[1];i[1]=r[1]+o}else je(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},ff=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=B1(r,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},eT=function(t,r,n){return!t||!t.length||_i(t,zr(n,"type.defaultProps.domain"))?r:t},v3=function(t,r){var n=t.type.defaultProps?At(At({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return At(At({},ve(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:f_(t),value:ht(r,i),type:l,payload:r,chartType:c,hide:u})};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){b3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b3(e,t,r){return t=Sue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sue(e){var t=kue(e,"string");return _c(t)=="symbol"?t:t+""}function kue(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eue(e,t){return Pue(e)||jue(e,t)||Aue(e,t)||Oue()}function Oue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(e,t){if(e){if(typeof e=="string")return rT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rT(e,t)}}function rT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Pue(e){if(Array.isArray(e))return e}var hf=Math.PI/180,Tue=function(t){return t*180/Math.PI},rt=function(t,r,n,i){return{x:t+Math.cos(-hf*i)*n,y:r+Math.sin(-hf*i)*n}},x3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},w3=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,u=pr(t.cx,o,o/2),d=pr(t.cy,s,s/2),p=x3(o,s,n),h=pr(t.innerRadius,p,0),y=pr(t.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(g,v){var b=r[v],x=b.domain,_=b.reversed,w;if(Pe(b.range))i==="angleAxis"?w=[l,c]:i==="radiusAxis"&&(w=[h,y]),_&&(w=[w[1],w[0]]);else{w=b.range;var S=w,E=Eue(S,2);l=E[0],c=E[1]}var P=p3(b,a),T=P.realScaleType,A=P.scale;A.domain(x).range(w),m3(A);var N=g3(A,ai(ai({},b),{},{realScaleType:T})),C=ai(ai(ai({},b),N),{},{range:w,radius:y,realScaleType:T,scale:A,cx:u,cy:d,innerRadius:h,outerRadius:y,startAngle:l,endAngle:c});return ai(ai({},g),{},b3({},v,C))},{})},Cue=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Nue=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,s=Cue({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:Tue(c),angleInRadian:c}},Rue=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Iue=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},nT=function(t,r){var n=t.x,i=t.y,a=Nue({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=Rue(r),d=u.startAngle,p=u.endAngle,h=s,y;if(d<=p){for(;h>p;)h-=360;for(;h<d;)h+=360;y=h>=d&&h<=p}else{for(;h>d;)h-=360;for(;h<p;)h+=360;y=h>=p&&h<=d}return y?ai(ai({},r),{},{radius:o,angle:Iue(h,r)}):null},_3=function(t){return!k.isValidElement(t)&&!je(t)&&typeof t!="boolean"?t.className:""};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}var Due=["offset"];function Mue(e){return Bue(e)||Fue(e)||Lue(e)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lue(e,t){if(e){if(typeof e=="string")return ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(e,t)}}function Fue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bue(e){if(Array.isArray(e))return ax(e)}function ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zue(e,t){if(e==null)return{};var r=que(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function que(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(n){Uue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uue(e,t,r){return t=Wue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wue(e){var t=Hue(e,"string");return Sc(t)=="symbol"?t:t+""}function Hue(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}var Vue=function(t){var r=t.value,n=t.formatter,i=Pe(t.children)?r:t.children;return je(n)?n(i):i},Kue=function(t,r){var n=hr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Gue=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,p=l.outerRadius,h=l.startAngle,y=l.endAngle,m=l.clockWise,g=(d+p)/2,v=Kue(h,y),b=v>=0?1:-1,x,_;i==="insideStart"?(x=h+b*o,_=m):i==="insideEnd"?(x=y-b*o,_=!m):i==="end"&&(x=y+b*o,_=m),_=v<=0?_:!_;var w=rt(c,u,g,x),S=rt(c,u,g,x+(_?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),P=Pe(t.id)?fa("recharts-radial-line-"):t.id;return I.createElement("text",kc({},n,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:P,d:E})),I.createElement("textPath",{xlinkHref:"#".concat(P)},r))},Yue=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,p=(u+d)/2;if(i==="outside"){var h=rt(o,s,c+n,p),y=h.x,m=h.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,v=rt(o,s,g,p),b=v.x,x=v.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Xue=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,p=d*i,h=d>0?"end":"start",y=d>0?"start":"end",m=c>=0?1:-1,g=m*i,v=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var x={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:h};return qt(qt({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var _={x:s+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:y};return qt(qt({},_),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var w={x:s-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return qt(qt({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(a==="right"){var S={x:s+c+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return qt(qt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return a==="insideLeft"?qt({x:s+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?qt({x:s+c-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideTop"?qt({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:y},E):a==="insideBottom"?qt({x:s+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},E):a==="insideTopLeft"?qt({x:s+g,y:l+p,textAnchor:b,verticalAnchor:y},E):a==="insideTopRight"?qt({x:s+c-g,y:l+p,textAnchor:v,verticalAnchor:y},E):a==="insideBottomLeft"?qt({x:s+g,y:l+u-p,textAnchor:b,verticalAnchor:h},E):a==="insideBottomRight"?qt({x:s+c-g,y:l+u-p,textAnchor:v,verticalAnchor:h},E):Gs(a)&&(fe(a.x)||Ma(a.x))&&(fe(a.y)||Ma(a.y))?qt({x:s+pr(a.x,c),y:l+pr(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):qt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Que=function(t){return"cx"in t&&fe(t.cx)};function Xt(e){var t=e.offset,r=t===void 0?5:t,n=zue(e,Due),i=qt({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,p=i.textBreakAll;if(!a||Pe(s)&&Pe(l)&&!k.isValidElement(c)&&!je(c))return null;if(k.isValidElement(c))return k.cloneElement(c,i);var h;if(je(c)){if(h=k.createElement(c,i),k.isValidElement(h))return h}else h=Vue(i);var y=Que(a),m=ve(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Gue(i,h,m);var g=y?Yue(i):Xue(i);return I.createElement(to,kc({className:Ie("recharts-label",d)},m,g,{breakAll:p}),h)}Xt.displayName="Label";var S3=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,p=t.y,h=t.top,y=t.left,m=t.width,g=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(fe(m)&&fe(g)){if(fe(d)&&fe(p))return{x:d,y:p,width:m,height:g};if(fe(h)&&fe(y))return{x:h,y,width:m,height:g}}return fe(d)&&fe(p)?{x:d,y:p,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:v}:t.viewBox?t.viewBox:{}},Jue=function(t,r){return t?t===!0?I.createElement(Xt,{key:"label-implicit",viewBox:r}):Kt(t)?I.createElement(Xt,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===Xt?k.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(Xt,{key:"label-implicit",content:t,viewBox:r}):je(t)?I.createElement(Xt,{key:"label-implicit",content:t,viewBox:r}):Gs(t)?I.createElement(Xt,kc({viewBox:r},t,{key:"label-implicit"})):null:null},Zue=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=S3(t),o=gr(i,Xt).map(function(l,c){return k.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=Jue(t.label,r||a);return[s].concat(Mue(o))};Xt.parseViewBox=S3;Xt.renderCallByParent=Zue;var Lv,aT;function ede(){if(aT)return Lv;aT=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Lv=e,Lv}var tde=ede();const k3=Je(tde);function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}var rde=["valueAccessor"],nde=["data","dataKey","clockWise","id","textBreakAll"];function ide(e){return lde(e)||sde(e)||ode(e)||ade()}function ade(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ode(e,t){if(e){if(typeof e=="string")return ox(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ox(e,t)}}function sde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lde(e){if(Array.isArray(e))return ox(e)}function ox(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){cde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cde(e,t,r){return t=ude(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ude(e){var t=dde(e,"string");return Ec(t)=="symbol"?t:t+""}function dde(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lT(e,t){if(e==null)return{};var r=fde(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hde=function(t){return Array.isArray(t.value)?k3(t.value):t.value};function en(e){var t=e.valueAccessor,r=t===void 0?hde:t,n=lT(e,rde),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=lT(n,nde);return!i||!i.length?null:I.createElement(Me,{className:"recharts-label-list"},i.map(function(u,d){var p=Pe(a)?r(u,d):ht(u&&u.payload,a),h=Pe(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(Xt,pf({},ve(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:Xt.parseViewBox(Pe(o)?u:sT(sT({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}en.displayName="LabelList";function pde(e,t){return e?e===!0?I.createElement(en,{key:"labelList-implicit",data:t}):I.isValidElement(e)||je(e)?I.createElement(en,{key:"labelList-implicit",data:t,content:e}):Gs(e)?I.createElement(en,pf({data:t},e,{key:"labelList-implicit"})):null:null}function mde(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=gr(n,en).map(function(o,s){return k.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var a=pde(e.label,t);return[a].concat(ide(i))}en.renderCallByParent=mde;function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(this,arguments)}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){gde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gde(e,t,r){return t=yde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yde(e){var t=vde(e,"string");return Oc(t)=="symbol"?t:t+""}function vde(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bde=function(t,r){var n=hr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Ku=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/hf,p=c?a:a+o*d,h=rt(r,n,u,p),y=rt(r,n,i,p),m=c?a-o*d:a,g=rt(r,n,u*Math.cos(d*hf),m);return{center:h,circleTangency:y,lineTangency:g,theta:d}},E3=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=bde(o,s),c=o+l,u=rt(r,n,a,o),d=rt(r,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=rt(r,n,i,o),y=rt(r,n,i,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},xde=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=hr(u-c),p=Ku({cx:r,cy:n,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),h=p.circleTangency,y=p.lineTangency,m=p.theta,g=Ku({cx:r,cy:n,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),v=g.circleTangency,b=g.lineTangency,x=g.theta,_=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(_<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):E3({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var S=Ku({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=S.circleTangency,P=S.lineTangency,T=S.theta,A=Ku({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=A.circleTangency,C=A.lineTangency,D=A.theta,O=l?Math.abs(c-u):Math.abs(c-u)-T-D;if(O<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},wde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O3=function(t){var r=uT(uT({},wde),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,p=r.className;if(o<a||u===d)return null;var h=Ie("recharts-sector",p),y=o-a,m=pr(s,y,0,!0),g;return m>0&&Math.abs(u-d)<360?g=xde({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=E3({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),I.createElement("path",sx({},ve(r,!0),{className:h,d:g,role:"img"}))};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(this,arguments)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){_de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _de(e,t,r){return t=Sde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sde(e){var t=kde(e,"string");return Ac(t)=="symbol"?t:t+""}function kde(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hT={curveBasisClosed:Vre,curveBasisOpen:Kre,curveBasis:Hre,curveBumpX:Cre,curveBumpY:Nre,curveLinearClosed:Gre,curveLinear:Wh,curveMonotoneX:Yre,curveMonotoneY:Xre,curveNatural:Qre,curveStep:Jre,curveStepAfter:ene,curveStepBefore:Zre},Gu=function(t){return t.x===+t.x&&t.y===+t.y},xl=function(t){return t.x},wl=function(t){return t.y},Ede=function(t,r){if(je(t))return t;var n="curve".concat(qh(t));return(n==="curveMonotone"||n==="curveBump")&&r?hT["".concat(n).concat(r==="vertical"?"Y":"X")]:hT[n]||Wh},Ode=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=Ede(n,s),d=c?a.filter(function(m){return Gu(m)}):a,p;if(Array.isArray(o)){var h=c?o.filter(function(m){return Gu(m)}):o,y=d.map(function(m,g){return fT(fT({},m),{},{base:h[g]})});return s==="vertical"?p=Fu().y(wl).x1(xl).x0(function(m){return m.base.x}):p=Fu().x(xl).y1(wl).y0(function(m){return m.base.y}),p.defined(Gu).curve(u),p(y)}return s==="vertical"&&fe(o)?p=Fu().y(wl).x1(xl).x0(o):fe(o)?p=Fu().x(xl).y1(wl).y0(o):p=_5().x(xl).y(wl),p.defined(Gu).curve(u),p(d)},ra=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Ode(t):i;return k.createElement("path",lx({},ve(t,!1),zd(t),{className:Ie("recharts-curve",r),d:o,ref:a}))},Fv={exports:{}},Bv,pT;function Ade(){if(pT)return Bv;pT=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bv=e,Bv}var zv,mT;function jde(){if(mT)return zv;mT=1;var e=Ade();function t(){}function r(){}return r.resetWarningCache=t,zv=function(){function n(o,s,l,c,u,d){if(d!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},zv}var gT;function Pde(){return gT||(gT=1,Fv.exports=jde()()),Fv.exports}var Tde=Pde();const ot=Je(Tde);var Cde=Object.getOwnPropertyNames,Nde=Object.getOwnPropertySymbols,Rde=Object.prototype.hasOwnProperty;function yT(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Yu(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function vT(e){return Cde(e).concat(Nde(e))}var Ide=Object.hasOwn||(function(e,t){return Rde.call(e,t)});function po(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Dde="__v",Mde="__o",$de="_owner",bT=Object.getOwnPropertyDescriptor,xT=Object.keys;function Lde(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Fde(e,t){return po(e.getTime(),t.getTime())}function Bde(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zde(e,t){return e===t}function wT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var p=o.value,h=s.value;if(r.equals(p[0],h[0],l,d,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var qde=po;function Ude(e,t,r){var n=xT(e),i=n.length;if(xT(t).length!==i)return!1;for(;i-- >0;)if(!A3(e,t,r,n[i]))return!1;return!0}function _l(e,t,r){var n=vT(e),i=n.length;if(vT(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!A3(e,t,r,a)||(o=bT(e,a),s=bT(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Wde(e,t){return po(e.valueOf(),t.valueOf())}function Hde(e,t){return e.source===t.source&&e.flags===t.flags}function _T(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Vde(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Kde(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function A3(e,t,r,n){return(n===$de||n===Mde||n===Dde)&&(e.$$typeof||t.$$typeof)?!0:Ide(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Gde="[object Arguments]",Yde="[object Boolean]",Xde="[object Date]",Qde="[object Error]",Jde="[object Map]",Zde="[object Number]",efe="[object Object]",tfe="[object RegExp]",rfe="[object Set]",nfe="[object String]",ife="[object URL]",afe=Array.isArray,ST=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kT=Object.assign,ofe=Object.prototype.toString.call.bind(Object.prototype.toString);function sfe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var v=typeof y;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?o(y,m,g):v==="function"?i(y,m,g):!1;var b=y.constructor;if(b!==m.constructor)return!1;if(b===Object)return s(y,m,g);if(afe(y))return t(y,m,g);if(ST!=null&&ST(y))return d(y,m,g);if(b===Date)return r(y,m,g);if(b===RegExp)return c(y,m,g);if(b===Map)return a(y,m,g);if(b===Set)return u(y,m,g);var x=ofe(y);return x===Xde?r(y,m,g):x===tfe?c(y,m,g):x===Jde?a(y,m,g):x===rfe?u(y,m,g):x===efe?typeof y.then!="function"&&typeof m.then!="function"&&s(y,m,g):x===ife?p(y,m,g):x===Qde?n(y,m,g):x===Gde?s(y,m,g):x===Yde||x===Zde||x===nfe?l(y,m,g):!1}}function lfe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?_l:Lde,areDatesEqual:Fde,areErrorsEqual:Bde,areFunctionsEqual:zde,areMapsEqual:n?yT(wT,_l):wT,areNumbersEqual:qde,areObjectsEqual:n?_l:Ude,arePrimitiveWrappersEqual:Wde,areRegExpsEqual:Hde,areSetsEqual:n?yT(_T,_l):_T,areTypedArraysEqual:n?_l:Vde,areUrlsEqual:Kde};if(r&&(i=kT({},i,r(i))),t){var a=Yu(i.areArraysEqual),o=Yu(i.areMapsEqual),s=Yu(i.areObjectsEqual),l=Yu(i.areSetsEqual);i=kT({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function cfe(e){return function(t,r,n,i,a,o,s){return e(t,r,s)}}function ufe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,p=d===void 0?t?new WeakMap:void 0:d,h=u.meta;return r(l,c,{cache:p,equals:i,meta:h,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var dfe=ma();ma({strict:!0});ma({circular:!0});ma({circular:!0,strict:!0});ma({createInternalComparator:function(){return po}});ma({strict:!0,createInternalComparator:function(){return po}});ma({circular:!0,createInternalComparator:function(){return po}});ma({circular:!0,createInternalComparator:function(){return po},strict:!0});function ma(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=lfe(e),l=sfe(s),c=n?n(l):cfe(l);return ufe({circular:r,comparator:l,createState:i,equals:c,strict:o})}function ffe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ET(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):ffe(i)};requestAnimationFrame(n)}function cx(e){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cx(e)}function hfe(e){return yfe(e)||gfe(e)||mfe(e)||pfe()}function pfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mfe(e,t){if(e){if(typeof e=="string")return OT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OT(e,t)}}function OT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yfe(e){if(Array.isArray(e))return e}function vfe(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=hfe(o),l=s[0],c=s.slice(1);if(typeof l=="number"){ET(i.bind(null,c),l);return}i(l),ET(i.bind(null,c));return}cx(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){j3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j3(e,t,r){return t=bfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bfe(e){var t=xfe(e,"string");return jc(t)==="symbol"?t:String(t)}function xfe(e,t){if(jc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wfe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},_fe=function(t){return t},Sfe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ql=function(t,r){return Object.keys(r).reduce(function(n,i){return jT(jT({},n),{},j3({},i,t(i,r[i])))},{})},PT=function(t,r,n){return t.map(function(i){return"".concat(Sfe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function kfe(e,t){return Afe(e)||Ofe(e,t)||P3(e,t)||Efe()}function Efe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ofe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Afe(e){if(Array.isArray(e))return e}function jfe(e){return Cfe(e)||Tfe(e)||P3(e)||Pfe()}function Pfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3(e,t){if(e){if(typeof e=="string")return ux(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ux(e,t)}}function Tfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cfe(e){if(Array.isArray(e))return ux(e)}function ux(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mf=1e-4,T3=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},C3=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},TT=function(t,r){return function(n){var i=T3(t,r);return C3(i,n)}},Nfe=function(t,r){return function(n){var i=T3(t,r),a=[].concat(jfe(i.map(function(o,s){return o*s}).slice(1)),[0]);return C3(a,n)}},CT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=kfe(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=TT(i,o),p=TT(a,s),h=Nfe(i,o),y=function(v){return v>1?1:v<0?0:v},m=function(v){for(var b=v>1?1:v,x=b,_=0;_<8;++_){var w=d(x)-b,S=h(x);if(Math.abs(w-b)<mf||S<mf)return p(x);x=y(x-w/S)}return p(x)};return m.isStepper=!1,m},Rfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(u,d,p){var h=-(u-d)*n,y=p*a,m=p+(h-y)*s/1e3,g=p*s/1e3+u;return Math.abs(g-d)<mf&&Math.abs(m)<mf?[d,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},Ife=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CT(i);case"spring":return Rfe();default:if(i.split("(")[0]==="cubic-bezier")return CT(i)}return typeof i=="function"?i:null};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function NT(e){return $fe(e)||Mfe(e)||N3(e)||Dfe()}function Dfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $fe(e){if(Array.isArray(e))return fx(e)}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){dx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dx(e,t,r){return t=Lfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lfe(e){var t=Ffe(e,"string");return Pc(t)==="symbol"?t:String(t)}function Ffe(e,t){if(Pc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bfe(e,t){return Ufe(e)||qfe(e,t)||N3(e,t)||zfe()}function zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3(e,t){if(e){if(typeof e=="string")return fx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(e,t)}}function fx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ufe(e){if(Array.isArray(e))return e}var gf=function(t,r,n){return t+(r-t)*n},hx=function(t){var r=t.from,n=t.to;return r!==n},Wfe=function e(t,r,n){var i=ql(function(a,o){if(hx(o)){var s=t(o.from,o.to,o.velocity),l=Bfe(s,2),c=l[0],u=l[1];return tr(tr({},o),{},{from:c,velocity:u})}return o},r);return n<1?ql(function(a,o){return hx(o)?tr(tr({},o),{},{velocity:gf(o.velocity,i[a].velocity,n),from:gf(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const Hfe=(function(e,t,r,n,i){var a=wfe(e,t),o=a.reduce(function(g,v){return tr(tr({},g),{},dx({},v,[e[v],t[v]]))},{}),s=a.reduce(function(g,v){return tr(tr({},g),{},dx({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,c,u,d=function(){return null},p=function(){return ql(function(v,b){return b.from},s)},h=function(){return!Object.values(s).filter(hx).length},y=function(v){c||(c=v);var b=v-c,x=b/r.dt;s=Wfe(r,s,x),i(tr(tr(tr({},e),t),p())),c=v,h()||(l=requestAnimationFrame(d))},m=function(v){u||(u=v);var b=(v-u)/n,x=ql(function(w,S){return gf.apply(void 0,NT(S).concat([r(b)]))},o);if(i(tr(tr(tr({},e),t),x)),b<1)l=requestAnimationFrame(d);else{var _=ql(function(w,S){return gf.apply(void 0,NT(S).concat([r(1)]))},o);i(tr(tr(tr({},e),t),_))}};return d=r.isStepper?y:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}var Vfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Kfe(e,t){if(e==null)return{};var r=Gfe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qv(e){return Jfe(e)||Qfe(e)||Xfe(e)||Yfe()}function Yfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xfe(e,t){if(e){if(typeof e=="string")return px(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return px(e,t)}}function Qfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jfe(e){if(Array.isArray(e))return px(e)}function px(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){Pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pl(e,t,r){return t=R3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ehe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R3(n.key),n)}}function the(e,t,r){return t&&ehe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R3(e){var t=rhe(e,"string");return ps(t)==="symbol"?t:String(t)}function rhe(e,t){if(ps(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ps(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mx(e,t)}function mx(e,t){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mx(e,t)}function ihe(e){var t=ahe();return function(){var n=yf(e),i;if(t){var a=yf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gx(this,i)}}function gx(e,t){if(t&&(ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yx(e)}function yx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ahe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(e)}var qr=(function(e){nhe(r,e);var t=ihe(r);function r(n,i){var a;Zfe(this,r),a=t.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,p=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(yx(a)),a.changeStyle=a.changeStyle.bind(yx(a)),!s||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),gx(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof p=="function")return a.state={style:c},gx(a);a.state={style:l?Pl({},l,c):c}}else a.state={style:{}};return a}return the(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,p=this.state.style;if(s){if(!o){var h={style:l?Pl({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(dfe(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||c?d:i.to;if(this.state&&p){var g={style:l?Pl({},l,m):m};(l&&p[l]!==m||!l&&p!==m)&&this.setState(g)}this.runAnimation(un(un({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,h=Hfe(o,s,Ife(c),l,this.changeStyle),y=function(){a.stopJSAnimation=h()};this.manager.start([p,u,y,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,d=c.duration,p=d===void 0?0:d,h=function(m,g,v){if(v===0)return m;var b=g.duration,x=g.easing,_=x===void 0?"ease":x,w=g.style,S=g.properties,E=g.onAnimationEnd,P=v>0?o[v-1]:g,T=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(qv(m),[a.runJSAnimation.bind(a,{from:P.style,to:w,duration:b,easing:_}),b]);var A=PT(T,b,_),N=un(un(un({},P.style),w),{},{transition:A});return[].concat(qv(m),[N,b,E]).filter(_fe)};return this.manager.start([l].concat(qv(o.reduce(h,[u,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vfe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var m=s?Pl({},s,l):l,g=PT(Object.keys(m),o,c);y.start([u,a,un(un({},m),{},{transition:g}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Kfe(i,Vfe),c=k.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var d=function(h){var y=h.props,m=y.style,g=m===void 0?{}:m,v=y.className,b=k.cloneElement(h,un(un({},l),{},{style:un(un({},g),u),className:v}));return b};return c===1?d(k.Children.only(a)):I.createElement("div",null,k.Children.map(a,function(p){return d(p)}))}}]),r})(k.PureComponent);qr.displayName="Animate";qr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qr.propTypes={from:ot.oneOfType([ot.object,ot.string]),to:ot.oneOfType([ot.object,ot.string]),attributeName:ot.string,duration:ot.number,begin:ot.number,easing:ot.oneOfType([ot.string,ot.func]),steps:ot.arrayOf(ot.shape({duration:ot.number.isRequired,style:ot.object.isRequired,easing:ot.oneOfType([ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ot.func]),properties:ot.arrayOf("string"),onAnimationEnd:ot.func})),children:ot.oneOfType([ot.node,ot.func]),isActive:ot.bool,canBegin:ot.bool,onAnimationEnd:ot.func,shouldReAnimate:ot.bool,onAnimationStart:ot.func,onAnimationReStart:ot.func};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}function ohe(e,t){return uhe(e)||che(e,t)||lhe(e,t)||she()}function she(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(e,t){if(e){if(typeof e=="string")return DT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DT(e,t)}}function DT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function che(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function uhe(e){if(Array.isArray(e))return e}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){dhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dhe(e,t,r){return t=fhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fhe(e){var t=hhe(e,"string");return Tc(t)=="symbol"?t:t+""}function hhe(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LT=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],p=0,h=4;p<h;p++)d[p]=a[p]>o?o:a[p];u="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),u+="L ".concat(t+n,",").concat(r+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+i)),u+="L ".concat(t+l*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);u="M ".concat(t,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+l*y,",").concat(r,`
            L `).concat(t+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*y,`
            L `).concat(t+n,",").concat(r+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n-l*y,",").concat(r+i,`
            L `).concat(t+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(r+i-s*y," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},phe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+l),p=Math.max(o,o+l);return n>=c&&n<=u&&i>=d&&i<=p}return!1},mhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h_=function(t){var r=$T($T({},mhe),t),n=k.useRef(),i=k.useState(-1),a=ohe(i,2),o=a[0],s=a[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,p=r.radius,h=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var x=Ie("recharts-rectangle",h);return b?I.createElement(qr,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:y,isActive:b},function(_){var w=_.width,S=_.height,E=_.x,P=_.y;return I.createElement(qr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:v,easing:y},I.createElement("path",vf({},ve(r,!0),{className:x,d:LT(E,P,w,S,p),ref:n})))}):I.createElement("path",vf({},ve(r,!0),{className:x,d:LT(l,c,u,d,p)}))},ghe=["points","className","baseLinePoints","connectNulls"];function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(this,arguments)}function yhe(e,t){if(e==null)return{};var r=vhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FT(e){return _he(e)||whe(e)||xhe(e)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(e,t){if(e){if(typeof e=="string")return vx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vx(e,t)}}function whe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _he(e){if(Array.isArray(e))return vx(e)}function vx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BT=function(t){return t&&t.x===+t.x&&t.y===+t.y},She=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){BT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),BT(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ul=function(t,r){var n=She(t);r&&(n=[n.reduce(function(a,o){return[].concat(FT(a),FT(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},khe=function(t,r,n){var i=Ul(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ul(r.reverse(),n).slice(1))},I3=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=yhe(t,ghe);if(!r||!r.length)return null;var s=Ie("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=khe(r,i,a);return I.createElement("g",{className:s},I.createElement("path",Io({},ve(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?I.createElement("path",Io({},ve(o,!0),{fill:"none",d:Ul(r,a)})):null,l?I.createElement("path",Io({},ve(o,!0),{fill:"none",d:Ul(i,a)})):null)}var u=Ul(r,a);return I.createElement("path",Io({},ve(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(this,arguments)}var rl=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=Ie("recharts-dot",a);return r===+r&&n===+n&&i===+i?k.createElement("circle",bx({},ve(t,!1),zd(t),{className:o,cx:r,cy:n,r:i})):null};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}var Ehe=["x","y","top","left","width","height","className"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(this,arguments)}function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ohe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){Ahe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ahe(e,t,r){return t=jhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jhe(e){var t=Phe(e,"string");return Cc(t)=="symbol"?t:t+""}function Phe(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function The(e,t){if(e==null)return{};var r=Che(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Che(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nhe=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Rhe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,p=t.height,h=p===void 0?0:p,y=t.className,m=The(t,Ehe),g=Ohe({x:n,y:a,top:s,left:c,width:d,height:h},m);return!fe(n)||!fe(a)||!fe(d)||!fe(h)||!fe(s)||!fe(c)?null:I.createElement("path",xx({},ve(g,!0),{className:Ie("recharts-cross",y),d:Nhe(n,a,d,h,s,c)}))},Ihe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Dhe(e,t){if(e==null)return{};var r=Mhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(this,arguments)}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){$he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $he(e,t,r){return t=Lhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lhe(e){var t=Fhe(e,"string");return Nc(t)=="symbol"?t:t+""}function Fhe(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bhe=function(t,r,n,i){var a="";return i.forEach(function(o,s){var l=rt(r,n,t,o);s?a+="L ".concat(l.x,",").concat(l.y):a+="M ".concat(l.x,",").concat(l.y)}),a+="Z",a},zhe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.polarAngles,s=t.radialLines;if(!o||!o.length||!s)return null;var l=Rc({stroke:"#ccc"},ve(t,!1));return I.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(c){var u=rt(r,n,i,c),d=rt(r,n,a,c);return I.createElement("line",Si({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},qhe=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.index,o=Rc(Rc({stroke:"#ccc"},ve(t,!1)),{},{fill:"none"});return I.createElement("circle",Si({},o,{className:Ie("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},Uhe=function(t){var r=t.radius,n=t.index,i=Rc(Rc({stroke:"#ccc"},ve(t,!1)),{},{fill:"none"});return I.createElement("path",Si({},i,{className:Ie("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:Bhe(r,t.cx,t.cy,t.polarAngles)}))},Whe=function(t){var r=t.polarRadius,n=t.gridType;return!r||!r.length?null:I.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var o=a;return n==="circle"?I.createElement(qhe,Si({key:o},t,{radius:i,index:a})):I.createElement(Uhe,Si({key:o},t,{radius:i,index:a}))}))},bf=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,o=t.innerRadius,s=o===void 0?0:o,l=t.outerRadius,c=l===void 0?0:l,u=t.gridType,d=u===void 0?"polygon":u,p=t.radialLines,h=p===void 0?!0:p,y=Dhe(t,Ihe);return c<=0?null:I.createElement("g",{className:"recharts-polar-grid"},I.createElement(zhe,Si({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:h},y)),I.createElement(Whe,Si({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:h},y)))};bf.displayName="PolarGrid";var Uv,UT;function Hhe(){if(UT)return Uv;UT=1;var e=rp(),t=VL(),r=ei();function n(i,a){return i&&i.length?e(i,r(a,2),t):void 0}return Uv=n,Uv}var Vhe=Hhe();const Khe=Je(Vhe);var Wv,WT;function Ghe(){if(WT)return Wv;WT=1;var e=rp(),t=ei(),r=KL();function n(i,a){return i&&i.length?e(i,t(a,2),r):void 0}return Wv=n,Wv}var Yhe=Ghe();const Xhe=Je(Yhe);var Qhe=["cx","cy","angle","ticks","axisLine"],Jhe=["ticks","tick","angle","tickFormatter","stroke"];function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){op(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VT(e,t){if(e==null)return{};var r=Zhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function epe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M3(n.key),n)}}function tpe(e,t,r){return t&&KT(e.prototype,t),r&&KT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rpe(e,t,r){return t=xf(t),npe(e,D3()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function npe(e,t){if(t&&(ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ipe(e)}function ipe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D3=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function ape(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wx(e,t)}function wx(e,t){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wx(e,t)}function op(e,t,r){return t=M3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M3(e){var t=ope(e,"string");return ms(t)=="symbol"?t:t+""}function ope(e,t){if(ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var io=(function(e){function t(){return epe(this,t),rpe(this,t,arguments)}return ape(t,e),tpe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return rt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=Khe(s,function(u){return u.coordinate||0}),c=Xhe(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=VT(n,Qhe),u=s.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),d=rt(i,a,u[0],o),p=rt(i,a,u[1],o),h=Sa(Sa(Sa({},ve(c,!1)),{},{fill:"none"},ve(l,!1)),{},{x1:d.x,y1:d.y,x2:p.x,y2:p.y});return I.createElement("line",Wl({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=VT(i,Jhe),d=this.getTickTextAnchor(),p=ve(u,!1),h=ve(o,!1),y=a.map(function(m,g){var v=n.getTickValueCoord(m),b=Sa(Sa(Sa(Sa({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},p),{},{stroke:"none",fill:c},h),{},{index:g},v),{},{payload:m});return I.createElement(Me,Wl({className:Ie("recharts-polar-radius-axis-tick",_3(o)),key:"tick-".concat(m.coordinate)},oa(n.props,m,g)),t.renderTickItem(o,b,l?l(m.value,g):m.value))});return I.createElement(Me,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:I.createElement(Me,{className:Ie("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Xt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):je(n)?o=n(i):o=I.createElement(to,Wl({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(k.PureComponent);op(io,"displayName","PolarRadiusAxis");op(io,"axisType","radiusAxis");op(io,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(this,arguments)}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){sp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function spe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L3(n.key),n)}}function lpe(e,t,r){return t&&YT(e.prototype,t),r&&YT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cpe(e,t,r){return t=wf(t),upe(e,$3()?Reflect.construct(t,r||[],wf(e).constructor):t.apply(e,r))}function upe(e,t){if(t&&(gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(e)}function dpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($3=function(){return!!e})()}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(e)}function fpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_x(e,t)}function _x(e,t){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_x(e,t)}function sp(e,t,r){return t=L3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3(e){var t=hpe(e,"string");return gs(t)=="symbol"?t:t+""}function hpe(e,t){if(gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ppe=Math.PI/180,XT=1e-5,sa=(function(e){function t(){return spe(this,t),cpe(this,t,arguments)}return fpe(t,e),lpe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=rt(a,o,s,n.coordinate),p=rt(a,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*ppe),o;return a>XT?o=i==="outer"?"start":"end":a<-XT?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=ka(ka({},ve(this.props,!1)),{},{fill:"none"},ve(s,!1));if(l==="circle")return I.createElement(rl,Ra({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,d=u.map(function(p){return rt(i,a,o,p.coordinate)});return I.createElement(I3,Ra({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=ve(this.props,!1),d=ve(o,!1),p=ka(ka({},u),{},{fill:"none"},ve(s,!1)),h=a.map(function(y,m){var g=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),b=ka(ka(ka({textAnchor:v},u),{},{stroke:"none",fill:c},d),{},{index:m,payload:y,x:g.x2,y:g.y2});return I.createElement(Me,Ra({className:Ie("recharts-polar-angle-axis-tick",_3(o)),key:"tick-".concat(y.coordinate)},oa(n.props,y,m)),s&&I.createElement("line",Ra({className:"recharts-polar-angle-axis-tick-line"},p,g)),o&&t.renderTickItem(o,b,l?l(y.value,m):y.value))});return I.createElement(Me,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:I.createElement(Me,{className:Ie("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):je(n)?o=n(i):o=I.createElement(to,Ra({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(k.PureComponent);sp(sa,"displayName","PolarAngleAxis");sp(sa,"axisType","angleAxis");sp(sa,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Hv,QT;function mpe(){if(QT)return Hv;QT=1;var e=H5(),t=e(Object.getPrototypeOf,Object);return Hv=t,Hv}var Vv,JT;function gpe(){if(JT)return Vv;JT=1;var e=ji(),t=mpe(),r=Pi(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(u){if(!r(u)||e(u)!=n)return!1;var d=t(u);if(d===null)return!0;var p=s.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return Vv=c,Vv}var ype=gpe();const vpe=Je(ype);var Kv,ZT;function bpe(){if(ZT)return Kv;ZT=1;var e=ji(),t=Pi(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return Kv=n,Kv}var xpe=bpe();const wpe=Je(xpe);function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(this,arguments)}function _pe(e,t){return Ope(e)||Epe(e,t)||kpe(e,t)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kpe(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Epe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ope(e){if(Array.isArray(e))return e}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){Ape(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ape(e,t,r){return t=jpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jpe(e){var t=Ppe(e,"string");return Ic(t)=="symbol"?t:t+""}function Ppe(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nC=function(t,r,n,i,a){var o=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+a),s+="L ".concat(t+n-o/2-i,",").concat(r+a),s+="L ".concat(t,",").concat(r," Z"),s},Tpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cpe=function(t){var r=rC(rC({},Tpe),t),n=k.useRef(),i=k.useState(-1),a=_pe(i,2),o=a[0],s=a[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,p=r.height,h=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||p!==+p||u===0&&d===0||p===0)return null;var b=Ie("recharts-trapezoid",h);return v?I.createElement(qr,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:p,x:l,y:c},duration:m,animationEasing:y,isActive:v},function(x){var _=x.upperWidth,w=x.lowerWidth,S=x.height,E=x.x,P=x.y;return I.createElement(qr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},I.createElement("path",_f({},ve(r,!0),{className:b,d:nC(E,P,_,w,S),ref:n})))}):I.createElement("g",null,I.createElement("path",_f({},ve(r,!0),{className:b,d:nC(l,c,u,d,p)})))},Npe=["option","shapeType","propTransformer","activeClassName","isActive"];function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function Rpe(e,t){if(e==null)return{};var r=Ipe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ipe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){Dpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dpe(e,t,r){return t=Mpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mpe(e){var t=$pe(e,"string");return Dc(t)=="symbol"?t:t+""}function $pe(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lpe(e,t){return Sf(Sf({},t),e)}function Fpe(e,t){return e==="symbols"}function aC(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(h_,r);case"trapezoid":return I.createElement(Cpe,r);case"sector":return I.createElement(O3,r);case"symbols":if(Fpe(t))return I.createElement(Vh,r);break;default:return null}}function Bpe(e){return k.isValidElement(e)?e.props:e}function kf(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Lpe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=Rpe(e,Npe),c;if(k.isValidElement(t))c=k.cloneElement(t,Sf(Sf({},l),Bpe(t)));else if(je(t))c=t(l);else if(vpe(t)&&!wpe(t)){var u=i(t,l);c=I.createElement(aC,{shapeType:r,elementProps:u})}else{var d=l;c=I.createElement(aC,{shapeType:r,elementProps:d})}return s?I.createElement(Me,{className:o},c):c}function lp(e,t){return t!=null&&"trapezoids"in e.props}function cp(e,t){return t!=null&&"sectors"in e.props}function Mc(e,t){return t!=null&&"points"in e.props}function zpe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function qpe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Upe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Wpe(e,t){var r;return lp(e,t)?r=zpe:cp(e,t)?r=qpe:Mc(e,t)&&(r=Upe),r}function Hpe(e,t){var r;return lp(e,t)?r="trapezoids":cp(e,t)?r="sectors":Mc(e,t)&&(r="points"),r}function Vpe(e,t){if(lp(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(cp(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Mc(e,t)?t.payload:{}}function Kpe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Hpe(r,t),a=Vpe(r,t),o=n.filter(function(l,c){var u=_i(a,l),d=r.props[i].filter(function(y){var m=Wpe(r,t);return m(y,t)}),p=r.props[i].indexOf(d[d.length-1]),h=c===p;return u&&h}),s=n.indexOf(o[o.length-1]);return s}var dd;function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Do.apply(this,arguments)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){Qr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B3(n.key),n)}}function Ype(e,t,r){return t&&sC(e.prototype,t),r&&sC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xpe(e,t,r){return t=Ef(t),Qpe(e,F3()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function Qpe(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jpe(e)}function Jpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F3=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function Zpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sx(e,t)}function Sx(e,t){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sx(e,t)}function Qr(e,t,r){return t=B3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B3(e){var t=eme(e,"string");return ys(t)=="symbol"?t:t+""}function eme(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ci=(function(e){function t(r){var n;return Gpe(this,t),n=Xpe(this,t,[r]),Qr(n,"pieRef",null),Qr(n,"sectorRefs",[]),Qr(n,"id",fa("recharts-pie-")),Qr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),je(i)&&i()}),Qr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),je(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Zpe(t,e),Ype(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=ve(this.props,!1),d=ve(o,!1),p=ve(s,!1),h=o&&o.offsetRadius||20,y=n.map(function(m,g){var v=(m.startAngle+m.endAngle)/2,b=rt(m.cx,m.cy,m.outerRadius+h,v),x=bt(bt(bt(bt({},u),m),{},{stroke:"none"},d),{},{index:g,textAnchor:t.getTextAnchor(b.x,m.cx)},b),_=bt(bt(bt(bt({},u),m),{},{fill:"none",stroke:m.fill},p),{},{index:g,points:[rt(m.cx,m.cy,m.outerRadius,v),b]}),w=l;return Pe(l)&&Pe(c)?w="value":Pe(l)&&(w=c),I.createElement(Me,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},s&&t.renderLabelLineItem(s,_,"line"),t.renderLabelItem(o,x,ht(m,w)))});return I.createElement(Me,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if(c?.startAngle===0&&c?.endAngle===0&&n.length!==1)return null;var d=i.isActiveIndex(u),p=l&&i.hasActiveIndex()?l:null,h=d?o:p,y=bt(bt({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return I.createElement(Me,Do({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},oa(i.props,c,u),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(u)}),I.createElement(kf,Do({option:h,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,p=d.prevSectors,h=d.prevIsAnimationActive;return I.createElement(qr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,g=[],v=a&&a[0],b=v.startAngle;return a.forEach(function(x,_){var w=p&&p[_],S=_>0?zr(x,"paddingAngle",0):0;if(w){var E=ft(w.endAngle-w.startAngle,x.endAngle-x.startAngle),P=bt(bt({},x),{},{startAngle:b+S,endAngle:b+E(m)+S});g.push(P),b=P.endAngle}else{var T=x.endAngle,A=x.startAngle,N=ft(0,T-A),C=N(m),D=bt(bt({},x),{},{startAngle:b+S,endAngle:b+C+S});g.push(D),b=D.endAngle}}),I.createElement(Me,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!_i(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!fe(c)||!fe(u)||!fe(d)||!fe(p))return null;var m=Ie("recharts-pie",s);return I.createElement(Me,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),Xt.renderCallByParent(this.props,null,!1),(!h||y)&&en.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);if(je(n))return n(i);var o=Ie("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(ra,Do({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);var o=a;if(je(n)&&(o=n(i),I.isValidElement(o)))return o;var s=Ie("recharts-pie-label-text",typeof n!="boolean"&&!je(n)?n.className:"");return I.createElement(to,Do({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(k.PureComponent);dd=Ci;Qr(Ci,"displayName","Pie");Qr(Ci,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ti.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qr(Ci,"parseDeltaAngle",function(e,t){var r=hr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Qr(Ci,"getRealPieData",function(e){var t=e.data,r=e.children,n=ve(e,!1),i=gr(r,Qs);return t&&t.length?t.map(function(a,o){return bt(bt(bt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return bt(bt({},n),a.props)}):[]});Qr(Ci,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=x3(i,a),s=n+pr(e.cx,i,i/2),l=r+pr(e.cy,a,a/2),c=pr(e.innerRadius,o,0),u=pr(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});Qr(Ci,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?bt(bt({},t.type.defaultProps),t.props):t.props,i=dd.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),y=dd.parseCoordinateOfPie(n,r),m=dd.parseDeltaAngle(o,s),g=Math.abs(m),v=c;Pe(c)&&Pe(d)?(Sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Pe(c)&&(Sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=d);var b=i.filter(function(P){return ht(P,v,0)!==0}).length,x=(g>=360?b:b-1)*l,_=g-b*h-x,w=i.reduce(function(P,T){var A=ht(T,v,0);return P+(fe(A)?A:0)},0),S;if(w>0){var E;S=i.map(function(P,T){var A=ht(P,v,0),N=ht(P,u,T),C=(fe(A)?A:0)/w,D;T?D=E.endAngle+hr(m)*l*(A!==0?1:0):D=o;var O=D+hr(m)*((A!==0?h:0)+C*_),R=(D+O)/2,F=(y.innerRadius+y.outerRadius)/2,z=[{name:N,value:A,payload:P,dataKey:v,type:p}],W=rt(y.cx,y.cy,F,R);return E=bt(bt(bt({percent:C,cornerRadius:a,name:N,tooltipPayload:z,midAngle:R,middleRadius:F,tooltipPosition:W},P),y),{},{value:ht(P,v),startAngle:D,endAngle:O,payload:P,paddingAngle:hr(m)*l}),E})}return bt(bt({},y),{},{sectors:S,data:i})});var Gv,lC;function tme(){if(lC)return Gv;lC=1;function e(t){return t&&t.length?t[0]:void 0}return Gv=e,Gv}var Yv,cC;function rme(){return cC||(cC=1,Yv=tme()),Yv}var nme=rme();const ime=Je(nme);var ame=["key"];function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function ome(e,t){if(e==null)return{};var r=sme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(this,arguments)}function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){si(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q3(n.key),n)}}function cme(e,t,r){return t&&dC(e.prototype,t),r&&dC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ume(e,t,r){return t=Af(t),dme(e,z3()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function dme(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fme(e)}function fme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z3=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function hme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kx(e,t)}function kx(e,t){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kx(e,t)}function si(e,t,r){return t=q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q3(e){var t=pme(e,"string");return vs(t)=="symbol"?t:t+""}function pme(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ao=(function(e){function t(){var r;lme(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ume(this,t,[].concat(i)),si(r,"state",{isAnimationFinished:!1}),si(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),je(o)&&o()}),si(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),je(o)&&o()}),si(r,"handleMouseEnter",function(o){var s=r.props.onMouseEnter;s&&s(r.props,o)}),si(r,"handleMouseLeave",function(o){var s=r.props.onMouseLeave;s&&s(r.props,o)}),r}return hme(t,e),cme(t,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,o=i.dataKey,s=ve(this.props,!1),l=ve(a,!0),c=n.map(function(u,d){var p=ur(ur(ur({key:"dot-".concat(d),r:3},s),l),{},{dataKey:o,cx:u.x,cy:u.y,index:d,payload:u});return t.renderDotItem(a,p)});return I.createElement(Me,{className:"recharts-radar-dots"},c)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,l=i.baseLinePoints,c=i.connectNulls,u;return I.isValidElement(a)?u=I.cloneElement(a,ur(ur({},this.props),{},{points:n})):je(a)?u=a(ur(ur({},this.props),{},{points:n})):u=I.createElement(I3,Of({},ve(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:s?l:null,connectNulls:c})),I.createElement(Me,{className:"recharts-radar-polygon"},u,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return I.createElement(qr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"radar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,y=d&&d.length/a.length,m=a.map(function(g,v){var b=d&&d[Math.floor(v*y)];if(b){var x=ft(b.x,g.x),_=ft(b.y,g.y);return ur(ur({},g),{},{x:x(h),y:_(h)})}var w=ft(g.cx,g.x),S=ft(g.cy,g.y);return ur(ur({},g),{},{x:w(h),y:S(h)})});return n.renderPolygonStatically(m)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=n.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!_i(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,o=n.points,s=n.isAnimationActive;if(i||!o||!o.length)return null;var l=this.state.isAnimationFinished,c=Ie("recharts-radar",a);return I.createElement(Me,{className:c},this.renderPolygon(),(!s||l)&&en.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(je(n))a=n(i);else{var o=i.key,s=ome(i,ame);a=I.createElement(rl,Of({},s,{key:o,className:Ie("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])})(k.PureComponent);si(ao,"displayName","Radar");si(ao,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});si(ao,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,n=e.displayedData,i=e.dataKey,a=e.bandSize,o=r.cx,s=r.cy,l=!1,c=[],u=r.type!=="number"?a??0:0;n.forEach(function(p,h){var y=ht(p,r.dataKey,h),m=ht(p,i),g=r.scale(y)+u,v=Array.isArray(m)?k3(m):m,b=Pe(v)?void 0:t.scale(v);Array.isArray(m)&&m.length>=2&&(l=!0),c.push(ur(ur({},rt(o,s,b,g)),{},{name:y,value:m,cx:o,cy:s,radius:b,angle:g,payload:p}))});var d=[];return l&&c.forEach(function(p){if(Array.isArray(p.value)){var h=ime(p.value),y=Pe(h)?void 0:t.scale(h);d.push(ur(ur({},p),{},{radius:y},rt(o,s,y,p.angle)))}else d.push(p)}),{points:c,isRange:l,baseLinePoints:d}});var Xv,fC;function mme(){if(fC)return Xv;fC=1;var e=Math.ceil,t=Math.max;function r(n,i,a,o){for(var s=-1,l=t(e((i-n)/(a||1)),0),c=Array(l);l--;)c[o?l:++s]=n,n+=a;return c}return Xv=r,Xv}var Qv,hC;function U3(){if(hC)return Qv;hC=1;var e=sL(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*r}return i===i?i:0}return Qv=n,Qv}var Jv,pC;function gme(){if(pC)return Jv;pC=1;var e=mme(),t=Yh(),r=U3();function n(i){return function(a,o,s){return s&&typeof s!="number"&&t(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),e(a,o,s,i)}}return Jv=n,Jv}var Zv,mC;function yme(){if(mC)return Zv;mC=1;var e=gme(),t=e();return Zv=t,Zv}var vme=yme();const jf=Je(vme);function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){W3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W3(e,t,r){return t=bme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bme(e){var t=xme(e,"string");return $c(t)=="symbol"?t:t+""}function xme(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wme=["Webkit","Moz","O","ms"],_me=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=wme.reduce(function(a,o){return yC(yC({},a),{},W3({},o+n,r))},{});return i[t]=r,i};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(this,arguments)}function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){Cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V3(n.key),n)}}function kme(e,t,r){return t&&bC(e.prototype,t),r&&bC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eme(e,t,r){return t=Tf(t),Ome(e,H3()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function Ome(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(e)}function Ame(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H3=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function jme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ex(e,t)}function Ex(e,t){return Ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ex(e,t)}function Cr(e,t,r){return t=V3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3(e){var t=Pme(e,"string");return bs(t)=="symbol"?t:t+""}function Pme(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tme=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Bl().domain(jf(0,l)).range([a,a+o-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},xC=function(t){return t.changedTouches&&!!t.changedTouches.length},xs=(function(e){function t(r){var n;return Sme(this,t),n=Eme(this,t,[r]),Cr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Cr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Cr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Cr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cr(n,"handleSlideDragStart",function(i){var a=xC(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return jme(t,e),kme(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,a),p=Math.max(i,a),h=t.getIndexInRange(o,d),y=t.getIndexInRange(o,p);return{startIndex:h-h%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=ht(a[n],s,n);return je(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,p=l.startIndex,h=l.endIndex,y=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,c+u-d-s,c+u-d-o):m<0&&(m=Math.max(m,c-o,c-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==p||g.endIndex!==h)&&y&&y(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=xC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,d=u.x,p=u.width,h=u.travellerWidth,y=u.onChange,m=u.gap,g=u.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,d+p-h-c):b<0&&(b=Math.max(b,d-c)),v[o]=c+b;var x=this.getIndex(v),_=x.startIndex,w=x.endIndex,S=function(){var P=g.length-1;return o==="startX"&&(s>l?_%m===0:w%m===0)||s<l&&w===P||o==="endX"&&(s>l?w%m===0:_%m===0)||s>l&&w===P};this.setState(Cr(Cr({},o,c+b),"brushMoveStartX",n.pageX),function(){y&&S()&&y(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var p=d+n;if(!(p===-1||p>=s.length)){var h=s[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Cr({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return I.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,d=k.Children.only(c);return d?I.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,p=l.traveller,h=l.ariaLabel,y=l.data,m=l.startIndex,g=l.endIndex,v=Math.max(n,this.props.x),b=eb(eb({},ve(this.props,!1)),{},{x:v,y:c,width:u,height:d}),x=h||"Min value: ".concat((a=y[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[g])===null||o===void 0?void 0:o.name);return I.createElement(Me,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,d=Math.max(Math.abs(i-n)-c,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,p=u.endX,h=5,y={pointerEvents:"none",fill:c};return I.createElement(Me,{className:"recharts-brush-texts"},I.createElement(to,Pf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-h,y:o+s/2},y),this.getTextOfTick(i)),I.createElement(to,Pf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+h,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,p=this.state,h=p.startX,y=p.endX,m=p.isTextActive,g=p.isSlideMoving,v=p.isTravellerMoving,b=p.isTravellerFocused;if(!i||!i.length||!fe(s)||!fe(l)||!fe(c)||!fe(u)||c<=0||u<=0)return null;var x=Ie("recharts-brush",a),_=I.Children.count(o)===1,w=_me("userSelect","none");return I.createElement(Me,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||v||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return I.isValidElement(n)?a=I.cloneElement(n,i):je(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return eb({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Tme({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])})(k.PureComponent);Cr(xs,"displayName","Brush");Cr(xs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tb,wC;function Cme(){if(wC)return tb;wC=1;var e=F1();function t(r,n){var i;return e(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return tb=t,tb}var rb,_C;function Nme(){if(_C)return rb;_C=1;var e=L5(),t=ei(),r=Cme(),n=Or(),i=Yh();function a(o,s,l){var c=n(o)?e:r;return l&&i(o,s,l)&&(s=void 0),c(o,t(s,3))}return rb=a,rb}var Rme=Nme();const Ime=Je(Rme);var Un=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},nb,SC;function Dme(){if(SC)return nb;SC=1;var e=rL();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return nb=t,nb}var ib,kC;function Mme(){if(kC)return ib;kC=1;var e=Dme(),t=eL(),r=ei();function n(i,a){var o={};return a=r(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return ib=n,ib}var $me=Mme();const Lme=Je($me);var ab,EC;function Fme(){if(EC)return ab;EC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return ab=e,ab}var ob,OC;function Bme(){if(OC)return ob;OC=1;var e=F1();function t(r,n){var i=!0;return e(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return ob=t,ob}var sb,AC;function zme(){if(AC)return sb;AC=1;var e=Fme(),t=Bme(),r=ei(),n=Or(),i=Yh();function a(o,s,l){var c=n(o)?e:t;return l&&i(o,s,l)&&(s=void 0),c(o,r(s,3))}return sb=a,sb}var qme=zme();const K3=Je(qme);var Ume=["x","y"];function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(this,arguments)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){Wme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wme(e,t,r){return t=Hme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hme(e){var t=Vme(e,"string");return Lc(t)=="symbol"?t:t+""}function Vme(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kme(e,t){if(e==null)return{};var r=Gme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yme(e,t){var r=e.x,n=e.y,i=Kme(e,Ume),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),p=parseInt(d,10);return Sl(Sl(Sl(Sl(Sl({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function PC(e){return I.createElement(kf,Ox({shapeType:"rectangle",propTransformer:Yme,activeClassName:"recharts-active-bar"},e))}var Xme=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=fe(n)||Jte(n);return a?t(n,i):(a||no(),r)}},Qme=["value","background"],G3;function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Jme(e,t){if(e==null)return{};var r=Zme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(this,arguments)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){Wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ege(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X3(n.key),n)}}function tge(e,t,r){return t&&CC(e.prototype,t),r&&CC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rge(e,t,r){return t=Nf(t),nge(e,Y3()?Reflect.construct(t,r||[],Nf(e).constructor):t.apply(e,r))}function nge(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ige(e)}function ige(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y3=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function age(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ax(e,t)}function Ax(e,t){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ax(e,t)}function Wi(e,t,r){return t=X3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X3(e){var t=oge(e,"string");return ws(t)=="symbol"?t:t+""}function oge(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jt=(function(e){function t(){var r;ege(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=rge(this,t,[].concat(i)),Wi(r,"state",{isAnimationFinished:!1}),Wi(r,"id",fa("recharts-bar-")),Wi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Wi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return age(t,e),tge(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=ve(this.props,!1);return n&&n.map(function(d,p){var h=p===l,y=h?c:o,m=It(It(It({},u),d),{},{isActive:h,option:y,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Me,Cf({className:"recharts-bar-rectangle"},oa(i.props,d,p),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(p)}),I.createElement(PC,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,p=this.state.prevData;return I.createElement(qr,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,m=a.map(function(g,v){var b=p&&p[v];if(b){var x=ft(b.x,g.x),_=ft(b.y,g.y),w=ft(b.width,g.width),S=ft(b.height,g.height);return It(It({},g),{},{x:x(y),y:_(y),width:w(y),height:S(y)})}if(o==="horizontal"){var E=ft(0,g.height),P=E(y);return It(It({},g),{},{y:g.y+g.height-P,height:P})}var T=ft(0,g.width),A=T(y);return It(It({},g),{},{width:A})});return I.createElement(Me,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!_i(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=ve(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,p=Jme(c,Qme);if(!d)return null;var h=It(It(It(It(It({},p),{},{fill:"#eee"},d),l),oa(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return I.createElement(PC,Cf({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=gr(u,tl);if(!d)return null;var p=c==="vertical"?o[0].height/2:o[0].width/2,h=function(g,v){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:ht(g,v)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Me,y,d.map(function(m){return I.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,p=n.height,h=n.isAnimationActive,y=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=Ie("recharts-bar",o),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,_=b||x,w=Pe(m)?this.id:m;return I.createElement(Me,{className:v},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?c:c-d/2,y:x?u:u-p/2,width:b?d:d*2,height:x?p:p*2}))):null,I.createElement(Me,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!h||g)&&en.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(k.PureComponent);G3=jt;Wi(jt,"displayName","Bar");Wi(jt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wi(jt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,h=hue(n,r);if(!h)return null;var y=t.layout,m=r.type.defaultProps,g=m!==void 0?It(It({},m),r.props):r.props,v=g.dataKey,b=g.children,x=g.minPointSize,_=y==="horizontal"?o:a,w=c?_.scale.domain():null,S=xue({numericAxis:_}),E=gr(b,Qs),P=d.map(function(T,A){var N,C,D,O,R,F;c?N=pue(c[u+A],w):(N=ht(T,v),Array.isArray(N)||(N=[S,N]));var z=Xme(x,G3.defaultProps.minPointSize)(N[1],A);if(y==="horizontal"){var W,L=[o.scale(N[0]),o.scale(N[1])],M=L[0],H=L[1];C=QP({axis:a,ticks:s,bandSize:i,offset:h.offset,entry:T,index:A}),D=(W=H??M)!==null&&W!==void 0?W:void 0,O=h.size;var B=M-H;if(R=Number.isNaN(B)?0:B,F={x:C,y:o.y,width:O,height:o.height},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var $=hr(R||z)*(Math.abs(z)-Math.abs(R));D-=$,R+=$}}else{var Q=[a.scale(N[0]),a.scale(N[1])],ee=Q[0],pe=Q[1];if(C=ee,D=QP({axis:o,ticks:l,bandSize:i,offset:h.offset,entry:T,index:A}),O=pe-ee,R=h.size,F={x:a.x,y:D,width:a.width,height:R},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var te=hr(O||z)*(Math.abs(z)-Math.abs(O));O+=te}}return It(It(It({},T),{},{x:C,y:D,width:O,height:R,value:c?N:N[1],payload:T,background:F},E&&E[A]&&E[A].props),{},{tooltipPayload:[v3(r,T)],tooltipPosition:{x:C+O/2,y:D+R/2}})});return It({data:P,layout:y},p)});function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function sge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q3(n.key),n)}}function lge(e,t,r){return t&&NC(e.prototype,t),r&&NC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){up(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function up(e,t,r){return t=Q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3(e){var t=cge(e,"string");return Fc(t)=="symbol"?t:t+""}function cge(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dp=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!Nr(c,jt);return u.reduce(function(h,y){var m=r[y],g=m.orientation,v=m.domain,b=m.padding,x=b===void 0?{}:b,_=m.mirror,w=m.reversed,S="".concat(g).concat(_?"Mirror":""),E,P,T,A,N;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=v[1]-v[0],D=1/0,O=m.categoricalDomain.sort(rre);if(O.forEach(function(Q,ee){ee>0&&(D=Math.min((Q||0)-(O[ee-1]||0),D))}),Number.isFinite(D)){var R=D/C,F=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=R*F/2),m.padding==="no-gap"){var z=pr(t.barCategoryGap,R*F),W=R*F/2;E=W-z-(W-z)/F*z}}}i==="xAxis"?P=[n.left+(x.left||0)+(E||0),n.left+n.width-(x.right||0)-(E||0)]:i==="yAxis"?P=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(E||0),n.top+n.height-(x.bottom||0)-(E||0)]:P=m.range,w&&(P=[P[1],P[0]]);var L=p3(m,a,p),M=L.scale,H=L.realScaleType;M.domain(v).range(P),m3(M);var B=g3(M,gn(gn({},m),{},{realScaleType:H}));i==="xAxis"?(N=g==="top"&&!_||g==="bottom"&&_,T=n.left,A=d[S]-N*m.height):i==="yAxis"&&(N=g==="left"&&!_||g==="right"&&_,T=d[S]-N*m.width,A=n.top);var $=gn(gn(gn({},m),B),{},{realScaleType:H,x:T,y:A,scale:M,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return $.bandSize=ff($,B),!m.hide&&i==="xAxis"?d[S]+=(N?-1:1)*$.height:m.hide||(d[S]+=(N?-1:1)*$.width),gn(gn({},h),{},up({},y,$))},{})},J3=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},uge=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return J3({x:r,y:n},{x:i,y:a})},Z3=(function(){function e(t){sge(this,e),this.scale=t}return lge(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();up(Z3,"EPS",1e-4);var p_=function(t){var r=Object.keys(t).reduce(function(n,i){return gn(gn({},n),{},up({},i,Z3.create(t[i])))},{});return gn(gn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Lme(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return K3(i,function(a,o){return r[o].isInRange(a)})}})};function dge(e){return(e%180+180)%180}var fge=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=dge(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},lb,IC;function hge(){if(IC)return lb;IC=1;var e=ei(),t=ou(),r=Kh();function n(i){return function(a,o,s){var l=Object(a);if(!t(a)){var c=e(o,3);a=r(a),o=function(d){return c(l[d],d,l)}}var u=i(a,o,s);return u>-1?l[c?a[u]:u]:void 0}}return lb=n,lb}var cb,DC;function pge(){if(DC)return cb;DC=1;var e=U3();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return cb=t,cb}var ub,MC;function mge(){if(MC)return ub;MC=1;var e=Y5(),t=ei(),r=pge(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),e(a,t(o,3),c)}return ub=i,ub}var db,$C;function gge(){if($C)return db;$C=1;var e=hge(),t=mge(),r=e(t);return db=r,db}var yge=gge();const vge=Je(yge);var bge=u5();const xge=Je(bge);var wge=xge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),m_=k.createContext(void 0),g_=k.createContext(void 0),e4=k.createContext(void 0),t4=k.createContext({}),r4=k.createContext(void 0),n4=k.createContext(0),i4=k.createContext(0),LC=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,u=wge(a);return I.createElement(m_.Provider,{value:n},I.createElement(g_.Provider,{value:i},I.createElement(t4.Provider,{value:a},I.createElement(e4.Provider,{value:u},I.createElement(r4.Provider,{value:o},I.createElement(n4.Provider,{value:c},I.createElement(i4.Provider,{value:l},s)))))))},_ge=function(){return k.useContext(r4)},a4=function(t){var r=k.useContext(m_);r==null&&no();var n=r[t];return n==null&&no(),n},Sge=function(){var t=k.useContext(m_);return qi(t)},kge=function(){var t=k.useContext(g_),r=vge(t,function(n){return K3(n.domain,Number.isFinite)});return r||qi(t)},o4=function(t){var r=k.useContext(g_);r==null&&no();var n=r[t];return n==null&&no(),n},Ege=function(){var t=k.useContext(e4);return t},Oge=function(){return k.useContext(t4)},y_=function(){return k.useContext(i4)},v_=function(){return k.useContext(n4)};function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Age(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l4(n.key),n)}}function Pge(e,t,r){return t&&jge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tge(e,t,r){return t=Rf(t),Cge(e,s4()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function Cge(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nge(e)}function Nge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function Rge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jx(e,t)}function jx(e,t){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jx(e,t)}function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){b_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b_(e,t,r){return t=l4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l4(e){var t=Ige(e,"string");return _s(t)=="symbol"?t:t+""}function Ige(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Dge(e,t){return Fge(e)||Lge(e,t)||$ge(e,t)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(e,t){if(e){if(typeof e=="string")return zC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(e,t)}}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Fge(e){if(Array.isArray(e))return e}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(this,arguments)}var Bge=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):je(t)?n=t(r):n=I.createElement("line",Px({},r,{className:"recharts-reference-line-line"})),n},zge=function(t,r,n,i,a,o,s,l,c){var u=a.x,d=a.y,p=a.width,h=a.height;if(n){var y=c.y,m=t.y.apply(y,{position:o});if(Un(c,"discard")&&!t.y.isInRange(m))return null;var g=[{x:u+p,y:m},{x:u,y:m}];return l==="left"?g.reverse():g}if(r){var v=c.x,b=t.x.apply(v,{position:o});if(Un(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:d+h},{x:b,y:d}];return s==="top"?x.reverse():x}if(i){var _=c.segment,w=_.map(function(S){return t.apply(S,{position:o})});return Un(c,"discard")&&Ime(w,function(S){return!t.isInRange(S)})?null:w}return null};function qge(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=_ge(),u=a4(i),d=o4(a),p=Ege();if(!c||!p)return null;Sn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=p_({x:u.scale,y:d.scale}),y=Kt(t),m=Kt(r),g=n&&n.length===2,v=zge(h,y,m,g,p,e.position,u.orientation,d.orientation,e);if(!v)return null;var b=Dge(v,2),x=b[0],_=x.x,w=x.y,S=b[1],E=S.x,P=S.y,T=Un(e,"hidden")?"url(#".concat(c,")"):void 0,A=BC(BC({clipPath:T},ve(e,!0)),{},{x1:_,y1:w,x2:E,y2:P});return I.createElement(Me,{className:Ie("recharts-reference-line",s)},Bge(o,A),Xt.renderCallByParent(e,uge({x1:_,y1:w,x2:E,y2:P})))}var x_=(function(e){function t(){return Age(this,t),Tge(this,t,arguments)}return Rge(t,e),Pge(t,[{key:"render",value:function(){return I.createElement(qge,this.props)}}])})(I.Component);b_(x_,"displayName","ReferenceLine");b_(x_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tx.apply(this,arguments)}function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){fp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u4(n.key),n)}}function Hge(e,t,r){return t&&Wge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vge(e,t,r){return t=If(t),Kge(e,c4()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function Kge(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gge(e)}function Gge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c4=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function Yge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cx(e,t)}function fp(e,t,r){return t=u4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u4(e){var t=Xge(e,"string");return Ss(t)=="symbol"?t:t+""}function Xge(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qge=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=p_({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Un(t,"discard")&&!o.isInRange(s)?null:s},hp=(function(e){function t(){return Uge(this,t),Vge(this,t,arguments)}return Yge(t,e),Hge(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=Kt(i),u=Kt(a);if(Sn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=Qge(this.props);if(!d)return null;var p=d.x,h=d.y,y=this.props,m=y.shape,g=y.className,v=Un(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=UC(UC({clipPath:v},ve(this.props,!0)),{},{cx:p,cy:h});return I.createElement(Me,{className:Ie("recharts-reference-dot",g)},t.renderDot(m,b),Xt.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])})(I.Component);fp(hp,"displayName","ReferenceDot");fp(hp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fp(hp,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):je(e)?r=e(t):r=I.createElement(rl,Tx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nx.apply(this,arguments)}function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){pp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f4(n.key),n)}}function eye(e,t,r){return t&&Zge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tye(e,t,r){return t=Df(t),rye(e,d4()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function rye(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nye(e)}function nye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d4=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function iye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rx(e,t)}function Rx(e,t){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rx(e,t)}function pp(e,t,r){return t=f4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f4(e){var t=aye(e,"string");return ks(t)=="symbol"?t:t+""}function aye(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oye=function(t,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var p=p_({x:u.scale,y:d.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return Un(a,"discard")&&(!p.isInRange(h)||!p.isInRange(y))?null:J3(h,y)},mp=(function(e){function t(){return Jge(this,t),tye(this,t,arguments)}return iye(t,e),eye(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Sn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Kt(i),p=Kt(a),h=Kt(o),y=Kt(s),m=this.props.shape;if(!d&&!p&&!h&&!y&&!m)return null;var g=oye(d,p,h,y,this.props);if(!g&&!m)return null;var v=Un(this.props,"hidden")?"url(#".concat(u,")"):void 0;return I.createElement(Me,{className:Ie("recharts-reference-area",l)},t.renderRect(m,HC(HC({clipPath:v},ve(this.props,!0)),g)),Xt.renderCallByParent(this.props,g))}}])})(I.Component);pp(mp,"displayName","ReferenceArea");pp(mp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pp(mp,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):je(e)?r=e(t):r=I.createElement(h_,Nx({},t,{className:"recharts-reference-area-rect"})),r});function h4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function sye(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return fge(n,r)}function lye(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Mf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function cye(e,t){return h4(e,t+1)}function uye(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,u=o,d=function(){var y=n?.[l];if(y===void 0)return{v:h4(n,c)};var m=l,g,v=function(){return g===void 0&&(g=r(y,m)),g},b=y.coordinate,x=l===0||Mf(e,b,v,u,s);x||(l=0,u=o,c+=1),x&&(u=b+e*(v()/2+i),l+=c)},p;c<=a.length;)if(p=d(),p)return p.v;return[]}function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){dye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dye(e,t,r){return t=fye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fye(e){var t=hye(e,"string");return Bc(t)=="symbol"?t:t+""}function hye(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pye(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(p){var h=a[p],y,m=function(){return y===void 0&&(y=r(h,p)),y};if(p===o-1){var g=e*(h.coordinate+e*m()/2-l);a[p]=h=ar(ar({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else a[p]=h=ar(ar({},h),{},{tickCoord:h.coordinate});var v=Mf(e,h.tickCoord,m,s,l);v&&(l=h.tickCoord-e*(m()/2+i),a[p]=ar(ar({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function mye(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var u=n[s-1],d=r(u,s-1),p=e*(u.coordinate+e*d/2-c);o[s-1]=u=ar(ar({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var h=Mf(e,u.tickCoord,function(){return d},l,c);h&&(c=u.tickCoord-e*(d/2+i),o[s-1]=ar(ar({},u),{},{isShow:!0}))}for(var y=a?s-1:s,m=function(b){var x=o[b],_,w=function(){return _===void 0&&(_=r(x,b)),_};if(b===0){var S=e*(x.coordinate-e*w()/2-l);o[b]=x=ar(ar({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else o[b]=x=ar(ar({},x),{},{tickCoord:x.coordinate});var E=Mf(e,x.tickCoord,w,l,c);E&&(l=x.tickCoord+e*(w()/2+i),o[b]=ar(ar({},x),{},{isShow:!0}))},g=0;g<y;g++)m(g);return o}function w_(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(fe(l)||ti.isSsr)return cye(i,typeof l=="number"&&fe(l)?l:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",y=u&&h==="width"?Fl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,_){var w=je(c)?c(x.value,_):x.value;return h==="width"?sye(Fl(w,{fontSize:t,letterSpacing:r}),y,d):Fl(w,{fontSize:t,letterSpacing:r})[h]},g=i.length>=2?hr(i[1].coordinate-i[0].coordinate):1,v=lye(a,g,h);return l==="equidistantPreserveStart"?uye(g,v,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=mye(g,v,m,i,o,l==="preserveStartEnd"):p=pye(g,v,m,i,o),p.filter(function(b){return b.isShow}))}var gye=["viewBox"],yye=["viewBox"],vye=["ticks"];function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mo.apply(this,arguments)}function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){__(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fb(e,t){if(e==null)return{};var r=bye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m4(n.key),n)}}function wye(e,t,r){return t&&GC(e.prototype,t),r&&GC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ye(e,t,r){return t=$f(t),Sye(e,p4()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function Sye(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kye(e)}function kye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p4=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function Eye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ix(e,t)}function Ix(e,t){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ix(e,t)}function __(e,t,r){return t=m4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m4(e){var t=Oye(e,"string");return Es(t)=="symbol"?t:t+""}function Oye(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nl=(function(e){function t(r){var n;return xye(this,t),n=_ye(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Eye(t,e),wye(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=fb(n,gye),s=this.props,l=s.viewBox,c=fb(s,yye);return!Ko(a,l)||!Ko(o,c)||!Ko(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,p=i.tickMargin,h,y,m,g,v,b,x=d?-1:1,_=n.tickSize||u,w=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=y=n.coordinate,g=o+ +!d*l,m=g-x*_,b=m-x*p,v=w;break;case"left":m=g=n.coordinate,y=a+ +!d*s,h=y-x*_,v=h-x*p,b=w;break;case"right":m=g=n.coordinate,y=a+ +d*s,h=y+x*_,v=h+x*p,b=w;break;default:h=y=n.coordinate,g=o+ +d*l,m=g+x*_,b=m+x*p,v=w;break}return{line:{x1:h,y1:m,x2:y,y2:g},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=zt(zt(zt({},ve(this.props,!1)),ve(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);d=zt(zt({},d),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);d=zt(zt({},d),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+s})}return I.createElement("line",Mo({},d,{className:Ie("recharts-cartesian-axis-line",zr(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,p=s.unit,h=w_(zt(zt({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=ve(this.props,!1),v=ve(u,!1),b=zt(zt({},g),{},{fill:"none"},ve(l,!1)),x=h.map(function(_,w){var S=o.getTickLineCoord(_),E=S.line,P=S.tick,T=zt(zt(zt(zt({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:c},v),P),{},{index:w,payload:_,visibleTicksCount:h.length,tickFormatter:d});return I.createElement(Me,Mo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},oa(o.props,_,w)),l&&I.createElement("line",Mo({},b,E,{className:Ie("recharts-cartesian-axis-tick-line",zr(l,"className"))})),u&&t.renderTickItem(u,T,"".concat(je(d)?d(_.value,w):_.value).concat(p||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,p=d.ticks,h=fb(d,vye),y=p;return je(l)&&(y=p&&p.length>0?l(this.props):l(h)),o<=0||s<=0||!y||!y.length?null:I.createElement(Me,{className:Ie("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Ie(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,zt(zt({},i),{},{className:s})):je(n)?o=n(zt(zt({},i),{},{className:s})):o=I.createElement(to,Mo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(k.Component);__(nl,"displayName","CartesianAxis");__(nl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Aye=["x1","y1","x2","y2","key"],jye=["offset"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){Pye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pye(e,t,r){return t=Tye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tye(e){var t=Cye(e,"string");return oo(t)=="symbol"?t:t+""}function Cye(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fa.apply(this,arguments)}function XC(e,t){if(e==null)return{};var r=Nye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Rye=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function g4(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(je(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=XC(t,Aye),c=ve(l,!1);c.offset;var u=XC(c,jye);r=I.createElement("line",Fa({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Iye(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=sr(sr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return g4(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Dye(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=sr(sr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return g4(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Mye(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var d=u.map(function(p,h){var y=!u[h+1],m=y?i+o-p:u[h+1]-p;if(m<=0)return null;var g=h%t.length;return I.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $ye(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var d=u.map(function(p,h){var y=!u[h+1],m=y?a+s-p:u[h+1]-p;if(m<=0)return null;var g=h%n.length;return I.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Lye=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return h3(w_(sr(sr(sr({},nl.defaultProps),n),{},{ticks:fi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Fye=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return h3(w_(sr(sr(sr({},nl.defaultProps),n),{},{ticks:fi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},jo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Kr(e){var t,r,n,i,a,o,s=y_(),l=v_(),c=Oge(),u=sr(sr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:jo.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:jo.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:jo.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:jo.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:jo.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:jo.verticalFill,x:fe(e.x)?e.x:c.left,y:fe(e.y)?e.y:c.top,width:fe(e.width)?e.width:c.width,height:fe(e.height)?e.height:c.height}),d=u.x,p=u.y,h=u.width,y=u.height,m=u.syncWithTicks,g=u.horizontalValues,v=u.verticalValues,b=Sge(),x=kge();if(!fe(h)||h<=0||!fe(y)||y<=0||!fe(d)||d!==+d||!fe(p)||p!==+p)return null;var _=u.verticalCoordinatesGenerator||Lye,w=u.horizontalCoordinatesGenerator||Fye,S=u.horizontalPoints,E=u.verticalPoints;if((!S||!S.length)&&je(w)){var P=g&&g.length,T=w({yAxis:x?sr(sr({},x),{},{ticks:P?g:x.ticks}):void 0,width:s,height:l,offset:c},P?!0:m);Sn(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oo(T),"]")),Array.isArray(T)&&(S=T)}if((!E||!E.length)&&je(_)){var A=v&&v.length,N=_({xAxis:b?sr(sr({},b),{},{ticks:A?v:b.ticks}):void 0,width:s,height:l,offset:c},A?!0:m);Sn(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oo(N),"]")),Array.isArray(N)&&(E=N)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Rye,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),I.createElement(Iye,Fa({},u,{offset:c,horizontalPoints:S,xAxis:b,yAxis:x})),I.createElement(Dye,Fa({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:x})),I.createElement(Mye,Fa({},u,{horizontalPoints:S})),I.createElement($ye,Fa({},u,{verticalPoints:E})))}Kr.displayName="CartesianGrid";var Bye=["type","layout","connectNulls","ref"],zye=["key"];function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function QC(e,t){if(e==null)return{};var r=qye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){yn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Po(e){return Vye(e)||Hye(e)||Wye(e)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wye(e,t){if(e){if(typeof e=="string")return Dx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dx(e,t)}}function Hye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vye(e){if(Array.isArray(e))return Dx(e)}function Dx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v4(n.key),n)}}function Gye(e,t,r){return t&&ZC(e.prototype,t),r&&ZC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yye(e,t,r){return t=Lf(t),Xye(e,y4()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function Xye(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qye(e)}function Qye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function Jye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mx(e,t)}function Mx(e,t){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mx(e,t)}function yn(e,t,r){return t=v4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v4(e){var t=Zye(e,"string");return Os(t)=="symbol"?t:t+""}function Zye(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tn=(function(e){function t(){var r;Kye(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Yye(this,t,[].concat(i)),yn(r,"state",{isAnimationFinished:!0,totalLength:0}),yn(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),yn(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(v,b){return v+b});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),d=o%c,p=s-o,h=[],y=0,m=0;y<l.length;m+=l[y],++y)if(m+l[y]>d){h=[].concat(Po(l.slice(0,y)),[d-m]);break}var g=h.length%2===0?[0,p]:[p];return[].concat(Po(t.repeat(l,u)),Po(h),g).map(function(v){return"".concat(v,"px")}).join(", ")}),yn(r,"id",fa("recharts-line-")),yn(r,"pathRef",function(o){r.mainCurve=o}),yn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),yn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Jye(t,e),Gye(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=gr(u,tl);if(!d)return null;var p=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:ht(m.payload,g)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Me,h,d.map(function(y){return I.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=ve(this.props,!1),p=ve(l,!0),h=c.map(function(m,g){var v=Tr(Tr(Tr({key:"dot-".concat(g),r:3},d),p),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,v)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Me,Hl({className:"recharts-line-dots",key:"dots"},y),h)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=QC(s,Bye),p=Tr(Tr(Tr({},ve(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:u});return I.createElement(ra,Hl({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,p=o.animationEasing,h=o.animationId,y=o.animateNewValues,m=o.width,g=o.height,v=this.state,b=v.prevPoints,x=v.totalLength;return I.createElement(qr,{begin:u,duration:d,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(b){var S=b.length/s.length,E=s.map(function(C,D){var O=Math.floor(D*S);if(b[O]){var R=b[O],F=ft(R.x,C.x),z=ft(R.y,C.y);return Tr(Tr({},C),{},{x:F(w),y:z(w)})}if(y){var W=ft(m*2,C.x),L=ft(g/2,C.y);return Tr(Tr({},C),{},{x:W(w),y:L(w)})}return Tr(Tr({},C),{},{x:C.x,y:C.y})});return a.renderCurveStatically(E,n,i)}var P=ft(0,x),T=P(w),A;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});A=a.getStrokeDasharray(T,x,N)}else A=a.generateSimpleStrokeDasharray(x,T);return a.renderCurveStatically(s,n,i,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!_i(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,p=i.left,h=i.width,y=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,x=Ie("recharts-line",l),_=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,S=_||w,E=Pe(g)?this.id:g,P=(n=ve(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=P.r,A=T===void 0?3:T,N=P.strokeWidth,C=N===void 0?2:N,D=m5(o)?o:{},O=D.clipDot,R=O===void 0?!0:O,F=A*2+C;return I.createElement(Me,{className:x},_||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(E)},I.createElement("rect",{x:_?p:p-h/2,y:w?d:d-y/2,width:_?h:h*2,height:w?y:y*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(E)},I.createElement("rect",{x:p-F/2,y:d-F/2,width:h+F,height:y+F}))):null,!b&&this.renderCurve(S,E),this.renderErrorBar(S,E),(b||o)&&this.renderDots(S,R,E),(!m||v)&&en.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Po(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Po(o),Po(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(je(n))a=n(i);else{var o=i.key,s=QC(i,zye),l=Ie("recharts-line-dot",typeof n!="boolean"?n.className:"");a=I.createElement(rl,Hl({key:o},s,{className:l}))}return a}}])})(k.PureComponent);yn(tn,"displayName","Line");yn(tn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ti.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yn(tn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(p,h){var y=ht(p,o);return u==="horizontal"?{x:hs({axis:r,ticks:i,bandSize:s,entry:p,index:h}),y:Pe(y)?null:n.scale(y),value:y,payload:p}:{x:Pe(y)?null:r.scale(y),y:hs({axis:n,ticks:a,bandSize:s,entry:p,index:h}),value:y,payload:p}});return Tr({points:d,layout:u},c)});var eve=["layout","type","stroke","connectNulls","isRange","ref"],tve=["key"],b4;function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function x4(e,t){if(e==null)return{};var r=rve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ba.apply(this,arguments)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){Bn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_4(n.key),n)}}function ive(e,t,r){return t&&tN(e.prototype,t),r&&tN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ave(e,t,r){return t=Ff(t),ove(e,w4()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function ove(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sve(e)}function sve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function lve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$x(e,t)}function $x(e,t){return $x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$x(e,t)}function Bn(e,t,r){return t=_4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _4(e){var t=cve(e,"string");return As(t)=="symbol"?t:t+""}function cve(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var an=(function(e){function t(){var r;nve(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ave(this,t,[].concat(i)),Bn(r,"state",{isAnimationFinished:!0}),Bn(r,"id",fa("recharts-area-")),Bn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),je(o)&&o()}),Bn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),je(o)&&o()}),r}return lve(t,e),ive(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,p=ve(this.props,!1),h=ve(c,!0),y=u.map(function(g,v){var b=$i($i($i({key:"dot-".concat(v),r:3},p),h),{},{index:v,cx:g.x,cy:g.y,dataKey:d,value:g.value,payload:g.payload,points:u});return t.renderDotItem(c,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Me,Ba({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=n*Math.abs(l-c),d=Ui(o.map(function(p){return p.y||0}));return fe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Ui(a.map(function(p){return p.y||0})),d)),fe(d)?I.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=n*Math.abs(l-c),d=Ui(o.map(function(p){return p.x||0}));return fe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Ui(a.map(function(p){return p.x||0})),d)),fe(d)?I.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,d=s.connectNulls,p=s.isRange;s.ref;var h=x4(s,eve);return I.createElement(Me,{clipPath:a?"url(#clipPath-".concat(o,")"):null},I.createElement(ra,Ba({},ve(h,!0),{points:n,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&I.createElement(ra,Ba({},ve(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),u!=="none"&&p&&I.createElement(ra,Ba({},ve(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,p=o.animationEasing,h=o.animationId,y=this.state,m=y.prevPoints,g=y.prevBaseLine;return I.createElement(qr,{begin:u,duration:d,isActive:c,easing:p,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(m){var x=m.length/s.length,_=s.map(function(P,T){var A=Math.floor(T*x);if(m[A]){var N=m[A],C=ft(N.x,P.x),D=ft(N.y,P.y);return $i($i({},P),{},{x:C(b),y:D(b)})}return P}),w;if(fe(l)&&typeof l=="number"){var S=ft(g,l);w=S(b)}else if(Pe(l)||Ys(l)){var E=ft(g,0);w=E(b)}else w=l.map(function(P,T){var A=Math.floor(T*x);if(g[A]){var N=g[A],C=ft(N.x,P.x),D=ft(N.y,P.y);return $i($i({},P),{},{x:C(b),y:D(b)})}return P});return a.renderAreaStatically(_,w,n,i)}return I.createElement(Me,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),I.createElement(Me,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,p=c.totalLength;return l&&o&&o.length&&(!u&&p>0||!_i(u,o)||!_i(d,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,p=i.yAxis,h=i.width,y=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,x=Ie("recharts-area",l),_=d&&d.allowDataOverflow,w=p&&p.allowDataOverflow,S=_||w,E=Pe(g)?this.id:g,P=(n=ve(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=P.r,A=T===void 0?3:T,N=P.strokeWidth,C=N===void 0?2:N,D=m5(o)?o:{},O=D.clipDot,R=O===void 0?!0:O,F=A*2+C;return I.createElement(Me,{className:x},_||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(E)},I.createElement("rect",{x:_?u:u-h/2,y:w?c:c-y/2,width:_?h:h*2,height:w?y:y*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(E)},I.createElement("rect",{x:u-F/2,y:c-F/2,width:h+F,height:y+F}))):null,b?null:this.renderArea(S,E),(o||b)&&this.renderDots(S,R,E),(!m||v)&&en.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(k.PureComponent);b4=an;Bn(an,"displayName","Area");Bn(an,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Bn(an,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(fe(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Bn(an,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,h=t.layout,y=c&&c.length,m=b4.getBaseValue(t,r,n,i),g=h==="horizontal",v=!1,b=d.map(function(_,w){var S;y?S=c[u+w]:(S=ht(_,l),Array.isArray(S)?v=!0:S=[m,S]);var E=S[1]==null||y&&ht(_,l)==null;return g?{x:hs({axis:n,ticks:a,bandSize:s,entry:_,index:w}),y:E?null:i.scale(S[1]),value:S,payload:_}:{x:E?null:n.scale(S[1]),y:hs({axis:i,ticks:o,bandSize:s,entry:_,index:w}),value:S,payload:_}}),x;return y||v?x=b.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:w!=null&&_.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):x=g?i.scale(m):n.scale(m),$i({points:b,baseLine:x,layout:h,isRange:v},p)});Bn(an,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(je(e))r=e(t);else{var n=Ie("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=x4(t,tve);r=I.createElement(rl,Ba({},a,{key:i,className:n}))}return r});function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function uve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E4(n.key),n)}}function fve(e,t,r){return t&&dve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hve(e,t,r){return t=Bf(t),pve(e,S4()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function pve(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mve(e)}function mve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S4=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function gve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lx(e,t)}function Lx(e,t){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lx(e,t)}function k4(e,t,r){return t=E4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4(e){var t=yve(e,"string");return js(t)=="symbol"?t:t+""}function yve(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gp=(function(e){function t(){return uve(this,t),hve(this,t,arguments)}return gve(t,e),fve(t,[{key:"render",value:function(){return null}}])})(k.Component);k4(gp,"displayName","ZAxis");k4(gp,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var vve=["option","isActive"];function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}function bve(e,t){if(e==null)return{};var r=xve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wve(e){var t=e.option,r=e.isActive,n=bve(e,vve);return typeof t=="string"?k.createElement(kf,Vl({option:k.createElement(Vh,Vl({type:t},n)),isActive:r,shapeType:"symbols"},n)):k.createElement(kf,Vl({option:t,isActive:r,shapeType:"symbols"},n))}function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){Hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A4(n.key),n)}}function Sve(e,t,r){return t&&nN(e.prototype,t),r&&nN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kve(e,t,r){return t=zf(t),Eve(e,O4()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function Eve(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ove(e)}function Ove(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O4=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function Ave(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fx(e,t)}function Fx(e,t){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fx(e,t)}function Hi(e,t,r){return t=A4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4(e){var t=jve(e,"string");return Ps(t)=="symbol"?t:t+""}function jve(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yp=(function(e){function t(){var r;_ve(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kve(this,t,[].concat(i)),Hi(r,"state",{isAnimationFinished:!1}),Hi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Hi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Hi(r,"id",fa("recharts-scatter-")),r}return Ave(t,e),Sve(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.activeShape,l=a.activeIndex,c=ve(this.props,!1);return n.map(function(u,d){var p=l===d,h=p?s:o,y=Vr(Vr({},c),u);return I.createElement(Me,Kl({className:"recharts-scatter-symbol",key:"symbol-".concat(u?.cx,"-").concat(u?.cy,"-").concat(u?.size,"-").concat(d)},oa(i.props,u,d),{role:"img"}),I.createElement(wve,Kl({option:h,isActive:p,key:"symbol-".concat(d)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return I.createElement(qr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,y=a.map(function(m,g){var v=d&&d[g];if(v){var b=ft(v.cx,m.cx),x=ft(v.cy,m.cy),_=ft(v.size,m.size);return Vr(Vr({},m),{},{cx:b(h),cy:x(h),size:_(h)})}var w=ft(0,m.size);return Vr(Vr({},m),{},{size:w(h)})});return I.createElement(Me,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!_i(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.children,c=gr(l,tl);return c?c.map(function(u,d){var p=u.props,h=p.direction,y=p.dataKey;return I.cloneElement(u,{key:"".concat(h,"-").concat(y,"-").concat(a[d]),data:a,xAxis:o,yAxis:s,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(g,v){return{x:g.cx,y:g.cy,value:h==="x"?+g.node.x:+g.node.y,errorVal:ht(g,v)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,o=n.lineType,s=n.lineJointType,l=ve(this.props,!1),c=ve(a,!1),u,d;if(o==="joint")u=i.map(function(x){return{x:x.cx,y:x.cy}});else if(o==="fitting"){var p=tre(i),h=p.xmin,y=p.xmax,m=p.a,g=p.b,v=function(_){return m*_+g};u=[{x:h,y:v(h)},{x:y,y:v(y)}]}var b=Vr(Vr(Vr({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return I.isValidElement(a)?d=I.cloneElement(a,b):je(a)?d=a(b):d=I.createElement(ra,Kl({},b,{type:s})),I.createElement(Me,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,o=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,p=n.width,h=n.height,y=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=Ie("recharts-scatter",s),b=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,_=b||x,w=Pe(y)?this.id:y;return I.createElement(Me,{className:v,clipPath:_?"url(#clipPath-".concat(w,")"):null},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?u:u-p/2,y:x?d:d-h/2,width:b?p:p*2,height:x?h:h*2}))):null,o&&this.renderLine(),this.renderErrorBar(),I.createElement(Me,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&en.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(k.PureComponent);Hi(yp,"displayName","Scatter");Hi(yp,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Hi(yp,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=i.props.tooltipType,u=gr(i.props.children,Qs),d=Pe(t.dataKey)?i.props.dataKey:t.dataKey,p=Pe(r.dataKey)?i.props.dataKey:r.dataKey,h=n&&n.dataKey,y=n?n.range:gp.defaultProps.range,m=y&&y[0],g=t.scale.bandwidth?t.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0,b=a.map(function(x,_){var w=ht(x,d),S=ht(x,p),E=!Pe(h)&&ht(x,h)||"-",P=[{name:Pe(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:x,dataKey:d,type:c},{name:Pe(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:x,dataKey:p,type:c}];E!=="-"&&P.push({name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:x,dataKey:h,type:c});var T=hs({axis:t,ticks:o,bandSize:g,entry:x,index:_,dataKey:d}),A=hs({axis:r,ticks:s,bandSize:v,entry:x,index:_,dataKey:p}),N=E!=="-"?n.scale(E):m,C=Math.sqrt(Math.max(N,0)/Math.PI);return Vr(Vr({},x),{},{cx:T,cy:A,x:T-C,y:A-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:N,node:{x:w,y:S,z:E},tooltipPayload:P,tooltipPosition:{x:T,y:A},payload:x},u&&u[_]&&u[_].props)});return Vr({points:b},l)});function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function Pve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T4(n.key),n)}}function Cve(e,t,r){return t&&Tve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nve(e,t,r){return t=qf(t),Rve(e,j4()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function Rve(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ive(e)}function Ive(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function Dve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bx(e,t)}function Bx(e,t){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bx(e,t)}function P4(e,t,r){return t=T4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T4(e){var t=Mve(e,"string");return Ts(t)=="symbol"?t:t+""}function Mve(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(this,arguments)}function $ve(e){var t=e.xAxisId,r=y_(),n=v_(),i=a4(t);return i==null?null:k.createElement(nl,zx({},i,{className:Ie("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return fi(o,!0)}}))}var Ht=(function(e){function t(){return Pve(this,t),Nve(this,t,arguments)}return Dve(t,e),Cve(t,[{key:"render",value:function(){return k.createElement($ve,this.props)}}])})(k.Component);P4(Ht,"displayName","XAxis");P4(Ht,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Lve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R4(n.key),n)}}function Bve(e,t,r){return t&&Fve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zve(e,t,r){return t=Uf(t),qve(e,C4()?Reflect.construct(t,r||[],Uf(e).constructor):t.apply(e,r))}function qve(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uve(e)}function Uve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!e})()}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(e)}function Wve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qx(e,t)}function qx(e,t){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qx(e,t)}function N4(e,t,r){return t=R4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R4(e){var t=Hve(e,"string");return Cs(t)=="symbol"?t:t+""}function Hve(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(this,arguments)}var Vve=function(t){var r=t.yAxisId,n=y_(),i=v_(),a=o4(r);return a==null?null:k.createElement(nl,Ux({},a,{className:Ie("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return fi(s,!0)}}))},Pt=(function(e){function t(){return Lve(this,t),zve(this,t,arguments)}return Wve(t,e),Bve(t,[{key:"render",value:function(){return k.createElement(Vve,this.props)}}])})(k.Component);N4(Pt,"displayName","YAxis");N4(Pt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function iN(e){return Xve(e)||Yve(e)||Gve(e)||Kve()}function Kve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gve(e,t){if(e){if(typeof e=="string")return Wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wx(e,t)}}function Yve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xve(e){if(Array.isArray(e))return Wx(e)}function Wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hx=function(t,r,n,i,a){var o=gr(t,x_),s=gr(t,hp),l=[].concat(iN(o),iN(s)),c=gr(t,mp),u="".concat(i,"Id"),d=i[0],p=r;if(l.length&&(p=l.reduce(function(m,g){if(g.props[u]===n&&Un(g.props,"extendDomain")&&fe(g.props[d])){var v=g.props[d];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},p)),c.length){var h="".concat(d,"1"),y="".concat(d,"2");p=c.reduce(function(m,g){if(g.props[u]===n&&Un(g.props,"extendDomain")&&fe(g.props[h])&&fe(g.props[y])){var v=g.props[h],b=g.props[y];return[Math.min(m[0],v,b),Math.max(m[1],v,b)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,g){return fe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},p)),p},hb={exports:{}},aN;function Qve(){return aN||(aN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,p),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,h=d.length,y=new Array(h);p<h;p++)y[p]=d[p].fn;return y},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,p,h,y){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,b,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,p),!0;case 5:return g.fn.call(g.context,u,d,p,h),!0;case 6:return g.fn.call(g.context,u,d,p,h,y),!0}for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];g.fn.apply(g.context,b)}else{var _=g.length,w;for(x=0;x<_;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),v){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,d);break;case 4:g[x].fn.call(g[x].context,u,d,p);break;default:if(!b)for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];g[x].fn.apply(g[x].context,b)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var y=this._events[h];if(y.fn)y.fn===u&&(!p||y.once)&&(!d||y.context===d)&&o(this,h);else{for(var m=0,g=[],v=y.length;m<v;m++)(y[m].fn!==u||p&&!y[m].once||d&&y[m].context!==d)&&g.push(y[m]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(hb)),hb.exports}var Jve=Qve();const Zve=Je(Jve);var pb=new Zve,mb="recharts.syncMouseEvents";function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I4(n.key),n)}}function rbe(e,t,r){return t&&tbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gb(e,t,r){return t=I4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I4(e){var t=nbe(e,"string");return zc(t)=="symbol"?t:t+""}function nbe(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ibe=(function(){function e(){ebe(this,e),gb(this,"activeIndex",0),gb(this,"coordinateList",[]),gb(this,"layout","horizontal")}return rbe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+l+c,p=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])})();function abe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&fe(n)&&fe(i))return!0}return!1}function obe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function D4(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=rt(t,r,n,i),s=rt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function sbe(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,p=rt(s,l,c,d),h=rt(s,l,u,d);n=p.x,i=p.y,a=h.x,o=h.y}else return D4(t);return[{x:n,y:i},{x:a,y:o}]}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){lbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lbe(e,t,r){return t=cbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cbe(e){var t=ube(e,"string");return qc(t)=="symbol"?t:t+""}function ube(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dbe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var y,m=ra;if(p==="ScatterChart")y=o,m=Rhe;else if(p==="BarChart")y=obe(d,o,l,u),m=h_;else if(d==="radial"){var g=D4(o),v=g.cx,b=g.cy,x=g.radius,_=g.startAngle,w=g.endAngle;y={cx:v,cy:b,startAngle:_,endAngle:w,innerRadius:x,outerRadius:x},m=O3}else y={points:sbe(d,o,l)},m=ra;var S=Xu(Xu(Xu(Xu({stroke:"#ccc",pointerEvents:"none"},l),y),ve(h,!1)),{},{payload:s,payloadIndex:c,className:Ie("recharts-tooltip-cursor",h.className)});return k.isValidElement(h)?k.cloneElement(h,S):k.createElement(m,S)}var fbe=["item"],hbe=["children","className","width","height","style","compact","title","desc"];function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(this,arguments)}function sN(e,t){return gbe(e)||mbe(e,t)||$4(e,t)||pbe()}function pbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function gbe(e){if(Array.isArray(e))return e}function lN(e,t){if(e==null)return{};var r=ybe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ybe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L4(n.key),n)}}function xbe(e,t,r){return t&&bbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wbe(e,t,r){return t=Wf(t),_be(e,M4()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function _be(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sbe(e)}function Sbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function kbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vx(e,t)}function Vx(e,t){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vx(e,t)}function Rs(e){return Abe(e)||Obe(e)||$4(e)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $4(e,t){if(e){if(typeof e=="string")return Kx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kx(e,t)}}function Obe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Abe(e){if(Array.isArray(e))return Kx(e)}function Kx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ne(e,t,r){return t=L4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4(e){var t=jbe(e,"string");return Ns(t)=="symbol"?t:t+""}function jbe(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pbe={xAxis:["bottom","top"],yAxis:["left","right"]},Tbe={width:"100%",height:"100%"},F4={x:0,y:0};function Qu(e){return e}var Cbe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Nbe=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return ie(ie(ie({},i),rt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return ie(ie(ie({},i),rt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return F4},vp=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Rs(s),Rs(c)):s},[]);return o.length>0?o:t&&t.length&&fe(i)&&fe(a)?t.slice(i,a+1):[]};function B4(e){return e==="number"?[0,"auto"]:void 0}var Gx=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,s=vp(r,t);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=d===void 0?s:d;p=Bd(h,o.dataKey,i)}else p=d&&d[n]||s[n];return p?[].concat(Rs(l),[v3(c,p)]):l},[])},uN=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=Cbe(a,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=sue(o,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,p=Gx(t,r,u,d),h=Nbe(n,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:p,activeCoordinate:h}}return null},Rbe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,p=t.stackOffset,h=f3(u,a);return n.reduce(function(y,m){var g,v=m.type.defaultProps!==void 0?ie(ie({},m.type.defaultProps),m.props):m.props,b=v.type,x=v.dataKey,_=v.allowDataOverflow,w=v.allowDuplicatedCategory,S=v.scale,E=v.ticks,P=v.includeHidden,T=v[o];if(y[T])return y;var A=vp(t.data,{graphicalItems:i.filter(function(B){var $,Q=o in B.props?B.props[o]:($=B.type.defaultProps)===null||$===void 0?void 0:$[o];return Q===T}),dataStartIndex:l,dataEndIndex:c}),N=A.length,C,D,O;abe(v.domain,_,b)&&(C=ix(v.domain,null,_),h&&(b==="number"||S!=="auto")&&(O=zl(A,x,"category")));var R=B4(b);if(!C||C.length===0){var F,z=(F=v.domain)!==null&&F!==void 0?F:R;if(x){if(C=zl(A,x,b),b==="category"&&h){var W=ere(C);w&&W?(D=C,C=jf(0,N)):w||(C=eT(z,C,m).reduce(function(B,$){return B.indexOf($)>=0?B:[].concat(Rs(B),[$])},[]))}else if(b==="category")w?C=C.filter(function(B){return B!==""&&!Pe(B)}):C=eT(z,C,m).reduce(function(B,$){return B.indexOf($)>=0||$===""||Pe($)?B:[].concat(Rs(B),[$])},[]);else if(b==="number"){var L=fue(A,i.filter(function(B){var $,Q,ee=o in B.props?B.props[o]:($=B.type.defaultProps)===null||$===void 0?void 0:$[o],pe="hide"in B.props?B.props.hide:(Q=B.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ee===T&&(P||!pe)}),x,a,u);L&&(C=L)}h&&(b==="number"||S!=="auto")&&(O=zl(A,x,"category"))}else h?C=jf(0,N):s&&s[T]&&s[T].hasStack&&b==="number"?C=p==="expand"?[0,1]:y3(s[T].stackGroups,l,c):C=d3(A,i.filter(function(B){var $=o in B.props?B.props[o]:B.type.defaultProps[o],Q="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return $===T&&(P||!Q)}),b,u,!0);if(b==="number")C=Hx(d,C,T,a,E),z&&(C=ix(z,C,_));else if(b==="category"&&z){var M=z,H=C.every(function(B){return M.indexOf(B)>=0});H&&(C=M)}}return ie(ie({},y),{},Ne({},T,ie(ie({},v),{},{axisType:a,domain:C,categoricalDomain:O,duplicateDomain:D,originalDomain:(g=v.domain)!==null&&g!==void 0?g:R,isCategorical:h,layout:u})))},{})},Ibe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,p=vp(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,y=f3(u,a),m=-1;return n.reduce(function(g,v){var b=v.type.defaultProps!==void 0?ie(ie({},v.type.defaultProps),v.props):v.props,x=b[o],_=B4("number");if(!g[x]){m++;var w;return y?w=jf(0,h):s&&s[x]&&s[x].hasStack?(w=y3(s[x].stackGroups,l,c),w=Hx(d,w,x,a)):(w=ix(_,d3(p,n.filter(function(S){var E,P,T=o in S.props?S.props[o]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[o],A="hide"in S.props?S.props.hide:(P=S.type.defaultProps)===null||P===void 0?void 0:P.hide;return T===x&&!A}),"number",u),i.defaultProps.allowDataOverflow),w=Hx(d,w,x,a)),ie(ie({},g),{},Ne({},x,ie(ie({axisType:a},i.defaultProps),{},{hide:!0,orientation:zr(Pbe,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:_,isCategorical:y,layout:u})))}return g},{})},Dbe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(i,"Id"),p=gr(u,a),h={};return p&&p.length?h=Rbe(t,{axes:p,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(h=Ibe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),h},Mbe=function(t){var r=qi(t),n=fi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:B1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ff(r,n)}},dN=function(t){var r=t.children,n=t.defaultShowTooltip,i=Nr(r,xs),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},$be=function(t){return!t||!t.length?!1:t.some(function(r){var n=mi(r&&r.type);return n&&n.indexOf("Bar")>=0})},fN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Lbe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,d=n.children,p=n.margin||{},h=Nr(d,xs),y=Nr(d,Lr),m=Object.keys(l).reduce(function(w,S){var E=l[S],P=E.orientation;return!E.mirror&&!E.hide?ie(ie({},w),{},Ne({},P,w[P]+E.width)):w},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(w,S){var E=o[S],P=E.orientation;return!E.mirror&&!E.hide?ie(ie({},w),{},Ne({},P,zr(w,"".concat(P))+E.height)):w},{top:p.top||0,bottom:p.bottom||0}),v=ie(ie({},g),m),b=v.bottom;h&&(v.bottom+=h.props.height||xs.defaultProps.height),y&&r&&(v=uue(v,i,n,r));var x=c-v.left-v.right,_=u-v.top-v.bottom;return ie(ie({brushBottom:b},v),{},{width:Math.max(x,0),height:Math.max(_,0)})},Fbe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},il=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,p=function(v,b){var x=b.graphicalItems,_=b.stackGroups,w=b.offset,S=b.updateId,E=b.dataStartIndex,P=b.dataEndIndex,T=v.barSize,A=v.layout,N=v.barGap,C=v.barCategoryGap,D=v.maxBarSize,O=fN(A),R=O.numericAxisName,F=O.cateAxisName,z=$be(x),W=[];return x.forEach(function(L,M){var H=vp(v.data,{graphicalItems:[L],dataStartIndex:E,dataEndIndex:P}),B=L.type.defaultProps!==void 0?ie(ie({},L.type.defaultProps),L.props):L.props,$=B.dataKey,Q=B.maxBarSize,ee=B["".concat(R,"Id")],pe=B["".concat(F,"Id")],te={},re=l.reduce(function(ne,X){var ue=b["".concat(X.axisType,"Map")],ye=B["".concat(X.axisType,"Id")];ue&&ue[ye]||X.axisType==="zAxis"||no();var he=ue[ye];return ie(ie({},ne),{},Ne(Ne({},X.axisType,he),"".concat(X.axisType,"Ticks"),fi(he)))},te),J=re[F],le=re["".concat(F,"Ticks")],se=_&&_[ee]&&_[ee].hasStack&&wue(L,_[ee].stackGroups),Z=mi(L.type).indexOf("Bar")>=0,de=ff(J,le),j=[],G=z&&lue({barSize:T,stackGroups:_,totalSize:Fbe(re,F)});if(Z){var V,U,q=Pe(Q)?D:Q,K=(V=(U=ff(J,le,!0))!==null&&U!==void 0?U:q)!==null&&V!==void 0?V:0;j=cue({barGap:N,barCategoryGap:C,bandSize:K!==de?K:de,sizeList:G[pe],maxBarSize:q}),K!==de&&(j=j.map(function(ne){return ie(ie({},ne),{},{position:ie(ie({},ne.position),{},{offset:ne.position.offset-K/2})})}))}var ae=L&&L.type&&L.type.getComposedData;ae&&W.push({props:ie(ie({},ae(ie(ie({},re),{},{displayedData:H,props:v,dataKey:$,item:L,bandSize:de,barPosition:j,offset:w,stackedData:se,layout:A,dataStartIndex:E,dataEndIndex:P}))),{},Ne(Ne(Ne({key:L.key||"item-".concat(M)},R,re[R]),F,re[F]),"animationId",S)),childIndex:hre(L,v.children),item:L})}),W},h=function(v,b){var x=v.props,_=v.dataStartIndex,w=v.dataEndIndex,S=v.updateId;if(!mO({props:x}))return null;var E=x.children,P=x.layout,T=x.stackOffset,A=x.data,N=x.reverseStackOrder,C=fN(P),D=C.numericAxisName,O=C.cateAxisName,R=gr(E,n),F=bue(A,R,"".concat(D,"Id"),"".concat(O,"Id"),T,N),z=l.reduce(function(B,$){var Q="".concat($.axisType,"Map");return ie(ie({},B),{},Ne({},Q,Dbe(x,ie(ie({},$),{},{graphicalItems:R,stackGroups:$.axisType===D&&F,dataStartIndex:_,dataEndIndex:w}))))},{}),W=Lbe(ie(ie({},z),{},{props:x,graphicalItems:R}),b?.legendBBox);Object.keys(z).forEach(function(B){z[B]=u(x,z[B],W,B.replace("Map",""),r)});var L=z["".concat(O,"Map")],M=Mbe(L),H=p(x,ie(ie({},z),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:R,stackGroups:F,offset:W}));return ie(ie({formattedGraphicalItems:H,graphicalItems:R,offset:W,stackGroups:F},M),z)},y=(function(g){function v(b){var x,_,w;return vbe(this,v),w=wbe(this,v,[b]),Ne(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ne(w,"accessibilityManager",new ibe),Ne(w,"handleLegendBBoxUpdate",function(S){if(S){var E=w.state,P=E.dataStartIndex,T=E.dataEndIndex,A=E.updateId;w.setState(ie({legendBBox:S},h({props:w.props,dataStartIndex:P,dataEndIndex:T,updateId:A},ie(ie({},w.state),{},{legendBBox:S}))))}}),Ne(w,"handleReceiveSyncEvent",function(S,E,P){if(w.props.syncId===S){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Ne(w,"handleBrushChange",function(S){var E=S.startIndex,P=S.endIndex;if(E!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return ie({dataStartIndex:E,dataEndIndex:P},h({props:w.props,dataStartIndex:E,dataEndIndex:P,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:P})}}),Ne(w,"handleMouseEnter",function(S){var E=w.getMouseInfo(S);if(E){var P=ie(ie({},E),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var T=w.props.onMouseEnter;je(T)&&T(P,S)}}),Ne(w,"triggeredAfterMouseMove",function(S){var E=w.getMouseInfo(S),P=E?ie(ie({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var T=w.props.onMouseMove;je(T)&&T(P,S)}),Ne(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ne(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ne(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Ne(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var P=w.props.onMouseLeave;je(P)&&P(E,S)}),Ne(w,"handleOuterEvent",function(S){var E=fre(S),P=zr(w.props,"".concat(E));if(E&&je(P)){var T,A;/.*touch.*/i.test(E)?A=w.getMouseInfo(S.changedTouches[0]):A=w.getMouseInfo(S),P((T=A)!==null&&T!==void 0?T:{},S)}}),Ne(w,"handleClick",function(S){var E=w.getMouseInfo(S);if(E){var P=ie(ie({},E),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var T=w.props.onClick;je(T)&&T(P,S)}}),Ne(w,"handleMouseDown",function(S){var E=w.props.onMouseDown;if(je(E)){var P=w.getMouseInfo(S);E(P,S)}}),Ne(w,"handleMouseUp",function(S){var E=w.props.onMouseUp;if(je(E)){var P=w.getMouseInfo(S);E(P,S)}}),Ne(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ne(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Ne(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Ne(w,"handleDoubleClick",function(S){var E=w.props.onDoubleClick;if(je(E)){var P=w.getMouseInfo(S);E(P,S)}}),Ne(w,"handleContextMenu",function(S){var E=w.props.onContextMenu;if(je(E)){var P=w.getMouseInfo(S);E(P,S)}}),Ne(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&pb.emit(mb,w.props.syncId,S,w.eventEmitterSymbol)}),Ne(w,"applySyncEvent",function(S){var E=w.props,P=E.layout,T=E.syncMethod,A=w.state.updateId,N=S.dataStartIndex,C=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(ie({dataStartIndex:N,dataEndIndex:C},h({props:w.props,dataStartIndex:N,dataEndIndex:C,updateId:A},w.state)));else if(S.activeTooltipIndex!==void 0){var D=S.chartX,O=S.chartY,R=S.activeTooltipIndex,F=w.state,z=F.offset,W=F.tooltipTicks;if(!z)return;if(typeof T=="function")R=T(W,S);else if(T==="value"){R=-1;for(var L=0;L<W.length;L++)if(W[L].value===S.activeLabel){R=L;break}}var M=ie(ie({},z),{},{x:z.left,y:z.top}),H=Math.min(D,M.x+M.width),B=Math.min(O,M.y+M.height),$=W[R]&&W[R].value,Q=Gx(w.state,w.props.data,R),ee=W[R]?{x:P==="horizontal"?W[R].coordinate:H,y:P==="horizontal"?B:W[R].coordinate}:F4;w.setState(ie(ie({},S),{},{activeLabel:$,activeCoordinate:ee,activePayload:Q,activeTooltipIndex:R}))}else w.setState(S)}),Ne(w,"renderCursor",function(S){var E,P=w.state,T=P.isTooltipActive,A=P.activeCoordinate,N=P.activePayload,C=P.offset,D=P.activeTooltipIndex,O=P.tooltipAxisBandSize,R=w.getTooltipEventType(),F=(E=S.props.active)!==null&&E!==void 0?E:T,z=w.props.layout,W=S.key||"_recharts-cursor";return I.createElement(dbe,{key:W,activeCoordinate:A,activePayload:N,activeTooltipIndex:D,chartName:r,element:S,isActive:F,layout:z,offset:C,tooltipAxisBandSize:O,tooltipEventType:R})}),Ne(w,"renderPolarAxis",function(S,E,P){var T=zr(S,"type.axisType"),A=zr(w.state,"".concat(T,"Map")),N=S.type.defaultProps,C=N!==void 0?ie(ie({},N),S.props):S.props,D=A&&A[C["".concat(T,"Id")]];return k.cloneElement(S,ie(ie({},D),{},{className:Ie(T,D.className),key:S.key||"".concat(E,"-").concat(P),ticks:fi(D,!0)}))}),Ne(w,"renderPolarGrid",function(S){var E=S.props,P=E.radialLines,T=E.polarAngles,A=E.polarRadius,N=w.state,C=N.radiusAxisMap,D=N.angleAxisMap,O=qi(C),R=qi(D),F=R.cx,z=R.cy,W=R.innerRadius,L=R.outerRadius;return k.cloneElement(S,{polarAngles:Array.isArray(T)?T:fi(R,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(A)?A:fi(O,!0).map(function(M){return M.coordinate}),cx:F,cy:z,innerRadius:W,outerRadius:L,key:S.key||"polar-grid",radialLines:P})}),Ne(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,E=w.props,P=E.children,T=E.width,A=E.height,N=w.props.margin||{},C=T-(N.left||0)-(N.right||0),D=c3({children:P,formattedGraphicalItems:S,legendWidth:C,legendContent:c});if(!D)return null;var O=D.item,R=lN(D,fbe);return k.cloneElement(O,ie(ie({},R),{},{chartWidth:T,chartHeight:A,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ne(w,"renderTooltip",function(){var S,E=w.props,P=E.children,T=E.accessibilityLayer,A=Nr(P,wt);if(!A)return null;var N=w.state,C=N.isTooltipActive,D=N.activeCoordinate,O=N.activePayload,R=N.activeLabel,F=N.offset,z=(S=A.props.active)!==null&&S!==void 0?S:C;return k.cloneElement(A,{viewBox:ie(ie({},F),{},{x:F.left,y:F.top}),active:z,label:R,payload:z?O:[],coordinate:D,accessibilityLayer:T})}),Ne(w,"renderBrush",function(S){var E=w.props,P=E.margin,T=E.data,A=w.state,N=A.offset,C=A.dataStartIndex,D=A.dataEndIndex,O=A.updateId;return k.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Vu(w.handleBrushChange,S.props.onChange),data:T,x:fe(S.props.x)?S.props.x:N.left,y:fe(S.props.y)?S.props.y:N.top+N.height+N.brushBottom-(P.bottom||0),width:fe(S.props.width)?S.props.width:N.width,startIndex:C,endIndex:D,updateId:"brush-".concat(O)})}),Ne(w,"renderReferenceElement",function(S,E,P){if(!S)return null;var T=w,A=T.clipPathId,N=w.state,C=N.xAxisMap,D=N.yAxisMap,O=N.offset,R=S.type.defaultProps||{},F=S.props,z=F.xAxisId,W=z===void 0?R.xAxisId:z,L=F.yAxisId,M=L===void 0?R.yAxisId:L;return k.cloneElement(S,{key:S.key||"".concat(E,"-").concat(P),xAxis:C[W],yAxis:D[M],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:A})}),Ne(w,"renderActivePoints",function(S){var E=S.item,P=S.activePoint,T=S.basePoint,A=S.childIndex,N=S.isRange,C=[],D=E.props.key,O=E.item.type.defaultProps!==void 0?ie(ie({},E.item.type.defaultProps),E.item.props):E.item.props,R=O.activeDot,F=O.dataKey,z=ie(ie({index:A,dataKey:F,cx:P.x,cy:P.y,r:4,fill:f_(E.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ve(R,!1)),zd(R));return C.push(v.renderActiveDot(R,z,"".concat(D,"-activePoint-").concat(A))),T?C.push(v.renderActiveDot(R,ie(ie({},z),{},{cx:T.x,cy:T.y}),"".concat(D,"-basePoint-").concat(A))):N&&C.push(null),C}),Ne(w,"renderGraphicChild",function(S,E,P){var T=w.filterFormatItem(S,E,P);if(!T)return null;var A=w.getTooltipEventType(),N=w.state,C=N.isTooltipActive,D=N.tooltipAxis,O=N.activeTooltipIndex,R=N.activeLabel,F=w.props.children,z=Nr(F,wt),W=T.props,L=W.points,M=W.isRange,H=W.baseLine,B=T.item.type.defaultProps!==void 0?ie(ie({},T.item.type.defaultProps),T.item.props):T.item.props,$=B.activeDot,Q=B.hide,ee=B.activeBar,pe=B.activeShape,te=!!(!Q&&C&&z&&($||ee||pe)),re={};A!=="axis"&&z&&z.props.trigger==="click"?re={onClick:Vu(w.handleItemMouseEnter,S.props.onClick)}:A!=="axis"&&(re={onMouseLeave:Vu(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Vu(w.handleItemMouseEnter,S.props.onMouseEnter)});var J=k.cloneElement(S,ie(ie({},T.props),re));function le(X){return typeof D.dataKey=="function"?D.dataKey(X.payload):null}if(te)if(O>=0){var se,Z;if(D.dataKey&&!D.allowDuplicatedCategory){var de=typeof D.dataKey=="function"?le:"payload.".concat(D.dataKey.toString());se=Bd(L,de,R),Z=M&&H&&Bd(H,de,R)}else se=L?.[O],Z=M&&H&&H[O];if(pe||ee){var j=S.props.activeIndex!==void 0?S.props.activeIndex:O;return[k.cloneElement(S,ie(ie(ie({},T.props),re),{},{activeIndex:j})),null,null]}if(!Pe(se))return[J].concat(Rs(w.renderActivePoints({item:T,activePoint:se,basePoint:Z,childIndex:O,isRange:M})))}else{var G,V=(G=w.getItemByXY(w.state.activeCoordinate))!==null&&G!==void 0?G:{graphicalItem:J},U=V.graphicalItem,q=U.item,K=q===void 0?S:q,ae=U.childIndex,ne=ie(ie(ie({},T.props),re),{},{activeIndex:ae});return[k.cloneElement(K,ne),null,null]}return M?[J,null,null]:[J,null]}),Ne(w,"renderCustomized",function(S,E,P){return k.cloneElement(S,ie(ie({key:"recharts-customized-".concat(P)},w.props),w.state))}),Ne(w,"renderMap",{CartesianGrid:{handler:Qu,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Qu},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Qu},YAxis:{handler:Qu},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:fa("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=lL(w.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return kbe(v,g),xbe(v,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,w=x.data,S=x.height,E=x.layout,P=Nr(_,wt);if(P){var T=P.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,N=Gx(this.state,w,T,A),C=this.state.tooltipTicks[T].coordinate,D=(this.state.offset.top+S)/2,O=E==="horizontal",R=O?{x:C,y:D}:{y:C,x:D},F=this.state.formattedGraphicalItems.find(function(W){var L=W.item;return L.type.name==="Scatter"});F&&(R=ie(ie({},R),F.props.points[T].tooltipPosition),N=F.props.points[T].tooltipPayload);var z={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:A,activePayload:N,activeCoordinate:R};this.setState(z),this.renderCursor(P),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){O0([Nr(x.children,wt)],[Nr(this.props.children,wt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Nr(this.props.children,wt);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return s.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=Zae(w),E={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},P=w.width/_.offsetWidth||1,T=this.inRange(E.chartX,E.chartY,P);if(!T)return null;var A=this.state,N=A.xAxisMap,C=A.yAxisMap,D=this.getTooltipEventType(),O=uN(this.state,this.props.data,this.props.layout,T);if(D!=="axis"&&N&&C){var R=qi(N).scale,F=qi(C).scale,z=R&&R.invert?R.invert(E.chartX):null,W=F&&F.invert?F.invert(E.chartY):null;return ie(ie({},E),{},{xValue:z,yValue:W},O)}return O?ie(ie({},E),O):null}},{key:"inRange",value:function(x,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=x/w,P=_/w;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,A=E>=T.left&&E<=T.left+T.width&&P>=T.top&&P<=T.top+T.height;return A?{x:E,y:P}:null}var N=this.state,C=N.angleAxisMap,D=N.radiusAxisMap;if(C&&D){var O=qi(C);return nT({x:E,y:P},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),w=Nr(x,wt),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=zd(this.props,this.handleOuterEvent);return ie(ie({},E),S)}},{key:"addListener",value:function(){pb.on(mb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pb.removeListener(mb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,w){for(var S=this.state.formattedGraphicalItems,E=0,P=S.length;E<P;E++){var T=S[E];if(T.item===x||T.props.key===x.key||_===mi(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,E=_.height,P=_.width;return I.createElement("defs",null,I.createElement("clipPath",{id:x},I.createElement("rect",{x:w,y:S,height:E,width:P})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,w){var S=sN(w,2),E=S[0],P=S[1];return ie(ie({},_),{},Ne({},E,P.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,w){var S=sN(w,2),E=S[0],P=S[1];return ie(ie({},_),{},Ne({},E,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var E=0,P=w.length;E<P;E++){var T=w[E],A=T.props,N=T.item,C=N.type.defaultProps!==void 0?ie(ie({},N.type.defaultProps),N.props):N.props,D=mi(N.type);if(D==="Bar"){var O=(A.data||[]).find(function(W){return phe(x,W)});if(O)return{graphicalItem:T,payload:O}}else if(D==="RadialBar"){var R=(A.data||[]).find(function(W){return nT(x,W)});if(R)return{graphicalItem:T,payload:R}}else if(lp(T,S)||cp(T,S)||Mc(T,S)){var F=Kpe({graphicalItem:T,activeTooltipItem:S,itemData:C.data}),z=C.activeIndex===void 0?F:C.activeIndex;return{graphicalItem:ie(ie({},T),{},{childIndex:z}),payload:Mc(T,S)?C.data[F]:T.props.data[F]}}}return null}},{key:"render",value:function(){var x=this;if(!mO(this))return null;var _=this.props,w=_.children,S=_.className,E=_.width,P=_.height,T=_.style,A=_.compact,N=_.title,C=_.desc,D=lN(_,hbe),O=ve(D,!1);if(A)return I.createElement(LC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(j0,$o({},O,{width:E,height:P,title:N,desc:C}),this.renderClipPath(),yO(w,this.renderMap)));if(this.props.accessibilityLayer){var R,F;O.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,O.role=(F=this.props.role)!==null&&F!==void 0?F:"application",O.onKeyDown=function(W){x.accessibilityManager.keyboardEvent(W)},O.onFocus=function(){x.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return I.createElement(LC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",$o({className:Ie("recharts-wrapper",S),style:ie({position:"relative",cursor:"default",width:E,height:P},T)},z,{ref:function(L){x.container=L}}),I.createElement(j0,$o({},O,{width:E,height:P,title:N,desc:C,style:Tbe}),this.renderClipPath(),yO(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);Ne(y,"displayName",r),Ne(y,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ne(y,"getDerivedStateFromProps",function(g,v){var b=g.dataKey,x=g.data,_=g.children,w=g.width,S=g.height,E=g.layout,P=g.stackOffset,T=g.margin,A=v.dataStartIndex,N=v.dataEndIndex;if(v.updateId===void 0){var C=dN(g);return ie(ie(ie({},C),{},{updateId:0},h(ie(ie({props:g},C),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:P,prevMargin:T,prevChildren:_})}if(b!==v.prevDataKey||x!==v.prevData||w!==v.prevWidth||S!==v.prevHeight||E!==v.prevLayout||P!==v.prevStackOffset||!Ko(T,v.prevMargin)){var D=dN(g),O={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=ie(ie({},uN(v,x,E)),{},{updateId:v.updateId+1}),F=ie(ie(ie({},D),O),R);return ie(ie(ie({},F),h(ie({props:g},F),v)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:P,prevMargin:T,prevChildren:_})}if(!O0(_,v.prevChildren)){var z,W,L,M,H=Nr(_,xs),B=H&&(z=(W=H.props)===null||W===void 0?void 0:W.startIndex)!==null&&z!==void 0?z:A,$=H&&(L=(M=H.props)===null||M===void 0?void 0:M.endIndex)!==null&&L!==void 0?L:N,Q=B!==A||$!==N,ee=!Pe(x),pe=ee&&!Q?v.updateId:v.updateId+1;return ie(ie({updateId:pe},h(ie(ie({props:g},v),{},{updateId:pe,dataStartIndex:B,dataEndIndex:$}),v)),{},{prevChildren:_,dataStartIndex:B,dataEndIndex:$})}return null}),Ne(y,"renderActiveDot",function(g,v,b){var x;return k.isValidElement(g)?x=k.cloneElement(g,v):je(g)?x=g(v):x=I.createElement(rl,v),I.createElement(Me,{className:"recharts-active-dot",key:b},x)});var m=k.forwardRef(function(v,b){return I.createElement(y,$o({},v,{ref:b}))});return m.displayName=y.displayName,m},Bbe=il({chartName:"LineChart",GraphicalChild:tn,axisComponents:[{axisType:"xAxis",AxisComp:Ht},{axisType:"yAxis",AxisComp:Pt}],formatAxisMap:dp}),Tl=il({chartName:"BarChart",GraphicalChild:jt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ht},{axisType:"yAxis",AxisComp:Pt}],formatAxisMap:dp}),zbe=il({chartName:"PieChart",GraphicalChild:Ci,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:sa},{axisType:"radiusAxis",AxisComp:io}],formatAxisMap:w3,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Yx=il({chartName:"RadarChart",GraphicalChild:ao,axisComponents:[{axisType:"angleAxis",AxisComp:sa},{axisType:"radiusAxis",AxisComp:io}],formatAxisMap:w3,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),z4=il({chartName:"AreaChart",GraphicalChild:an,axisComponents:[{axisType:"xAxis",AxisComp:Ht},{axisType:"yAxis",AxisComp:Pt}],formatAxisMap:dp}),Uc=il({chartName:"ComposedChart",GraphicalChild:[tn,an,jt,yp],axisComponents:[{axisType:"xAxis",AxisComp:Ht},{axisType:"yAxis",AxisComp:Pt},{axisType:"zAxis",AxisComp:gp}],formatAxisMap:dp});function qbe({data:e}){return f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(z4,{data:e,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),f.jsx(Ht,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10,interval:"preserveStartEnd"}),f.jsx(Pt,{hide:!0,domain:[0,100]}),f.jsx(wt,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"1px solid hsl(var(--border))",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),f.jsx(an,{type:"monotone",dataKey:"overall",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorOverall)"})]})})}function Ube({stats:e}){const t=e.map(r=>({subject:r.title,A:r.completionRate,fullMark:100}));return e.length<3?f.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px] flex items-center justify-center text-center",children:f.jsxs("p",{className:"text-muted-foreground text-sm",children:["Add at least 3 habits ",f.jsx("br",{})," to unlock Radar view."]})}):f.jsx("div",{className:"w-full h-full min-h-0",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Yx,{cx:"50%",cy:"50%",outerRadius:"70%",data:t,children:[f.jsx(bf,{stroke:"hsl(var(--border))"}),f.jsx(sa,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:10}}),f.jsx(ao,{name:"Completion",dataKey:"A",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--primary))",fillOpacity:.4})]})})})}function Wbe({data:e}){const t=Math.max(...e.map(n=>n.rate)),r=({active:n,payload:i,label:a})=>n&&i&&i.length?f.jsxs("div",{className:"bg-background/95 backdrop-blur text-xs p-2 rounded-lg border border-border shadow-xl",children:[f.jsx("p",{className:"font-semibold mb-1",children:a}),f.jsxs("p",{className:"text-primary space-x-2",children:[f.jsx("span",{children:"Success Rate:"}),f.jsxs("span",{className:"font-mono font-bold",children:[i[0].value,"%"]})]})]}):null;return f.jsx("div",{className:"w-full h-full min-h-[200px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Tl,{data:e,margin:{top:10,right:0,left:0,bottom:0},children:[f.jsx(Ht,{dataKey:"dayName",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickFormatter:n=>n.slice(0,3).toUpperCase(),dy:10}),f.jsx(Pt,{hide:!0,domain:[0,100]}),f.jsx(wt,{content:f.jsx(r,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),f.jsx(jt,{dataKey:"rate",radius:[4,4,0,0],maxBarSize:40,children:e.map((n,i)=>f.jsx(Qs,{fill:n.rate===t&&n.rate>0?"hsl(var(--primary))":"hsl(var(--primary)/0.3)",className:"transition-all duration-300 hover:opacity-80"},`cell-${i}`))})]})})})}function Hbe({comparisons:e,goals:t}){const[r,n]=k.useState("month");return f.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx(Vi,{className:"w-5 h-5 text-primary"}),"Confronto Temporale"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizza come stai andando rispetto al passato."})]}),f.jsx(Vo,{value:r,onValueChange:i=>n(i),className:"w-full sm:w-auto",children:f.jsxs(Ua,{className:"grid w-full grid-cols-3 sm:w-[300px]",children:[f.jsx(dt,{value:"week",children:"Settimana"}),f.jsx(dt,{value:"month",children:"Mese"}),f.jsx(dt,{value:"year",children:"Anno"})]})})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(i=>{const a=e.find(c=>c.habitId===i.id);if(!a)return null;const o=a[r],s=o.trend==="neutral"||o.change===0,l=o.trend==="up";return f.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-xl p-4 flex items-center justify-between group hover:bg-card/80 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center opacity-80",style:{backgroundColor:`${i.color}20`,color:i.color},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-foreground",children:i.title}),f.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:f.jsxs("span",{children:["Precedente: ",o.previous,"%"]})})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-xl font-display font-bold text-foreground",children:[o.current,"%"]}),f.jsxs("div",{className:ce("flex items-center justify-end gap-1 text-xs font-medium",s?"text-muted-foreground":l?"text-emerald-500":"text-rose-500"),children:[s?f.jsx(rd,{className:"w-3 h-3"}):l?f.jsx(rz,{className:"w-3 h-3"}):f.jsx(ez,{className:"w-3 h-3"}),f.jsxs("span",{children:[o.change>0?"+":"",o.change,"%"]})]})]})]},i.id)})})]})}function Vbe({criticalHabits:e}){const t=e.filter(r=>r.completionRate<85&&r.completionRate>0).sort((r,n)=>r.completionRate-n.completionRate).slice(0,3);return t.length===0?null:f.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in space-y-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx(li,{className:"w-5 h-5 text-primary"}),"Aree di Miglioramento"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Abitudini che richiedono pi attenzione e i loro giorni critici."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(r=>f.jsxs("div",{className:"bg-card/50 border border-destructive/10 rounded-xl p-4 flex flex-col gap-3 group hover:border-destructive/30 transition-all",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),f.jsx("span",{className:"font-semibold text-foreground",children:r.title})]}),f.jsxs("span",{className:ce("text-xs font-bold px-2 py-0.5 rounded-full",r.completionRate<50?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:[r.completionRate,"% succ."]})]}),f.jsxs("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[f.jsx(Il,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Giorno Nero"}),f.jsx("p",{className:"font-display font-semibold text-lg text-foreground",children:r.worstDay}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Solo il ",f.jsxs("span",{className:"text-destructive font-bold",children:[r.worstDayRate,"%"]})," di completamento"]})]})]})]},r.habitId))})]})}const Kbe=()=>Vn({queryKey:["habit-completion-history"],queryFn:async()=>{const e=Ve(Mt(new Date,30),"yyyy-MM-dd"),{data:t,error:r}=await be.from("goal_logs").select("date, status").gte("date",e);if(r)throw r;const n=t,i={};return n?.forEach(a=>{const o=a.date;i[o]||(i[o]={total:0,done:0}),i[o].total+=1,a.status==="done"&&(i[o].done+=1)}),i}}),Gbe=()=>{const{data:e}=Pee(),{data:t}=Kbe(),{theme:r}=dw();if(!e||!t)return f.jsx($e,{className:"col-span-1 lg:col-span-2 h-[400px] flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const n=e.slice(0,14).reverse().map(a=>{const o=t[a.date]||{total:0,done:0},s=o.total>0?Math.round(o.done/o.total*100):0;return{date:Ve(l9(a.date),"dd/MM"),fullDate:a.date,mood:a.mood_score,energy:a.energy_score,productivity:s}}),i=r==="dark";return f.jsxs($e,{className:"col-span-1 lg:col-span-2 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsx(Ge,{children:f.jsx(Ye,{children:"Mood & Energy vs Productivity"})}),f.jsx(Le,{className:"h-[350px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Uc,{data:n,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorProductivity",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),f.jsx(Kr,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),f.jsx(Ht,{dataKey:"date",tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),f.jsx(Pt,{yAxisId:"left",domain:[0,10],tickCount:6,tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:i?"#A0A0A0":"#666"}}}),f.jsx(Pt,{yAxisId:"right",orientation:"right",domain:[0,100],tick:{fontSize:12,fill:"#8884d8"},axisLine:!1,tickLine:!1,unit:"%"}),f.jsx(wt,{contentStyle:{backgroundColor:i?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),f.jsx(Lr,{wrapperStyle:{paddingTop:"10px"}}),f.jsx(an,{yAxisId:"right",type:"monotone",dataKey:"productivity",fill:"url(#colorProductivity)",stroke:"#8884d8",strokeWidth:3,name:"Habit Completion %"}),f.jsx(tn,{yAxisId:"left",type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6},name:"Mood"}),f.jsx(tn,{yAxisId:"left",type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:4,strokeWidth:2},name:"Energy"})]})})})]})},Ybe=({correlation:e})=>{const{theme:t}=dw(),r=t==="dark",n=[{category:"Completato",mood:Math.round(e.avgMoodWhenCompleted*10)/10,energy:Math.round(e.avgEnergyWhenCompleted*10)/10},{category:"Mancato",mood:Math.round(e.avgMoodWhenMissed*10)/10,energy:Math.round(e.avgEnergyWhenMissed*10)/10}],i=[{range:`Basso
(1-4)`,mood:Math.round(e.completionRateByMood.low),energy:Math.round(e.completionRateByEnergy.low)},{range:`Medio
(5-7)`,mood:Math.round(e.completionRateByMood.medium),energy:Math.round(e.completionRateByEnergy.medium)},{range:`Alto
(8-10)`,mood:Math.round(e.completionRateByMood.high),energy:Math.round(e.completionRateByEnergy.high)}],a=()=>e.moodCorrelation>.3?f.jsx(Vi,{className:"w-4 h-4 text-green-500"}):e.moodCorrelation<-.3?f.jsx(kb,{className:"w-4 h-4 text-red-500"}):f.jsx(rd,{className:"w-4 h-4 text-gray-500"}),o=()=>e.energyCorrelation>.3?f.jsx(Vi,{className:"w-4 h-4 text-green-500"}):e.energyCorrelation<-.3?f.jsx(kb,{className:"w-4 h-4 text-red-500"}):f.jsx(rd,{className:"w-4 h-4 text-gray-500"}),s=l=>{const c=Math.abs(l);return c>=.7?"Forte":c>=.4?"Moderata":c>=.2?"Debole":"Nessuna"};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[f.jsx($e,{className:"glass-panel",children:f.jsxs(Le,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Mood"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a(),f.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.moodCorrelation*100).toFixed(0),"%"]})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.moodCorrelation)})]})}),f.jsx($e,{className:"glass-panel",children:f.jsxs(Le,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Energia"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o(),f.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.energyCorrelation*100).toFixed(0),"%"]})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.energyCorrelation)})]})}),f.jsx($e,{className:"glass-panel",children:f.jsxs(Le,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Mood Medio ()"}),f.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgMoodWhenCompleted.toFixed(1)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})}),f.jsx($e,{className:"glass-panel",children:f.jsxs(Le,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Energia Media ()"}),f.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgEnergyWhenCompleted.toFixed(1)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.isMoodSensitive&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-orange-500/30",children:[f.jsx(hi,{className:"w-3 h-3 text-orange-500"}),f.jsx("span",{className:"text-xs font-medium text-orange-500",children:"Sensibile al Mood"})]}),e.isEnergySensitive&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-yellow-500/30",children:[f.jsx(hi,{className:"w-3 h-3 text-yellow-500"}),f.jsx("span",{className:"text-xs font-medium text-yellow-500",children:"Sensibile all'Energia"})]}),e.isResilient&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-green-500/30",children:[f.jsx(Vi,{className:"w-3 h-3 text-green-500"}),f.jsx("span",{className:"text-xs font-medium text-green-500",children:"Resiliente"})]}),!e.isMoodSensitive&&!e.isEnergySensitive&&!e.isResilient&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-gray-500/30",children:[f.jsx(rd,{className:"w-3 h-3 text-gray-500"}),f.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Neutrale"})]})]}),f.jsxs($e,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsx(Ge,{children:f.jsx(Ye,{className:"text-base sm:text-lg",children:"Completato vs Mancato"})}),f.jsx(Le,{className:"h-[300px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Uc,{data:n,children:[f.jsx(Kr,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),f.jsx(Ht,{dataKey:"category",tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),f.jsx(Pt,{domain:[0,10],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:r?"#A0A0A0":"#666"}}}),f.jsx(wt,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),f.jsx(Lr,{wrapperStyle:{paddingTop:"10px"}}),f.jsx(jt,{dataKey:"mood",fill:"#10b981",name:"Mood",radius:[8,8,0,0]}),f.jsx(jt,{dataKey:"energy",fill:"#f59e0b",name:"Energia",radius:[8,8,0,0]})]})})})]}),f.jsxs($e,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsx(Ge,{children:f.jsx(Ye,{className:"text-base sm:text-lg",children:"Performance per Livello"})}),f.jsx(Le,{className:"h-[300px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Uc,{data:i,children:[f.jsx(Kr,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),f.jsx(Ht,{dataKey:"range",tick:{fontSize:11,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),f.jsx(Pt,{domain:[0,100],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,unit:"%"}),f.jsx(wt,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},formatter:l=>[`${l}%`,""]}),f.jsx(Lr,{wrapperStyle:{paddingTop:"10px"}}),f.jsx(tn,{type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Mood"}),f.jsx(tn,{type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Energia"})]})})})]}),f.jsx($e,{className:"glass-panel",children:f.jsx(Le,{className:"p-4",children:f.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Analisi basata su ",f.jsx("strong",{children:e.totalDaysWithMoodData})," giorni con dati mood/energia (",e.daysCompleted," completati, ",e.daysMissed," mancati)"]})})})]})},Xbe=({correlations:e})=>{const t=e.filter(i=>i.totalDaysWithMoodData>=5);if(t.length===0)return f.jsx($e,{className:"glass-panel",children:f.jsx(Le,{className:"p-8 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per mostrare la matrice. Registra mood ed energie per almeno 5 giorni."})})});const r=i=>i>=80?"bg-green-500/90":i>=70?"bg-lime-500/90":i>=50?"bg-yellow-500/90":i>=30?"bg-orange-500/90":i>0?"bg-red-500/90":"bg-gray-700/90",n=i=>i>=50?"text-white font-bold":"text-foreground font-bold";return f.jsxs($e,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Ge,{children:[f.jsx(Ye,{className:"text-base sm:text-lg",children:"Performance per Livello"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Completamento (%) per mood ed energia"})]}),f.jsxs(Le,{className:"overflow-x-auto",children:[f.jsxs("div",{className:"hidden md:block min-w-[700px]",children:[f.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 mb-4 pb-3 border-b border-white/10",children:[f.jsx("div",{}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm font-bold text-green-500 mb-2",children:"MOOD"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Basso"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Medio"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alto"})]})]}),f.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm font-bold text-amber-500 mb-2",children:"ENERGIA"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Bassa"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Media"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alta"})]})]})]}),f.jsx("div",{className:"space-y-3",children:t.map(i=>f.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 pr-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),f.jsx("span",{className:"text-sm font-semibold truncate",title:i.habitTitle,children:i.habitTitle})]}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]);return f.jsx("div",{className:ce("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con mood ${a==="low"?"basso":a==="medium"?"medio":"alto"}`,children:f.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`mood-${a}`)})}),f.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/10 to-transparent h-full"}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]);return f.jsx("div",{className:ce("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con energia ${a==="low"?"bassa":a==="medium"?"media":"alta"}`,children:f.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`energy-${a}`)})})]},i.habitId))})]}),f.jsx("div",{className:"md:hidden space-y-4",children:t.map(i=>f.jsxs("div",{className:"glass-panel rounded-2xl p-4 border border-white/10",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-5 h-5 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),f.jsx("h4",{className:"text-base font-bold",children:i.habitTitle})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-xs font-bold text-green-500 mb-2",children:"MOOD"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]),s=a==="low"?"Basso":a==="medium"?"Medio":"Alto";return f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:ce("rounded-lg p-3 mb-1",r(o),n(o)),children:f.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`mood-${a}`)})})]}),f.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent mb-4"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-amber-500 mb-2",children:"ENERGIA"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]),s=a==="low"?"Bassa":a==="medium"?"Media":"Alta";return f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:ce("rounded-lg p-3 mb-1",r(o),n(o)),children:f.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`energy-${a}`)})})]})]},i.habitId))}),f.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-green-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Ottimo (80%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-lime-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Buono (70-79%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-yellow-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Medio (50-69%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-orange-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Basso (30-49%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-red-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Critico (<30%)"})]})]}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"I colori indicano la performance  Passa il mouse per i dettagli"})]})]})]})},Qbe=({insights:e})=>e.moodSensitiveHabits.length>0||e.energySensitiveHabits.length>0||e.resilientHabits.length>0?f.jsxs("div",{className:"space-y-4",children:[e.moodSensitiveHabits.length>0&&f.jsxs($e,{className:"glass-panel border border-orange-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Ge,{children:[f.jsxs(Ye,{className:"text-base sm:text-lg flex items-center gap-2",children:[f.jsx(hi,{className:"w-5 h-5 text-orange-500"}),"Mood"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini hanno bisogno di un buon mood per essere completate"})]}),f.jsx(Le,{className:"space-y-3",children:e.moodSensitiveHabits.map((r,n)=>f.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[f.jsx(B_,{className:"w-3 h-3"}),f.jsxs("span",{children:[Math.round(r.completionRateByMood.low),"% con mood basso"]}),f.jsx(r2,{className:"w-3 h-3 ml-2"}),f.jsxs("span",{children:[Math.round(r.completionRateByMood.high),"% con mood alto"]})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),f.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[Math.round(r.completionRateByMood.high-r.completionRateByMood.low),"%"]})]})]},r.habitId))})]}),e.energySensitiveHabits.length>0&&f.jsxs($e,{className:"glass-panel border border-yellow-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Ge,{children:[f.jsxs(Ye,{className:"text-base sm:text-lg flex items-center gap-2",children:[f.jsx(eh,{className:"w-5 h-5 text-yellow-500"}),"Energia"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini richiedono alta energia per essere completate"})]}),f.jsx(Le,{className:"space-y-3",children:e.energySensitiveHabits.map((r,n)=>f.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[f.jsx(M_,{className:"w-3 h-3"}),f.jsxs("span",{children:[Math.round(r.completionRateByEnergy.low),"% con energia bassa"]}),f.jsx(nz,{className:"w-3 h-3 ml-2"}),f.jsxs("span",{children:[Math.round(r.completionRateByEnergy.high),"% con energia alta"]})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),f.jsxs("p",{className:"text-lg font-bold text-yellow-500",children:[Math.round(r.completionRateByEnergy.high-r.completionRateByEnergy.low),"%"]})]})]},r.habitId))})]}),e.resilientHabits.length>0&&f.jsxs($e,{className:"glass-panel border border-green-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Ge,{children:[f.jsxs(Ye,{className:"text-base sm:text-lg flex items-center gap-2",children:[f.jsx(Oz,{className:"w-5 h-5 text-green-500"}),"Resilienti"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini vengono mantenute anche quando mood ed energia sono bassi"})]}),f.jsx(Le,{className:"space-y-3",children:e.resilientHabits.map((r,n)=>f.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),f.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(B_,{className:"w-3 h-3"}),f.jsxs("span",{children:["Mood: ",Math.round(r.completionRateByMood.low),"%"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(M_,{className:"w-3 h-3"}),f.jsxs("span",{children:["Energia: ",Math.round(r.completionRateByEnergy.low),"%"]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[f.jsx(Vi,{className:"w-5 h-5"}),f.jsx("span",{className:"text-xs font-bold",children:"Stabile"})]})]},r.habitId))})]}),f.jsxs($e,{className:"glass-panel border border-primary/30",children:[f.jsx(Ge,{children:f.jsx(Ye,{className:"text-base sm:text-lg",children:" Suggerimenti"})}),f.jsx(Le,{children:f.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.moodSensitiveHabits.length>0&&f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-orange-500 shrink-0",children:""}),f.jsx("span",{children:"Pianifica le abitudini sensibili al mood nei momenti della giornata in cui ti senti meglio"})]}),e.energySensitiveHabits.length>0&&f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-yellow-500 shrink-0",children:""}),f.jsx("span",{children:"Esegui le abitudini che richiedono energia al mattino o dopo una pausa rigenerante"})]}),e.resilientHabits.length>0&&f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-500 shrink-0",children:""}),f.jsx("span",{children:"Le abitudini resilienti sono ottime da mantenere anche nei giorni difficili"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary shrink-0",children:""}),f.jsx("span",{children:"Monitora il tuo mood ed energia quotidianamente per ottenere insights pi accurati"})]})]})})]})]}):f.jsx($e,{className:"glass-panel",children:f.jsx(Le,{className:"p-8 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per generare insights. Continua a tracciare le tue abitudini e il tuo mood!"})})});var yb=0;function Jbe(){k.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hN()),document.body.insertAdjacentElement("beforeend",e[1]??hN()),yb++,()=>{yb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yb--}},[])}function hN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zbe=[" ","Enter","ArrowUp","ArrowDown"],e0e=[" ","Enter"],so="Select",[bp,xp,t0e]=Kf(so),[al]=yr(so,[t0e,ah]),wp=ah(),[r0e,ga]=al(so),[n0e,i0e]=al(so),q4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:h,form:y}=e,m=wp(t),[g,v]=k.useState(null),[b,x]=k.useState(null),[_,w]=k.useState(!1),S=Us(c),[E,P]=Wn({prop:n,defaultProp:i??!1,onChange:a,caller:so}),[T,A]=Wn({prop:o,defaultProp:s,onChange:l,caller:so}),N=k.useRef(null),C=g?y||!!g.closest("form"):!0,[D,O]=k.useState(new Set),R=Array.from(D).map(F=>F.props.value).join(";");return f.jsx(T2,{...m,children:f.jsxs(r0e,{required:h,scope:t,trigger:g,onTriggerChange:v,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:pi(),value:T,onValueChange:A,open:E,onOpenChange:P,dir:S,triggerPointerDownPosRef:N,disabled:p,children:[f.jsx(bp.Provider,{scope:t,children:f.jsx(n0e,{scope:e.__scopeSelect,onNativeOptionAdd:k.useCallback(F=>{O(z=>new Set(z).add(F))},[]),onNativeOptionRemove:k.useCallback(F=>{O(z=>{const W=new Set(z);return W.delete(F),W})},[]),children:r})}),C?f.jsxs(fF,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:T,onChange:F=>A(F.target.value),disabled:p,form:y,children:[T===void 0?f.jsx("option",{value:""}):null,Array.from(D)]},R):null]})})};q4.displayName=so;var U4="SelectTrigger",W4=k.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=wp(r),o=ga(U4,r),s=o.disabled||n,l=De(t,o.onTriggerChange),c=xp(r),u=k.useRef("touch"),[d,p,h]=pF(m=>{const g=c().filter(x=>!x.disabled),v=g.find(x=>x.value===o.value),b=mF(g,m,v);b!==void 0&&o.onValueChange(b.value)}),y=m=>{s||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return f.jsx(C2,{asChild:!0,...a,children:f.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":hF(o.value)?"":void 0,...i,ref:l,onClick:Se(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&y(m)}),onPointerDown:Se(i.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Se(i.onKeyDown,m=>{const g=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&Zbe.includes(m.key)&&(y(),m.preventDefault())})})})});W4.displayName=U4;var H4="SelectValue",V4=k.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=e,l=ga(H4,r),{onValueNodeHasChildrenChange:c}=l,u=a!==void 0,d=De(t,l.onValueNodeChange);return Lt(()=>{c(u)},[c,u]),f.jsx(ke.span,{...s,ref:d,style:{pointerEvents:"none"},children:hF(l.value)?f.jsx(f.Fragment,{children:o}):a})});V4.displayName=H4;var a0e="SelectIcon",K4=k.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return f.jsx(ke.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});K4.displayName=a0e;var o0e="SelectPortal",G4=e=>f.jsx(Yf,{asChild:!0,...e});G4.displayName=o0e;var lo="SelectContent",Y4=k.forwardRef((e,t)=>{const r=ga(lo,e.__scopeSelect),[n,i]=k.useState();if(Lt(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Hc.createPortal(f.jsx(X4,{scope:e.__scopeSelect,children:f.jsx(bp.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),a):null}return f.jsx(Q4,{...e,ref:t})});Y4.displayName=lo;var fn=10,[X4,ya]=al(lo),s0e="SelectContentImpl",l0e=Gl("SelectContent.RemoveScroll"),Q4=k.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:y,hideWhenDetached:m,avoidCollisions:g,...v}=e,b=ga(lo,r),[x,_]=k.useState(null),[w,S]=k.useState(null),E=De(t,te=>_(te)),[P,T]=k.useState(null),[A,N]=k.useState(null),C=xp(r),[D,O]=k.useState(!1),R=k.useRef(!1);k.useEffect(()=>{if(x)return LI(x)},[x]),Jbe();const F=k.useCallback(te=>{const[re,...J]=C().map(Z=>Z.ref.current),[le]=J.slice(-1),se=document.activeElement;for(const Z of te)if(Z===se||(Z?.scrollIntoView({block:"nearest"}),Z===re&&w&&(w.scrollTop=0),Z===le&&w&&(w.scrollTop=w.scrollHeight),Z?.focus(),document.activeElement!==se))return},[C,w]),z=k.useCallback(()=>F([P,x]),[F,P,x]);k.useEffect(()=>{D&&z()},[D,z]);const{onOpenChange:W,triggerPointerDownPosRef:L}=b;k.useEffect(()=>{if(x){let te={x:0,y:0};const re=le=>{te={x:Math.abs(Math.round(le.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(le.pageY)-(L.current?.y??0))}},J=le=>{te.x<=10&&te.y<=10?le.preventDefault():x.contains(le.target)||W(!1),document.removeEventListener("pointermove",re),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",J,{capture:!0})}}},[x,W,L]),k.useEffect(()=>{const te=()=>W(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[W]);const[M,H]=pF(te=>{const re=C().filter(se=>!se.disabled),J=re.find(se=>se.ref.current===document.activeElement),le=mF(re,te,J);le&&setTimeout(()=>le.ref.current.focus())}),B=k.useCallback((te,re,J)=>{const le=!R.current&&!J;(b.value!==void 0&&b.value===re||le)&&(T(te),le&&(R.current=!0))},[b.value]),$=k.useCallback(()=>x?.focus(),[x]),Q=k.useCallback((te,re,J)=>{const le=!R.current&&!J;(b.value!==void 0&&b.value===re||le)&&N(te)},[b.value]),ee=n==="popper"?Xx:J4,pe=ee===Xx?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return f.jsx(X4,{scope:r,content:x,viewport:w,onViewportChange:S,itemRefCallback:B,selectedItem:P,onItemLeave:$,itemTextRefCallback:Q,focusSelectedItem:z,selectedItemText:A,position:n,isPositioned:D,searchRef:M,children:f.jsx(qw,{as:l0e,allowPinchZoom:!0,children:f.jsx(zw,{asChild:!0,trapped:b.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Se(i,te=>{b.trigger?.focus({preventScroll:!0}),te.preventDefault()}),children:f.jsx(Gf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:f.jsx(ee,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:te=>te.preventDefault(),...v,...pe,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Se(v.onKeyDown,te=>{const re=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!re&&te.key.length===1&&H(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let le=C().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(te.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const se=te.target,Z=le.indexOf(se);le=le.slice(Z+1)}setTimeout(()=>F(le)),te.preventDefault()}})})})})})})});Q4.displayName=s0e;var c0e="SelectItemAlignedPosition",J4=k.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=ga(lo,r),o=ya(lo,r),[s,l]=k.useState(null),[c,u]=k.useState(null),d=De(t,E=>u(E)),p=xp(r),h=k.useRef(!1),y=k.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:b}=o,x=k.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&v){const E=a.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),A=v.getBoundingClientRect();if(a.dir!=="rtl"){const se=A.left-P.left,Z=T.left-se,de=E.left-Z,j=E.width+de,G=Math.max(j,P.width),V=window.innerWidth-fn,U=nc(Z,[fn,Math.max(fn,V-G)]);s.style.minWidth=j+"px",s.style.left=U+"px"}else{const se=P.right-A.right,Z=window.innerWidth-T.right-se,de=window.innerWidth-E.right-Z,j=E.width+de,G=Math.max(j,P.width),V=window.innerWidth-fn,U=nc(Z,[fn,Math.max(fn,V-G)]);s.style.minWidth=j+"px",s.style.right=U+"px"}const N=p(),C=window.innerHeight-fn*2,D=m.scrollHeight,O=window.getComputedStyle(c),R=parseInt(O.borderTopWidth,10),F=parseInt(O.paddingTop,10),z=parseInt(O.borderBottomWidth,10),W=parseInt(O.paddingBottom,10),L=R+F+D+W+z,M=Math.min(g.offsetHeight*5,L),H=window.getComputedStyle(m),B=parseInt(H.paddingTop,10),$=parseInt(H.paddingBottom,10),Q=E.top+E.height/2-fn,ee=C-Q,pe=g.offsetHeight/2,te=g.offsetTop+pe,re=R+F+te,J=L-re;if(re<=Q){const se=N.length>0&&g===N[N.length-1].ref.current;s.style.bottom="0px";const Z=c.clientHeight-m.offsetTop-m.offsetHeight,de=Math.max(ee,pe+(se?$:0)+Z+z),j=re+de;s.style.height=j+"px"}else{const se=N.length>0&&g===N[0].ref.current;s.style.top="0px";const de=Math.max(Q,R+m.offsetTop+(se?B:0)+pe)+J;s.style.height=de+"px",m.scrollTop=re-Q+m.offsetTop}s.style.margin=`${fn}px 0`,s.style.minHeight=M+"px",s.style.maxHeight=C+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[p,a.trigger,a.valueNode,s,c,m,g,v,a.dir,n]);Lt(()=>x(),[x]);const[_,w]=k.useState();Lt(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const S=k.useCallback(E=>{E&&y.current===!0&&(x(),b?.(),y.current=!1)},[x,b]);return f.jsx(d0e,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:f.jsx(ke.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});J4.displayName=c0e;var u0e="SelectPopperPosition",Xx=k.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=fn,...a}=e,o=wp(r);return f.jsx(N2,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xx.displayName=u0e;var[d0e,S_]=al(lo,{}),Qx="SelectViewport",Z4=k.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=ya(Qx,r),o=S_(Qx,r),s=De(t,a.onViewportChange),l=k.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(bp.Slot,{scope:r,children:f.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Se(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p?.current&&d){const h=Math.abs(l.current-u.scrollTop);if(h>0){const y=window.innerHeight-fn*2,m=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),v=Math.max(m,g);if(v<y){const b=v+h,x=Math.min(y,b),_=b-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Z4.displayName=Qx;var eF="SelectGroup",[f0e,h0e]=al(eF),p0e=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=pi();return f.jsx(f0e,{scope:r,id:i,children:f.jsx(ke.div,{role:"group","aria-labelledby":i,...n,ref:t})})});p0e.displayName=eF;var tF="SelectLabel",rF=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=h0e(tF,r);return f.jsx(ke.div,{id:i.id,...n,ref:t})});rF.displayName=tF;var Hf="SelectItem",[m0e,nF]=al(Hf),iF=k.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,s=ga(Hf,r),l=ya(Hf,r),c=s.value===n,[u,d]=k.useState(a??""),[p,h]=k.useState(!1),y=De(t,b=>l.itemRefCallback?.(b,n,i)),m=pi(),g=k.useRef("touch"),v=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(m0e,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:k.useCallback(b=>{d(x=>x||(b?.textContent??"").trim())},[]),children:f.jsx(bp.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:f.jsx(ke.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Se(o.onFocus,()=>h(!0)),onBlur:Se(o.onBlur,()=>h(!1)),onClick:Se(o.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:Se(o.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:Se(o.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:Se(o.onPointerMove,b=>{g.current=b.pointerType,i?l.onItemLeave?.():g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Se(o.onKeyDown,b=>{l.searchRef?.current!==""&&b.key===" "||(e0e.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});iF.displayName=Hf;var Cl="SelectItemText",aF=k.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=ga(Cl,r),s=ya(Cl,r),l=nF(Cl,r),c=i0e(Cl,r),[u,d]=k.useState(null),p=De(t,v=>d(v),l.onItemTextChange,v=>s.itemTextRefCallback?.(v,l.value,l.disabled)),h=u?.textContent,y=k.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return Lt(()=>(m(y),()=>g(y)),[m,g,y]),f.jsxs(f.Fragment,{children:[f.jsx(ke.span,{id:l.textId,...a,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Hc.createPortal(a.children,o.valueNode):null]})});aF.displayName=Cl;var oF="SelectItemIndicator",sF=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return nF(oF,r).isSelected?f.jsx(ke.span,{"aria-hidden":!0,...n,ref:t}):null});sF.displayName=oF;var Jx="SelectScrollUpButton",lF=k.forwardRef((e,t)=>{const r=ya(Jx,e.__scopeSelect),n=S_(Jx,e.__scopeSelect),[i,a]=k.useState(!1),o=De(t,n.onScrollButtonChange);return Lt(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?f.jsx(uF,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});lF.displayName=Jx;var Zx="SelectScrollDownButton",cF=k.forwardRef((e,t)=>{const r=ya(Zx,e.__scopeSelect),n=S_(Zx,e.__scopeSelect),[i,a]=k.useState(!1),o=De(t,n.onScrollButtonChange);return Lt(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?f.jsx(uF,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});cF.displayName=Zx;var uF=k.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=ya("SelectScrollButton",r),o=k.useRef(null),s=xp(r),l=k.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return k.useEffect(()=>()=>l(),[l]),Lt(()=>{s().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),f.jsx(ke.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Se(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Se(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Se(i.onPointerLeave,()=>{l()})})}),g0e="SelectSeparator",dF=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(ke.div,{"aria-hidden":!0,...n,ref:t})});dF.displayName=g0e;var ew="SelectArrow",y0e=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=wp(r),a=ga(ew,r),o=ya(ew,r);return a.open&&o.position==="popper"?f.jsx(R2,{...i,...n,ref:t}):null});y0e.displayName=ew;var v0e="SelectBubbleInput",fF=k.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=k.useRef(null),a=De(n,i),o=Ih(t);return k.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(s,t),s.dispatchEvent(d)}},[o,t]),f.jsx(ke.select,{...r,style:{...jN,...r.style},ref:a,defaultValue:t})});fF.displayName=v0e;function hF(e){return e===""||e===void 0}function pF(e){const t=Tt(e),r=k.useRef(""),n=k.useRef(0),i=k.useCallback(o=>{const s=r.current+o;t(s),(function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),a=k.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function mF(e,t,r){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=b0e(e,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function b0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var x0e=q4,gF=W4,w0e=V4,_0e=K4,S0e=G4,yF=Y4,k0e=Z4,vF=rF,bF=iF,E0e=aF,O0e=sF,xF=lF,wF=cF,_F=dF;const oi=x0e,za=w0e,Rn=k.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(gF,{ref:n,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,f.jsx(_0e,{asChild:!0,children:f.jsx(XN,{className:"h-4 w-4 opacity-50"})})]}));Rn.displayName=gF.displayName;const SF=k.forwardRef(({className:e,...t},r)=>f.jsx(xF,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(az,{className:"h-4 w-4"})}));SF.displayName=xF.displayName;const kF=k.forwardRef(({className:e,...t},r)=>f.jsx(wF,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(XN,{className:"h-4 w-4"})}));kF.displayName=wF.displayName;const In=k.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>f.jsx(S0e,{children:f.jsxs(yF,{ref:i,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(SF,{}),f.jsx(k0e,{className:ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(kF,{})]})}));In.displayName=yF.displayName;const A0e=k.forwardRef(({className:e,...t},r)=>f.jsx(vF,{ref:r,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));A0e.displayName=vF.displayName;const or=k.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(bF,{ref:n,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(O0e,{children:f.jsx(Jf,{className:"h-4 w-4"})})}),f.jsx(E0e,{children:t})]}));or.displayName=bF.displayName;const j0e=k.forwardRef(({className:e,...t},r)=>f.jsx(_F,{ref:r,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));j0e.displayName=_F.displayName;const P0e=()=>{const{goals:e,allGoals:t,logs:r}=Lw(),[n,i]=k.useState("weekly"),[a,o]=k.useState(null),s=s5(e,r,n),{isPrivacyMode:l}=ph(),{correlations:c,insights:u}=cte(e,r),d=k.useMemo(()=>t.find(m=>m.id===a)||null,[t,a]),p=k.useMemo(()=>{if(!d)return null;const m=[],g=new Date,v=new Date(d.start_date),b=d.end_date?new Date(d.end_date):g,x=b>g?g:b;bn({start:v,end:x}).forEach(te=>{const re=Ve(te,"yyyy-MM-dd"),J=r[re]?.[d.id]||null;m.push({date:re,status:J})});const w=m.length,S=m.filter(te=>te.status==="done").length,E=m.filter(te=>te.status==="missed").length,P=w>0?Math.round(S/w*100):0;let T=0,A=0,N=0;const C=[];let D=0,O=0,R="",F="";for(let te=0;te<m.length;te++){const re=m[te];re.status==="done"?(N++,N>A&&(A=N),D>O&&(O=D,R=F),D=0):(N>2&&C.push({date:re.date,streakLength:N}),N=0,(re.status==="missed"||re.status===null)&&(D===0&&(F=re.date),D++))}D>O&&(O=D,R=F);for(let te=m.length-1;te>=0&&m[te].status==="done";te--)T++;const z=[0,0,0,0,0,0,0],W=[0,0,0,0,0,0,0];m.forEach(te=>{const re=new Date(te.date).getDay(),J=re===0?6:re-1;W[J]++,te.status==="done"&&z[J]++});const L=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map((te,re)=>({day:te,rate:W[re]>0?Math.round(z[re]/W[re]*100):0,total:W[re],done:z[re]})),M=L.reduce((te,re)=>re.total>2&&re.rate<te.rate?re:te,{day:"N/A",rate:100,total:0,done:0}),H=$w(g),B=iH(g),Q=bn({start:H,end:B}).map(te=>{const re=Ve(te,"yyyy-MM-dd"),J=r[re]?.[d.id];return{date:re,count:J==="done"?1:J==="missed"?-1:0,intensity:J==="done"?1:J==="missed"?.5:0}}),pe=bn({start:new Date(g.getTime()-720*60*60*1e3),end:g}).map(te=>{const re=Ve(te,"yyyy-MM-dd"),J=r[re]?.[d.id];return{date:Ve(te,"dd/MM"),value:J==="done"?100:0,status:J||null}});return{totalDays:w,doneDays:S,missedDays:E,completionRate:P,currentStreak:T,bestStreak:A,brokenStreaks:C.slice(-5).reverse(),worstNegativeStreak:O,worstNegativeStreakStart:R,weekdayPerformance:L,worstDay:M,heatmapData:Q,trendData:pe}},[d,r]),h=s.habitStats.length>0?s.habitStats.reduce((m,g)=>m.completionRate>g.completionRate?m:g,s.habitStats[0]):null,y=m=>{o(m==="all"?null:m)};return f.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-5xl animate-fade-in pb-32 space-y-6",children:[f.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsxs("div",{className:ce("space-y-3",l&&"blur-sm"),children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground",children:"Le tue Statistiche"}),f.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi dettagliata delle tue performance."})]}),f.jsxs(oi,{value:a||"all",onValueChange:y,children:[f.jsx(Rn,{className:"w-full sm:w-[300px] glass-panel border-white/10",children:f.jsx(za,{placeholder:"Seleziona goal"})}),f.jsxs(In,{children:[f.jsx(or,{value:"all",children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(li,{className:"w-4 h-4"}),"Tutti i Goals"]})}),t.map(m=>f.jsx(or,{value:m.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:m.color}}),m.title,m.end_date&&f.jsx("span",{className:"text-xs text-muted-foreground",children:"(archiviato)"})]})},m.id))]})]})]}),a===null?f.jsxs(Vo,{defaultValue:"panoramica",className:"w-full",children:[f.jsxs(Ua,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[f.jsx(dt,{value:"panoramica",className:"text-xs sm:text-sm",children:"Info"}),f.jsx(dt,{value:"trend",className:"text-xs sm:text-sm",children:"Trend"}),f.jsx(dt,{value:"analisi",className:"text-xs sm:text-sm",children:"Alert"}),f.jsx(dt,{value:"abitudini",className:"text-xs sm:text-sm",children:"Abitudini"}),f.jsx(dt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:f.jsx("span",{children:"Mood"})})]}),f.jsxs(wr,{value:"panoramica",className:"mt-0 space-y-6",children:[f.jsx("div",{className:ce("transition-all duration-300",l&&"blur-sm"),children:f.jsx(ute,{globalStats:{totalActiveDays:s.totalActiveDays,globalSuccessRate:s.globalSuccessRate,bestStreak:s.bestStreak,worstDay:s.worstDay},bestHabit:h||void 0})}),f.jsx("div",{className:"hidden lg:block",children:f.jsx("div",{onClick:()=>window.location.hash="/ai-coach",className:"glass-panel rounded-3xl p-6 cursor-pointer hover:scale-[1.02] transition-all duration-300 border-2 border-primary/20 hover:border-primary/40 group",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-purple-500/20 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform",children:f.jsx(hi,{className:"w-7 h-7 text-primary animate-pulse"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("h3",{className:"text-lg sm:text-xl font-display font-semibold mb-2 flex items-center gap-2",children:["AI Coach",f.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full font-normal",children:"Nuovo"})]}),f.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Genera un report settimanale personalizzato con analisi AI dei tuoi progressi e suggerimenti concreti per migliorare."}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary",children:[f.jsx("span",{className:"font-semibold",children:"Clicca per iniziare"}),f.jsx("span",{children:""})]})]})]})})}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Attivit Recente"]}),f.jsx(dte,{data:s.heatmapData})]})]}),f.jsxs(wr,{value:"trend",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[350px] sm:h-[400px] flex flex-col",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Trend"}),f.jsx(Vo,{value:n,onValueChange:m=>i(m),className:"w-full sm:w-auto",children:f.jsxs(Ua,{className:"grid w-full grid-cols-4 sm:w-[300px]",children:[f.jsx(dt,{value:"weekly",className:"text-xs",children:"Sett"}),f.jsx(dt,{value:"monthly",className:"text-xs",children:"Mese"}),f.jsx(dt,{value:"annual",className:"text-xs",children:"Anno"}),f.jsx(dt,{value:"all",className:"text-xs",children:"Tutto"})]})})]}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(qbe,{data:s.trendData})})]}),f.jsx("div",{className:ce("transition-all duration-300",l&&"blur-sm"),children:f.jsx(Hbe,{comparisons:s.comparisons,goals:e})})]}),f.jsxs(wr,{value:"analisi",className:"mt-0 space-y-6",children:[f.jsx("div",{className:ce("transition-all duration-300",l&&"blur-sm"),children:f.jsx(Vbe,{criticalHabits:s.criticalHabits})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{className:ce("glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col transition-all duration-300",l&&"blur-sm"),children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-3",children:"Focus Abitudini"}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(Ube,{stats:s.habitStats})})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col",children:[f.jsxs("div",{className:"mb-3",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Costanza Settimanale"]}),f.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Scopri in quali giorni sei pi produttivo."})]}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(Wbe,{data:s.weekdayStats})})]})]})]}),f.jsx(wr,{value:"abitudini",className:"mt-0",children:f.jsxs("div",{className:ce("glass-panel rounded-3xl p-4 sm:p-6 transition-all duration-300",l&&"blur-sm"),children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 sm:mb-6",children:"Dettagli Abitudini"}),f.jsx("div",{className:"space-y-3",children:s.habitStats.length===0?f.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nessuna abitudine tracciata ancora."}):[...s.habitStats].sort((m,g)=>g.completionRate-m.completionRate).map(m=>f.jsxs("div",{className:"glass-card rounded-xl p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 group cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>o(m.id),children:[f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[f.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{borderColor:`${m.color}40`,boxShadow:`0 0 20px ${m.color}10`},children:f.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:m.color}})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"font-semibold text-foreground text-base sm:text-lg truncate block",children:m.title}),f.jsx("div",{className:"h-1 w-16 sm:w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:f.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${m.completionRate}%`,backgroundColor:m.color}})})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:flex sm:gap-6 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[f.jsx(Lo,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-500"})," Best"]}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[m.longestStreak,f.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[m.currentStreak,f.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[m.completionRate,f.jsx("span",{className:"text-[10px] sm:text-sm",children:"%"})]})]})]})]},m.id))})]})}),f.jsxs(wr,{value:"mood-energia",className:"mt-0 space-y-6",children:[f.jsx("div",{className:ce("transition-all duration-300",l&&"blur-sm"),children:f.jsx(Gbe,{})}),f.jsx("div",{className:ce("transition-all duration-300",l&&"blur-sm"),children:f.jsx(Qbe,{insights:u})}),f.jsx("div",{className:ce("transition-all duration-300",l&&"blur-sm"),children:f.jsx(Xbe,{correlations:c})})]})]}):d&&p&&f.jsxs(Vo,{defaultValue:"overview",className:"w-full",children:[f.jsxs(Ua,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[f.jsx(dt,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),f.jsx(dt,{value:"calendario",className:"text-xs sm:text-sm",children:"Calendario"}),f.jsx(dt,{value:"performance",className:"text-xs sm:text-sm",children:"Performance"}),f.jsx(dt,{value:"miglioramento",className:"text-xs sm:text-sm",children:"Miglioramento"}),f.jsxs(dt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:[f.jsx(hi,{className:"w-3 h-3"}),f.jsx("span",{children:"Mood"})]})]}),f.jsxs(wr,{value:"overview",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Serie Attuale"}),f.jsx("p",{className:"text-3xl font-bold font-mono",style:{color:d.color},children:p.currentStreak}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Record"}),f.jsx("p",{className:"text-3xl font-bold font-mono text-yellow-500",children:p.bestStreak}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Completamento"}),f.jsxs("p",{className:"text-3xl font-bold font-mono text-primary",children:[p.completionRate,"%"]}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.doneDays,"/",p.totalDays," gg"]})]}),f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Mancati"}),f.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:p.missedDays}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Trend Ultimi 30 Giorni"}),f.jsx("div",{className:"grid grid-cols-10 gap-1 sm:gap-2",children:p.trendData.slice(-30).map((m,g)=>f.jsx("div",{className:"aspect-square rounded-md sm:rounded-lg transition-all duration-300 hover:scale-110",style:{backgroundColor:m.status==="done"?"#11FF00":m.status==="missed"?"#FF0000":"rgba(255,255,255,0.1)",opacity:m.status?1:.4},title:m.date},g))}),f.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),f.jsx("span",{children:"Completato"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/10"}),f.jsx("span",{children:"Non completato"})]})]})]})]}),f.jsx(wr,{value:"calendario",className:"mt-0 space-y-6",children:f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[f.jsx(Xo,{className:"w-5 h-5"}),"Calendario Annuale"]}),f.jsx("div",{className:"flex gap-1 flex-wrap",children:p.heatmapData.map((m,g)=>f.jsx("div",{className:"w-3 h-3 rounded-sm transition-all",style:{backgroundColor:m.count===1?"#11FF00":m.count===-1?"#FF0000":"rgba(255,255,255,0.05)"},title:`${m.date}: ${m.count===1?"Completato":m.count===-1?"Mancato":"Non tracciato"}`},g))}),f.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),f.jsx("span",{children:"Completato"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-destructive"}),f.jsx("span",{children:"Mancato"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/5"}),f.jsx("span",{children:"Non tracciato"})]})]})]})}),f.jsxs(wr,{value:"performance",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Performance per Giorno"}),f.jsx("div",{className:"grid grid-cols-7 gap-2",children:p.weekdayPerformance.map((m,g)=>f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:m.day}),f.jsx("div",{className:"h-24 bg-white/5 rounded-lg relative overflow-hidden",children:f.jsx("div",{className:"absolute bottom-0 left-0 right-0 transition-all duration-500 rounded-t",style:{height:`${m.rate}%`,backgroundColor:m.rate>=70?"#11FF00":m.rate>=40?"#f59e0b":"#FF0000"}})}),f.jsxs("p",{className:"text-sm font-bold mt-2",children:[m.rate,"%"]})]},g))})]}),p.worstDay.day!=="N/A"&&f.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-destructive/30",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(md,{className:"w-5 h-5 text-destructive"}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold",children:["Giorno pi debole: ",p.worstDay.day]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solo ",p.worstDay.rate,"% di completamento (",p.worstDay.done,"/",p.worstDay.total,")"]})]})]})})]}),f.jsxs(wr,{value:"miglioramento",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[f.jsx(kb,{className:"w-5 h-5 text-destructive"}),"Serie Negativa Peggiore"]}),p.worstNegativeStreak>0?f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"text-4xl font-bold font-mono text-destructive",children:p.worstNegativeStreak}),f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground",children:"giorni consecutivi mancati"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Iniziata il ",Ve(new Date(p.worstNegativeStreakStart),"d MMMM yyyy",{locale:Mr})]})]})]}):f.jsx("p",{className:"text-muted-foreground",children:"Nessuna serie negativa significativa. Ottimo lavoro! "})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Streak Interrotti"}),p.brokenStreaks.length>0?f.jsx("div",{className:"space-y-3",children:p.brokenStreaks.map((m,g)=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/20 flex items-center justify-center",children:f.jsx("span",{className:"text-destructive font-bold",children:m.streakLength})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold",children:["Streak di ",m.streakLength," giorni interrotto"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:Ve(new Date(m.date),"d MMMM yyyy",{locale:Mr})})]})]})},g))}):f.jsx("p",{className:"text-muted-foreground",children:"Nessuno streak significativo interrotto."})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 border border-primary/30",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:" Suggerimenti"}),f.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[p.worstDay.day!=="N/A"&&p.worstDay.rate<50&&f.jsxs("li",{children:[" Concentrati sul ",f.jsx("strong",{className:"text-foreground",children:p.worstDay.day})," -  il tuo giorno pi debole"]}),p.worstNegativeStreak>=3&&f.jsxs("li",{children:[" Evita pause prolungate - la tua serie negativa pi lunga  stata di ",p.worstNegativeStreak," giorni"]}),p.completionRate<70&&f.jsx("li",{children:" Obiettivo: raggiungi almeno il 70% di completamento per consolidare l'abitudine"}),p.completionRate>=80&&f.jsx("li",{children:"  Ottimo lavoro! Mantieni questa costanza"})]})]})]}),f.jsx(wr,{value:"mood-energia",className:"mt-0 space-y-6",children:(()=>{const m=c.find(g=>g.habitId===a);return m?f.jsx(Ybe,{correlation:m}):f.jsxs("div",{className:"glass-panel rounded-3xl p-8 text-center",children:[f.jsx(hi,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),f.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per analizzare la correlazione mood/energia."}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Registra il tuo mood ed energia quotidianamente per vedere le correlazioni."})]})})()})]},a)]})},Ir={red:"Rosso",orange:"Arancione",yellow:"Giallo",blue:"Blu",purple:"Viola",pink:"Rosa",cyan:"Ciano"},Nl={red:"hsl(0 65% 55%)",orange:"hsl(25 60% 45%)",yellow:"hsl(45 90% 45%)",blue:"hsl(220 70% 50%)",purple:"hsl(270 70% 50%)",pink:"hsl(330 70% 50%)",cyan:"hsl(170 70% 40%)"};function k_(){const e=la(),{data:t,isLoading:r}=Vn({queryKey:["goalCategorySettings"],queryFn:async()=>{const{data:{user:l}}=await be.auth.getUser();if(!l)return null;const{data:c,error:u}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();return u&&u.code!=="PGRST116"&&console.error("Error fetching category settings:",u),c}}),n=vn({mutationFn:async l=>{const{data:{user:c}}=await be.auth.getUser();if(!c)throw new Error("Not authenticated");const{data:u}=await be.from("goal_category_settings").select("id").eq("user_id",c.id).single();if(u){const{error:d}=await be.from("goal_category_settings").update({mappings:l}).eq("id",u.id);if(d)throw d}else{const{error:d}=await be.from("goal_category_settings").insert({user_id:c.id,mappings:l});if(d)throw d}},onSuccess:()=>{e.invalidateQueries({queryKey:["longTermGoals"]}),e.invalidateQueries({queryKey:["goalCategorySettings"]}),qe.success("Categorie aggiornate con successo")},onError:()=>{qe.error("Errore durante l'aggiornamento delle categorie")}}),i=k.useMemo(()=>{const l={};return t?.mappings&&Object.entries(t.mappings).forEach(([c,u])=>{typeof u=="string"?l[c]=u:l[c]=u.label}),{...Ir,...l}},[t]),a=k.useMemo(()=>{const l={};return t?.mappings&&Object.entries(t.mappings).forEach(([c,u])=>{typeof u!="string"&&u.archived||(typeof u=="string"?l[c]=u:l[c]=u.label)}),{...Ir,...l}},[t]),o=l=>{if(!l)return"Generale";const c=t?.mappings?.[l];return typeof c=="string"?c:c?.label?c.label:Ir[l]||l},s=l=>{if(!l)return null;const c=t?.mappings?.[l];return c&&typeof c!="string"&&c.color?c.color:Nl[l]||null};return{settings:t,isLoading:r,updateSettings:n.mutate,getLabel:o,getColor:s,categoryLabels:i,activeCategoryLabels:a}}function T0e({year:e}){const{getLabel:t}=k_(),{data:r,isLoading:n}=Vn({queryKey:["longTermGoals","stats",e],queryFn:async()=>{let A=[],N=0;const C=1e3;let D=!0;for(;D;){let O=be.from("long_term_goals").select("*");e!=="all"&&(O=O.eq("year",typeof e=="string"?parseInt(e):e));const{data:R,error:F}=await O.range(N,N+C-1);if(F)throw F;R&&R.length>0?(A=[...A,...R],R.length<C?D=!1:N+=C):D=!1}return A}});if(k.useEffect(()=>{(async()=>{const{error:N}=await be.rpc("check_and_fail_expired_goals");N&&console.error("Error checking expired goals:",N)})()},[]),n)return f.jsx("div",{className:"flex justify-center p-8",children:f.jsx(wn,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!r||r.length===0)return f.jsxs("div",{className:"text-center p-12 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:["Nessun dato disponibile per ",e==="all"?"il periodo selezionato":`il ${e}`,". Aggiungi qualche obiettivo!"]});const i=r.length,a=r.filter(A=>A.status==="completed").length,o=Math.round(a/i*100)||0,s=r.filter(A=>A.type==="lifetime"),l=r.filter(A=>A.type!=="lifetime"),c=l.map(A=>A.year).filter(A=>A!==null),u=c.length>0?Math.min(...c):new Date().getFullYear(),d={annual:r.filter(A=>A.type==="annual").length,quarterly:r.filter(A=>A.type==="quarterly").length,monthly:r.filter(A=>A.type==="monthly").length,weekly:r.filter(A=>A.type==="weekly").length,lifetime:s.length},p=[{type:"Lifetime",total:d.lifetime,completed:s.filter(A=>A.status==="completed").length},{type:"Annuale",total:d.annual,completed:r.filter(A=>A.type==="annual"&&A.status==="completed").length},{type:"Trimestrale",total:d.quarterly,completed:r.filter(A=>A.type==="quarterly"&&A.status==="completed").length},{type:"Mensile",total:d.monthly,completed:r.filter(A=>A.type==="monthly"&&A.status==="completed").length},{type:"Settimanale",total:d.weekly,completed:r.filter(A=>A.type==="weekly"&&A.status==="completed").length}].map(A=>({...A,rate:A.total>0?Math.round(A.completed/A.total*100):0})).sort((A,N)=>N.rate-A.rate||N.completed-A.completed),h=p[0],y={};r.forEach(A=>{const N=A.color||"null",C=t(N==="null"?null:N),D=N==="null"?"Generale":Ir[N]||N;(N==="null"||!(N!=="null"&&C===D))&&(y[N]||(y[N]={total:0,completed:0}),y[N].total++,A.status==="completed"&&y[N].completed++)});const m=Object.entries(y).map(([A,N])=>({subject:t(A==="null"?null:A),A:Math.round(N.completed/N.total*100),fullMark:100,total:N.total})).sort((A,N)=>N.A-A.A),g=m.length>0?m[0]:null,v={red:"#f43f5e",orange:"#f97316",yellow:"#fbbf24",green:"#10b981",blue:"#2563eb",purple:"#7c3aed",pink:"#d946ef",cyan:"#06b6d4",null:"#525252"},b=Object.entries(y).map(([A,N])=>({name:t(A==="null"?null:A),value:N.total,fill:v[A]||"#888888"})).sort((A,N)=>N.value-A.value);if(e==="all"){const A={};l.forEach(W=>{W.year!==null&&(A[W.year]||(A[W.year]={total:0,completed:0,failed:0,active:0,rate:0}),A[W.year].total++,W.status==="completed"?A[W.year].completed++:W.status==="failed"?A[W.year].failed++:A[W.year].active++)});const N=Object.entries(A).map(([W,L])=>({year:W,total:L.total,completed:L.completed,failed:L.failed,active:L.active,rate:Math.round(L.completed/L.total*100)||0})).sort((W,L)=>parseInt(W.year)-parseInt(L.year)),C=[...N].sort((W,L)=>L.rate-W.rate||L.completed-W.completed)[0],D=[...N].sort((W,L)=>L.completed-W.completed)[0],O=[1,2,3,4].map(W=>({name:`Q${W}`,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(W=>{const L=W.quarter;if(L&&L>=1&&L<=4){const M=L-1;O[M].total++,W.status==="completed"?O[M].completed++:W.status==="failed"?O[M].failed++:O[M].active++}}),O.forEach(W=>{W.rate=W.total>0?Math.round(W.completed/W.total*100):0});const R=Array.from({length:12},(W,L)=>({name:new Date(2024,L).toLocaleString("it-IT",{month:"short"}),monthIndex:L+1,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(W=>{if(W.month&&W.month>=1&&W.month<=12){const L=W.month-1;R[L].total++,W.status==="completed"?R[L].completed++:W.status==="failed"?R[L].failed++:R[L].active++}}),R.forEach(W=>{W.rate=W.total>0?Math.round(W.completed/W.total*100):0});const F=[];return Array.from(new Set(l.map(W=>W.year).filter(W=>W!==null))).sort((W,L)=>W-L).forEach(W=>{const L=l.filter(H=>H.year===W),M={year:W.toString(),total:L.length};Object.keys(v).forEach(H=>{const B=t(H==="null"?null:H),$=H==="null"?"Generale":Ir[H]||H;(H==="null"||!(H!=="null"&&B===$))&&(M[H]=0)}),L.forEach(H=>{const B=H.color||"null",$=t(B==="null"?null:B),Q=B==="null"?"Generale":Ir[B]||B;(B==="null"||!(B!=="null"&&$===Q))&&M[B]!==void 0&&M[B]++}),F.push(M)}),f.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[f.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[f.jsxs($e,{className:"bg-gradient-to-br from-indigo-500/10 to-blue-600/10 border-indigo-500/20 shadow-lg shadow-indigo-500/5",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-indigo-400",children:"Totale Storico"}),f.jsx(li,{className:"h-4 w-4 text-indigo-500"})]}),f.jsxs(Le,{children:[f.jsx("div",{className:"text-3xl font-bold text-white",children:i}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Obiettivi tracciati dal ",u]})]})]}),f.jsxs($e,{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-emerald-400",children:"Successo Globale"}),f.jsx(Lo,{className:"h-4 w-4 text-emerald-500"})]}),f.jsxs(Le,{children:[f.jsxs("div",{className:"text-3xl font-bold text-white",children:[o,"%"]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a," obiettivi completati"]})]})]}),f.jsxs($e,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20 shadow-lg shadow-amber-500/5",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-amber-400",children:"Anno Migliore"}),f.jsx(Xo,{className:"h-4 w-4 text-amber-500"})]}),f.jsxs(Le,{children:[f.jsx("div",{className:"text-3xl font-bold text-white",children:C?.year||"N/A"}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[C?.rate,"% completamento"]})]})]}),f.jsxs($e,{className:"bg-gradient-to-br from-cyan-500/10 to-sky-500/10 border-cyan-500/20 shadow-lg shadow-cyan-500/5",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-cyan-400",children:"Anno Pi Produttivo"}),f.jsx(D_,{className:"h-4 w-4 text-cyan-500"})]}),f.jsxs(Le,{children:[f.jsx("div",{className:"text-3xl font-bold text-white",children:D?.year||"N/A"}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[D?.total," obiettivi totali"]})]})]})]}),f.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[f.jsxs($e,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm p-2",children:[f.jsxs(Ge,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Vi,{className:"w-5 h-5 text-blue-500"}),f.jsx(Ye,{children:"Progressione Annuale"})]}),f.jsx(mn,{children:"Confronto anno per anno del volume di obiettivi e completamenti"})]}),f.jsx(Le,{className:"h-[300px] sm:h-[400px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Uc,{data:N,margin:{top:20,right:20,bottom:20,left:20},children:[f.jsx(Kr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Ht,{dataKey:"year",stroke:"#888888",fontSize:14,tickLine:!1,axisLine:!1}),f.jsx(Pt,{yAxisId:"left",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Pt,{yAxisId:"right",orientation:"right",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),f.jsx(wt,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},cursor:{fill:"#ffffff05"}}),f.jsx(Lr,{wrapperStyle:{paddingTop:"20px"}}),f.jsx(jt,{yAxisId:"left",dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:40,fillOpacity:.8}),f.jsx(jt,{yAxisId:"left",dataKey:"failed",stackId:"a",name:"Falliti",fill:"#ef4444",radius:[0,0,0,0],barSize:40,fillOpacity:.8}),f.jsx(jt,{yAxisId:"left",dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),f.jsx(tn,{yAxisId:"right",type:"monotone",dataKey:"rate",name:"Tasso Successo %",stroke:"#f59e0b",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6}})]})})})]}),f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Ge,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(li,{className:"w-5 h-5 text-cyan-500"}),f.jsx(Ye,{children:"Performance per Categoria (Storico)"})]})}),f.jsx(Le,{className:"h-[300px] sm:h-[350px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Yx,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[f.jsx(bf,{stroke:"#ffffff20"}),f.jsx(sa,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),f.jsx(io,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),f.jsx(ao,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:W=>[`${W}%`,"Successo"]})]})})})]}),f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Ge,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx($_,{className:"w-5 h-5 text-purple-500"}),f.jsx(Ye,{children:"Distribuzione Tipologie"})]})}),f.jsx(Le,{className:"h-[300px] sm:h-[350px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Tl,{data:p,layout:"vertical",margin:{left:20},children:[f.jsx(Kr,{strokeDasharray:"3 3",stroke:"#ffffff10",horizontal:!0,vertical:!1}),f.jsx(Ht,{type:"number",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Pt,{dataKey:"type",type:"category",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,width:80}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),f.jsx(jt,{dataKey:"rate",name:"Successo %",fill:"#8b5cf6",radius:[0,4,4,0],barSize:30})]})})})]}),f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Xo,{className:"w-5 h-5 text-amber-500"}),f.jsx(Ye,{children:"Stagionalit (Performance Trimestrale)"})]}),f.jsx(mn,{children:"Aggregato di tutti gli anni: in quale trimestre rendi meglio?"})]}),f.jsx(Le,{className:"h-[300px] sm:h-[350px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Tl,{data:O,children:[f.jsx(Kr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Ht,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Pt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),f.jsx(Lr,{wrapperStyle:{paddingTop:"20px"}}),f.jsx(jt,{dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:30,fillOpacity:.6}),f.jsx(jt,{dataKey:"failed",stackId:"a",name:"Falliti",fill:"#f59e0b",radius:[0,0,0,0],barSize:30,fillOpacity:.8}),f.jsx(jt,{dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(D_,{className:"w-5 h-5 text-pink-500"}),f.jsx(Ye,{children:"Performance Mensile (Storico)"})]}),f.jsx(mn,{children:"Successo medio per mese: scopri il tuo ritmo ideale"})]}),f.jsx(Le,{className:"h-[300px] sm:h-[350px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Bbe,{data:R,children:[f.jsx(Kr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Ht,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Pt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{stroke:"#ffffff20"}}),f.jsx(tn,{type:"monotone",dataKey:"rate",name:"Tasso di Successo",stroke:"#ec4899",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#1f1f1f"},activeDot:{r:6,fill:"#ec4899"}})]})})})]}),f.jsxs($e,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Vi,{className:"w-5 h-5 text-indigo-500"}),f.jsx(Ye,{children:"Evoluzione Interessi (Categorie)"})]}),f.jsx(mn,{children:"Come sono cambiati i tuoi focus nel corso degli anni"})]}),f.jsx(Le,{className:"h-[300px] sm:h-[400px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Tl,{data:F,children:[f.jsx(Kr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Ht,{dataKey:"year",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Pt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),f.jsx(Lr,{}),Object.entries(v).map(([W,L])=>{const M=t(W==="null"?null:W),H=W==="null"?"Generale":Ir[W]||W;return W==="null"||!(W!=="null"&&M===H)?f.jsx(jt,{dataKey:W,name:M,stackId:"a",fill:L},W):null})]})})})]})]})]})}const _=typeof e=="string"?parseInt(e):e,w=Array.from({length:12},(A,N)=>({name:new Date(_,N).toLocaleString("it-IT",{month:"short"}),monthIndex:N+1,total:0,completed:0,failed:0,active:0,rate:0,cumulativeTotal:0,cumulativeCompleted:0}));let S=0,E=0;l.forEach(A=>{let N=0;A.month&&(N=A.month-1),N<0&&(N=0),N>11&&(N=11),w[N].total++,A.status==="completed"?w[N].completed++:A.status==="failed"?w[N].failed++:w[N].active++}),w.forEach(A=>{A.rate=A.total>0?Math.round(A.completed/A.total*100):0,S+=A.total,E+=A.completed,A.cumulativeTotal=S,A.cumulativeCompleted=E});const P=[1,2,3,4].map(A=>({name:`Q${A}`,quarterIndex:A,total:0,completed:0,rate:0}));r.filter(A=>A.quarter).forEach(A=>{if(A.quarter&&A.quarter>=1&&A.quarter<=4){const N=A.quarter-1;P[N].total++,A.status==="completed"&&P[N].completed++}}),P.forEach(A=>{A.rate=A.total>0?Math.round(A.completed/A.total*100):0});const T=[...w].filter(A=>A.total>0).sort((A,N)=>N.rate-A.rate||N.completed-A.completed)[0];return f.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[f.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[f.jsxs($e,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-purple-400",children:"Punto di Forza"}),f.jsx(eh,{className:"h-4 w-4 text-purple-500"})]}),f.jsxs(Le,{children:[f.jsx("div",{className:"text-2xl font-bold text-white",children:g?.subject||"N/A"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:g?`${g.A}% di completamento`:"Nessun dato"})]})]}),f.jsxs($e,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-amber-400",children:"Mese Migliore"}),f.jsx(Lo,{className:"h-4 w-4 text-amber-500"})]}),f.jsxs(Le,{children:[f.jsx("div",{className:"text-2xl font-bold text-white",children:T?.name||"N/A"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:T?`${T.rate}% di successo (${T.completed}/${T.total})`:"Nessuna attivit"})]})]}),f.jsxs($e,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/20",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-emerald-400",children:"Tipologia Efficace"}),f.jsx($_,{className:"h-4 w-4 text-emerald-500"})]}),f.jsxs(Le,{children:[f.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:h.total>0?h.type:"N/A"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:h.total>0?`${h.rate}% di successo`:"Dati insufficienti"})]})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-muted-foreground",children:"Totale"}),f.jsx(li,{className:"h-4 w-4 text-primary"})]}),f.jsx(Le,{children:f.jsx("div",{className:"text-2xl font-bold text-white",children:i})})]}),f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-muted-foreground",children:"Completati"}),f.jsx(td,{className:"h-4 w-4 text-green-500"})]}),f.jsx(Le,{children:f.jsx("div",{className:"text-2xl font-bold text-white",children:a})})]}),f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-muted-foreground",children:"Successo"}),f.jsx(Lo,{className:"h-4 w-4 text-yellow-500"})]}),f.jsx(Le,{children:f.jsxs("div",{className:"text-2xl font-bold text-white",children:[o,"%"]})})]}),f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Ye,{className:"text-sm font-medium text-muted-foreground",children:"Trend"}),f.jsx(Vi,{className:"h-4 w-4 text-blue-500"})]}),f.jsx(Le,{children:f.jsx("div",{className:"text-2xl font-bold text-white",children:E>0?"In Crescita":"Stabile"})})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[f.jsxs($e,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_z,{className:"w-5 h-5 text-orange-500"}),f.jsx(Ye,{children:"Velocit di Esecuzione (Cumulativa)"})]}),f.jsx(mn,{children:"Confronto tra obiettivi pianificati e completati nel tempo"})]}),f.jsx(Le,{className:"h-[300px] sm:h-[350px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(z4,{data:w,children:[f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),f.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),f.jsx(Ht,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Pt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Kr,{strokeDasharray:"3 3",stroke:"#ffffff10"}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),f.jsx(an,{type:"monotone",dataKey:"cumulativeTotal",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorTotal)",name:"Obiettivi Totali"}),f.jsx(an,{type:"monotone",dataKey:"cumulativeCompleted",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorCompleted)",name:"Obiettivi Completati"})]})})})]}),f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(li,{className:"w-5 h-5 text-cyan-500"}),f.jsx(Ye,{children:"Performance Categorie"})]}),f.jsx(mn,{children:"Tasso di successo per categoria"})]}),f.jsx(Le,{className:"h-[300px] sm:h-[350px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Yx,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[f.jsx(bf,{stroke:"#ffffff20"}),f.jsx(sa,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),f.jsx(io,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),f.jsx(ao,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:A=>[`${A}%`,"Successo"]})]})})})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Ge,{children:[f.jsx(Ye,{children:"Attivit Trimestrale"}),f.jsx(mn,{children:"Progressione Q1 - Q4"})]}),f.jsx(Le,{className:"h-[300px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Tl,{data:P,children:[f.jsx(Ht,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Pt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},cursor:{fill:"#ffffff05"}}),f.jsx(Kr,{stroke:"#ffffff10",vertical:!1}),f.jsx(jt,{dataKey:"total",name:"Pianificati",fill:"#f59e0b",radius:[4,4,0,0],barSize:30,fillOpacity:.7}),f.jsx(jt,{dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),f.jsxs($e,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Ge,{children:f.jsx(Ye,{children:"Attivit Mensile"})}),f.jsx(Le,{className:"h-[300px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(Uc,{data:w,children:[f.jsx(Ht,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Pt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),f.jsx(Kr,{stroke:"#ffffff10"}),f.jsx(jt,{dataKey:"total",barSize:20,fill:"#413ea0",radius:[4,4,0,0],name:"Creati"}),f.jsx(tn,{type:"monotone",dataKey:"completed",stroke:"#ff7300",strokeWidth:2,name:"Completati"})]})})})]}),f.jsxs($e,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Ge,{children:f.jsx(Ye,{children:"Distribuzione Categorie"})}),f.jsx(Le,{className:"h-[300px]",children:f.jsx(rr,{width:"100%",height:"100%",children:f.jsxs(zbe,{children:[f.jsx(Ci,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:b.map((A,N)=>f.jsx(Qs,{fill:A.fill},`cell-${N}`))}),f.jsx(wt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),f.jsx(Lr,{formatter:(A,N)=>f.jsx("span",{style:{color:"#ccc"},children:A})})]})})})]})]})]})}function C0e(){const{settings:e,updateSettings:t}=k_(),[r,n]=k.useState({}),[i,a]=k.useState(!1);k.useEffect(()=>{i&&e?.mappings?n(e.mappings):i&&n({})},[i,e]);const o=()=>{t(r),a(!1)},s=(u,d)=>{n(p=>{const h=p[u],y=typeof h=="object"?h.color:Nl[u]||"";return{...p,[u]:{label:d,color:y}}})},l=(u,d)=>{n(p=>{const h=p[u],y=typeof h=="object"?h.label:typeof h=="string"?h:Ir[u]||"";return{...p,[u]:{label:y,color:d}}})},c=u=>{const d=r[u];return d?typeof d=="string"?{label:d,color:Nl[u]||""}:d:{label:Ir[u]||"",color:Nl[u]||""}};return f.jsxs(_h,{open:i,onOpenChange:a,children:[f.jsx(Vw,{asChild:!0,children:f.jsx(We,{variant:"outline",size:"icon",title:"Impostazioni Categorie",className:"h-10 w-10 sm:h-9 sm:w-9",children:f.jsx(kz,{className:"w-4 h-4"})})}),f.jsxs(Qc,{className:"sm:max-w-[425px] flex flex-col max-h-[85vh] p-0 gap-0 bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground",children:[f.jsxs(Sh,{className:"p-6 pb-2 shrink-0",children:[f.jsx(Jc,{children:"Personalizza Categorie"}),f.jsx(Zc,{children:"Personalizza i colori e le etichette per i tuoi obiettivi."})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-4",children:[f.jsx("div",{className:"space-y-2",children:Array.from(new Set([...Object.keys(Ir),...Object.keys(r)])).filter(u=>{const d=r[u];return!(d&&typeof d!="string"&&d.archived)}).map(u=>{const{label:d,color:p}=c(u),h=u in Ir;return f.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/5 group",children:[f.jsx(a0,{value:p||"hsl(0 0% 50%)",onChange:y=>l(u,y),showValueLabel:!1,className:"w-10"}),f.jsx(aa,{id:u,value:d,placeholder:Ir[u]||"Nuova Categoria",onChange:y=>s(u,y.target.value),className:"h-9 bg-black/20 border-white/10"}),!h&&f.jsxs(qa,{children:[f.jsx(ts,{asChild:!0,children:f.jsx(We,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),f.jsxs(Yi,{children:[f.jsxs(Xi,{children:[f.jsx(Ji,{children:"Sei sicuro?"}),f.jsx(Zi,{children:"Questa azione archivier la categoria. Verr rimossa dalle opzioni future, ma lo storico rimarr accessibile."})]}),f.jsxs(Qi,{children:[f.jsx(Ja,{children:"Annulla"}),f.jsx(ea,{onClick:()=>{n(y=>{const m=y[u],g=typeof m=="object"?m.label:typeof m=="string"?m:Ir[u]||"",v=typeof m=="object"?m.color:Nl[u]||"";return{...y,[u]:{label:g,color:v||"hsl(0 0% 50%)",archived:!0}}})},children:"Elimina"})]})]})]})]},u)})}),f.jsx(We,{variant:"outline",className:"w-full border-dashed border-white/20 hover:border-white/40 hover:bg-white/5",onClick:()=>{const u=`custom_${Date.now()}`;n(d=>({...d,[u]:{label:"Nuova Categoria",color:"hsl(0 0% 50%)"}}))},children:"+ Aggiungi Categoria"})]}),f.jsx(nD,{className:"p-6 pt-2 shrink-0",children:f.jsx(We,{type:"submit",onClick:o,className:"w-full",children:"Salva Modifiche"})})]})]})}function N0e(){const e=la(),[t,r]=k.useState(!1),[n,i]=k.useState(!1);return{exportBackup:async(s={scope:"all"})=>{r(!0);try{const{data:{user:l}}=await be.auth.getUser();if(!l)throw new Error("Not authenticated");let c=be.from("long_term_goals").select("*").eq("user_id",l.id);s.scope==="year"&&s.year&&(c=c.eq("year",s.year));const{data:u,error:d}=await c;if(d)throw d;const{data:p,error:h}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();if(h&&h.code!=="PGRST116")throw h;const y={version:1,timestamp:new Date().toISOString(),goals:u||[],settings:p||null},m=s.scope==="all"?`habit_tracker_FULL_backup_${new Date().toISOString().split("T")[0]}.json`:`habit_tracker_${s.year}_backup.json`,g=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),v=URL.createObjectURL(g),b=document.createElement("a");b.href=v,b.download=m,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(v),qe.success("Backup scaricato con successo")}catch(l){console.error("Export failed:",l),qe.error(`Errore durante l'export: ${l.message}`)}finally{r(!1)}},importBackup:async s=>(i(!0),new Promise(l=>{const c=new FileReader;c.onload=async u=>{try{const d=u.target?.result;if(!d){l(null);return}const p=JSON.parse(d);if(!p.version||!Array.isArray(p.goals))throw new Error("Formato file non valido (manca versione o goals)");const{data:{user:h}}=await be.auth.getUser();if(!h)throw new Error("Not authenticated");const{data:y,error:m}=await be.from("long_term_goals").select("*").eq("user_id",h.id);if(m)throw m;const g=new Map(y?.map(E=>[E.id,E])),v=new Set,b=[],x=[];let _=0;const w=[];for(const E of p.goals){let P={...E};!P.status&&P.is_completed!==void 0?(P.status=P.is_completed?"completed":"active",delete P.is_completed):P.status||(P.status="active");let T={...P,user_id:h.id},A=g.get(T.id);if(!A){const N=y?.find(C=>!v.has(C.id)&&C.title===T.title&&C.type===T.type&&C.year===T.year);N&&(A=N,T.id=N.id)}A?(v.add(A.id),A.title!==T.title||A.status!==T.status||A.type!==T.type||A.year!==T.year||A.month!==T.month||A.week_number!==T.week_number||A.color!==T.color?(x.push(T),w.push(T)):_++):(b.push(T),w.push(T))}if(w.length>0){const{error:E}=await be.from("long_term_goals").upsert(w);if(E)throw E}let S=!1;if(p.settings){const{data:E}=await be.from("goal_category_settings").select("*").eq("user_id",h.id).single(),P=E,T={user_id:h.id,mappings:p.settings.mappings};(!P||JSON.stringify(P.mappings)!==JSON.stringify(T.mappings))&&(P?await be.from("goal_category_settings").update({mappings:T.mappings}).eq("id",P.id):await be.from("goal_category_settings").insert(T),S=!0)}await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),l({totalProcessed:p.goals.length,restored:b,updated:x,unchanged:_,settingsUpdated:S})}catch(d){console.error("Import failed:",d),qe.error(`Errore durante l'importazione: ${d.message}`),l(null)}finally{i(!1)}},c.readAsText(s)})),isExporting:t,isImporting:n}}var E_="Radio",[R0e,EF]=yr(E_),[I0e,D0e]=R0e(E_),OF=k.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:l,form:c,...u}=e,[d,p]=k.useState(null),h=De(t,g=>p(g)),y=k.useRef(!1),m=d?c||!!d.closest("form"):!0;return f.jsxs(I0e,{scope:r,checked:i,disabled:o,children:[f.jsx(ke.button,{type:"button",role:"radio","aria-checked":i,"data-state":TF(i),"data-disabled":o?"":void 0,disabled:o,value:s,...u,ref:h,onClick:Se(e.onClick,g=>{i||l?.(),m&&(y.current=g.isPropagationStopped(),y.current||g.stopPropagation())})}),m&&f.jsx(PF,{control:d,bubbles:!y.current,name:n,value:s,checked:i,required:a,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});OF.displayName=E_;var AF="RadioIndicator",jF=k.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=D0e(AF,r);return f.jsx(ki,{present:n||a.checked,children:f.jsx(ke.span,{"data-state":TF(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});jF.displayName=AF;var M0e="RadioBubbleInput",PF=k.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=k.useRef(null),s=De(o,a),l=Ih(r),c=ih(t);return k.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&h){const y=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(y)}},[l,r,n]),f.jsx(ke.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});PF.displayName=M0e;function TF(e){return e?"checked":"unchecked"}var $0e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_p="RadioGroup",[L0e]=yr(_p,[Nh,EF]),CF=Nh(),NF=EF(),[F0e,B0e]=L0e(_p),RF=k.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...p}=e,h=CF(r),y=Us(c),[m,g]=Wn({prop:a,defaultProp:i??null,onChange:d,caller:_p});return f.jsx(F0e,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:g,children:f.jsx(o$,{asChild:!0,...h,orientation:l,dir:y,loop:u,children:f.jsx(ke.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:y,...p,ref:t})})})});RF.displayName=_p;var IF="RadioGroupItem",DF=k.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=B0e(IF,r),o=a.disabled||n,s=CF(r),l=NF(r),c=k.useRef(null),u=De(t,c),d=a.value===i.value,p=k.useRef(!1);return k.useEffect(()=>{const h=m=>{$0e.includes(m.key)&&(p.current=!0)},y=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",y)}},[]),f.jsx(s$,{asChild:!0,...s,focusable:!o,active:d,children:f.jsx(OF,{disabled:o,required:a.required,checked:d,...l,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:Se(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Se(i.onFocus,()=>{p.current&&c.current?.click()})})})});DF.displayName=IF;var z0e="RadioGroupIndicator",MF=k.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=NF(r);return f.jsx(jF,{...i,...n,ref:t})});MF.displayName=z0e;var $F=RF,LF=DF,q0e=MF;const FF=k.forwardRef(({className:e,...t},r)=>f.jsx($F,{className:ce("grid gap-2",e),...t,ref:r}));FF.displayName=$F.displayName;const tw=k.forwardRef(({className:e,...t},r)=>f.jsx(LF,{ref:r,className:ce("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:f.jsx(q0e,{className:"flex items-center justify-center",children:f.jsx(lz,{className:"h-2.5 w-2.5 fill-current text-current"})})}));tw.displayName=LF.displayName;function U0e(){const[e,t]=k.useState(new Date().getFullYear().toString()),[r,n]=k.useState(tH(new Date)),[i,a]=k.useState(new Date().getMonth()+1),[o,s]=k.useState(a9(new Date,{weekStartsOn:1})),[l,c]=k.useState("weekly"),[u,d]=k.useState("all"),[p,h]=k.useState(null),[y,m]=k.useState(""),[g,v]=k.useState(null),b=la(),[x,_]=k.useState({}),w=k.useRef({});k.useEffect(()=>()=>{Object.values(w.current).forEach(clearTimeout)},[]);const{getLabel:S,getColor:E,activeCategoryLabels:P}=k_(),{isPrivacyMode:T}=ph(),A=j=>{const G=E(j);return G?G.startsWith("hsl")?{backgroundColor:G.replace(")"," / 0.15)"),borderColor:G.replace(")"," / 0.3)")}:{borderColor:G}:{}},N=j=>E(j)||"transparent",C=j=>"bg-card/20 border-white/5 hover:bg-card/40 relative overflow-hidden",D=[{value:1,label:"1 Trimestre (Q1)"},{value:2,label:"2 Trimestre (Q2)"},{value:3,label:"3 Trimestre (Q3)"},{value:4,label:"4 Trimestre (Q4)"}],O=Object.keys(P).sort((j,G)=>{const V=["red","orange","yellow","green","blue","purple","pink","cyan"],U=V.indexOf(j),q=V.indexOf(G);return U!==-1&&q!==-1?U-q:U!==-1?-1:q!==-1?1:j.localeCompare(G)}),{data:R,isLoading:F}=Vn({queryKey:["longTermGoals",l,e,r,i,o],queryFn:async()=>{let j=be.from("long_term_goals").select("*").eq("type",l).order("status",{ascending:!0}).order("color",{ascending:!0}).order("created_at",{ascending:!0});e!=="all"&&l!=="lifetime"&&(j=j.eq("year",parseInt(e))),l==="quarterly"?j=j.eq("quarter",r):l==="monthly"?j=j.eq("month",i):l==="weekly"&&(j=j.eq("month",i).eq("week_number",o));const{data:G,error:V}=await j;if(V)throw V;return G},enabled:l!=="stats"}),z=vn({mutationFn:async({title:j,color:G})=>{const{data:{user:V}}=await be.auth.getUser();if(!V)throw new Error("Not authenticated");const U={user_id:V.id,title:j,type:l,year:l==="lifetime"?null:e==="all"?new Date().getFullYear():parseInt(e),quarter:l==="quarterly"?r:null,month:l==="monthly"||l==="weekly"?i:null,week_number:l==="weekly"?o:null,status:"active",color:G},{data:q,error:K}=await be.from("long_term_goals").insert(U).select().single();if(K)throw K;return q},onSuccess:()=>{m(""),v(null),b.invalidateQueries({queryKey:["longTermGoals"]}),qe.success("Obiettivo creato!")},onError:j=>{qe.error(`Errore durante la creazione: ${j.message}`)}}),W=vn({mutationFn:async({id:j,status:G})=>{const{error:V}=await be.from("long_term_goals").update({status:G}).eq("id",j);if(V)throw V},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})}}),L=vn({mutationFn:async({id:j,color:G})=>{const{error:V}=await be.from("long_term_goals").update({color:G}).eq("id",j);if(V)throw V},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})},onError:()=>{qe.error("Errore aggiornamento colore")}}),M=vn({mutationFn:async j=>{const{error:G}=await be.from("long_term_goals").delete().eq("id",j);if(G)throw G},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]}),qe.success("Obiettivo eliminato")}}),H=j=>{j.preventDefault(),y.trim()&&z.mutate({title:y,color:g})},B=k.useRef(null),{exportBackup:$,importBackup:Q,isExporting:ee,isImporting:pe}=N0e(),te=()=>{B.current?.click()},re=async j=>{const G=j.target.files?.[0];if(!G)return;const V=await Q(G);V&&h(V),B.current&&(B.current.value="")},J=[{value:1,label:"Gennaio"},{value:2,label:"Febbraio"},{value:3,label:"Marzo"},{value:4,label:"Aprile"},{value:5,label:"Maggio"},{value:6,label:"Giugno"},{value:7,label:"Luglio"},{value:8,label:"Agosto"},{value:9,label:"Settembre"},{value:10,label:"Ottobre"},{value:11,label:"Novembre"},{value:12,label:"Dicembre"}],{data:le}=Vn({queryKey:["longTermGoals","minYear"],queryFn:async()=>{const{data:j,error:G}=await be.from("long_term_goals").select("year").order("year",{ascending:!0}).limit(1).single();return G&&G.code!=="PGRST116"&&console.error("Error fetching min year:",G),j?.year||2022}}),se=le||2022,Z=new Date().getFullYear(),de=Array.from({length:Z+5-se+1},(j,G)=>se+G);return f.jsxs("div",{className:"space-y-6 animate-fade-in p-2 md:p-0",children:[f.jsx(qa,{open:!!p,onOpenChange:j=>!j&&h(null),children:f.jsxs(Yi,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[f.jsxs(Xi,{children:[f.jsx(Ji,{children:"Rapporto Importazione"}),f.jsx(Zi,{children:"Ecco il dettaglio delle modifiche apportate ai tuoi dati."})]}),f.jsxs("div",{className:"space-y-6 py-4",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[f.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:p?.restored.length||0}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Nuovi"})]}),f.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[f.jsx("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:p?.updated.length||0}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Modificati"})]}),f.jsxs("div",{className:"p-4 bg-slate-500/10 border border-slate-500/20 rounded-xl flex flex-col items-center justify-center text-center opacity-70",children:[f.jsx("span",{className:"text-3xl font-bold text-slate-600 dark:text-slate-400",children:p?.unchanged||0}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Invariati"})]})]}),p?.settingsUpdated&&f.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[f.jsx("span",{className:"flex h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),f.jsx("span",{children:"Le impostazioni delle categorie sono state aggiornate con successo."})]}),f.jsxs("div",{className:"space-y-6",children:[p?.restored&&p.restored.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600 dark:text-green-400",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiunti / Ripristinati"]}),f.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-100 dark:border-green-900/30",children:Object.entries(p.restored.reduce((j,G)=>{const V=S(G.color||"default");return j[V]||(j[V]=[]),j[V].push(G),j},{})).map(([j,G])=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:j}),f.jsx("div",{className:"grid gap-2",children:G.map(V=>f.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[f.jsx("span",{className:"font-medium",children:V.title}),f.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[V.year,"  ",V.type]})]},V.id))})]},j))})]}),p?.updated&&p.updated.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiornati"]}),f.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-amber-100 dark:border-amber-900/30",children:Object.entries(p.updated.reduce((j,G)=>{const V=S(G.color||"default");return j[V]||(j[V]=[]),j[V].push(G),j},{})).map(([j,G])=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:j}),f.jsx("div",{className:"grid gap-2",children:G.map(V=>f.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[f.jsx("span",{className:"font-medium",children:V.title}),f.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[V.year,"  ",V.type]})]},V.id))})]},j))})]})]})]}),f.jsx(Qi,{children:f.jsx(ea,{onClick:()=>h(null),children:"Chiudi Report"})})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex justify-center w-full",children:f.jsx(Vo,{value:l,onValueChange:j=>c(j),className:"w-full max-w-2xl",children:f.jsxs(Ua,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 w-full h-auto p-1 bg-secondary/30 backdrop-blur-sm border border-white/5 gap-1",children:[f.jsx(dt,{value:"lifetime",className:"w-full col-span-2 sm:col-span-1",children:"Lifetime"}),f.jsx(dt,{value:"annual",className:"w-full",children:"Annuale"}),f.jsx(dt,{value:"quarterly",className:"w-full",children:"Trimestrale"}),f.jsx(dt,{value:"monthly",className:"w-full",children:"Mensile"}),f.jsx(dt,{value:"weekly",className:"w-full",children:"Settimanale"}),f.jsxs(dt,{value:"stats",className:"w-full gap-2 col-span-2 sm:col-span-1",children:[f.jsx(ow,{className:"w-4 h-4"})," Stats"]})]})})}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 p-4 rounded-2xl bg-card/40 border border-white/5 backdrop-blur-xl transition-all duration-300",children:[f.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-2 w-full md:w-auto",children:[f.jsxs(oi,{value:e,onValueChange:j=>t(j),children:[f.jsx(Rn,{className:"w-[120px] bg-background/40 border-white/5",children:f.jsx(za,{placeholder:"Anno"})}),f.jsxs(In,{children:[f.jsxs(or,{value:"all",className:"font-bold text-primary",children:["Dal ",se]}),de.map(j=>f.jsx(or,{value:j.toString(),className:ce(j<Z&&"text-muted-foreground italic"),children:j},j))]})]}),l==="quarterly"&&f.jsxs(oi,{value:r.toString(),onValueChange:j=>n(parseInt(j)),children:[f.jsx(Rn,{className:"w-[160px] bg-background/40 border-white/5",children:f.jsx(za,{placeholder:"Trimestre"})}),f.jsx(In,{children:D.map(j=>f.jsx(or,{value:j.value.toString(),children:j.label},j.value))})]}),(l==="monthly"||l==="weekly")&&f.jsxs(oi,{value:i.toString(),onValueChange:j=>{a(parseInt(j)),s(1)},children:[f.jsx(Rn,{className:"w-[140px] bg-background/40 border-white/5",children:f.jsx(za,{placeholder:"Mese"})}),f.jsx(In,{children:J.map(j=>f.jsx(or,{value:j.value.toString(),className:ce(e!=="all"&&parseInt(e)<Z||e===Z.toString()&&j.value<new Date().getMonth()+1&&"text-muted-foreground italic"),children:j.label},j.value))})]}),l==="weekly"&&f.jsxs(oi,{value:o.toString(),onValueChange:j=>s(parseInt(j)),children:[f.jsx(Rn,{className:"w-[140px] bg-background/40 border-white/5",children:f.jsx(za,{placeholder:"Settimana"})}),f.jsx(In,{children:Array.from({length:s9(new Date(e==="all"?Z:parseInt(e),i-1,1),{weekStartsOn:1})},(j,G)=>G+1).map(j=>f.jsxs(or,{value:j.toString(),className:ce(e!=="all"&&parseInt(e)<Z||e===Z.toString()&&i<new Date().getMonth()+1&&"text-muted-foreground italic"),children:["Settimana ",j]},j))})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(qa,{children:[f.jsx(ts,{asChild:!0,children:f.jsx(We,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Esporta Backup (JSON)",children:f.jsx(Zf,{className:"w-4 h-4 text-muted-foreground"})})}),f.jsxs(Yi,{className:"sm:max-w-md",children:[f.jsxs(Xi,{children:[f.jsx(Ji,{children:"Backup Obiettivi"}),f.jsx(Zi,{children:"Crea un backup dei tuoi obiettivi e impostazioni. I file sono in formato JSON."})]}),f.jsx("div",{className:"py-4",children:f.jsxs(FF,{value:u,onValueChange:j=>d(j),children:[f.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("all"),children:[f.jsx(tw,{value:"all",id:"r1"}),f.jsxs(Ln,{htmlFor:"r1",className:"cursor-pointer flex-1",children:[f.jsx("div",{className:"font-medium",children:"Esporta Tutto"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Tutti gli anni, mesi e impostazioni"})]})]}),f.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("year"),children:[f.jsx(tw,{value:"year",id:"r2"}),f.jsxs(Ln,{htmlFor:"r2",className:"cursor-pointer flex-1",children:[f.jsxs("div",{className:"font-medium",children:["Solo ",e==="all"?Z:e]}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Solo obiettivi di questo anno e impostazioni"})]})]})]})}),f.jsxs(Qi,{children:[f.jsx(Ja,{children:"Annulla"}),f.jsxs(ea,{onClick:()=>$({scope:u,year:e==="all"?Z:parseInt(e)}),disabled:ee,children:[ee?f.jsx(wn,{className:"w-4 h-4 animate-spin mr-2"}):null,"Scarica Backup"]})]})]})]}),f.jsx(We,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Ripristina da Backup (JSON)",onClick:te,disabled:pe,children:pe?f.jsx(wn,{className:"w-4 h-4 animate-spin"}):f.jsx(n2,{className:"w-4 h-4 text-muted-foreground"})}),f.jsx("input",{type:"file",ref:B,onChange:re,accept:".json",className:"hidden"}),f.jsx("div",{className:"ml-1",children:f.jsx(C0e,{})})]})]}),l!=="stats"&&f.jsxs("div",{className:ce("text-2xl font-bold tracking-tight text-white flex items-center gap-3 transition-all duration-300 pl-2",T&&"blur-sm"),children:[l==="lifetime"&&f.jsx("span",{className:"text-emerald-400",children:"Lifetime"}),l==="annual"&&f.jsx("span",{className:"text-primary",children:e==="all"?"Tutti gli anni":e}),l==="quarterly"&&f.jsxs("span",{className:"text-amber-500",children:["Q",r," ",e!=="all"&&e]}),l==="monthly"&&f.jsx("span",{className:"text-blue-400",children:J.find(j=>j.value===i)?.label}),l==="weekly"&&f.jsxs("span",{className:"text-purple-400",children:["Settimana ",o]}),f.jsx("span",{className:"text-muted-foreground text-lg font-normal",children:l==="lifetime"?"Obiettivi a Lungo Termine":l==="annual"?"Obiettivi Annuali":l==="quarterly"?"Obiettivi Trimestrali":l==="monthly"?"Obiettivi Mensili":"Obiettivi Settimanali"})]})]}),l==="stats"?f.jsx(T0e,{year:e}):f.jsxs("div",{className:ce("transition-all duration-300",T&&"blur-sm"),children:[f.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[f.jsx(aa,{className:"flex-1 bg-background/50",placeholder:`Aggiungi obiettivo ${l==="lifetime"?"lifetime":l==="annual"?"annuale":l==="quarterly"?"trimestrale":l==="monthly"?"mensile":"settimanale"}...`,value:y,onChange:j=>m(j.target.value)}),f.jsxs(oi,{value:g||"null",onValueChange:j=>v(j==="null"?null:j),children:[f.jsx(Rn,{className:"w-[50px] px-2 bg-background/50 border-input",children:f.jsx("div",{className:"flex items-center justify-center w-full",children:f.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:g?N(g):"transparent"}})})}),f.jsxs(In,{align:"end",children:[f.jsx(or,{value:"null",children:"Nessun Colore"}),O.map(j=>f.jsx(or,{value:j,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:N(j)}}),S(j)]})},j))]})]}),f.jsx(We,{type:"submit",disabled:z.isPending,children:z.isPending?f.jsx(wn,{className:"w-4 h-4 animate-spin"}):f.jsx(Sb,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"space-y-2 mt-2",children:F?f.jsx("div",{className:"flex justify-center p-8 text-muted-foreground",children:f.jsx(wn,{className:"w-6 h-6 animate-spin"})}):R?.length===0?f.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:"Nessun obiettivo impostato per questo periodo."}):R?.map((j,G)=>{const V=x[j.id]||j.status,U=R[G-1],q=j.status==="completed"&&(!U||U.status!=="completed"),K=j.status==="failed"&&(!U||U.status!=="failed"),ae=()=>{w.current[j.id]&&clearTimeout(w.current[j.id]);const ne=x[j.id]||j.status,X=ne==="active"?"completed":ne==="completed"?"failed":"active";_(ue=>({...ue,[j.id]:X})),w.current[j.id]=setTimeout(()=>{W.mutate({id:j.id,status:X},{onSuccess:()=>{_(ue=>{const ye={...ue};return delete ye[j.id],ye}),delete w.current[j.id]}})},2e3)};return f.jsxs("div",{children:[q&&f.jsxs("div",{className:"flex items-center gap-4 py-6",children:[f.jsx("div",{className:"h-px bg-white/10 flex-1"}),f.jsx("span",{className:"text-xs font-medium text-emerald-500/70 uppercase tracking-widest",children:"Completati"}),f.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),K&&f.jsxs("div",{className:"flex items-center gap-4 py-6",children:[f.jsx("div",{className:"h-px bg-white/10 flex-1"}),f.jsx("span",{className:"text-xs font-medium text-destructive/70 uppercase tracking-widest",children:"Falliti"}),f.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),f.jsxs("div",{className:ce("group flex items-center gap-3 p-4 rounded-xl border transition-all duration-300",V==="completed"?"opacity-60 bg-emerald-500/5 border-emerald-500/10":V==="failed"?"opacity-60 bg-destructive/5 border-destructive/10":C(j.color)),style:V==="active"?A(j.color):{},children:[f.jsxs("div",{onClick:ae,className:ce("w-5 h-5 rounded flex items-center justify-center border cursor-pointer transition-all duration-300 hover:scale-110",V==="active"&&"border-white/20 hover:border-white/40",V==="completed"&&"bg-emerald-500 border-emerald-500 text-white",V==="failed"&&"bg-destructive border-destructive text-white"),children:[V==="active"&&f.jsx("div",{className:"w-full h-full"}),V==="completed"&&f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}),V==="failed"&&f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),f.jsx("span",{className:ce("flex-1 font-medium transition-all cursor-pointer duration-300 min-w-0 break-words",V==="completed"&&"text-emerald-500/80 line-through",V==="failed"&&"text-destructive/80 line-through",V==="active"&&"text-foreground"),onClick:ae,children:j.title}),f.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsxs(oi,{value:j.color||"null",onValueChange:ne=>L.mutate({id:j.id,color:ne==="null"?null:ne}),children:[f.jsx(Rn,{className:"w-[30px] h-[30px] p-0 border-0 bg-transparent focus:ring-0",children:f.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:j.color?N(j.color):"rgba(255,255,255,0.2)"}})}),f.jsxs(In,{align:"end",children:[f.jsx(or,{value:"null",children:"Nessun Colore"}),O.map(ne=>f.jsx(or,{value:ne,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:N(ne)}}),S(ne)]})},ne))]})]}),f.jsxs(qa,{children:[f.jsx(ts,{asChild:!0,children:f.jsx(We,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 hover:text-destructive h-8 w-8",children:f.jsx(uw,{className:"w-4 h-4"})})}),f.jsxs(Yi,{children:[f.jsxs(Xi,{children:[f.jsx(Ji,{children:"Eliminare questo obiettivo?"}),f.jsx(Zi,{children:"Questa azione non pu essere annullata. L'obiettivo verr rimosso permanentemente."})]}),f.jsxs(Qi,{children:[f.jsx(Ja,{children:"Annulla"}),f.jsx(ea,{onClick:()=>M.mutate(j.id),children:"Elimina"})]})]})]})]})]})]},j.id)})})]})]})}const W0e=()=>f.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[1200px] mx-auto",children:[f.jsx("div",{className:"fixed top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsx("div",{className:"mb-8 flex items-center justify-between",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Macro Obiettivi"}),f.jsx("p",{className:"text-muted-foreground",children:"Pianificazione a lungo termine."})]})}),f.jsx("div",{className:"glass-panel p-6 rounded-2xl min-h-[600px]",children:f.jsx(U0e,{})})]}),H0e=Wc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Va=k.forwardRef(({className:e,variant:t,...r},n)=>f.jsx("div",{ref:n,role:"alert",className:ce(H0e({variant:t}),e),...r}));Va.displayName="Alert";const fd=k.forwardRef(({className:e,...t},r)=>f.jsx("h5",{ref:r,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));fd.displayName="AlertTitle";const Ka=k.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));Ka.displayName="AlertDescription";const O_="http://localhost:11434";async function V0e(){try{return(await fetch(`${O_}/api/tags`,{method:"GET"})).ok}catch{return!1}}async function K0e(){try{const e=await fetch(`${O_}/api/tags`);if(!e.ok)throw new Error("Failed to fetch models");return(await e.json()).models||[]}catch(e){return console.error("Failed to list models:",e),[]}}async function G0e(e,t,r="weekly",n,i){try{let a="";switch(r){case"weekly":a=`Analizza l'ultima settimana e fornisci:
1. **Risultati Chiave**: I 2-3 principali successi della settimana
2. **Pattern Identificati**: Tendenze e comportamenti ricorrenti (es: "fatica il luned", "ottimo nei weekend")
3. **Suggerimento Principale**: Un'azione concreta e specifica da implementare la prossima settimana`;break;case"monthly":a=`Analizza l'ultimo mese e fornisci:
1. **Panoramica Mensile**: Progressi generali e trend del mese
2. **Abitudini Consolidate**: Quali abitudini sono diventate pi solide
3. **Aree di Miglioramento**: Quali abitudini necessitano pi attenzione
4. **Piano per il Prossimo Mese**: 2-3 obiettivi concreti`;break;case"focus":a=`Fornisci un'analisi rapida e mirata:
1. **Stato Attuale**: Snapshot della situazione odierna
2. **Area Critica**: L'abitudine che necessita attenzione immediata
3. **Quick Win**: Un'azione veloce per oggi che pu fare la differenza`;break}const o=`Sei un coach personale esperto in abitudini e produttivit. ${a}

Usa un tono motivante ma realistico. Sii specifico e basati solo sui dati forniti. Rispondi in italiano.

DATI ABITUDINI:
${e}

REPORT:`,s=await fetch(`${O_}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t,prompt:o,stream:!!n}),signal:i});if(!s.ok)throw new Error(`Ollama API error: ${s.statusText}`);if(n&&s.body){const l=s.body.getReader(),c=new TextDecoder;let u="";for(;;){const{done:d,value:p}=await l.read();if(d)break;const y=c.decode(p).split(`
`).filter(m=>m.trim());for(const m of y)try{const g=JSON.parse(m);g.response&&(u+=g.response,n(g.response))}catch{}}return u}else return(await s.json()).response||""}catch(a){throw a.name==="AbortError"?new Error("Generazione interrotta dall'utente"):(console.error("Failed to generate coach report:",a),a)}}function Y0e(e,t,r){const n=Object.keys(t).slice(-7);let i=`### Abitudini Tracciate (${e.length})
`;return e.forEach(a=>{i+=`- ${a.title}
`}),i+=`
### Performance Ultimi 7 Giorni
`,n.forEach(a=>{const o=t[a],s=Object.values(o).filter(c=>c==="done").length,l=Object.keys(o).length;i+=`- ${a}: ${s}/${l} completate
`}),i+=`
### Statistiche Globali
`,i+=`- Tasso di successo: ${r.globalSuccessRate}%
`,i+=`- Migliore streak: ${r.bestStreak} giorni
`,i+=`- Giorni attivi totali: ${r.totalActiveDays}
`,i}const X0e=()=>{const{goals:e,logs:t}=Lw(),r=s5(e,t,"weekly"),{isPrivacyMode:n}=ph(),i=k.useRef(null),[a,o]=k.useState([]),[s,l]=k.useState(""),[c,u]=k.useState("weekly"),[d,p]=k.useState(!0),[h,y]=k.useState(!1),[m,g]=k.useState(!1),[v,b]=k.useState(""),[x,_]=k.useState(""),[w,S]=k.useState(0);k.useEffect(()=>{E()},[]),k.useEffect(()=>{if(a.length>0){const R=localStorage.getItem("ollama_preferred_model");R&&a.find(F=>F.name===R)?l(R):l(a[0].name)}const O=localStorage.getItem("ollama_report_type");O&&["weekly","monthly","focus"].includes(O)&&u(O)},[a]),k.useEffect(()=>{if(x){const O=x.trim().split(/\s+/).length;S(O)}},[x]);const E=async()=>{p(!0);try{const O=await V0e();if(y(O),O){const R=await K0e();o(R),R.length===0&&qe.error("Nessun modello installato. Esegui: ollama pull llama3.2")}}catch(O){console.error("Failed to check Ollama:",O)}finally{p(!1)}},P=async()=>{if(!s){qe.error("Seleziona un modello prima di generare il report");return}g(!0),b(""),_(""),S(0),i.current=new AbortController;try{const O=Y0e(e,t,r),R=await G0e(O,s,c,F=>{_(z=>z+F)},i.current.signal);b(R),qe.success("Report generato con successo!")}catch(O){console.error("Failed to generate report:",O),O.message?.includes("interrotta")?qe.info("Generazione interrotta"):qe.error("Errore durante la generazione del report")}finally{g(!1),i.current=null}},T=()=>{i.current&&(i.current.abort(),g(!1),qe.info("Generazione arrestata"))},A=O=>{l(O),localStorage.setItem("ollama_preferred_model",O)},N=O=>{u(O),localStorage.setItem("ollama_report_type",O)},C=()=>{if(!v)return;const O=new Blob([v],{type:"text/markdown"}),R=window.URL.createObjectURL(O),F=document.createElement("a");F.href=R,F.download=`ai-coach-report-${c}-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(R),document.body.removeChild(F),qe.success("Report esportato!")},D=O=>(O/1073741824).toFixed(1)+" GB";return f.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl animate-fade-in pb-32 space-y-6",children:[f.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[f.jsx(hi,{className:"w-8 h-8 text-primary"}),"AI Coach"]}),f.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi intelligente delle tue abitudini con Ollama"})]}),d?f.jsxs(Va,{children:[f.jsx(wn,{className:"h-4 w-4 animate-spin"}),f.jsx(Ka,{children:"Controllo Ollama..."})]}):h?a.length===0?f.jsxs(Va,{variant:"destructive",children:[f.jsx(md,{className:"h-4 w-4"}),f.jsxs(Ka,{children:["Nessun modello installato. Esegui: ",f.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama pull llama3.2"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs($e,{className:"glass-panel",children:[f.jsxs(Ge,{children:[f.jsxs(Ye,{className:"text-lg flex items-center gap-2",children:[f.jsx(uz,{className:"w-5 h-5"}),"Configura Analisi"]}),f.jsx(mn,{children:"Seleziona modello e tipo di report"})]}),f.jsxs(Le,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Tipo di Report"}),f.jsxs(oi,{value:c,onValueChange:N,children:[f.jsx(Rn,{className:"glass-panel border-white/10",children:f.jsx(za,{})}),f.jsxs(In,{children:[f.jsx(or,{value:"weekly",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(cw,{className:"w-4 h-4"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Settimanale"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi ultimi 7 giorni"})]})]})}),f.jsx(or,{value:"monthly",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Xo,{className:"w-4 h-4"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Mensile"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Panoramica del mese"})]})]})}),f.jsx(or,{value:"focus",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(eh,{className:"w-4 h-4"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Focus Rapido"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi mirata immediata"})]})]})})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Modello AI"}),f.jsxs(oi,{value:s,onValueChange:A,children:[f.jsx(Rn,{className:"glass-panel border-white/10",children:f.jsx(za,{placeholder:"Seleziona modello"})}),f.jsx(In,{children:a.map(O=>f.jsx(or,{value:O.name,children:f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsx("span",{className:"font-medium",children:O.name}),f.jsx("span",{className:"text-xs text-muted-foreground",children:D(O.size)})]})},O.name))})]})]}),f.jsx("div",{className:"flex gap-2",children:m?f.jsxs(We,{onClick:T,variant:"destructive",className:"flex-1",size:"lg",children:[f.jsx(oz,{className:"w-4 h-4 mr-2"}),"Ferma Generazione"]}):f.jsxs(We,{onClick:P,disabled:!s||n,className:"flex-1",size:"lg",children:[f.jsx(hi,{className:"w-4 h-4 mr-2"}),"Genera Report"]})}),n&&f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Disattiva la modalit privacy per usare l'AI Coach"})]})]}),(x||v)&&f.jsxs($e,{className:"glass-panel",children:[f.jsxs(Ge,{className:"flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(Ye,{className:"text-lg",children:"Report AI"}),m&&f.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[f.jsx(wn,{className:"w-3 h-3 animate-spin"}),f.jsxs("span",{className:"font-mono",children:[w," parole generate"]})]})]}),v&&!m&&f.jsxs(We,{variant:"outline",size:"sm",onClick:C,children:[f.jsx(Zf,{className:"w-4 h-4 mr-2"}),"Esporta"]})]}),f.jsx(Le,{children:f.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:f.jsx(TM,{remarkPlugins:[e$],children:m?x:v})})})]})]}):f.jsxs(Va,{variant:"destructive",children:[f.jsx(md,{className:"h-4 w-4"}),f.jsxs(Ka,{children:["Ollama non  attivo. Avvia Ollama con ",f.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama serve"})," e"," ",f.jsx("button",{onClick:E,className:"underline font-semibold",children:"riprova"})]})]})]})};function Ju(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vb={exports:{}};var pN;function Q0e(){return pN||(pN=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,i,a){function o(c,u){if(!i[c]){if(!n[c]){var d=typeof Ju=="function"&&Ju;if(!u&&d)return d(c,!0);if(s)return s(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var h=i[c]={exports:{}};n[c][0].call(h.exports,function(y){var m=n[c][1][y];return o(m||y)},h,h.exports,r,n,i,a)}return i[c].exports}for(var s=typeof Ju=="function"&&Ju,l=0;l<a.length;l++)o(a[l]);return o})({1:[function(r,n,i){var a=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,p,h,y,m,g=[],v=0,b=l.length,x=b,_=a.getTypeOf(l)!=="string";v<l.length;)x=b-v,d=_?(c=l[v++],u=v<b?l[v++]:0,v<b?l[v++]:0):(c=l.charCodeAt(v++),u=v<b?l.charCodeAt(v++):0,v<b?l.charCodeAt(v++):0),p=c>>2,h=(3&c)<<4|u>>4,y=1<x?(15&u)<<2|d>>6:64,m=2<x?63&d:64,g.push(s.charAt(p)+s.charAt(h)+s.charAt(y)+s.charAt(m));return g.join("")},i.decode=function(l){var c,u,d,p,h,y,m=0,g=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var b,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&x--,l.charAt(l.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=o.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)c=s.indexOf(l.charAt(m++))<<2|(p=s.indexOf(l.charAt(m++)))>>4,u=(15&p)<<4|(h=s.indexOf(l.charAt(m++)))>>2,d=(3&h)<<6|(y=s.indexOf(l.charAt(m++))),b[g++]=c,h!==64&&(b[g++]=u),y!==64&&(b[g++]=d);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,d,p,h,y){this.compressedSize=u,this.uncompressedSize=d,this.crc32=p,this.compression=h,this.compressedContent=y}c.prototype={getContentWorker:function(){var u=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,p){return u.pipe(new s).pipe(new l("uncompressedSize")).pipe(d.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),o=(function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l})();n.exports=function(s,l){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?(function(c,u,d,p){var h=o,y=p+d;c^=-1;for(var m=p;m<y;m++)c=c>>>8^h[255&(c^u[m])];return-1^c})(0|l,s,s.length,0):(function(c,u,d,p){var h=o,y=p+d;c^=-1;for(var m=p;m<y;m++)c=c>>>8^h[255&(c^u.charCodeAt(m))];return-1^c})(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),s=r("./utils"),l=r("./stream/GenericWorker"),c=a?"uint8array":"array";function u(d,p){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=p,this.meta={}}i.magic="\b\0",s.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(p){d.push({data:p,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(h,y){var m,g="";for(m=0;m<y;m++)g+=String.fromCharCode(255&h),h>>>=8;return g}function o(h,y,m,g,v,b){var x,_,w=h.file,S=h.compression,E=b!==c.utf8encode,P=s.transformTo("string",b(w.name)),T=s.transformTo("string",c.utf8encode(w.name)),A=w.comment,N=s.transformTo("string",b(A)),C=s.transformTo("string",c.utf8encode(A)),D=T.length!==w.name.length,O=C.length!==A.length,R="",F="",z="",W=w.dir,L=w.date,M={crc32:0,compressedSize:0,uncompressedSize:0};y&&!m||(M.crc32=h.crc32,M.compressedSize=h.compressedSize,M.uncompressedSize=h.uncompressedSize);var H=0;y&&(H|=8),E||!D&&!O||(H|=2048);var B=0,$=0;W&&(B|=16),v==="UNIX"?($=798,B|=(function(ee,pe){var te=ee;return ee||(te=pe?16893:33204),(65535&te)<<16})(w.unixPermissions,W)):($=20,B|=(function(ee){return 63&(ee||0)})(w.dosPermissions)),x=L.getUTCHours(),x<<=6,x|=L.getUTCMinutes(),x<<=5,x|=L.getUTCSeconds()/2,_=L.getUTCFullYear()-1980,_<<=4,_|=L.getUTCMonth()+1,_<<=5,_|=L.getUTCDate(),D&&(F=a(1,1)+a(u(P),4)+T,R+="up"+a(F.length,2)+F),O&&(z=a(1,1)+a(u(N),4)+C,R+="uc"+a(z.length,2)+z);var Q="";return Q+=`
\0`,Q+=a(H,2),Q+=S.magic,Q+=a(x,2),Q+=a(_,2),Q+=a(M.crc32,4),Q+=a(M.compressedSize,4),Q+=a(M.uncompressedSize,4),Q+=a(P.length,2),Q+=a(R.length,2),{fileRecord:d.LOCAL_FILE_HEADER+Q+P+R,dirRecord:d.CENTRAL_FILE_HEADER+a($,2)+Q+a(N.length,2)+"\0\0\0\0"+a(B,4)+a(g,4)+P+R+N}}var s=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),d=r("../signature");function p(h,y,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,l),p.prototype.push=function(h){var y=h.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(y+100*(m-g-1))/m:100}}))},p.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var y=this.streamFiles&&!h.file.dir;if(y){var m=o(h,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(h){this.accumulate=!1;var y=this.streamFiles&&!h.file.dir,m=o(h,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),y)this.push({data:(function(g){return d.DATA_DESCRIPTOR+a(g.crc32,4)+a(g.compressedSize,4)+a(g.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var h=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var m=this.bytesWritten-h,g=(function(v,b,x,_,w){var S=s.transformTo("string",w(_));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(b,4)+a(x,4)+a(S.length,2)+S})(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(h){this._sources.push(h);var y=this;return h.on("data",function(m){y.processChunk(m)}),h.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),h.on("error",function(m){y.error(m)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(h){var y=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<y.length;m++)try{y[m].error(h)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,y=0;y<h.length;y++)h[y].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(s,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{s.forEach(function(p,h){d++;var y=(function(b,x){var _=b||x,w=a[_];if(!w)throw new Error(_+" is not a valid compression method !");return w})(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,v=h.date;h._compressWorker(y,m).withStreamInfo("file",{name:p,dir:g,date:v,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),o=r("./external"),s=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function d(p){return new o.Promise(function(h,y){var m=p.decompressed.getContentWorker().pipe(new c);m.on("error",function(g){y(g)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(p,h){var y=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,h.optimizedBinaryString,h.base64).then(function(m){var g=new l(h);return g.load(m),g}).then(function(m){var g=[o.Promise.resolve(m)],v=m.files;if(h.checkCRC32)for(var b=0;b<v.length;b++)g.push(d(v[b]));return o.Promise.all(g)}).then(function(m){for(var g=m.shift(),v=g.files,b=0;b<v.length;b++){var x=v[b],_=x.fileNameStr,w=a.resolve(x.fileNameStr);y.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(y.file(w).unsafeOriginalName=_)}return g.zipComment.length&&(y.comment=g.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function s(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(s,o),s.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function o(s,l,c){a.call(this,l),this._helper=s;var u=this;s.on("data",function(d,p){u.push(d)||u._helper.pause(),c&&c(p)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(w,S,E){var P,T=s.getTypeOf(S),A=s.extend(E||{},u);A.date=A.date||new Date,A.compression!==null&&(A.compression=A.compression.toUpperCase()),typeof A.unixPermissions=="string"&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&16384&A.unixPermissions&&(A.dir=!0),A.dosPermissions&&16&A.dosPermissions&&(A.dir=!0),A.dir&&(w=v(w)),A.createFolders&&(P=g(w))&&b.call(this,P,!0);var N=T==="string"&&A.binary===!1&&A.base64===!1;E&&E.binary!==void 0||(A.binary=!N),(S instanceof d&&S.uncompressedSize===0||A.dir||!S||S.length===0)&&(A.base64=!1,A.binary=!0,S="",A.compression="STORE",T="string");var C=null;C=S instanceof d||S instanceof l?S:y.isNode&&y.isStream(S)?new m(w,S):s.prepareContent(w,S,A.binary,A.optimizedBinaryString,A.base64);var D=new p(w,C,A);this.files[w]=D}var o=r("./utf8"),s=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),d=r("./compressedObject"),p=r("./zipObject"),h=r("./generate"),y=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),g=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var S=w.lastIndexOf("/");return 0<S?w.substring(0,S):""},v=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},b=function(w,S){return S=S!==void 0?S:u.createFolders,w=v(w),this.files[w]||a.call(this,w,null,{dir:!0,createFolders:S}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var S,E,P;for(S in this.files)P=this.files[S],(E=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&w(E,P)},filter:function(w){var S=[];return this.forEach(function(E,P){w(E,P)&&S.push(P)}),S},file:function(w,S,E){if(arguments.length!==1)return w=this.root+w,a.call(this,w,S,E),this;if(x(w)){var P=w;return this.filter(function(A,N){return!N.dir&&P.test(A)})}var T=this.files[this.root+w];return T&&!T.dir?T:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(T,A){return A.dir&&w.test(T)});var S=this.root+w,E=b.call(this,S),P=this.clone();return P.root=E.name,P},remove:function(w){w=this.root+w;var S=this.files[w];if(S||(w.slice(-1)!=="/"&&(w+="/"),S=this.files[w]),S&&!S.dir)delete this.files[w];else for(var E=this.filter(function(T,A){return A.name.slice(0,w.length)===w}),P=0;P<E.length;P++)delete this.files[E[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var S,E={};try{if((E=s.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");s.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var P=E.comment||this.comment||"";S=h.generateWorker(this,E,P)}catch(T){(S=new l("error")).error(T)}return new c(S,E.type||"string",E.mimeType)},generateAsync:function(w,S){return this.generateInternalStream(w).accumulate(S)},generateNodeStream:function(w,S){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(S)}};n.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),d=s.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===d)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),d=s.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&d===p[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,c=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=s,c},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),o=r("../support"),s=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(d){var p=a.getTypeOf(d);return a.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new c(d):o.uint8array?new u(a.transformTo("uint8array",d)):new s(a.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function s(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,a),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,a),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(s,o),s.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=a.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),o=r("./ConvertWorker"),s=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),d=null;if(c.nodestream)try{d=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(y,m){return new u.Promise(function(g,v){var b=[],x=y._internalType,_=y._outputType,w=y._mimeType;y.on("data",function(S,E){b.push(S),m&&m(E)}).on("error",function(S){b=[],v(S)}).on("end",function(){try{var S=(function(E,P,T){switch(E){case"blob":return a.newBlob(a.transformTo("arraybuffer",P),T);case"base64":return l.encode(P);default:return a.transformTo(E,P)}})(_,(function(E,P){var T,A=0,N=null,C=0;for(T=0;T<P.length;T++)C+=P[T].length;switch(E){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(N=new Uint8Array(C),T=0;T<P.length;T++)N.set(P[T],A),A+=P[T].length;return N;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+E+"'")}})(x,b),w);g(S)}catch(E){v(E)}b=[]}).resume()})}function h(y,m,g){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=g,a.checkSupport(v),this._worker=y.pipe(new o(v)),y.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}h.prototype={accumulate:function(y){return p(this,y)},on:function(y,m){var g=this;return y==="data"?this._worker.on(y,function(v){m.call(g,v.data,v.meta)}):this._worker.on(y,function(){a.delay(m,arguments,g)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?s.newBufferFrom(h,"utf-8"):(function(y){var m,g,v,b,x,_=y.length,w=0;for(b=0;b<_;b++)(64512&(g=y.charCodeAt(b)))==55296&&b+1<_&&(64512&(v=y.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),b++),w+=g<128?1:g<2048?2:g<65536?3:4;for(m=o.uint8array?new Uint8Array(w):new Array(w),b=x=0;x<w;b++)(64512&(g=y.charCodeAt(b)))==55296&&b+1<_&&(64512&(v=y.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),b++),g<128?m[x++]=g:(g<2048?m[x++]=192|g>>>6:(g<65536?m[x++]=224|g>>>12:(m[x++]=240|g>>>18,m[x++]=128|g>>>12&63),m[x++]=128|g>>>6&63),m[x++]=128|63&g);return m})(h)},i.utf8decode=function(h){return o.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):(function(y){var m,g,v,b,x=y.length,_=new Array(2*x);for(m=g=0;m<x;)if((v=y[m++])<128)_[g++]=v;else if(4<(b=c[v]))_[g++]=65533,m+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&m<x;)v=v<<6|63&y[m++],b--;1<b?_[g++]=65533:v<65536?_[g++]=v:(v-=65536,_[g++]=55296|v>>10&1023,_[g++]=56320|1023&v)}return _.length!==g&&(_.subarray?_=_.subarray(0,g):_.length=g),a.applyFromCharCode(_)})(h=a.transformTo(o.uint8array?"uint8array":"array",h))},a.inherits(d,l),d.prototype.processChunk=function(h){var y=a.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=y;(y=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),y.set(m,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var g=(function(b,x){var _;for((x=x||b.length)>b.length&&(x=b.length),_=x-1;0<=_&&(192&b[_])==128;)_--;return _<0||_===0?x:_+c[b[_]]>x?_:x})(y),v=y;g!==y.length&&(o.uint8array?(v=y.subarray(0,g),this.leftOver=y.subarray(g,y.length)):(v=y.slice(0,g),this.leftOver=y.slice(g,y.length))),this.push({data:i.utf8decode(v),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,a.inherits(p,l),p.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),l=r("./external");function c(m){return m}function u(m,g){for(var v=0;v<m.length;++v)g[v]=255&m.charCodeAt(v);return g}r("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,g,v){var b=[],x=0,_=m.length;if(_<=v)return String.fromCharCode.apply(null,m);for(;x<_;)g==="array"||g==="nodebuffer"?b.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+v,_)))):b.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+v,_)))),x+=v;return b.join("")},stringifyByChar:function(m){for(var g="",v=0;v<m.length;v++)g+=String.fromCharCode(m[v]);return g},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}})()}};function p(m){var g=65536,v=i.getTypeOf(m),b=!0;if(v==="uint8array"?b=d.applyCanBeUsed.uint8array:v==="nodebuffer"&&(b=d.applyCanBeUsed.nodebuffer),b)for(;1<g;)try{return d.stringifyByChunk(m,v,g)}catch{g=Math.floor(g/2)}return d.stringifyByChar(m)}function h(m,g){for(var v=0;v<m.length;v++)g[v]=m[v];return g}i.applyFromCharCode=p;var y={};y.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return y.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,s.allocBuffer(m.length))}},y.array={string:p,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},y.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},y.uint8array={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return s.newBufferFrom(m)}},y.nodebuffer={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return y.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var v=i.getTypeOf(g);return y[v][m](g)},i.resolve=function(m){for(var g=m.split("/"),v=[],b=0;b<g.length;b++){var x=g[b];x==="."||x===""&&b!==0&&b!==g.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(m)?"nodebuffer":a.uint8array&&m instanceof Uint8Array?"uint8array":a.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!a[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,v,b="";for(v=0;v<(m||"").length;v++)b+="\\x"+((g=m.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return b},i.delay=function(m,g,v){setImmediate(function(){m.apply(v||null,g||[])})},i.inherits=function(m,g){function v(){}v.prototype=g.prototype,m.prototype=new v},i.extend=function(){var m,g,v={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&v[g]===void 0&&(v[g]=arguments[m][g]);return v},i.prepareContent=function(m,g,v,b,x){return l.Promise.resolve(g).then(function(_){return a.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,S){var E=new FileReader;E.onload=function(P){w(P.target.result)},E.onerror=function(P){S(P.target.error)},E.readAsArrayBuffer(_)}):_}).then(function(_){var w=i.getTypeOf(_);return w?(w==="arraybuffer"?_=i.transformTo("uint8array",_):w==="string"&&(x?_=o.decode(_):v&&b!==!0&&(_=(function(S){return u(S,a.uint8array?new Uint8Array(S.length):new Array(S.length))})(_))),_):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(d)+")")}},isSignature:function(d,p){var h=this.reader.index;this.reader.setIndex(d);var y=this.reader.readString(4)===p;return this.reader.setIndex(h),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",h=o.transformTo(p,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,p,h,y=this.zip64EndOfCentralSize-44;0<y;)d=this.reader.readInt(2),p=this.reader.readInt(4),h=this.reader.readData(p),this.zip64ExtensibleData[d]={id:d,length:p,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,p;for(d=0;d<this.files.length;d++)p=this.files[d],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var p=d;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var y=p-h;if(0<y)this.isSignature(p,s.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(d){this.reader=a(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),d=r("./support");function p(h,y){this.options=h,this.loadOptions=y}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var y,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(g){for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)&&u[v].magic===g)return u[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,y,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var y=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(y),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var y,m,g,v=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<v;)y=h.readInt(2),m=h.readInt(2),g=h.readData(m),this.extraFields[y]={id:y,length:m,value:g};h.setIndex(v)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var m=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:c.utf8decode(y.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:c.utf8decode(y.readData(h.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(y,m,g){this.name=y,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");a.prototype={internalStream:function(y){var m=null,g="string";try{if(!y)throw new Error("No output type specified.");var v=(g=y.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var b=!this._dataBinary;b&&!v&&(m=m.pipe(new l.Utf8EncodeWorker)),!b&&v&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new u("error")).error(x)}return new o(m,g,"")},async:function(y,m){return this.internalStream(y).accumulate(m)},nodeStream:function(y,m){return this.internalStream(y||"nodebuffer").toNodejsStream(m)},_compressWorker:function(y,m){if(this._data instanceof c&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(g,y,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new s(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)a.prototype[d[h]]=p;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var o,s,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var c=0,u=new l(y),d=a.document.createTextNode("");u.observe(d,{characterData:!0}),o=function(){d.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var m=a.document.createElement("script");m.onreadystatechange=function(){y(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:function(){setTimeout(y,0)};else{var p=new a.MessageChannel;p.port1.onmessage=y,o=function(){p.port2.postMessage(0)}}var h=[];function y(){var m,g;s=!0;for(var v=h.length;v;){for(g=h,h=[],m=-1;++m<v;)g[m]();v=h.length}s=!1}n.exports=function(m){h.push(m)!==1||s||o()}}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function o(){}var s={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,v!==o&&m(this,v)}function p(v,b,x){this.promise=v,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(v,b,x){a(function(){var _;try{_=b(x)}catch(w){return s.reject(v,w)}_===v?s.reject(v,new TypeError("Cannot resolve promise with itself")):s.resolve(v,_)})}function y(v){var b=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof b=="function")return function(){b.apply(v,arguments)}}function m(v,b){var x=!1;function _(E){x||(x=!0,s.reject(v,E))}function w(E){x||(x=!0,s.resolve(v,E))}var S=g(function(){b(w,_)});S.status==="error"&&_(S.value)}function g(v,b){var x={};try{x.value=v(b),x.status="success"}catch(_){x.status="error",x.value=_}return x}(n.exports=d).prototype.finally=function(v){if(typeof v!="function")return this;var b=this.constructor;return this.then(function(x){return b.resolve(v()).then(function(){return x})},function(x){return b.resolve(v()).then(function(){throw x})})},d.prototype.catch=function(v){return this.then(null,v)},d.prototype.then=function(v,b){if(typeof v!="function"&&this.state===c||typeof b!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==u?h(x,this.state===c?v:b,this.outcome):this.queue.push(new p(x,v,b)),x},p.prototype.callFulfilled=function(v){s.resolve(this.promise,v)},p.prototype.otherCallFulfilled=function(v){h(this.promise,this.onFulfilled,v)},p.prototype.callRejected=function(v){s.reject(this.promise,v)},p.prototype.otherCallRejected=function(v){h(this.promise,this.onRejected,v)},s.resolve=function(v,b){var x=g(y,b);if(x.status==="error")return s.reject(v,x.value);var _=x.value;if(_)m(v,_);else{v.state=c,v.outcome=b;for(var w=-1,S=v.queue.length;++w<S;)v.queue[w].callFulfilled(b)}return v},s.reject=function(v,b){v.state=l,v.outcome=b;for(var x=-1,_=v.queue.length;++x<_;)v.queue[x].callRejected(b);return v},d.resolve=function(v){return v instanceof this?v:s.resolve(new this(o),v)},d.reject=function(v){var b=new this(o);return s.reject(b,v)},d.all=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,_=!1;if(!x)return this.resolve([]);for(var w=new Array(x),S=0,E=-1,P=new this(o);++E<x;)T(v[E],E);return P;function T(A,N){b.resolve(A).then(function(C){w[N]=C,++S!==x||_||(_=!0,s.resolve(P,w))},function(C){_||(_=!0,s.reject(P,C))})}},d.race=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,_=!1;if(!x)return this.resolve([]);for(var w=-1,S=new this(o);++w<x;)E=v[w],b.resolve(E).then(function(P){_||(_=!0,s.resolve(S,P))},function(P){_||(_=!0,s.reject(S,P))});var E;return S}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,d=0,p=-1,h=0,y=8;function m(v){if(!(this instanceof m))return new m(v);this.options=o.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},v||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(x!==d)throw new Error(l[x]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var _;if(_=typeof b.dictionary=="string"?s.string2buf(b.dictionary):u.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(x=a.deflateSetDictionary(this.strm,_))!==d)throw new Error(l[x]);this._dict_set=!0}}function g(v,b){var x=new m(b);if(x.push(v,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(v,b){var x,_,w=this.strm,S=this.options.chunkSize;if(this.ended)return!1;_=b===~~b?b:b===!0?4:0,typeof v=="string"?w.input=s.string2buf(v):u.call(v)==="[object ArrayBuffer]"?w.input=new Uint8Array(v):w.input=v,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(S),w.next_out=0,w.avail_out=S),(x=a.deflate(w,_))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(w.output,w.next_out))):this.onData(o.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return _===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):_!==2||(this.onEnd(d),!(w.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(v,b){return(b=b||{}).raw=!0,g(v,b)},i.gzip=function(v,b){return(b=b||{}).gzip=!0,g(v,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),d=r("./zlib/gzheader"),p=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,g.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new d,a.inflateGetHeader(this.strm,this.header)}function y(m,g){var v=new h(g);if(v.push(m,!0),v.err)throw v.msg||c[v.err];return v.result}h.prototype.push=function(m,g){var v,b,x,_,w,S,E=this.strm,P=this.options.chunkSize,T=this.options.dictionary,A=!1;if(this.ended)return!1;b=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?E.input=s.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(P),E.next_out=0,E.avail_out=P),(v=a.inflate(E,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(S=typeof T=="string"?s.string2buf(T):p.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,v=a.inflateSetDictionary(this.strm,S)),v===l.Z_BUF_ERROR&&A===!0&&(v=l.Z_OK,A=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&v!==l.Z_STREAM_END&&(E.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(E.output,E.next_out),_=E.next_out-x,w=s.buf2string(E.output,x),E.next_out=_,E.avail_out=P-_,_&&o.arraySet(E.output,E.output,x,_,0),this.onData(w)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(A=!0)}while((0<E.avail_in||E.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(E.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=y,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,y(m,g)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,d,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),p);else for(var h=0;h<d;h++)l[p+h]=c[u+h]},flattenChunks:function(l){var c,u,d,p,h,y;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(y=new Uint8Array(d),c=p=0,u=l.length;c<u;c++)h=l[c],y.set(h,p),p+=h.length;return y}},s={arraySet:function(l,c,u,d,p){for(var h=0;h<d;h++)l[p+h]=c[u+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,p){if(p<65537&&(d.subarray&&s||!d.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(d,p));for(var h="",y=0;y<p;y++)h+=String.fromCharCode(d[y]);return h}l[254]=l[254]=1,i.string2buf=function(d){var p,h,y,m,g,v=d.length,b=0;for(m=0;m<v;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<v&&(64512&(y=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),m++),b+=h<128?1:h<2048?2:h<65536?3:4;for(p=new a.Buf8(b),m=g=0;g<b;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<v&&(64512&(y=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),m++),h<128?p[g++]=h:(h<2048?p[g++]=192|h>>>6:(h<65536?p[g++]=224|h>>>12:(p[g++]=240|h>>>18,p[g++]=128|h>>>12&63),p[g++]=128|h>>>6&63),p[g++]=128|63&h);return p},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var p=new a.Buf8(d.length),h=0,y=p.length;h<y;h++)p[h]=d.charCodeAt(h);return p},i.buf2string=function(d,p){var h,y,m,g,v=p||d.length,b=new Array(2*v);for(h=y=0;h<v;)if((m=d[h++])<128)b[y++]=m;else if(4<(g=l[m]))b[y++]=65533,h+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&h<v;)m=m<<6|63&d[h++],g--;1<g?b[y++]=65533:m<65536?b[y++]=m:(m-=65536,b[y++]=55296|m>>10&1023,b[y++]=56320|1023&m)}return u(b,y)},i.utf8border=function(d,p){var h;for((p=p||d.length)>d.length&&(p=d.length),h=p-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?p:h+l[d[h]]>p?h:p}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,o,s,l){for(var c=65535&a|0,u=a>>>16&65535|0,d=0;s!==0;){for(s-=d=2e3<s?2e3:s;u=u+(c=c+o[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=(function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s})();n.exports=function(o,s,l,c){var u=a,d=c+l;o^=-1;for(var p=c;p<d;p++)o=o>>>8^u[255&(o^s[p])];return-1^o}},{}],46:[function(r,n,i){var a,o=r("../utils/common"),s=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),d=0,p=4,h=0,y=-2,m=-1,g=4,v=2,b=8,x=9,_=286,w=30,S=19,E=2*_+1,P=15,T=3,A=258,N=A+T+1,C=42,D=113,O=1,R=2,F=3,z=4;function W(j,G){return j.msg=u[G],G}function L(j){return(j<<1)-(4<j?9:0)}function M(j){for(var G=j.length;0<=--G;)j[G]=0}function H(j){var G=j.state,V=G.pending;V>j.avail_out&&(V=j.avail_out),V!==0&&(o.arraySet(j.output,G.pending_buf,G.pending_out,V,j.next_out),j.next_out+=V,G.pending_out+=V,j.total_out+=V,j.avail_out-=V,G.pending-=V,G.pending===0&&(G.pending_out=0))}function B(j,G){s._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,G),j.block_start=j.strstart,H(j.strm)}function $(j,G){j.pending_buf[j.pending++]=G}function Q(j,G){j.pending_buf[j.pending++]=G>>>8&255,j.pending_buf[j.pending++]=255&G}function ee(j,G){var V,U,q=j.max_chain_length,K=j.strstart,ae=j.prev_length,ne=j.nice_match,X=j.strstart>j.w_size-N?j.strstart-(j.w_size-N):0,ue=j.window,ye=j.w_mask,he=j.prev,Y=j.strstart+A,oe=ue[K+ae-1],ge=ue[K+ae];j.prev_length>=j.good_match&&(q>>=2),ne>j.lookahead&&(ne=j.lookahead);do if(ue[(V=G)+ae]===ge&&ue[V+ae-1]===oe&&ue[V]===ue[K]&&ue[++V]===ue[K+1]){K+=2,V++;do;while(ue[++K]===ue[++V]&&ue[++K]===ue[++V]&&ue[++K]===ue[++V]&&ue[++K]===ue[++V]&&ue[++K]===ue[++V]&&ue[++K]===ue[++V]&&ue[++K]===ue[++V]&&ue[++K]===ue[++V]&&K<Y);if(U=A-(Y-K),K=Y-A,ae<U){if(j.match_start=G,ne<=(ae=U))break;oe=ue[K+ae-1],ge=ue[K+ae]}}while((G=he[G&ye])>X&&--q!=0);return ae<=j.lookahead?ae:j.lookahead}function pe(j){var G,V,U,q,K,ae,ne,X,ue,ye,he=j.w_size;do{if(q=j.window_size-j.lookahead-j.strstart,j.strstart>=he+(he-N)){for(o.arraySet(j.window,j.window,he,he,0),j.match_start-=he,j.strstart-=he,j.block_start-=he,G=V=j.hash_size;U=j.head[--G],j.head[G]=he<=U?U-he:0,--V;);for(G=V=he;U=j.prev[--G],j.prev[G]=he<=U?U-he:0,--V;);q+=he}if(j.strm.avail_in===0)break;if(ae=j.strm,ne=j.window,X=j.strstart+j.lookahead,ue=q,ye=void 0,ye=ae.avail_in,ue<ye&&(ye=ue),V=ye===0?0:(ae.avail_in-=ye,o.arraySet(ne,ae.input,ae.next_in,ye,X),ae.state.wrap===1?ae.adler=l(ae.adler,ne,ye,X):ae.state.wrap===2&&(ae.adler=c(ae.adler,ne,ye,X)),ae.next_in+=ye,ae.total_in+=ye,ye),j.lookahead+=V,j.lookahead+j.insert>=T)for(K=j.strstart-j.insert,j.ins_h=j.window[K],j.ins_h=(j.ins_h<<j.hash_shift^j.window[K+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[K+T-1])&j.hash_mask,j.prev[K&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=K,K++,j.insert--,!(j.lookahead+j.insert<T)););}while(j.lookahead<N&&j.strm.avail_in!==0)}function te(j,G){for(var V,U;;){if(j.lookahead<N){if(pe(j),j.lookahead<N&&G===d)return O;if(j.lookahead===0)break}if(V=0,j.lookahead>=T&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+T-1])&j.hash_mask,V=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),V!==0&&j.strstart-V<=j.w_size-N&&(j.match_length=ee(j,V)),j.match_length>=T)if(U=s._tr_tally(j,j.strstart-j.match_start,j.match_length-T),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=T){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+T-1])&j.hash_mask,V=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else U=s._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(U&&(B(j,!1),j.strm.avail_out===0))return O}return j.insert=j.strstart<T-1?j.strstart:T-1,G===p?(B(j,!0),j.strm.avail_out===0?F:z):j.last_lit&&(B(j,!1),j.strm.avail_out===0)?O:R}function re(j,G){for(var V,U,q;;){if(j.lookahead<N){if(pe(j),j.lookahead<N&&G===d)return O;if(j.lookahead===0)break}if(V=0,j.lookahead>=T&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+T-1])&j.hash_mask,V=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=T-1,V!==0&&j.prev_length<j.max_lazy_match&&j.strstart-V<=j.w_size-N&&(j.match_length=ee(j,V),j.match_length<=5&&(j.strategy===1||j.match_length===T&&4096<j.strstart-j.match_start)&&(j.match_length=T-1)),j.prev_length>=T&&j.match_length<=j.prev_length){for(q=j.strstart+j.lookahead-T,U=s._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-T),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=q&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+T-1])&j.hash_mask,V=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=T-1,j.strstart++,U&&(B(j,!1),j.strm.avail_out===0))return O}else if(j.match_available){if((U=s._tr_tally(j,0,j.window[j.strstart-1]))&&B(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return O}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(U=s._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<T-1?j.strstart:T-1,G===p?(B(j,!0),j.strm.avail_out===0?F:z):j.last_lit&&(B(j,!1),j.strm.avail_out===0)?O:R}function J(j,G,V,U,q){this.good_length=j,this.max_lazy=G,this.nice_length=V,this.max_chain=U,this.func=q}function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*w+1)),this.bl_tree=new o.Buf16(2*(2*S+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(P+1),this.heap=new o.Buf16(2*_+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(j){var G;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=v,(G=j.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?C:D,j.adler=G.wrap===2?0:1,G.last_flush=d,s._tr_init(G),h):W(j,y)}function Z(j){var G=se(j);return G===h&&(function(V){V.window_size=2*V.w_size,M(V.head),V.max_lazy_match=a[V.level].max_lazy,V.good_match=a[V.level].good_length,V.nice_match=a[V.level].nice_length,V.max_chain_length=a[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=T-1,V.match_available=0,V.ins_h=0})(j.state),G}function de(j,G,V,U,q,K){if(!j)return y;var ae=1;if(G===m&&(G=6),U<0?(ae=0,U=-U):15<U&&(ae=2,U-=16),q<1||x<q||V!==b||U<8||15<U||G<0||9<G||K<0||g<K)return W(j,y);U===8&&(U=9);var ne=new le;return(j.state=ne).strm=j,ne.wrap=ae,ne.gzhead=null,ne.w_bits=U,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=q+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+T-1)/T),ne.window=new o.Buf8(2*ne.w_size),ne.head=new o.Buf16(ne.hash_size),ne.prev=new o.Buf16(ne.w_size),ne.lit_bufsize=1<<q+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new o.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=G,ne.strategy=K,ne.method=V,Z(j)}a=[new J(0,0,0,0,function(j,G){var V=65535;for(V>j.pending_buf_size-5&&(V=j.pending_buf_size-5);;){if(j.lookahead<=1){if(pe(j),j.lookahead===0&&G===d)return O;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var U=j.block_start+V;if((j.strstart===0||j.strstart>=U)&&(j.lookahead=j.strstart-U,j.strstart=U,B(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-N&&(B(j,!1),j.strm.avail_out===0))return O}return j.insert=0,G===p?(B(j,!0),j.strm.avail_out===0?F:z):(j.strstart>j.block_start&&(B(j,!1),j.strm.avail_out),O)}),new J(4,4,8,4,te),new J(4,5,16,8,te),new J(4,6,32,32,te),new J(4,4,16,16,re),new J(8,16,32,32,re),new J(8,16,128,128,re),new J(8,32,128,256,re),new J(32,128,258,1024,re),new J(32,258,258,4096,re)],i.deflateInit=function(j,G){return de(j,G,b,15,8,0)},i.deflateInit2=de,i.deflateReset=Z,i.deflateResetKeep=se,i.deflateSetHeader=function(j,G){return j&&j.state?j.state.wrap!==2?y:(j.state.gzhead=G,h):y},i.deflate=function(j,G){var V,U,q,K;if(!j||!j.state||5<G||G<0)return j?W(j,y):y;if(U=j.state,!j.output||!j.input&&j.avail_in!==0||U.status===666&&G!==p)return W(j,j.avail_out===0?-5:y);if(U.strm=j,V=U.last_flush,U.last_flush=G,U.status===C)if(U.wrap===2)j.adler=0,$(U,31),$(U,139),$(U,8),U.gzhead?($(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),$(U,255&U.gzhead.time),$(U,U.gzhead.time>>8&255),$(U,U.gzhead.time>>16&255),$(U,U.gzhead.time>>24&255),$(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),$(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&($(U,255&U.gzhead.extra.length),$(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(j.adler=c(j.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):($(U,0),$(U,0),$(U,0),$(U,0),$(U,0),$(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),$(U,3),U.status=D);else{var ae=b+(U.w_bits-8<<4)<<8;ae|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(ae|=32),ae+=31-ae%31,U.status=D,Q(U,ae),U.strstart!==0&&(Q(U,j.adler>>>16),Q(U,65535&j.adler)),j.adler=1}if(U.status===69)if(U.gzhead.extra){for(q=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>q&&(j.adler=c(j.adler,U.pending_buf,U.pending-q,q)),H(j),q=U.pending,U.pending!==U.pending_buf_size));)$(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>q&&(j.adler=c(j.adler,U.pending_buf,U.pending-q,q)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){q=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>q&&(j.adler=c(j.adler,U.pending_buf,U.pending-q,q)),H(j),q=U.pending,U.pending===U.pending_buf_size)){K=1;break}K=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,$(U,K)}while(K!==0);U.gzhead.hcrc&&U.pending>q&&(j.adler=c(j.adler,U.pending_buf,U.pending-q,q)),K===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){q=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>q&&(j.adler=c(j.adler,U.pending_buf,U.pending-q,q)),H(j),q=U.pending,U.pending===U.pending_buf_size)){K=1;break}K=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,$(U,K)}while(K!==0);U.gzhead.hcrc&&U.pending>q&&(j.adler=c(j.adler,U.pending_buf,U.pending-q,q)),K===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&H(j),U.pending+2<=U.pending_buf_size&&($(U,255&j.adler),$(U,j.adler>>8&255),j.adler=0,U.status=D)):U.status=D),U.pending!==0){if(H(j),j.avail_out===0)return U.last_flush=-1,h}else if(j.avail_in===0&&L(G)<=L(V)&&G!==p)return W(j,-5);if(U.status===666&&j.avail_in!==0)return W(j,-5);if(j.avail_in!==0||U.lookahead!==0||G!==d&&U.status!==666){var ne=U.strategy===2?(function(X,ue){for(var ye;;){if(X.lookahead===0&&(pe(X),X.lookahead===0)){if(ue===d)return O;break}if(X.match_length=0,ye=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,ye&&(B(X,!1),X.strm.avail_out===0))return O}return X.insert=0,ue===p?(B(X,!0),X.strm.avail_out===0?F:z):X.last_lit&&(B(X,!1),X.strm.avail_out===0)?O:R})(U,G):U.strategy===3?(function(X,ue){for(var ye,he,Y,oe,ge=X.window;;){if(X.lookahead<=A){if(pe(X),X.lookahead<=A&&ue===d)return O;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=T&&0<X.strstart&&(he=ge[Y=X.strstart-1])===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]){oe=X.strstart+A;do;while(he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&Y<oe);X.match_length=A-(oe-Y),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=T?(ye=s._tr_tally(X,1,X.match_length-T),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(ye=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),ye&&(B(X,!1),X.strm.avail_out===0))return O}return X.insert=0,ue===p?(B(X,!0),X.strm.avail_out===0?F:z):X.last_lit&&(B(X,!1),X.strm.avail_out===0)?O:R})(U,G):a[U.level].func(U,G);if(ne!==F&&ne!==z||(U.status=666),ne===O||ne===F)return j.avail_out===0&&(U.last_flush=-1),h;if(ne===R&&(G===1?s._tr_align(U):G!==5&&(s._tr_stored_block(U,0,0,!1),G===3&&(M(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),H(j),j.avail_out===0))return U.last_flush=-1,h}return G!==p?h:U.wrap<=0?1:(U.wrap===2?($(U,255&j.adler),$(U,j.adler>>8&255),$(U,j.adler>>16&255),$(U,j.adler>>24&255),$(U,255&j.total_in),$(U,j.total_in>>8&255),$(U,j.total_in>>16&255),$(U,j.total_in>>24&255)):(Q(U,j.adler>>>16),Q(U,65535&j.adler)),H(j),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?h:1)},i.deflateEnd=function(j){var G;return j&&j.state?(G=j.state.status)!==C&&G!==69&&G!==73&&G!==91&&G!==103&&G!==D&&G!==666?W(j,y):(j.state=null,G===D?W(j,-3):h):y},i.deflateSetDictionary=function(j,G){var V,U,q,K,ae,ne,X,ue,ye=G.length;if(!j||!j.state||(K=(V=j.state).wrap)===2||K===1&&V.status!==C||V.lookahead)return y;for(K===1&&(j.adler=l(j.adler,G,ye,0)),V.wrap=0,ye>=V.w_size&&(K===0&&(M(V.head),V.strstart=0,V.block_start=0,V.insert=0),ue=new o.Buf8(V.w_size),o.arraySet(ue,G,ye-V.w_size,V.w_size,0),G=ue,ye=V.w_size),ae=j.avail_in,ne=j.next_in,X=j.input,j.avail_in=ye,j.next_in=0,j.input=G,pe(V);V.lookahead>=T;){for(U=V.strstart,q=V.lookahead-(T-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[U+T-1])&V.hash_mask,V.prev[U&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=U,U++,--q;);V.strstart=U,V.lookahead=T-1,pe(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=T-1,V.match_available=0,j.next_in=ne,j.input=X,j.avail_in=ae,V.wrap=K,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,o){var s,l,c,u,d,p,h,y,m,g,v,b,x,_,w,S,E,P,T,A,N,C,D,O,R;s=a.state,l=a.next_in,O=a.input,c=l+(a.avail_in-5),u=a.next_out,R=a.output,d=u-(o-a.avail_out),p=u+(a.avail_out-257),h=s.dmax,y=s.wsize,m=s.whave,g=s.wnext,v=s.window,b=s.hold,x=s.bits,_=s.lencode,w=s.distcode,S=(1<<s.lenbits)-1,E=(1<<s.distbits)-1;e:do{x<15&&(b+=O[l++]<<x,x+=8,b+=O[l++]<<x,x+=8),P=_[b&S];t:for(;;){if(b>>>=T=P>>>24,x-=T,(T=P>>>16&255)===0)R[u++]=65535&P;else{if(!(16&T)){if((64&T)==0){P=_[(65535&P)+(b&(1<<T)-1)];continue t}if(32&T){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}A=65535&P,(T&=15)&&(x<T&&(b+=O[l++]<<x,x+=8),A+=b&(1<<T)-1,b>>>=T,x-=T),x<15&&(b+=O[l++]<<x,x+=8,b+=O[l++]<<x,x+=8),P=w[b&E];r:for(;;){if(b>>>=T=P>>>24,x-=T,!(16&(T=P>>>16&255))){if((64&T)==0){P=w[(65535&P)+(b&(1<<T)-1)];continue r}a.msg="invalid distance code",s.mode=30;break e}if(N=65535&P,x<(T&=15)&&(b+=O[l++]<<x,(x+=8)<T&&(b+=O[l++]<<x,x+=8)),h<(N+=b&(1<<T)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=T,x-=T,(T=u-d)<N){if(m<(T=N-T)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(D=v,(C=0)===g){if(C+=y-T,T<A){for(A-=T;R[u++]=v[C++],--T;);C=u-N,D=R}}else if(g<T){if(C+=y+g-T,(T-=g)<A){for(A-=T;R[u++]=v[C++],--T;);if(C=0,g<A){for(A-=T=g;R[u++]=v[C++],--T;);C=u-N,D=R}}}else if(C+=g-T,T<A){for(A-=T;R[u++]=v[C++],--T;);C=u-N,D=R}for(;2<A;)R[u++]=D[C++],R[u++]=D[C++],R[u++]=D[C++],A-=3;A&&(R[u++]=D[C++],1<A&&(R[u++]=D[C++]))}else{for(C=u-N;R[u++]=R[C++],R[u++]=R[C++],R[u++]=R[C++],2<(A-=3););A&&(R[u++]=R[C++],1<A&&(R[u++]=R[C++]))}break}}break}}while(l<c&&u<p);l-=A=x>>3,b&=(1<<(x-=A<<3))-1,a.next_in=l,a.next_out=u,a.avail_in=l<c?c-l+5:5-(l-c),a.avail_out=u<p?p-u+257:257-(u-p),s.hold=b,s.bits=x}},{}],49:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,d=2,p=0,h=-2,y=1,m=852,g=592;function v(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(C){var D;return C&&C.state?(D=C.state,C.total_in=C.total_out=D.total=0,C.msg="",D.wrap&&(C.adler=1&D.wrap),D.mode=y,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new a.Buf32(m),D.distcode=D.distdyn=new a.Buf32(g),D.sane=1,D.back=-1,p):h}function _(C){var D;return C&&C.state?((D=C.state).wsize=0,D.whave=0,D.wnext=0,x(C)):h}function w(C,D){var O,R;return C&&C.state?(R=C.state,D<0?(O=0,D=-D):(O=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?h:(R.window!==null&&R.wbits!==D&&(R.window=null),R.wrap=O,R.wbits=D,_(C))):h}function S(C,D){var O,R;return C?(R=new b,(C.state=R).window=null,(O=w(C,D))!==p&&(C.state=null),O):h}var E,P,T=!0;function A(C){if(T){var D;for(E=new a.Buf32(512),P=new a.Buf32(32),D=0;D<144;)C.lens[D++]=8;for(;D<256;)C.lens[D++]=9;for(;D<280;)C.lens[D++]=7;for(;D<288;)C.lens[D++]=8;for(c(u,C.lens,0,288,E,0,C.work,{bits:9}),D=0;D<32;)C.lens[D++]=5;c(d,C.lens,0,32,P,0,C.work,{bits:5}),T=!1}C.lencode=E,C.lenbits=9,C.distcode=P,C.distbits=5}function N(C,D,O,R){var F,z=C.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new a.Buf8(z.wsize)),R>=z.wsize?(a.arraySet(z.window,D,O-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(R<(F=z.wsize-z.wnext)&&(F=R),a.arraySet(z.window,D,O-R,F,z.wnext),(R-=F)?(a.arraySet(z.window,D,O-R,R,0),z.wnext=R,z.whave=z.wsize):(z.wnext+=F,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=F))),0}i.inflateReset=_,i.inflateReset2=w,i.inflateResetKeep=x,i.inflateInit=function(C){return S(C,15)},i.inflateInit2=S,i.inflate=function(C,D){var O,R,F,z,W,L,M,H,B,$,Q,ee,pe,te,re,J,le,se,Z,de,j,G,V,U,q=0,K=new a.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return h;(O=C.state).mode===12&&(O.mode=13),W=C.next_out,F=C.output,M=C.avail_out,z=C.next_in,R=C.input,L=C.avail_in,H=O.hold,B=O.bits,$=L,Q=M,G=p;e:for(;;)switch(O.mode){case y:if(O.wrap===0){O.mode=13;break}for(;B<16;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if(2&O.wrap&&H===35615){K[O.check=0]=255&H,K[1]=H>>>8&255,O.check=s(O.check,K,2,0),B=H=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&H)<<8)+(H>>8))%31){C.msg="incorrect header check",O.mode=30;break}if((15&H)!=8){C.msg="unknown compression method",O.mode=30;break}if(B-=4,j=8+(15&(H>>>=4)),O.wbits===0)O.wbits=j;else if(j>O.wbits){C.msg="invalid window size",O.mode=30;break}O.dmax=1<<j,C.adler=O.check=1,O.mode=512&H?10:12,B=H=0;break;case 2:for(;B<16;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if(O.flags=H,(255&O.flags)!=8){C.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){C.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=H>>8&1),512&O.flags&&(K[0]=255&H,K[1]=H>>>8&255,O.check=s(O.check,K,2,0)),B=H=0,O.mode=3;case 3:for(;B<32;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}O.head&&(O.head.time=H),512&O.flags&&(K[0]=255&H,K[1]=H>>>8&255,K[2]=H>>>16&255,K[3]=H>>>24&255,O.check=s(O.check,K,4,0)),B=H=0,O.mode=4;case 4:for(;B<16;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}O.head&&(O.head.xflags=255&H,O.head.os=H>>8),512&O.flags&&(K[0]=255&H,K[1]=H>>>8&255,O.check=s(O.check,K,2,0)),B=H=0,O.mode=5;case 5:if(1024&O.flags){for(;B<16;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}O.length=H,O.head&&(O.head.extra_len=H),512&O.flags&&(K[0]=255&H,K[1]=H>>>8&255,O.check=s(O.check,K,2,0)),B=H=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(L<(ee=O.length)&&(ee=L),ee&&(O.head&&(j=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),a.arraySet(O.head.extra,R,z,ee,j)),512&O.flags&&(O.check=s(O.check,R,ee,z)),L-=ee,z+=ee,O.length-=ee),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(L===0)break e;for(ee=0;j=R[z+ee++],O.head&&j&&O.length<65536&&(O.head.name+=String.fromCharCode(j)),j&&ee<L;);if(512&O.flags&&(O.check=s(O.check,R,ee,z)),L-=ee,z+=ee,j)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(L===0)break e;for(ee=0;j=R[z+ee++],O.head&&j&&O.length<65536&&(O.head.comment+=String.fromCharCode(j)),j&&ee<L;);if(512&O.flags&&(O.check=s(O.check,R,ee,z)),L-=ee,z+=ee,j)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;B<16;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if(H!==(65535&O.check)){C.msg="header crc mismatch",O.mode=30;break}B=H=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),C.adler=O.check=0,O.mode=12;break;case 10:for(;B<32;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}C.adler=O.check=v(H),B=H=0,O.mode=11;case 11:if(O.havedict===0)return C.next_out=W,C.avail_out=M,C.next_in=z,C.avail_in=L,O.hold=H,O.bits=B,2;C.adler=O.check=1,O.mode=12;case 12:if(D===5||D===6)break e;case 13:if(O.last){H>>>=7&B,B-=7&B,O.mode=27;break}for(;B<3;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}switch(O.last=1&H,B-=1,3&(H>>>=1)){case 0:O.mode=14;break;case 1:if(A(O),O.mode=20,D!==6)break;H>>>=2,B-=2;break e;case 2:O.mode=17;break;case 3:C.msg="invalid block type",O.mode=30}H>>>=2,B-=2;break;case 14:for(H>>>=7&B,B-=7&B;B<32;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if((65535&H)!=(H>>>16^65535)){C.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&H,B=H=0,O.mode=15,D===6)break e;case 15:O.mode=16;case 16:if(ee=O.length){if(L<ee&&(ee=L),M<ee&&(ee=M),ee===0)break e;a.arraySet(F,R,z,ee,W),L-=ee,z+=ee,M-=ee,W+=ee,O.length-=ee;break}O.mode=12;break;case 17:for(;B<14;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if(O.nlen=257+(31&H),H>>>=5,B-=5,O.ndist=1+(31&H),H>>>=5,B-=5,O.ncode=4+(15&H),H>>>=4,B-=4,286<O.nlen||30<O.ndist){C.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;B<3;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}O.lens[ae[O.have++]]=7&H,H>>>=3,B-=3}for(;O.have<19;)O.lens[ae[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,V={bits:O.lenbits},G=c(0,O.lens,0,19,O.lencode,0,O.work,V),O.lenbits=V.bits,G){C.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;J=(q=O.lencode[H&(1<<O.lenbits)-1])>>>16&255,le=65535&q,!((re=q>>>24)<=B);){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if(le<16)H>>>=re,B-=re,O.lens[O.have++]=le;else{if(le===16){for(U=re+2;B<U;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if(H>>>=re,B-=re,O.have===0){C.msg="invalid bit length repeat",O.mode=30;break}j=O.lens[O.have-1],ee=3+(3&H),H>>>=2,B-=2}else if(le===17){for(U=re+3;B<U;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}B-=re,j=0,ee=3+(7&(H>>>=re)),H>>>=3,B-=3}else{for(U=re+7;B<U;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}B-=re,j=0,ee=11+(127&(H>>>=re)),H>>>=7,B-=7}if(O.have+ee>O.nlen+O.ndist){C.msg="invalid bit length repeat",O.mode=30;break}for(;ee--;)O.lens[O.have++]=j}}if(O.mode===30)break;if(O.lens[256]===0){C.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,V={bits:O.lenbits},G=c(u,O.lens,0,O.nlen,O.lencode,0,O.work,V),O.lenbits=V.bits,G){C.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,V={bits:O.distbits},G=c(d,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,V),O.distbits=V.bits,G){C.msg="invalid distances set",O.mode=30;break}if(O.mode=20,D===6)break e;case 20:O.mode=21;case 21:if(6<=L&&258<=M){C.next_out=W,C.avail_out=M,C.next_in=z,C.avail_in=L,O.hold=H,O.bits=B,l(C,Q),W=C.next_out,F=C.output,M=C.avail_out,z=C.next_in,R=C.input,L=C.avail_in,H=O.hold,B=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;J=(q=O.lencode[H&(1<<O.lenbits)-1])>>>16&255,le=65535&q,!((re=q>>>24)<=B);){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if(J&&(240&J)==0){for(se=re,Z=J,de=le;J=(q=O.lencode[de+((H&(1<<se+Z)-1)>>se)])>>>16&255,le=65535&q,!(se+(re=q>>>24)<=B);){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}H>>>=se,B-=se,O.back+=se}if(H>>>=re,B-=re,O.back+=re,O.length=le,J===0){O.mode=26;break}if(32&J){O.back=-1,O.mode=12;break}if(64&J){C.msg="invalid literal/length code",O.mode=30;break}O.extra=15&J,O.mode=22;case 22:if(O.extra){for(U=O.extra;B<U;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}O.length+=H&(1<<O.extra)-1,H>>>=O.extra,B-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;J=(q=O.distcode[H&(1<<O.distbits)-1])>>>16&255,le=65535&q,!((re=q>>>24)<=B);){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if((240&J)==0){for(se=re,Z=J,de=le;J=(q=O.distcode[de+((H&(1<<se+Z)-1)>>se)])>>>16&255,le=65535&q,!(se+(re=q>>>24)<=B);){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}H>>>=se,B-=se,O.back+=se}if(H>>>=re,B-=re,O.back+=re,64&J){C.msg="invalid distance code",O.mode=30;break}O.offset=le,O.extra=15&J,O.mode=24;case 24:if(O.extra){for(U=O.extra;B<U;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}O.offset+=H&(1<<O.extra)-1,H>>>=O.extra,B-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){C.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(M===0)break e;if(ee=Q-M,O.offset>ee){if((ee=O.offset-ee)>O.whave&&O.sane){C.msg="invalid distance too far back",O.mode=30;break}pe=ee>O.wnext?(ee-=O.wnext,O.wsize-ee):O.wnext-ee,ee>O.length&&(ee=O.length),te=O.window}else te=F,pe=W-O.offset,ee=O.length;for(M<ee&&(ee=M),M-=ee,O.length-=ee;F[W++]=te[pe++],--ee;);O.length===0&&(O.mode=21);break;case 26:if(M===0)break e;F[W++]=O.length,M--,O.mode=21;break;case 27:if(O.wrap){for(;B<32;){if(L===0)break e;L--,H|=R[z++]<<B,B+=8}if(Q-=M,C.total_out+=Q,O.total+=Q,Q&&(C.adler=O.check=O.flags?s(O.check,F,Q,W-Q):o(O.check,F,Q,W-Q)),Q=M,(O.flags?H:v(H))!==O.check){C.msg="incorrect data check",O.mode=30;break}B=H=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;B<32;){if(L===0)break e;L--,H+=R[z++]<<B,B+=8}if(H!==(4294967295&O.total)){C.msg="incorrect length check",O.mode=30;break}B=H=0}O.mode=29;case 29:G=1;break e;case 30:G=-3;break e;case 31:return-4;default:return h}return C.next_out=W,C.avail_out=M,C.next_in=z,C.avail_in=L,O.hold=H,O.bits=B,(O.wsize||Q!==C.avail_out&&O.mode<30&&(O.mode<27||D!==4))&&N(C,C.output,C.next_out,Q-C.avail_out)?(O.mode=31,-4):($-=C.avail_in,Q-=C.avail_out,C.total_in+=$,C.total_out+=Q,O.total+=Q,O.wrap&&Q&&(C.adler=O.check=O.flags?s(O.check,F,Q,C.next_out-Q):o(O.check,F,Q,C.next_out-Q)),C.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),($==0&&Q===0||D===4)&&G===p&&(G=-5),G)},i.inflateEnd=function(C){if(!C||!C.state)return h;var D=C.state;return D.window&&(D.window=null),C.state=null,p},i.inflateGetHeader=function(C,D){var O;return C&&C.state?(2&(O=C.state).wrap)==0?h:((O.head=D).done=!1,p):h},i.inflateSetDictionary=function(C,D){var O,R=D.length;return C&&C.state?(O=C.state).wrap!==0&&O.mode!==11?h:O.mode===11&&o(1,D,R,0)!==O.check?-3:N(C,D,R,R)?(O.mode=31,-4):(O.havedict=1,p):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,d,p,h,y,m,g,v){var b,x,_,w,S,E,P,T,A,N=v.bits,C=0,D=0,O=0,R=0,F=0,z=0,W=0,L=0,M=0,H=0,B=null,$=0,Q=new a.Buf16(16),ee=new a.Buf16(16),pe=null,te=0;for(C=0;C<=15;C++)Q[C]=0;for(D=0;D<h;D++)Q[d[p+D]]++;for(F=N,R=15;1<=R&&Q[R]===0;R--);if(R<F&&(F=R),R===0)return y[m++]=20971520,y[m++]=20971520,v.bits=1,0;for(O=1;O<R&&Q[O]===0;O++);for(F<O&&(F=O),C=L=1;C<=15;C++)if(L<<=1,(L-=Q[C])<0)return-1;if(0<L&&(u===0||R!==1))return-1;for(ee[1]=0,C=1;C<15;C++)ee[C+1]=ee[C]+Q[C];for(D=0;D<h;D++)d[p+D]!==0&&(g[ee[d[p+D]]++]=D);if(E=u===0?(B=pe=g,19):u===1?(B=o,$-=257,pe=s,te-=257,256):(B=l,pe=c,-1),C=O,S=m,W=D=H=0,_=-1,w=(M=1<<(z=F))-1,u===1&&852<M||u===2&&592<M)return 1;for(;;){for(P=C-W,A=g[D]<E?(T=0,g[D]):g[D]>E?(T=pe[te+g[D]],B[$+g[D]]):(T=96,0),b=1<<C-W,O=x=1<<z;y[S+(H>>W)+(x-=b)]=P<<24|T<<16|A|0,x!==0;);for(b=1<<C-1;H&b;)b>>=1;if(b!==0?(H&=b-1,H+=b):H=0,D++,--Q[C]==0){if(C===R)break;C=d[p+g[D]]}if(F<C&&(H&w)!==_){for(W===0&&(W=F),S+=O,L=1<<(z=C-W);z+W<R&&!((L-=Q[z+W])<=0);)z++,L<<=1;if(M+=1<<z,u===1&&852<M||u===2&&592<M)return 1;y[_=H&w]=F<<24|z<<16|S-m|0}}return H!==0&&(y[S+H]=C-W<<24|64<<16|0),v.bits=F,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),o=0,s=1;function l(q){for(var K=q.length;0<=--K;)q[K]=0}var c=0,u=29,d=256,p=d+1+u,h=30,y=19,m=2*p+1,g=15,v=16,b=7,x=256,_=16,w=17,S=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(p+2));l(N);var C=new Array(2*h);l(C);var D=new Array(512);l(D);var O=new Array(256);l(O);var R=new Array(u);l(R);var F,z,W,L=new Array(h);function M(q,K,ae,ne,X){this.static_tree=q,this.extra_bits=K,this.extra_base=ae,this.elems=ne,this.max_length=X,this.has_stree=q&&q.length}function H(q,K){this.dyn_tree=q,this.max_code=0,this.stat_desc=K}function B(q){return q<256?D[q]:D[256+(q>>>7)]}function $(q,K){q.pending_buf[q.pending++]=255&K,q.pending_buf[q.pending++]=K>>>8&255}function Q(q,K,ae){q.bi_valid>v-ae?(q.bi_buf|=K<<q.bi_valid&65535,$(q,q.bi_buf),q.bi_buf=K>>v-q.bi_valid,q.bi_valid+=ae-v):(q.bi_buf|=K<<q.bi_valid&65535,q.bi_valid+=ae)}function ee(q,K,ae){Q(q,ae[2*K],ae[2*K+1])}function pe(q,K){for(var ae=0;ae|=1&q,q>>>=1,ae<<=1,0<--K;);return ae>>>1}function te(q,K,ae){var ne,X,ue=new Array(g+1),ye=0;for(ne=1;ne<=g;ne++)ue[ne]=ye=ye+ae[ne-1]<<1;for(X=0;X<=K;X++){var he=q[2*X+1];he!==0&&(q[2*X]=pe(ue[he]++,he))}}function re(q){var K;for(K=0;K<p;K++)q.dyn_ltree[2*K]=0;for(K=0;K<h;K++)q.dyn_dtree[2*K]=0;for(K=0;K<y;K++)q.bl_tree[2*K]=0;q.dyn_ltree[2*x]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function J(q){8<q.bi_valid?$(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function le(q,K,ae,ne){var X=2*K,ue=2*ae;return q[X]<q[ue]||q[X]===q[ue]&&ne[K]<=ne[ae]}function se(q,K,ae){for(var ne=q.heap[ae],X=ae<<1;X<=q.heap_len&&(X<q.heap_len&&le(K,q.heap[X+1],q.heap[X],q.depth)&&X++,!le(K,ne,q.heap[X],q.depth));)q.heap[ae]=q.heap[X],ae=X,X<<=1;q.heap[ae]=ne}function Z(q,K,ae){var ne,X,ue,ye,he=0;if(q.last_lit!==0)for(;ne=q.pending_buf[q.d_buf+2*he]<<8|q.pending_buf[q.d_buf+2*he+1],X=q.pending_buf[q.l_buf+he],he++,ne===0?ee(q,X,K):(ee(q,(ue=O[X])+d+1,K),(ye=E[ue])!==0&&Q(q,X-=R[ue],ye),ee(q,ue=B(--ne),ae),(ye=P[ue])!==0&&Q(q,ne-=L[ue],ye)),he<q.last_lit;);ee(q,x,K)}function de(q,K){var ae,ne,X,ue=K.dyn_tree,ye=K.stat_desc.static_tree,he=K.stat_desc.has_stree,Y=K.stat_desc.elems,oe=-1;for(q.heap_len=0,q.heap_max=m,ae=0;ae<Y;ae++)ue[2*ae]!==0?(q.heap[++q.heap_len]=oe=ae,q.depth[ae]=0):ue[2*ae+1]=0;for(;q.heap_len<2;)ue[2*(X=q.heap[++q.heap_len]=oe<2?++oe:0)]=1,q.depth[X]=0,q.opt_len--,he&&(q.static_len-=ye[2*X+1]);for(K.max_code=oe,ae=q.heap_len>>1;1<=ae;ae--)se(q,ue,ae);for(X=Y;ae=q.heap[1],q.heap[1]=q.heap[q.heap_len--],se(q,ue,1),ne=q.heap[1],q.heap[--q.heap_max]=ae,q.heap[--q.heap_max]=ne,ue[2*X]=ue[2*ae]+ue[2*ne],q.depth[X]=(q.depth[ae]>=q.depth[ne]?q.depth[ae]:q.depth[ne])+1,ue[2*ae+1]=ue[2*ne+1]=X,q.heap[1]=X++,se(q,ue,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],(function(ge,Te){var Be,nt,Ft,He,Bt,vr,Ze=Te.dyn_tree,Ar=Te.max_code,Ee=Te.stat_desc.static_tree,Qe=Te.stat_desc.has_stree,it=Te.stat_desc.extra_bits,lt=Te.stat_desc.extra_base,Ue=Te.stat_desc.max_length,gt=0;for(He=0;He<=g;He++)ge.bl_count[He]=0;for(Ze[2*ge.heap[ge.heap_max]+1]=0,Be=ge.heap_max+1;Be<m;Be++)Ue<(He=Ze[2*Ze[2*(nt=ge.heap[Be])+1]+1]+1)&&(He=Ue,gt++),Ze[2*nt+1]=He,Ar<nt||(ge.bl_count[He]++,Bt=0,lt<=nt&&(Bt=it[nt-lt]),vr=Ze[2*nt],ge.opt_len+=vr*(He+Bt),Qe&&(ge.static_len+=vr*(Ee[2*nt+1]+Bt)));if(gt!==0){do{for(He=Ue-1;ge.bl_count[He]===0;)He--;ge.bl_count[He]--,ge.bl_count[He+1]+=2,ge.bl_count[Ue]--,gt-=2}while(0<gt);for(He=Ue;He!==0;He--)for(nt=ge.bl_count[He];nt!==0;)Ar<(Ft=ge.heap[--Be])||(Ze[2*Ft+1]!==He&&(ge.opt_len+=(He-Ze[2*Ft+1])*Ze[2*Ft],Ze[2*Ft+1]=He),nt--)}})(q,K),te(ue,oe,q.bl_count)}function j(q,K,ae){var ne,X,ue=-1,ye=K[1],he=0,Y=7,oe=4;for(ye===0&&(Y=138,oe=3),K[2*(ae+1)+1]=65535,ne=0;ne<=ae;ne++)X=ye,ye=K[2*(ne+1)+1],++he<Y&&X===ye||(he<oe?q.bl_tree[2*X]+=he:X!==0?(X!==ue&&q.bl_tree[2*X]++,q.bl_tree[2*_]++):he<=10?q.bl_tree[2*w]++:q.bl_tree[2*S]++,ue=X,oe=(he=0)===ye?(Y=138,3):X===ye?(Y=6,3):(Y=7,4))}function G(q,K,ae){var ne,X,ue=-1,ye=K[1],he=0,Y=7,oe=4;for(ye===0&&(Y=138,oe=3),ne=0;ne<=ae;ne++)if(X=ye,ye=K[2*(ne+1)+1],!(++he<Y&&X===ye)){if(he<oe)for(;ee(q,X,q.bl_tree),--he!=0;);else X!==0?(X!==ue&&(ee(q,X,q.bl_tree),he--),ee(q,_,q.bl_tree),Q(q,he-3,2)):he<=10?(ee(q,w,q.bl_tree),Q(q,he-3,3)):(ee(q,S,q.bl_tree),Q(q,he-11,7));ue=X,oe=(he=0)===ye?(Y=138,3):X===ye?(Y=6,3):(Y=7,4)}}l(L);var V=!1;function U(q,K,ae,ne){Q(q,(c<<1)+(ne?1:0),3),(function(X,ue,ye,he){J(X),$(X,ye),$(X,~ye),a.arraySet(X.pending_buf,X.window,ue,ye,X.pending),X.pending+=ye})(q,K,ae)}i._tr_init=function(q){V||((function(){var K,ae,ne,X,ue,ye=new Array(g+1);for(X=ne=0;X<u-1;X++)for(R[X]=ne,K=0;K<1<<E[X];K++)O[ne++]=X;for(O[ne-1]=X,X=ue=0;X<16;X++)for(L[X]=ue,K=0;K<1<<P[X];K++)D[ue++]=X;for(ue>>=7;X<h;X++)for(L[X]=ue<<7,K=0;K<1<<P[X]-7;K++)D[256+ue++]=X;for(ae=0;ae<=g;ae++)ye[ae]=0;for(K=0;K<=143;)N[2*K+1]=8,K++,ye[8]++;for(;K<=255;)N[2*K+1]=9,K++,ye[9]++;for(;K<=279;)N[2*K+1]=7,K++,ye[7]++;for(;K<=287;)N[2*K+1]=8,K++,ye[8]++;for(te(N,p+1,ye),K=0;K<h;K++)C[2*K+1]=5,C[2*K]=pe(K,5);F=new M(N,E,d+1,p,g),z=new M(C,P,0,h,g),W=new M(new Array(0),T,0,y,b)})(),V=!0),q.l_desc=new H(q.dyn_ltree,F),q.d_desc=new H(q.dyn_dtree,z),q.bl_desc=new H(q.bl_tree,W),q.bi_buf=0,q.bi_valid=0,re(q)},i._tr_stored_block=U,i._tr_flush_block=function(q,K,ae,ne){var X,ue,ye=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=(function(he){var Y,oe=4093624447;for(Y=0;Y<=31;Y++,oe>>>=1)if(1&oe&&he.dyn_ltree[2*Y]!==0)return o;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return s;for(Y=32;Y<d;Y++)if(he.dyn_ltree[2*Y]!==0)return s;return o})(q)),de(q,q.l_desc),de(q,q.d_desc),ye=(function(he){var Y;for(j(he,he.dyn_ltree,he.l_desc.max_code),j(he,he.dyn_dtree,he.d_desc.max_code),de(he,he.bl_desc),Y=y-1;3<=Y&&he.bl_tree[2*A[Y]+1]===0;Y--);return he.opt_len+=3*(Y+1)+5+5+4,Y})(q),X=q.opt_len+3+7>>>3,(ue=q.static_len+3+7>>>3)<=X&&(X=ue)):X=ue=ae+5,ae+4<=X&&K!==-1?U(q,K,ae,ne):q.strategy===4||ue===X?(Q(q,2+(ne?1:0),3),Z(q,N,C)):(Q(q,4+(ne?1:0),3),(function(he,Y,oe,ge){var Te;for(Q(he,Y-257,5),Q(he,oe-1,5),Q(he,ge-4,4),Te=0;Te<ge;Te++)Q(he,he.bl_tree[2*A[Te]+1],3);G(he,he.dyn_ltree,Y-1),G(he,he.dyn_dtree,oe-1)})(q,q.l_desc.max_code+1,q.d_desc.max_code+1,ye+1),Z(q,q.dyn_ltree,q.dyn_dtree)),re(q),ne&&J(q)},i._tr_tally=function(q,K,ae){return q.pending_buf[q.d_buf+2*q.last_lit]=K>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&K,q.pending_buf[q.l_buf+q.last_lit]=255&ae,q.last_lit++,K===0?q.dyn_ltree[2*ae]++:(q.matches++,K--,q.dyn_ltree[2*(O[ae]+d+1)]++,q.dyn_dtree[2*B(K)]++),q.last_lit===q.lit_bufsize-1},i._tr_align=function(q){Q(q,2,3),ee(q,x,N),(function(K){K.bi_valid===16?($(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(q)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(o,s){if(!o.setImmediate){var l,c,u,d,p=1,h={},y=!1,m=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){b(_)})}:(function(){if(o.postMessage&&!o.importScripts){var _=!0,w=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=w,_}})()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(_){o.postMessage(d+_,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(_){b(_.data)},function(_){u.port2.postMessage(_)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(_){var w=m.createElement("script");w.onreadystatechange=function(){b(_),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(_){setTimeout(b,0,_)},g.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var w=new Array(arguments.length-1),S=0;S<w.length;S++)w[S]=arguments[S+1];var E={callback:_,args:w};return h[p]=E,l(p),p++},g.clearImmediate=v}function v(_){delete h[_]}function b(_){if(y)setTimeout(b,0,_);else{var w=h[_];if(w){y=!0;try{(function(S){var E=S.callback,P=S.args;switch(P.length){case 0:E();break;case 1:E(P[0]);break;case 2:E(P[0],P[1]);break;case 3:E(P[0],P[1],P[2]);break;default:E.apply(s,P)}})(w)}finally{v(_),y=!1}}}}function x(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(d)===0&&b(+_.data.slice(d.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(vb)),vb.exports}var J0e=Q0e();const BF=Je(J0e);var hd={exports:{}},Z0e=hd.exports,mN;function exe(){return mN||(mN=1,(function(e,t){(function(r,n){n()})(Z0e,function(){function r(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,u,d){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,u,d)},p.onerror=function(){console.error("could not download file")},p.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Jr=="object"&&Jr.global===Jr?Jr:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(c,u,d){var p=o.URL||o.webkitURL,h=document.createElement("a");u=u||c.name||"download",h.download=u,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?a(h):i(h.href)?n(c,u,d):a(h,h.target="_blank")):(h.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,d){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,d),u);else if(i(c))n(c,u,d);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){a(p)})}}:function(c,u,d,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return n(c,u,d);var h=c.type==="application/octet-stream",y=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||h&&y||s)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=m?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=x:location=x,p=null},g.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(c);p?p.location=b:location.href=b,p=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(hd)),hd.exports}var txe=exe();async function rxe(e,t){const r=new BF,n=`habit-tracker-backup-${t.split("T")[0]}`,i=r.folder(n);if(!i)throw new Error("Failed to create root folder");i.file("backup.json",JSON.stringify(e,null,2)),i.file("README.txt",nxe(e));const a=i.folder("data");if(!a)throw new Error("Failed to create data folder");const o=a.folder("habits");o&&(o.file("goals.json",JSON.stringify(e.goals||[],null,2)),o.file("logs.json",JSON.stringify(e.goal_logs||[],null,2)));const s=a.folder("macro-goals");s&&s.file("long_term_goals.json",JSON.stringify(e.long_term_goals||[],null,2));const l=a.folder("categories");l&&l.file("settings.json",JSON.stringify(e.goal_category_settings||null,null,2));const c=a.folder("tracking");c&&(c.file("reading.json",JSON.stringify(e.reading_logs||[],null,2)),c.file("moods.json",JSON.stringify(e.daily_moods||[],null,2)));const u=a.folder("settings");u&&(u.file("user_settings.json",JSON.stringify(e.user_settings||[],null,2)),u.file("app_settings.json",JSON.stringify(e.app_settings||{},null,2)));const d=a.folder("notes");d&&e.user_memos&&d.file("memo.md",e.user_memos.content||`# Note

Nessuna nota salvata.`);const p=i.folder("database-schema");p&&(e.database_schema?.sql&&p.file("schema.sql",e.database_schema.sql),e.database_schema?.metadata&&p.file("database_info.json",JSON.stringify(e.database_schema.metadata,null,2)),e.database_schema?.tables_summary&&p.file("tables_summary.json",JSON.stringify(e.database_schema.tables_summary,null,2))),i.file("RESTORE_INSTRUCTIONS_IT.md",oxe(e)),i.file("RESTORE_INSTRUCTIONS_EN.md",sxe(e));const h=await r.generateAsync({type:"blob"});txe.saveAs(h,`${n}.zip`)}function nxe(e){const t=A_(e);return`HABIT TRACKER - BACKUP COMPLETO
================================

Data Backup: ${e.timestamp}
Versione: ${e.version}

CONTENUTO DEL BACKUP
--------------------
Questo backup contiene TUTTI i tuoi dati dell'applicazione:

 ${t.goals} Abitudini giornaliere (daily habits)
 ${t.goalLogs} Log di completamento abitudini
 ${t.longTermGoals} Obiettivi macro (annuali, mensili, settimanali, etc.)
 Impostazioni colori e categorie personalizzate
 ${t.readingLogs} Log di lettura
 ${t.moods} Registrazioni mood & energy
 ${t.userSettings} Impostazioni utente
 Note personali (memo)

TOTALE RECORD: ${t.total}

COME RIPRISTINARE
-----------------
1. Apri l'applicazione Habit Tracker
2. Vai alla pagina Backup Completo (/complete-backup)
3. Trascina questo file ZIP nell'area di importazione
4. Conferma il ripristino
5. Attendi il completamento dell'operazione

NOTA: Il ripristino sovrascriver i dati esistenti.
Si consiglia di fare un backup prima di importare.

STRUTTURA FILE
--------------
- backup.json: File completo con tutti i dati
- README.txt: Questo file
- database-schema/: Schema del database Supabase
  - schema.sql: Script SQL completo per ricreare il database
  - database_info.json: Metadata e informazioni del database  - tables_summary.json: Riepilogo struttura tabelle
- data/: Cartella con dati organizzati per tipologia
  - habits/: Abitudini giornaliere e log
  - macro-goals/: Obiettivi a lungo termine
  - categories/: Impostazioni categorie
  - tracking/: Dati di tracking (lettura, mood)
  - settings/: Impostazioni utente e app
  - notes/: Note personali

Per assistenza o segnalazioni: https://github.com/simo-hue/habit-tracker/issues
`}function A_(e){return{goals:Array.isArray(e.goals)?e.goals.length:0,goalLogs:Array.isArray(e.goal_logs)?e.goal_logs.length:0,longTermGoals:Array.isArray(e.long_term_goals)?e.long_term_goals.length:0,readingLogs:Array.isArray(e.reading_logs)?e.reading_logs.length:0,moods:Array.isArray(e.daily_moods)?e.daily_moods.length:0,userSettings:Array.isArray(e.user_settings)?e.user_settings.length:0,total:(Array.isArray(e.goals)?e.goals.length:0)+(Array.isArray(e.goal_logs)?e.goal_logs.length:0)+(Array.isArray(e.long_term_goals)?e.long_term_goals.length:0)+(Array.isArray(e.reading_logs)?e.reading_logs.length:0)+(Array.isArray(e.daily_moods)?e.daily_moods.length:0)+(Array.isArray(e.user_settings)?e.user_settings.length:0)+(e.goal_category_settings?1:0)+(e.user_memos?1:0)}}function ixe(e){const t=[];return e.version||t.push("Missing backup version"),e.timestamp||t.push("Missing backup timestamp"),Array.isArray(e.goals)&&e.goals.length>0||Array.isArray(e.long_term_goals)&&e.long_term_goals.length>0||Array.isArray(e.goal_logs)&&e.goal_logs.length>0||Array.isArray(e.reading_logs)&&e.reading_logs.length>0||Array.isArray(e.daily_moods)&&e.daily_moods.length>0||e.user_memos||t.push("Backup appears to be empty - no data found"),{valid:t.length===0,errors:t}}async function axe(e){if(e.name.endsWith(".zip")){const t=await BF.loadAsync(e);let r=t.file("backup.json");if(!r){const a=Object.keys(t.files).find(o=>o.endsWith("backup.json"));a&&(r=t.file(a))}if(!r)throw new Error("File backup.json non trovato nel ZIP");const n=await r.async("text");return JSON.parse(n)}else{if(e.name.endsWith(".json"))return new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result;t(JSON.parse(a))}catch{r(new Error("File JSON non valido"))}},n.onerror=()=>r(new Error("Errore lettura file")),n.readAsText(e)});throw new Error("Formato file non supportato. Usa .zip o .json")}}function oxe(e){const t=A_(e);return e.metadata?.exportDate,`# ISTRUZIONI DI RIPRISTINO COMPLETO
# Habit Tracker - Full Disaster Recovery

**Data Backup:** ${e.timestamp}  
**Record Totali:** ${t.total}

---

##  SCENARIO 1: Ripristino Dati su App Esistente

### Prerequisiti
- Applicazione Habit Tracker gi installata e funzionante
- Account Supabase configurato
- File di backup ( habit-tracker-backup-*.zip)

### Passaggi

**1. Accedi all'Applicazione**
- Apri il browser e vai all'app Habit Tracker
- Effettua il login con le tue credenziali

**2. Naviga alla Pagina Backup**
- Menu  Backup Completo
- Oppure vai direttamente a: \`/#/complete-backup\`

**3. Importa il Backup**
- Trascina il file ZIP nell'area di drop
- Oppure clicca "Seleziona file" e scegli il ZIP
- Attendi il completamento (potrebbero volerci alcuni secondi per ${t.total} record)

**4. Verifica il Ripristino**
- Controlla che le abitudini siano visibili nella home
- Verifica i macro obiettivi in "Macro Goals"
- Controlla le statistiche in "Stats"

 **Fatto!** I tuoi dati sono stati ripristinati.

---

##  SCENARIO 2: Ripristino Completo da Zero (Disaster Recovery)

### Prerequisiti
- Niente! Partirai da zero
- File di backup (habit-tracker-backup-*.zip)
- Account GitHub (opzionale, per deploy)

### FASE 1: Crea Nuovo Progetto Supabase

**1.1 Crea Account / Progetto**
- Vai su https://supabase.com
- Clicca "Start your project"
- Crea una nuova organization (se necessario)
- Crea un nuovo progetto:
  - Nome: \`habit-tracker-restore\` (o quello che preferisci)
  - Database Password: **SALVALA!** Ti servir
  - Region: Scegli la pi vicina a te

**1.2 Attendi Provisioning**
- Supabase creer il database (1-2 minuti)
- Vedrai "Project is ready" quando completato

**1.3 Configura il Database**
- Vai su: SQL Editor (icona </> nella sidebar)
- Apri il file \`database-schema/schema.sql\` dal backup ZIP
- Copia **TUTTO** il contenuto
- Incollalo nel SQL Editor di Supabase
- Clicca "RUN" (o premi Ctrl+Enter)
- Vedrai "Success. No rows returned"   Schema creato!

**1.4 Salva le Credenziali Supabase**
- Vai su: Settings  API ( Settings in basso)
- Copia e salva:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### FASE 2: Clona e Configura l'Applicazione

**2.1 Clona Repository**
\`\`\`bash
git clone https://github.com/simo-hue/habit-tracker.git
cd habit-tracker
\`\`\`

**2.2 Installa Dipendenze**
\`\`\`bash
npm install
\`\`\`

**2.3 Configura Variabili d'Ambiente**
Crea file \`.env.local\` con:
\`\`\`
VITE_SUPABASE_URL=https://tuo-progetto.supabase.co
VITE_SUPABASE_ANON_KEY=tua-anon-key
\`\`\`

Sostituisci con i valori salvati al punto 1.4

**2.4 Testa in Locale**
\`\`\`bash
npm run dev
\`\`\`
Apri http://localhost:8080/habit-tracker/

### FASE 3: Ripristina i Dati

**3.1 Crea Account**
- Nell'app locale, clicca "Registrati"
- Usa una email valida
- Conferma l'email (controlla inbox)

**3.2 Importa il Backup**
- Login nell'app
- Vai a: Menu  Backup Completo
- Trascina il file ZIP
- Attendi completamento

**3.3 Verifica Dati**
-  ${t.goals} abitudini
-  ${t.longTermGoals} macro obiettivi
-  ${t.moods} registrazioni mood
-  Note personali

### FASE 4: Deploy (Opzionale)

**4.1 Deploy su GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configura GitHub Pages**
- Vai su GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Salva

La tua app sar online su:  
\`https://tuo-username.github.io/habit-tracker/\`

---

##  RISOLUZIONE PROBLEMI

### Errore: "Non autenticato"
- Verifica di aver fatto login
- Controlla che le credenziali Supabase siano corrette nel file .env.local

### Errore: "Backup non valido"
- Verifica che il file sia .zip o .json
- Controlla che il file non sia corrotto
- Prova a estrarre manualmente il ZIP e usa backup.json

### Schema SQL Error
- Assicurati di aver copiato TUTTO il contenuto di schema.sql
- Verifica che non ci siano caratteri strani
- Esegui lo script una riga alla volta se necessario

### Import Parziale
- Controlla la console del browser (F12) per errori
- Prova a importare il backup.json manualmente
- Verifica le policy RLS su Supabase

---

##  SUPPORTO

- GitHub Issues: https://github.com/simo-hue/habit-tracker/issues
- Documentazione: https://github.com/simo-hue/habit-tracker

---

**Nota Importante sullo Schema:**  
Lo schema SQL incluso potrebbe non essere aggiornato all'ultima versione.
Per ottenere lo schema pi recente:
1. Vai su Supabase Dashboard
2. SQL Editor  Schema tab
3. Copia lo schema completo
4. Sostituisci il contenuto di \`database-schema/schema.sql\`
`}function sxe(e){const t=A_(e);return`# COMPLETE RESTORE INSTRUCTIONS
# Habit Tracker - Full Disaster Recovery

**Backup Date:** ${e.timestamp}  
**Total Records:** ${t.total}

---

##  SCENARIO 1: Restore Data on Existing App

### Prerequisites
- Habit Tracker app already installed and running
- Supabase account configured
- Backup file (habit-tracker-backup-*.zip)

### Steps

**1. Access the Application**
- Open browser and go to Habit Tracker app
- Login with your credentials

**2. Navigate to Backup Page**
- Menu  Complete Backup
- Or go directly to: \`/#/complete-backup\`

**3. Import Backup**
- Drag and drop the ZIP file into the drop area
- Or click "Browse file" and select the ZIP
- Wait for completion (may take a few seconds for ${t.total} records)

**4. Verify Restore**
- Check that habits are visible on home page
- Verify macro goals in "Macro Goals"
- Check statistics in "Stats"

 **Done!** Your data has been restored.

---

##  SCENARIO 2: Complete Restore from Scratch (Disaster Recovery)

### Prerequisites
- Nothing! You'll start from zero
- Backup file (habit-tracker-backup-*.zip)
- GitHub account (optional, for deployment)

### PHASE 1: Create New Supabase Project

**1.1 Create Account / Project**
- Go to https://supabase.com
- Click "Start your project"
- Create a new organization (if needed)
- Create a new project:
  - Name: \`habit-tracker-restore\` (or whatever you prefer)
  - Database Password: **SAVE IT!** You'll need it
  - Region: Choose closest to you

**1.2 Wait for Provisioning**
- Supabase will create the database (1-2 minutes)
- You'll see "Project is ready" when completed

**1.3 Configure Database**
- Go to: SQL Editor (</> icon in sidebar)
- Open the \`database-schema/schema.sql\` file from backup ZIP
- Copy **ALL** the content
- Paste it into Supabase SQL Editor
- Click "RUN" (or press Ctrl+Enter)
- You'll see "Success. No rows returned"   Schema created!

**1.4 Save Supabase Credentials**
- Go to: Settings  API ( Settings at bottom)
- Copy and save:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### PHASE 2: Clone and Configure Application

**2.1 Clone Repository**
\`\`\`bash
git clone https://github.com/simo-hue/habit-tracker.git
cd habit-tracker
\`\`\`

**2.2 Install Dependencies**
\`\`\`bash
npm install
\`\`\`

**2.3 Configure Environment Variables**
Create \`.env.local\` file with:
\`\`\`
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
\`\`\`

Replace with values saved in step 1.4

**2.4 Test Locally**
\`\`\`bash
npm run dev
\`\`\`
Open http://localhost:8080/habit-tracker/

### PHASE 3: Restore Data

**3.1 Create Account**
- In the local app, click "Sign Up"
- Use a valid email
- Confirm email (check inbox)

**3.2 Import Backup**
- Login to the app
- Go to: Menu  Complete Backup
- Drag and drop the ZIP file
- Wait for completion

**3.3 Verify Data**
-  ${t.goals} habits
-  ${t.longTermGoals} macro goals
-  ${t.moods} mood records
-  Personal notes

### PHASE 4: Deploy (Optional)

**4.1 Deploy to GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configure GitHub Pages**
- Go to GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Save

Your app will be live at:  
\`https://your-username.github.io/habit-tracker/\`

---

##  TROUBLESHOOTING

### Error: "Not authenticated"
- Verify you're logged in
- Check that Supabase credentials are correct in .env.local file

### Error: "Invalid backup"
- Verify file is .zip or .json
- Check that file is not corrupted
- Try manually extracting ZIP and using backup.json

### Schema SQL Error
- Make sure you copied ALL content from schema.sql
- Verify there are no strange characters
- Run script one line at a time if necessary

### Partial Import
- Check browser console (F12) for errors
- Try importing backup.json manually
- Verify RLS policies on Supabase

---

##  SUPPORT

- GitHub Issues: https://github.com/simo-hue/habit-tracker/issues
- Documentation: https://github.com/simo-hue/habit-tracker

---

**Important Note about Schema:**  
The included SQL schema may not be updated to the latest version.
To get the most recent schema:
1. Go to Supabase Dashboard
2. SQL Editor  Schema tab
3. Copy the complete schema
4. Replace content of \`database-schema/schema.sql\`
`}function lxe(){const e=la(),[t,r]=k.useState(!1),[n,i]=k.useState(!1);return{exportCompleteBackup:async()=>{r(!0);try{const{data:{user:s}}=await be.auth.getUser();if(!s)throw new Error("Non autenticato");const l=new Date().toISOString(),c=async(E,P=!0)=>{let T=[],A=0;const N=1e3;let C=!0,D=0;for(;C;){let O=be.from(E).select("*").range(A,A+N-1);P&&(O=O.eq("user_id",s.id));const{data:R,error:F}=await O;if(F)throw F;R&&R.length>0?(D++,T=[...T,...R],R.length===N&&console.log(` Fetching ${E}: batch ${D} (${T.length} records so far...)`),R.length<N?(C=!1,console.log(` ${E}: ${T.length} records fetched in ${D} batch(es)`)):A+=N):(C=!1,T.length>0&&console.log(` ${E}: ${T.length} records fetched in ${D} batch(es)`))}return T},[u,d,p,h,y,m,g,v]=await Promise.all([c("goals",!0),c("goal_logs",!0),c("long_term_goals",!0),be.from("goal_category_settings").select("*").eq("user_id",s.id).single(),c("reading_logs",!1),c("user_settings",!1),be.from("user_memos").select("*").eq("user_id",s.id).single(),c("daily_moods",!0)]);if(h.error&&h.error.code!=="PGRST116")throw h.error;if(g.error&&g.error.code!=="PGRST116")throw g.error;const b={ollama_preferred_model:localStorage.getItem("ollama_preferred_model")||void 0,ollama_report_type:localStorage.getItem("ollama_report_type")||void 0};let x="";try{const E=await fetch("/schema.sql");E.ok?x=await E.text():console.warn("schema.sql not found in public folder")}catch(E){console.warn("Could not load schema.sql:",E)}x?x=`-- HABIT TRACKER DATABASE SCHEMA
-- Exported: ${new Date().toISOString()}
-- Source: /public/schema.sql
-- 
-- This schema includes all 8 tables with RLS policies and triggers.
-- For the most up-to-date schema, export from Supabase Dashboard.
--
${x}`:x=`-- Database Schema not available
-- 
-- To get the current database schema:
-- 1. Go to Supabase Dashboard > SQL Editor
-- 2. Copy the complete schema
-- 3. Or manually export via Supabase CLI: supabase db dump -f schema.sql
`;const _={sql:x,metadata:{supabase_version:"2.87.1",postgrest_version:"13.0.5",exported_at:l,tables_count:8,total_records:0},tables_summary:{goals:{description:"Daily habits tracking",key_columns:["id","user_id","title","color","frequency_days"],has_rls:!0},goal_logs:{description:"Habit completion logs",key_columns:["id","user_id","goal_id","date","status"],has_rls:!0},long_term_goals:{description:"Macro goals (annual, monthly, weekly, quarterly, lifetime)",key_columns:["id","user_id","title","type","year","month"],has_rls:!0},goal_category_settings:{description:"Category colors and labels settings",key_columns:["id","user_id","mappings"],has_rls:!0,note:"Single record per user"},reading_logs:{description:"Daily reading tracking",key_columns:["id","date","status"],has_rls:!0},user_settings:{description:"Generic user settings (key-value)",key_columns:["id","key","value"],has_rls:!0},user_memos:{description:"User personal notes in markdown",key_columns:["id","user_id","content"],has_rls:!0,note:"Single record per user"},daily_moods:{description:"Daily mood and energy tracking",key_columns:["id","user_id","date","mood_score","energy_score"],has_rls:!0}}},w=(u?.length||0)+(d?.length||0)+(p?.length||0)+(h.data?1:0)+(y?.length||0)+(m?.length||0)+(g.data?1:0)+(v?.length||0);_.metadata.total_records=w;const S={version:1,timestamp:l,metadata:{appVersion:"1.0.0",exportDate:new Date().toLocaleDateString("it-IT"),totalRecords:w},goals:u||[],goal_logs:d||[],long_term_goals:p||[],goal_category_settings:h.data||null,reading_logs:y||[],user_settings:m||[],user_memos:g.data||null,daily_moods:v||[],app_settings:b,database_schema:_};qe.info(`Preparazione backup: ${w} record trovati...`),await rxe(S,l),qe.success(`Backup completo creato con successo! (${w} record)`)}catch(s){console.error("Export failed:",s),qe.error(`Errore durante l'export: ${s.message}`)}finally{r(!1)}},importCompleteBackup:async s=>{i(!0);try{const l=await axe(s),c=ixe(l);if(!c.valid)throw new Error(`Backup non valido: ${c.errors.join(", ")}`);const{data:{user:u}}=await be.auth.getUser();if(!u)throw new Error("Non autenticato");const d={totalProcessed:0,byTable:{},settingsRestored:[],timestamp:new Date().toISOString()},p=async(h,y,m="id")=>{if(!Array.isArray(y)||y.length===0){d.byTable[h]={inserted:0,updated:0,unchanged:0,errors:[]};return}try{const{data:g,error:v}=await be.from(h).select("*").eq("user_id",u.id);if(v)throw v;const b=new Map((g||[]).map(E=>[E[m],E])),x=[];let _=0,w=0,S=0;for(const E of y){const P={...E,user_id:u.id},T=b.get(E[m]);T?JSON.stringify(T)!==JSON.stringify(P)?(w++,x.push(P)):S++:(_++,x.push(P))}if(x.length>0){const{error:E}=await be.from(h).upsert(x);if(E)throw E}d.byTable[h]={inserted:_,updated:w,unchanged:S,errors:[]},d.totalProcessed+=y.length}catch(g){d.byTable[h]={inserted:0,updated:0,unchanged:0,errors:[g.message]}}};if(await p("goals",l.goals),await p("goal_logs",l.goal_logs),await p("long_term_goals",l.long_term_goals),await p("reading_logs",l.reading_logs),await p("user_settings",l.user_settings,"key"),await p("daily_moods",l.daily_moods),l.goal_category_settings)try{const{data:h}=await be.from("goal_category_settings").select("*").eq("user_id",u.id).single(),y={user_id:u.id,mappings:l.goal_category_settings.mappings};h?(await be.from("goal_category_settings").update({mappings:y.mappings}).eq("id",h.id),d.byTable.goal_category_settings={inserted:0,updated:1,unchanged:0,errors:[]}):(await be.from("goal_category_settings").insert(y),d.byTable.goal_category_settings={inserted:1,updated:0,unchanged:0,errors:[]}),d.totalProcessed++}catch(h){d.byTable.goal_category_settings={inserted:0,updated:0,unchanged:0,errors:[h.message]}}if(l.user_memos)try{const{error:h}=await be.from("user_memos").upsert({user_id:u.id,content:l.user_memos.content||"",updated_at:new Date().toISOString()},{onConflict:"user_id"});if(h)throw h;d.byTable.user_memos={inserted:0,updated:1,unchanged:0,errors:[]},d.totalProcessed++}catch(h){d.byTable.user_memos={inserted:0,updated:0,unchanged:0,errors:[h.message]}}return l.app_settings&&(l.app_settings.ollama_preferred_model&&(localStorage.setItem("ollama_preferred_model",l.app_settings.ollama_preferred_model),d.settingsRestored.push("ollama_preferred_model")),l.app_settings.ollama_report_type&&(localStorage.setItem("ollama_report_type",l.app_settings.ollama_report_type),d.settingsRestored.push("ollama_report_type"))),await e.invalidateQueries({queryKey:["goals"]}),await e.invalidateQueries({queryKey:["goal_logs"]}),await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),await e.invalidateQueries({queryKey:["moods"]}),qe.success(`Backup importato con successo! (${d.totalProcessed} record ripristinati)`),d}catch(l){return console.error("Import failed:",l),qe.error(`Errore durante l'importazione: ${l.message}`),null}finally{i(!1)}},isExporting:t,isImporting:n}}var j_="Progress",P_=100,[cxe]=yr(j_),[uxe,dxe]=cxe(j_),zF=k.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=fxe,...o}=e;(i||i===0)&&!gN(i)&&console.error(hxe(`${i}`,"Progress"));const s=gN(i)?i:P_;n!==null&&!yN(n,s)&&console.error(pxe(`${n}`,"Progress"));const l=yN(n,s)?n:null,c=Vf(l)?a(l,s):void 0;return f.jsx(uxe,{scope:r,value:l,max:s,children:f.jsx(ke.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Vf(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":WF(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});zF.displayName=j_;var qF="ProgressIndicator",UF=k.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=dxe(qF,r);return f.jsx(ke.div,{"data-state":WF(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});UF.displayName=qF;function fxe(e,t){return`${Math.round(e/t*100)}%`}function WF(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Vf(e){return typeof e=="number"}function gN(e){return Vf(e)&&!isNaN(e)&&e>0}function yN(e,t){return Vf(e)&&!isNaN(e)&&e<=t&&e>=0}function hxe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${P_}\`.`}function pxe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${P_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HF=zF,mxe=UF;const VF=k.forwardRef(({className:e,value:t,...r},n)=>f.jsx(HF,{ref:n,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:f.jsx(mxe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));VF.displayName=HF.displayName;var gxe="Separator",vN="horizontal",yxe=["horizontal","vertical"],KF=k.forwardRef((e,t)=>{const{decorative:r,orientation:n=vN,...i}=e,a=vxe(n)?n:vN,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return f.jsx(ke.div,{"data-orientation":a,...s,...i,ref:t})});KF.displayName=gxe;function vxe(e){return yxe.includes(e)}var GF=KF;const pd=k.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>f.jsx(GF,{ref:i,decorative:r,orientation:t,className:ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));pd.displayName=GF.displayName;function bxe(){const{exportCompleteBackup:e,importCompleteBackup:t,isExporting:r,isImporting:n}=lxe(),[i,a]=k.useState(null),[o,s]=k.useState(!1),l=async()=>{await e()},c=async m=>{const g=await t(m);a(g)},u=k.useCallback(m=>{m.preventDefault(),s(!1);const g=Array.from(m.dataTransfer.files);g.length>0&&c(g[0])},[]),d=k.useCallback(m=>{m.preventDefault(),s(!0)},[]),p=k.useCallback(m=>{m.preventDefault(),s(!1)},[]),h=k.useCallback(m=>{const g=m.target.files;g&&g.length>0&&c(g[0])},[]),y=[{icon:li,label:"Abitudini giornaliere",key:"goals",color:"text-blue-500"},{icon:td,label:"Log completamento abitudini",key:"goal_logs",color:"text-green-500"},{icon:Xo,label:"Obiettivi macro (annuali, mensili, etc.)",key:"long_term_goals",color:"text-purple-500"},{icon:bz,label:"Categorie e colori personalizzati",key:"goal_category_settings",color:"text-pink-500"},{icon:iz,label:"Log di lettura",key:"reading_logs",color:"text-amber-500"},{icon:r2,label:"Registrazioni Mood & Energy",key:"daily_moods",color:"text-cyan-500"},{icon:t2,label:"Impostazioni utente",key:"user_settings",color:"text-slate-500"},{icon:cw,label:"Note personali (memo)",key:"user_memos",color:"text-orange-500"}];return f.jsx("div",{className:"container mx-auto p-4 sm:p-6 max-w-4xl",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[f.jsx(QN,{className:"h-8 w-8 text-primary"}),"Backup Completo"]}),f.jsx("p",{className:"text-muted-foreground",children:"Esporta o importa tutti i dati dell'applicazione in un unico archivio organizzato"})]}),f.jsxs(Va,{children:[f.jsx(Il,{className:"h-4 w-4"}),f.jsx(fd,{children:"Cosa viene salvato nel backup?"}),f.jsxs(Ka,{children:["Il backup include ",f.jsx("strong",{children:"tutti i tuoi dati"}),": abitudini, obiettivi, log, impostazioni, categorie personalizzate, note e registrazioni mood. Il file sar scaricato come archivio ZIP ben organizzato."]})]}),f.jsxs($e,{children:[f.jsxs(Ge,{children:[f.jsxs(Ye,{className:"flex items-center gap-2",children:[f.jsx(Zf,{className:"h-5 w-5"}),"Esporta Backup"]}),f.jsx(mn,{children:"Scarica un backup completo di tutti i tuoi dati in formato ZIP"})]}),f.jsxs(Le,{className:"space-y-4",children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:y.map(m=>f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[f.jsx(m.icon,{className:`h-5 w-5 ${m.color}`}),f.jsx("span",{className:"text-sm font-medium",children:m.label})]},m.key))}),f.jsx(pd,{}),f.jsx(We,{onClick:l,disabled:r,className:"w-full sm:w-auto",size:"lg",children:r?f.jsxs(f.Fragment,{children:[f.jsx(wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creazione backup..."]}):f.jsxs(f.Fragment,{children:[f.jsx(L_,{className:"mr-2 h-4 w-4"}),"Esporta Backup Completo"]})})]})]}),f.jsxs($e,{children:[f.jsxs(Ge,{children:[f.jsxs(Ye,{className:"flex items-center gap-2",children:[f.jsx(n2,{className:"h-5 w-5"}),"Importa Backup"]}),f.jsx(mn,{children:"Ripristina i tuoi dati da un file di backup precedente (ZIP o JSON)"})]}),f.jsxs(Le,{className:"space-y-4",children:[f.jsxs("div",{onDrop:u,onDragOver:d,onDragLeave:p,className:`
                                border-2 border-dashed rounded-lg p-8 text-center transition-all
                                ${o?"border-primary bg-primary/5 scale-105":"border-muted-foreground/25 hover:border-muted-foreground/50"}
                            `,children:[f.jsx(L_,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),f.jsx("p",{className:"text-sm font-medium mb-2",children:"Trascina qui il file di backup"}),f.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Supporta file .zip e .json"}),f.jsx("label",{htmlFor:"backup-file-input",children:f.jsx(We,{variant:"outline",size:"sm",asChild:!0,disabled:n,children:f.jsx("span",{className:"cursor-pointer",children:n?f.jsxs(f.Fragment,{children:[f.jsx(wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Importazione..."]}):"Oppure clicca per selezionare"})})}),f.jsx("input",{id:"backup-file-input",type:"file",accept:".zip,.json",onChange:h,className:"hidden",disabled:n})]}),n&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"flex items-center justify-between text-sm",children:f.jsx("span",{className:"text-muted-foreground",children:"Ripristino in corso..."})}),f.jsx(VF,{value:void 0,className:"h-2"})]}),i&&f.jsxs(Va,{className:"border-green-500/50 bg-green-500/10",children:[f.jsx(td,{className:"h-4 w-4 text-green-500"}),f.jsx(fd,{className:"text-green-500",children:"Backup importato con successo!"}),f.jsx(Ka,{className:"mt-2",children:f.jsx(Zw,{className:"h-48 w-full rounded-md border p-4 bg-background/50",children:f.jsxs("div",{className:"space-y-3 text-sm",children:[f.jsxs("div",{className:"font-semibold",children:["Record totali processati: ",i.totalProcessed]}),f.jsx(pd,{}),f.jsx("div",{className:"space-y-2",children:Object.entries(i.byTable).map(([m,g])=>f.jsxs("div",{className:"space-y-1",children:[f.jsx("div",{className:"font-medium capitalize",children:m.replace(/_/g," ")}),f.jsxs("div",{className:"pl-4 text-xs space-y-0.5 text-muted-foreground",children:[g.inserted>0&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(td,{className:"h-3 w-3 text-green-500"}),f.jsxs("span",{children:[g.inserted," nuovi record"]})]}),g.updated>0&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Il,{className:"h-3 w-3 text-blue-500"}),f.jsxs("span",{children:[g.updated," aggiornati"]})]}),g.unchanged>0&&f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("span",{className:"text-muted-foreground",children:[g.unchanged," invariati"]})}),g.errors.length>0&&f.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[f.jsx(sz,{className:"h-3 w-3"}),f.jsx("span",{children:g.errors.join(", ")})]})]})]},m))}),i.settingsRestored.length>0&&f.jsxs(f.Fragment,{children:[f.jsx(pd,{}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Impostazioni ripristinate:"}),f.jsx("div",{className:"pl-4 text-xs text-muted-foreground",children:i.settingsRestored.join(", ")})]})]})]})})})]})]})]}),f.jsxs(Va,{variant:"destructive",children:[f.jsx(Il,{className:"h-4 w-4"}),f.jsx(fd,{children:"Attenzione"}),f.jsxs(Ka,{children:["L'importazione di un backup ",f.jsx("strong",{children:"sovrascriver i dati esistenti"}),". Assicurati di aver effettuato un backup prima di procedere se hai dati da conservare."]})]})]})})}const xxe=()=>{const[e,t]=k.useState(!1),[r,n]=k.useState(""),[i,a]=k.useState(""),[o,s]=k.useState(!1),l=SN();k.useEffect(()=>{be.auth.getSession().then(({data:{session:u}})=>{u&&l("/")})},[l]);const c=async u=>{u.preventDefault(),t(!0);try{if(o){qe.error("Non sei autorizzato, prova scrivi su linkedin a mattioli simone");return}else{const{error:d}=await be.auth.signInWithPassword({email:r,password:i});if(d)throw d;qe.success("Accesso effettuato"),l("/")}}catch(d){qe.error(d.message)}finally{t(!1)}};return f.jsxs("div",{className:"min-h-dvh flex items-center justify-center p-4 relative overflow-hidden bg-background",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 blur-[100px] rounded-full opacity-50 animate-pulse"}),f.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-secondary/10 blur-[80px] rounded-full"})]}),f.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-3xl relative z-10 border-white/10 shadow-2xl animate-scale-in",children:[f.jsxs("div",{className:"text-center mb-8 space-y-2",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 border border-primary/20 mb-4 shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:f.jsx(Ez,{className:"w-6 h-6 text-primary"})}),f.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),f.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"Sistema di tracciamento abitudini personale"})]}),f.jsxs("form",{onSubmit:c,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"relative group",children:[f.jsx(gz,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),f.jsx(aa,{type:"email",placeholder:"Email",value:r,onChange:u=>n(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]}),f.jsxs("div",{className:"relative group",children:[f.jsx(mz,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),f.jsx(aa,{type:"password",placeholder:"Password",value:i,onChange:u=>a(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]})]}),f.jsx(We,{type:"submit",className:"w-full h-11 text-base font-medium mt-6 bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] transition-all duration-300",disabled:e,children:e?f.jsx(wn,{className:"w-5 h-5 animate-spin"}):f.jsxs("span",{className:"flex items-center gap-2",children:[o?"Registrati":"Accedi al Sistema",f.jsx(tz,{className:"w-4 h-4"})]})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>s(!o),className:"text-xs text-muted-foreground hover:text-primary transition-colors hover:underline underline-offset-4",children:o?"Hai gi un account? Accedi":"Prima volta? Inizializza Protocollo (Registrati)"})})]})]})},wxe=()=>{const e=eB();return k.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},_xe=new f6,Sxe=({children:e})=>{const[t,r]=k.useState(null);return k.useEffect(()=>{be.auth.getSession().then(({data:{session:i}})=>{r(!!i)});const{data:{subscription:n}}=be.auth.onAuthStateChange((i,a)=>{r(!!a)});return()=>n.unsubscribe()},[]),t===null?null:t?f.jsx(f.Fragment,{children:e}):f.jsx(nB,{to:"/auth",replace:!0})},kxe=()=>f.jsx(y6,{client:_xe,children:f.jsx(A9,{children:f.jsxs(q2,{children:[f.jsx(Nz,{}),f.jsx(c8,{}),f.jsx(tB,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs(rB,{children:[f.jsx(Ri,{path:"/auth",element:f.jsx(xxe,{})}),f.jsxs(Ri,{element:f.jsx(Sxe,{children:f.jsx(R6,{})}),children:[f.jsx(Ri,{path:"/",element:f.jsx(ste,{})}),f.jsx(Ri,{path:"/stats",element:f.jsx(P0e,{})}),f.jsx(Ri,{path:"/macro-goals",element:f.jsx(W0e,{})}),f.jsx(Ri,{path:"/ai-coach",element:f.jsx(X0e,{})}),f.jsx(Ri,{path:"/complete-backup",element:f.jsx(bxe,{})})]}),f.jsx(Ri,{path:"*",element:f.jsx(wxe,{})})]})})]})})});try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");oB.createRoot(e).render(f.jsx(kxe,{}))}catch(e){console.error("Error in main.tsx:",e)}
